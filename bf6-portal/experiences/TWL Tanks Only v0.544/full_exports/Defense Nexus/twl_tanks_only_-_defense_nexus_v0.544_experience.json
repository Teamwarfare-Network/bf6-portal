{"mutators":{"MaxPlayerCount_PerTeam":32,"FriendlyFireAllowed_PerTeam":true,"SquadSpawnMode_PerTeam":3,"ManDownExperienceType_PerTeam":2,"SquadReviveAllowed_PerTeam":false,"AI_ManDownExperienceType_PerTeam":1,"fPortalExperienceGameTime":60,"EnableClassLockedWeaponLoadouts":true},"assetRestrictions":{"AssaultClass":false,"ReconClass":false,"SupportClass":false,"Portal_WebApp_AR":false,"Portal_WebApp_Carbine":false,"Portal_WebApp_DMR":false,"Portal_WebApp_MG":false,"Portal_WebApp_Pistol":false,"Portal_WebApp_SR":false,"Portal_WebApp_SG":false,"Portal_WebApp_PDW":false,"U_TUGS":false,"U_Gadget_SupplyCrate":false,"U_AdrenalineShot":false,"Portal_WebApp_Explosive":false,"Portal_WebApp_GrenadeLauncher":false,"Portal_WebApp_Gadget_Misc":false,"Portal_WebApp_StrikePackage":false,"Portal_WebApp_Throwable":false,"Portal_WebApp_Armor":false},"name":"TWL Tanks Only - Defense Nexus v0.544","description":"Source Code on github and competitive ruleset available on the TWL website.\nAny feedback, questions or issues can be raised on our discord server.\nTeamwarfare . net - Compete in competitive tanks ladders today!","mapRotation":[{"id":"MP_Granite_TechCampus_Portal-ModBuilderCustom0","spatialAttachment":{"id":"06d5ea45-d966-42ea-982f-6ff8b4794769","filename":"MP_TWL_VehiclesOnly_Granite_TechCampus_Portal.spatial.json","metadata":"mapIdx=0","version":"123","isProcessable":true,"processingStatus":2,"attachmentData":{"original":"ew0KICAgICJQb3J0YWxfRHluYW1pYyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiVEVBTV8xX0hRIiwNCiAgICAgICAgICAgICJBbHRUZWFtIjogIlRlYW1OZXV0cmFsIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDEsDQogICAgICAgICAgICAiSW5mYW50cnlTcGF3bnMiOiBbDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMSIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMiIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMyIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfNCINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiSFFBcmVhIjogIlRFQU1fMV9IUS9IUV9UZWFtMSIsDQogICAgICAgICAgICAidHlwZSI6ICJIUV9QbGF5ZXJTcGF3bmVyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNTEuMDg2LA0KICAgICAgICAgICAgICAgICJ5IjogMTMzLjY5NCwNCiAgICAgICAgICAgICAgICAieiI6IDQyOC4wMTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkhRQXJlYSIsDQogICAgICAgICAgICAgICAgIkluZmFudHJ5U3Bhd25zIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJIUV9UZWFtMSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzFfSFEvSFFfVGVhbTEiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTY1Ljk3MzYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTQwLjk4ODMzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2Ny4wNTYzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE2NS45NzM2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDE0MC45ODgzMywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NTcuMDU2Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNzUuOTczNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDAuOTg4MzMsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDU3LjA1NjMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTc1Ljk3MzYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTQwLjk4ODMzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2Ny4wNTYzDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzFfMSIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjg4MDYxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDczODQzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDczODQzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg4MDYxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE3MC45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjQ3NjA2LA0KICAgICAgICAgICAgICAgICJ6IjogNDU5LjA1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRL1NwYXduUG9pbnRfMV8xIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzFfMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMzE2MTk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMDMxNjE5OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45OTk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE2Ny45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjQyNzI2MSwNCiAgICAgICAgICAgICAgICAieiI6IDQ2Mi4wNTYzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8xXzMiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44NjUyMjIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41MDEzOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjUwMTM5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg2NTIyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzMuOTczNiwNCiAgICAgICAgICAgICAgICAieSI6IDEzNS44NTc1NCwNCiAgICAgICAgICAgICAgICAieiI6IDQ2Mi4wNTYzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8xXzQiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45ODIwNjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xODg1NDcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xODg1NDcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTgyMDY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE3MC45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjcxMjYzLA0KICAgICAgICAgICAgICAgICJ6IjogNDY1LjA1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRL1NwYXduUG9pbnRfMV80Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJURUFNXzJfSFEiLA0KICAgICAgICAgICAgIlRlYW0iOiAiVGVhbTIiLA0KICAgICAgICAgICAgIkFsdFRlYW0iOiAiVGVhbU5ldXRyYWwiLA0KICAgICAgICAgICAgIk9iaklkIjogMiwNCiAgICAgICAgICAgICJJbmZhbnRyeVNwYXducyI6IFsNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8xIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8yIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8zIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl80Ig0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJIUUFyZWEiOiAiVEVBTV8yX0hRL0hRX1RlYW0yIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkhRX1BsYXllclNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEwNy43MjcsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMjkzLA0KICAgICAgICAgICAgICAgICJ6IjogMTIzLjI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiSFFBcmVhIiwNCiAgICAgICAgICAgICAgICAiSW5mYW50cnlTcGF3bnMiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkhRX1RlYW0yIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMl9IUS9IUV9UZWFtMiIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05NS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44Ng0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05NS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk2Ljg2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwNS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk2Ljg2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwNS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44Ng0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8yXzEiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc4ODk3NywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjYxNDQyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjYxNDQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjc4ODk3Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDAuODA1NTIsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMjkzLA0KICAgICAgICAgICAgICAgICJ6IjogOTguODYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8xIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzJfMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk3NjUzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE2NDM2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE2NDM2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk3NjUzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTk3LjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjI5MywNCiAgICAgICAgICAgICAgICAieiI6IDEwMS44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNwYXduUG9pbnRfMl8zIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNwYXduUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43NzY1NjMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42MzAwMzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42MzAwMzksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43NzY1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAzLjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4Ljk0NzAyMiwNCiAgICAgICAgICAgICAgICAieiI6IDEwMS44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNwYXduUG9pbnRfMl80IiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNwYXduUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44NTk2MzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41MTA5MDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41MTA5MDMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44NTk2MzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAwLjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjY0Mzk4MywNCiAgICAgICAgICAgICAgICAieiI6IDEwNC44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdEFyZWEiLA0KICAgICAgICAgICAgIkNvbWJhdFZvbHVtZSI6ICJDb21iYXRBcmVhL0NvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb21iYXRBcmVhIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTMuNDE1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM2LjY0MywNCiAgICAgICAgICAgICAgICAieiI6IDM1Mi40MDgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0QXJlYSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDb21iYXRWb2x1bWUiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDb21iYXRBcmVhL0NvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMTAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogMi41MDg5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI5OC4yNTA5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQuMzA1MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzIuMzUxNg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNS4wMDExLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI1NS4yNTU5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM4LjI2MTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjMyLjUzODI1DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTY4Ljk2NDEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjAxLjk5Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05OC40ODQ1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE3Mi43Njk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMi4yOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNTMuMjcyNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC04OS40NTk4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEzMy41NjUxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTg5LjM3NzgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTA3LjQ2OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjUuMjc5MywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA3NS4yMjQNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTcwLjUyMzcsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzEuMDU3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI0My4wNjUxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IC04LjE3OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yOTQuMTg5MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0My4zODgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzMwLjQxNTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogODAuMDQ3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM1OS4zMTYxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUxLjQxNQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zOTQuODQ3MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA2MC42MDUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDE2LjE3NzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNjQuNDgzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQ0NS45MTcxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk0Ljc1Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzcuNTEwMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDUuMTI3Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00OTMuODI1MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxOTQuNTYwOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MDcuNDg4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMzguOTgxNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00OTcuMzM4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMjIuNDEwMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzIuMTgyMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNzIuMDU4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQzMC45ODAxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQwMy41NjcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzkzLjAyMzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDEwLjEwOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDcuNTAyMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MTMuNTM2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTMyNS4zNTgxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyMS40OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yOTcuMzUxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MzMuOTkyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4My45MDQxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQzMS44MTUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjUzLjQ5MzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDIyLjkwMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMzEuMTI0NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MTUuOTU3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTIxNS4zNDQ0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyNC41OTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjA1LjUyOCwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MzYuOTMyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5Ny40MDQ1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2MC4wNTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTg1LjA0OTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc5LjQxMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDkuNjg3OTMsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDgzLjMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTI2LjQ0MTIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc3LjM3NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMDYuNDUxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NzQuMDA1DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTg4LjIxMjQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc2LjczNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC02Ni45MjUzLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ3OC41MjUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzguNjg2MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NjcuODEyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Ljg3NzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDQ5LjU2Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMS4zMDYxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyNC43NTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTMuNzkxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNzUuNjgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAxLjk4NzksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzM1LjUwMg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRGVwbG95Q2FtIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkRlcGxveUNhbSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC4xMDEwNTYsDQogICAgICAgICAgICAgICAgInoiOiAtMC45OTQ4ODENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTQ4ODEsDQogICAgICAgICAgICAgICAgInoiOiAwLjEwMTA1Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMTguNjQzLA0KICAgICAgICAgICAgICAgICJ5IjogNTAxLjYzNiwNCiAgICAgICAgICAgICAgICAieiI6IDMxMS42MjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FtZXJhM0QvRGVwbG95Q2FtIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAiT2JqSWQiOiA1MDEsDQogICAgICAgICAgICAiQXJlYSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlci9Tb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE1Ny42NzksDQogICAgICAgICAgICAgICAgInkiOiAxMzguMzk4LA0KICAgICAgICAgICAgICAgICJ6IjogNDY2LjY0MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiU291dGhCYXNlQXJlYVRyaWdnZXIvU291dGhCYXNlT09CVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5OS42MjE3MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ0OC40Njc2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTk2LjAyOTMxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDYwLjU0MjgyMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xODUuMjYwNTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0ODAuMDQ0NjQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE1MC45OTY4ODksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ4My42ODc3NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTI0Ljk1ODkxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc3LjE5OTI0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDIuODU5OTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NTcuOTE0MDcxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5My4yMjc3MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQwOC4wNDM1NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjAzLjE1NDYxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDE2LjU4MTQ0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMTQuMTM1NTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MjQuMzQxNjQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTIwNS4xODQ5MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQzNS4zOTUwNDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNvdXRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlci9Tb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgIlJldHJlYXRBcmVhIjogIlNvdXRoQmFzZUFyZWFUcmlnZ2VyL1NvdXRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZWN0b3IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTMwOS42MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMzY2LjA4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlNvdXRoQmFzZUFyZWFUcmlnZ2VyL1NvdXRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIiwNCiAgICAgICAgICAgICAgICAiUmV0cmVhdEFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDUwMCwNCiAgICAgICAgICAgICJBcmVhIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAwLjkxOCwNCiAgICAgICAgICAgICAgICAieSI6IDE1Ni4zMDQsDQogICAgICAgICAgICAgICAgInoiOiAxMDguMzI1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIk5vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJOb3J0aEJhc2VBcmVhVHJpZ2dlci9Ob3J0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTM2Ljc4MzkxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMTguOTUxMzQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEzMy4xMjQxMTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjQ1MjUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTIzLjkxMjU0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjcuMzQzNzE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEyOS43OTQwNDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTE0LjQwMzMxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDIuMzM3NzQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMS40NTE1OTI0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE1MS44MTc1NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuOTk5OTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEzMy44ODA2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuNDMxMjE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44MjM1MDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTAzLjcyNjk0OSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA5Mi43NTgyNDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTE4LjM3NjExOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA3OS40NTc2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTQ3Ljc3NzExOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMDguNTA1NjU2Nw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiTm9ydGhCYXNlU2VjdG9yIiwNCiAgICAgICAgICAgICJTZWN0b3JBcmVhIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAiUmV0cmVhdEFyZWEiOiAiTm9ydGhCYXNlQXJlYVRyaWdnZXIvTm9ydGhCYXNlT09CVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtOTkuMDEzNiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS44MDc5OTgsDQogICAgICAgICAgICAgICAgInoiOiA5NS42OTE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIiwNCiAgICAgICAgICAgICAgICAiUmV0cmVhdEFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkOCIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NTY2MjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yOTEzMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI5MTMyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk1NjYyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNjkuNTU4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDI5NS45OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ4Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDkiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODU5MDU4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNTExODc4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNTExODc4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg1OTA1OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yOTAuMjkyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMS4xMzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ5Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDExIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5NzA3MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjA3NjQ3NTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wNzY0NzU0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk5NzA3Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yODQuODAxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMC42NjcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMCIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDI5NjcwMywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5OTk5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5OTk5NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4wMDI5NjcwMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zMDEuNDIzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMC41OTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTU3MTgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44MzAzOTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44MzAzOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41NTcxOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNjEuNTY2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU4NiwNCiAgICAgICAgICAgICAgICAieiI6IDI4OS45ODUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDUiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTM2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwMDQ2MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMDQ2MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMzY5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1NC42MzcsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNjAzLA0KICAgICAgICAgICAgICAgICJ6IjogMjgzLjY4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkNiIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjg0NDg0MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjUzNTAxNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjUzNTAxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjg0NDg0Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDguNzA4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDI3Ni40MTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ2Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDciLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45MDMzMzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40Mjg5MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC40Mjg5MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45MDMzMzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQzLjk1MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41ODUsDQogICAgICAgICAgICAgICAgInoiOiAyNjguNTIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkNyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzExOTY0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcwMjIxNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzAyMjE1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzExOTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1NC40MTgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTIyLA0KICAgICAgICAgICAgICAgICJ6IjogMjAyLjUyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkMTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzYwMDQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMjE3NzUyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4yMTc3NTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NzYwMDQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM5LjY1NywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjIsDQogICAgICAgICAgICAgICAgInoiOiAyMzMuNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDEyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDEzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTk5OTg3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDA1MjAxMDQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDUyMDEwNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5OTk4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzguNTM1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0MiwNCiAgICAgICAgICAgICAgICAieiI6IDI0Mi4xMjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjczNTQxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY3NzYyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY3NzYyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC43MzU0MTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjMxLjc2MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC4zMjIsDQogICAgICAgICAgICAgICAgInoiOiAxOTguNDQ4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44OTI5NTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNDUwMTQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40NTAxNDUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODkyOTU1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1Mi44NjksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDcsDQogICAgICAgICAgICAgICAgInoiOiAyOTkuNDY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzA0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY2MDE4MSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjA0ODA5NzUsDQogICAgICAgICAgICAgICAgInoiOiAtMC43NDk1NjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyOTEyNjYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODgzNiwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzODQzOTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc1MDU0MSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDAzNTQ0NjcsDQogICAgICAgICAgICAgICAgInoiOiAwLjY2MDgxNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTcuMjA2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjM5Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJEdW1wVHJ1Y2tfMDQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bXBUcnVja18wMyIsDQogICAgICAgICAgICAidHlwZSI6ICJEdW1wVHJ1Y2tfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4zMTM1OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NDk1NTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NDk1NTcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zMTM1OTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjczLjgyNCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NTEsDQogICAgICAgICAgICAgICAgInoiOiAzMDMuNTQ4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45MTA2ODQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNDEzMTA0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40MTMxMDQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTEwNjg0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIyOC45OTgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDUsDQogICAgICAgICAgICAgICAgInoiOiAyNTUuMTc0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CMiIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODg2MDk4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjQ2MzQ5Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNDYzNDk3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg4NjA5OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDMuMDU1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ2OSwNCiAgICAgICAgICAgICAgICAieiI6IDI4Mi44NzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0R1bXBUcnVja18wMV9CMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CMyIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTA3Mzc0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDIwMzIzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDIwMzIzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjkwNzM3NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNTIuODUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDE1LA0KICAgICAgICAgICAgICAgICJ6IjogMzE3LjI4MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0IzIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0I0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdEdW1wVHJ1Y2tfMDFfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43NDQ2NDksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Njc0NTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42Njc0NTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzQ0NjQ5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0MS4yNDMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguMTU3LA0KICAgICAgICAgICAgICAgICJ6IjogMzMzLjAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdEdW1wVHJ1Y2tfMDFfQjQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdEdW1wVHJ1Y2tfMDFfQjciLA0KICAgICAgICAgICAgInR5cGUiOiAiR0R1bXBUcnVja18wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc2NzY1NywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC42NDA4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjQwODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY3NjU3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwOS4yMjgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTEyLA0KICAgICAgICAgICAgICAgICJ6IjogMzIyLjI3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0I3Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0I1IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdEdW1wVHJ1Y2tfMDFfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTMxNzUsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTg5MDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDA3MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMTA2MjcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTIwOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM4MjEwNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMDg5OSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM1MDAyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcxMjQwMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDQuNjc4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM2LjQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDM3MS41NjgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0R1bXBUcnVja18wMV9CNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CNiIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjgyNjcsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTg5MDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MzA0ODINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMjY4MDcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTIwOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM3NzA0NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjczMDYxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM1MDAyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjY4MTg5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5OC4xMTcsDQogICAgICAgICAgICAgICAgInkiOiAxMzYuMTc0LA0KICAgICAgICAgICAgICAgICJ6IjogMzc3LjQwNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0I2Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk1Mjk4NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjMwMzAxOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMwMzAxOSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk1Mjk4NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDMuMjUxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3LA0KICAgICAgICAgICAgICAgICJ6IjogMjkxLjE5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnM0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODA3MDg0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjU5MDQzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTkwNDM3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODA3MDg0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwNi40OTIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDcsDQogICAgICAgICAgICAgICAgInoiOiAyNDEuMzk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODg2Nzg1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDYyMTgyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDYyMTgyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODg2Nzg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwOS40MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NTMsDQogICAgICAgICAgICAgICAgInoiOiAzMDYuNzMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODA2NTA3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjU5MTIyNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTkxMjI1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODA2NTA3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0Ni4zNDksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDQzLA0KICAgICAgICAgICAgICAgICJ6IjogMjE1Ljg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdDYXJTVVZfMDMiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0NhclNVVl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIxNjM1NCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzYzMTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk3NjMxNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjIxNjM1NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDEuMDk5LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3MiwNCiAgICAgICAgICAgICAgICAieiI6IDIwOS42MzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzAzODIzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAwMTI1NTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MTAzNzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDQwMTQyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5OTgzLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMDQxNTM4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxMDM2NSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwNTc3NTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDM4MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMjYuNTA4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjMzNiwNCiAgICAgICAgICAgICAgICAieiI6IDMyNy43ODMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29yczMiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44MTc3OTgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41NzU1MDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41NzU1MDUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44MTc3OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjEzLjUzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NzksDQogICAgICAgICAgICAgICAgInoiOiAzMTMuMzIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQmFycmllckNvbnN0cnVjdGlvbl8wMV8yNTZfMTIwX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQmFycmllckNvbnN0cnVjdGlvbl8wMV8yNTZfMTIwX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4zNzEwOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTI4NTk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45Mjg1OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zNzEwOTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQ3LjcwNSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOS43MzgsDQogICAgICAgICAgICAgICAgInoiOiA0MTYuMTc0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJDb25zdHJ1Y3Rpb25fMDFfMjU2XzEyMF9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiIsDQogICAgICAgICAgICAidHlwZSI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAzMTc1OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTk5NDk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45OTk0OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMzE3NTk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0OC4wMjUsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuNzI1LA0KICAgICAgICAgICAgICAgICJ6IjogNDE5LjgwOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FyU2VkYW5fMDFfQiIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXJTZWRhbl8wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzc4NTM5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjYyNzU5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjI3NTk2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzc4NTM5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2Ny41NDUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDYsDQogICAgICAgICAgICAgICAgInoiOiAxOTQuNDQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhclNlZGFuXzAxX0IiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU2VkYW5fMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MjQzNjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNjg5NDE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42ODk0MTcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MjQzNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYzLjUxNywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDksDQogICAgICAgICAgICAgICAgInoiOiAxOTguODY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNlZGFuXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc0MTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjcxMjI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjcxMjI5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzQxMjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE5LjMzMiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDksDQogICAgICAgICAgICAgICAgInoiOiAzMjAuNDQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNlZGFuXzAzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk0MTAwNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4zMzgzOTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjMzODM5MywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk0MTAwNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDQuMTI3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0OSwNCiAgICAgICAgICAgICAgICAieiI6IDI0Ny4zDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzE4NzYzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDI2MTIyMywNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk0NzY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTA5NDMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTU5NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2MjYyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTE2OSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxMTI3MzgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODc1OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNjcuODkxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjAxNiwNCiAgICAgICAgICAgICAgICAieiI6IDQzNC4wMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEwMDg2LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDI2MTIyMywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzAzNjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDYxNjMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTU5NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2Mzk2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNDAzNCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxMTI3MzgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMDA3Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNDEuNzkyLA0KICAgICAgICAgICAgICAgICJ5IjogMTMyLjgxNywNCiAgICAgICAgICAgICAgICAieiI6IDQ2MC4wODINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4OTYzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDM0ODQwNywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0MzA5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMjMxMjQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzOTEsDQogICAgICAgICAgICAgICAgInoiOiAwLjAyNjExNzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTQ3ODQsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMDE3MzczMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk5MzQzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNi42MjksDQogICAgICAgICAgICAgICAgInkiOiAxMzIuNTY1LA0KICAgICAgICAgICAgICAgICJ6IjogNDY1LjM0Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzEyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzEzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42OTg5NjMsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzQ4NDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MTQzMDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyMzEyNDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTM5MSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2MTE3OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNDc4NCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwMTczNzMyLA0KICAgICAgICAgICAgICAgICJ6IjogMC42OTkzNDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTMxLjEzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzMi4yNzYsDQogICAgICAgICAgICAgICAgInoiOiA0NzEuMDk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTQiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY5ODk2MywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAzNDg0MDcsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNDMwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIzMTI0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5MzkxLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjYxMTc5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE0Nzg0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNzM3MzIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5OTM0Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjYuNzQsDQogICAgICAgICAgICAgICAgInkiOiAxMzIuMDEzLA0KICAgICAgICAgICAgICAgICJ6IjogNDc1LjU2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY5ODk2MywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAzNDg0MDcsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNDMwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIzMTI0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5MzkxLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjYxMTc5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE0Nzg0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNzM3MzIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5OTM0Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjEuNjA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTMxLjcxMywNCiAgICAgICAgICAgICAgICAieiI6IDQ4MC44OTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDQ1MDM0LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDA3MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxOTA3MjksDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODgxMywNCiAgICAgICAgICAgICAgICAieiI6IDAuMDQ0ODExMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTkxNywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxODU0MDgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMjAxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzEuNjI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjIxMywNCiAgICAgICAgICAgICAgICAieiI6IDQzMC4zMzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMTEsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzI1NDk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDEzMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDY5MjIsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMxMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM1NTIzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTk4NywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMTk2OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzUuNTY4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjQyMiwNCiAgICAgICAgICAgICAgICAieiI6IDQyNi40MDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNCIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMTEsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzI1NDk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDEzMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDY5MjIsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMxMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM1NTIzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTk4NywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMTk2OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzkuMTc2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjYwNywNCiAgICAgICAgICAgICAgICAieiI6IDQyMi44NTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xODMuNTA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0Ljg0MywNCiAgICAgICAgICAgICAgICAieiI6IDQxOC40MzMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xODcuNTUzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjA5NywNCiAgICAgICAgICAgICAgICAieiI6IDQxNC40NTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTEuMjgzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjMzMSwNCiAgICAgICAgICAgICAgICAieiI6IDQxMC43MTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wOCIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcyMzM3OCwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDI0NjIyOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjkwMDEzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMjI1MjcyLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTk2NzQsDQogICAgICAgICAgICAgICAgInoiOiAtMC4wMTIwNTY1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjkwMDg0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMDY4MjI2LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzIzNjk3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5NS45NDUsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuNTE3LA0KICAgICAgICAgICAgICAgICJ6IjogNDEwLjc0Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzA4Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzA5IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODE4OTAxLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNDU5ODk5LA0KICAgICAgICAgICAgICAgICJ6IjogMC41NzIwODkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA0MDc5NjMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODkyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAyMTkwNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41NzI0ODMsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTM5OTkxLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODE5ODk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5OS44OTMsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuNTY3LA0KICAgICAgICAgICAgICAgICJ6IjogNDE0LjExNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzA5Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzEwIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzQ4NjUzLA0KICAgICAgICAgICAgICAgICJ5IjogMC4zMTk2ODEsDQogICAgICAgICAgICAgICAgInoiOiAwLjU4MDc5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMjkyMjQyLA0KICAgICAgICAgICAgICAgICJ5IjogMC45NDU0ODUsDQogICAgICAgICAgICAgICAgInoiOiAtMC4xNDM3MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41OTUwNzQsDQogICAgICAgICAgICAgICAgInkiOiAwLjA2MjE0NDgsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MDEyNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjA5LjE4OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzNi42NjEsDQogICAgICAgICAgICAgICAgInoiOiA0MjEuMzM0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTAiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTYiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjcwODc5NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNTQxNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNTQxNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwODc5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMTcuNDAyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ4MywNCiAgICAgICAgICAgICAgICAieiI6IDEzOC44NDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18yMyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODI0MjAzLA0KICAgICAgICAgICAgICAgICJ5IjogMC4xNTcwODUsDQogICAgICAgICAgICAgICAgInoiOiAwLjU0NDA3Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjE2Njc4NywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTg1NDc4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDMxODY2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjU0MTE3NiwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjA2NDQ3OTYsDQogICAgICAgICAgICAgICAgInoiOiAwLjgzODQzMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDcuMDE2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjIwNywNCiAgICAgICAgICAgICAgICAieiI6IDE0Ny4yOTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18yMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xNyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA4Nzk1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1NDE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA1NDE0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA4Nzk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMC4yODIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgzLA0KICAgICAgICAgICAgICAgICJ6IjogMTM1Ljk3Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzE3Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzE4IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDg3OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDU0MTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDU0MTQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDg3OTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTIzLjE5LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3NywNCiAgICAgICAgICAgICAgICAieiI6IDEzMy4wMDYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xOCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xOSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA4Nzk1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1NDE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA1NDE0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA4Nzk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzMS4wMywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC43MzYsDQogICAgICAgICAgICAgICAgInoiOiAxMjUuNTY4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTkiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMjAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjYwNDU3MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjc5NjU1MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc5NjU1MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjYwNDU3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMzMuOTcsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNzM2LA0KICAgICAgICAgICAgICAgICJ6IjogMTIyLjIwMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzIxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTgyNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NTc3NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNy44OTUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguOTkxLA0KICAgICAgICAgICAgICAgICJ6IjogMTE3LjQxNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzIyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTgyNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NTc3NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE0Mi4zOTksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNzg3LA0KICAgICAgICAgICAgICAgICJ6IjogMTEyLjU4OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0R1bXBUcnVja18wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc2ODIwNCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwOTUyODk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC42NDAxMzQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAzNTEzNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5Nzc1NCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDU3MDE5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjYzOTI0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNjYyOTU3LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY2MTQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwNi41MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC45MDcsDQogICAgICAgICAgICAgICAgInoiOiAyMDQuMjU0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdEdW1wVHJ1Y2tfMDFfQiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQmFycmllckhlc2NvXzAxXzEyOHgxMjAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQmFycmllckhlc2NvXzAxXzEyOHgxMjAiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44NDk2MjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNTI3Mzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC41MjczODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44NDk2MjYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjA5NCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjcsDQogICAgICAgICAgICAgICAgInoiOiAyMTkuMTgzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJCYXJyaWVySGVzY29fMDFfMTI4eDEyMF9ERFBGIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwX0REUEYiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40NTAyMjMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODkyOTE2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44OTI5MTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40NTAyMjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM1LjcxOCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjksDQogICAgICAgICAgICAgICAgInoiOiAyMTMuMDQyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwX0REUEYiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkJhcnJpZXJIZXNjb18wMV9Sb3cwMyIsDQogICAgICAgICAgICAidHlwZSI6ICJCYXJyaWVySGVzY29fMDFfUm93MDMiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzU2Mjg3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjY1NDI0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42NTQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC43NTYyODcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM4LjE0OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDgsDQogICAgICAgICAgICAgICAgInoiOiAyMTYuMjU3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV9Sb3cwMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjI0NTEyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45Njk0OTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2OTQ5MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI0NTEyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuMzk0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU3OSwNCiAgICAgICAgICAgICAgICAieiI6IDI2Mi4xODMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVBbW1vXzAxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tDIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0MiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjUzNjU3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTY3Mjk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTY3Mjk0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjI1MzY1Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDEuNTEyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUxOSwNCiAgICAgICAgICAgICAgICAieiI6IDI2MS44MzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjg5NjI1NCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC40NDM1NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNDQzNTQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44OTYyNTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjY2LjEzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjksDQogICAgICAgICAgICAgICAgInoiOiAyOTMuMzE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQzIiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQyIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45MDAxMjksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40MzU2MjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC40MzU2MjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTAwMTI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2Ni41OTEsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMjkyLjIzNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tDMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVQYWxsZXRfMDEiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVQYWxsZXRfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjE3MTM4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc2MTQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTc2MTQxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjIxNzEzOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuODY0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU2MiwNCiAgICAgICAgICAgICAgICAieiI6IDI1OC43NjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVQYWxsZXRfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNyYXRlV29vZGVuXzAyX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVXb29kZW5fMDJfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2OTgxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI0Mzg1Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI0Mzg1MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk2OTgxMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuMDU2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMjU2LjczNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVdvb2Rlbl8wMl9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVdlYXBvbl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZVdlYXBvbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4yNDI2MTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NzAxMjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NzAxMjIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMjQyNjE2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC4xMDksDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMTczLA0KICAgICAgICAgICAgICAgICJ6IjogMjU1LjAyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVdlYXBvbl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVfMDNfQiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZV8wM19CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMTc5Mzg2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk4Mzc3OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTgzNzc5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMTc5Mzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOS43OTEsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTU0LA0KICAgICAgICAgICAgICAgICJ6IjogMjUxLjI2OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZV8wM19CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZU1ldGFsV2lkZV8wMV9BIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlTWV0YWxXaWRlXzAxX0EiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzY5NTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yMTM0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjIxMzQ0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc2OTU2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOS40OTUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTM1LA0KICAgICAgICAgICAgICAgICJ6IjogMjUyLjI2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZU1ldGFsV2lkZV8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVBhbGxldF8wMl9CIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlUGFsbGV0XzAyX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC44MTQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTI0LA0KICAgICAgICAgICAgICAgICJ6IjogMjQ5LjAyOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVBhbGxldF8wMl9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZV8wMV9BIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlXzAxX0EiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC41MzQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguODc3LA0KICAgICAgICAgICAgICAgICJ6IjogMjQ3LjkzNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZV8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZU1ldGFsXzAxX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVNZXRhbF8wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzguNTU4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUwNywNCiAgICAgICAgICAgICAgICAieiI6IDI0Ny45ODENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVNZXRhbF8wMV9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45ODMxNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xODI2NjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xODI2NjUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45ODMxNzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM5LjU0OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41NDksDQogICAgICAgICAgICAgICAgInoiOiAyNTQuNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVdvb2Rlbl8wMl9CMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZVdvb2Rlbl8wMl9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjIxNzcxNywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzYwMTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk3NjAxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMTc3MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjQyMiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MzYsDQogICAgICAgICAgICAgICAgInoiOiAyMjUuNjE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlV29vZGVuXzAyX0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI3ODM4OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NjA0NjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2MDQ2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yNzgzODgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjE4NCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41NDksDQogICAgICAgICAgICAgICAgInoiOiAyMjcuOTY5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMV9TdGFja0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tEIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0QiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4yMjk5OTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTczMTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzMxOTEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yMjk5OTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM4LjE0MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjYsDQogICAgICAgICAgICAgICAgInoiOiAyNTUuMTA4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMV9TdGFja0QiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNyYXRlXzAzX0IyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlXzAzX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45ODUzNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xNzAzOTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xNzAzOTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45ODUzNzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQwLjAxNSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MzEsDQogICAgICAgICAgICAgICAgInoiOiAyNTguMDkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlXzAzX0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEaXJ0UmlkZ2VfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiRGlydFJpZGdlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMzYyMjU1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODk2MjUzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEuMzgyMjMsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTEuMTEyOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40NDk4MjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzYzLjExNywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC44MDcsDQogICAgICAgICAgICAgICAgInoiOiAzMzQuMTQ2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkRpcnRSaWRnZV8wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRGlydFJpZGdlXzAzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkRpcnRSaWRnZV8wMiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA2MzYyODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NjQ1OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMS4zODIyMywNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMS4xOTc3OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjA3OTAxMDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzU5LjE0MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOS4yNTgsDQogICAgICAgICAgICAgICAgInoiOiAzNDYuNTIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkRpcnRSaWRnZV8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQSIsDQogICAgICAgICAgICAidHlwZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9BIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTYyMDEyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMjczMDAyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjczMDAyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTYyMDEyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5Ny4yNDIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgyLA0KICAgICAgICAgICAgICAgICJ6IjogMjExLjIxMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJGbGF0YmVkVHJhaWxlcl8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkZsYXRiZWRUcmFpbGVyXzAxX0Jhc2UiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTQ1NzIzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjMyNDk3NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMzI0OTc0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk0NTcyMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzEuNzIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDc5LA0KICAgICAgICAgICAgICAgICJ6IjogMjYxLjgwOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1wVHJ1Y2tfMDUiLA0KICAgICAgICAgICAgInR5cGUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjg4NDc5MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjQ2NTk4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjQ2NTk4NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC44ODQ3OTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTk5LjI3MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NSwNCiAgICAgICAgICAgICAgICAieiI6IDI1My42MTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRHVtcFRydWNrXzA1Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlMiIsDQogICAgICAgICAgICAidHlwZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjgzNjY2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjU0NzcwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjU0NzcwOSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MzY2NjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTk1LjcwMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjEsDQogICAgICAgICAgICAgICAgInoiOiAyNTkuODM4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkZsYXRiZWRUcmFpbGVyXzAxX0Jhc2UyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZW1pVHJ1Y2tUcmFpbGVyXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlbWlUcnVja1RyYWlsZXJfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTIzNDExLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMzgzODEyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMzgzODEyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjkyMzQxMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTkuNTQ3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU1NywNCiAgICAgICAgICAgICAgICAieiI6IDI0Mi45NDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiU2VtaVRydWNrVHJhaWxlcl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VtaVRydWNrVHJhaWxlcl8wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTZW1pVHJ1Y2tUcmFpbGVyXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk3NDc0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMjMzMTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIyMzMxOCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzQ3NDYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjU0Ljc3OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MDcsDQogICAgICAgICAgICAgICAgInoiOiAzMDYuMjk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlNlbWlUcnVja1RyYWlsZXJfMDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNlbWlUcnVja18wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZW1pVHJ1Y2tfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTk2MzUxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA4NTM0NzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA4NTM0NzIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTk2MzUxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwMS44NDQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgyLA0KICAgICAgICAgICAgICAgICJ6IjogMjM1LjEyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTZW1pVHJ1Y2tfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzYuMzkzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ2LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjY5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJQb3J0YWJsZURpZXNlbEVuZ2luZV8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiUG9ydGFibGVEaWVzZWxFbmdpbmVfMDFfTGFtcFRvd2VyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxX0xhbXBUb3dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjE3MzIzNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45ODQ4OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTg0ODgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xNzMyMzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTkzLjM2OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NzUsDQogICAgICAgICAgICAgICAgInoiOiAyMjQuNTg5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxX0xhbXBUb3dlciINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29udGFpbmVyU3RhbmRhcmRfRGFtYWdlZF8wMV8xMjgwIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbnRhaW5lclN0YW5kYXJkX0RhbWFnZWRfMDFfMTI4MCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2NDAzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwNTkyMzA2LA0KICAgICAgICAgICAgICAgICJ6IjogMC4yNjU3MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTk3NTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAyMjI4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI2NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAyMTQ4NDUsDQogICAgICAgICAgICAgICAgInoiOiAwLjk2Mzc5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjIuODk4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjQ1MSwNCiAgICAgICAgICAgICAgICAieiI6IDQxOC40MTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29udGFpbmVyU3RhbmRhcmRfRGFtYWdlZF8wMV8xMjgwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb250YWluZXJTdGFuZGFyZF8wMV82NDAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29udGFpbmVyU3RhbmRhcmRfMDFfNjQwIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA1MTkxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcwOTAxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA5MDE3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1MTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE4Ni43NjIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNjEzLA0KICAgICAgICAgICAgICAgICJ6IjogMjMwLjQ2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV82NDAiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbnRhaW5lclN0YW5kYXJkXzAxXzEyODAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29udGFpbmVyU3RhbmRhcmRfMDFfMTI4MCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk1ODYxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI4NDcwMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI4NDcwMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk1ODYxNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTcuODEsDQogICAgICAgICAgICAgICAgInkiOiAxNDAuMTA3LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjU0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1wVHJ1Y2tfMDYiLA0KICAgICAgICAgICAgInR5cGUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcyNDA3MSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDE0OTM3NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjg5NTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMzI3MzM5LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzODMsDQogICAgICAgICAgICAgICAgInoiOiAwLjAxMjcyMzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42ODg5NDgsDQogICAgICAgICAgICAgICAgInkiOiAwLjAzMTc4NDUsDQogICAgICAgICAgICAgICAgInoiOiAtMC43MjQxMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE4LjgxNywNCiAgICAgICAgICAgICAgICAieSI6IDEzNy4yMjMsDQogICAgICAgICAgICAgICAgInoiOiAzNTcuNDE4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43NDQyOTUsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNzE5MDIzLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Njc4MTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyNjA1MDUsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTQ5NCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDE4MjcyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY2NzM0MiwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDMwOTk3LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzQ0MTA1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIxMy44NDcsDQogICAgICAgICAgICAgICAgInkiOiAxMzYuOTc3LA0KICAgICAgICAgICAgICAgICJ6IjogMzYyLjc2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkZsYXRiZWRUcmFpbGVyXzAxX0EyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbnRhaW5lclN0YW5kYXJkXzAxXzEyODAiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzUyMzcsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNzU2NzMsDQogICAgICAgICAgICAgICAgInoiOiAwLjY1ODY5OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDI2MDUwNSwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5NDk0LA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMTgyNzI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjU4MjI2LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMzA5MDcxLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzUyMTg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIxOC44NTMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguODAzLA0KICAgICAgICAgICAgICAgICJ6IjogMzU4LjkzMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEaXJ0UmlkZ2VfMDEiLA0KICAgICAgICAgICAgInR5cGUiOiAiRGlydFJpZGdlXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMzNjQwOSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDI3MzkwNiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMTE4NDI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wNTA3NDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjYyNTM2NCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAwMDQ4NzE4NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI1OTAxNCwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDIwNDQxMSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjc0MDQ4Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjMuOTgzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4Ljc1LA0KICAgICAgICAgICAgICAgICJ6IjogMzI1Ljg5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJEaXJ0UmlkZ2VfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkRpcnRSaWRnZV8wNCIsDQogICAgICAgICAgICAidHlwZSI6ICJEaXJ0UmlkZ2VfMDIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wNjc4OTc0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4xMDQ4ODcsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5MjE2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDAxMDk1OTcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5NDQ1LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMTA1MjAzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTk3NjkyLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMDgyMzA0MiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDY3NDA1Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNTcuNjcxLA0KICAgICAgICAgICAgICAgICJ5IjogMTQwLjMyMSwNCiAgICAgICAgICAgICAgICAieiI6IDM1OC4zMjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRGlydFJpZGdlXzA0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTc4MjY0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDA3NzIxNjEsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMDcyMjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMS4xODEwN2UtMTAsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMwNywNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzNzIzNjcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIwNzM2NSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM2NDI3MywNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc3NTg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM1Ni40MzksDQogICAgICAgICAgICAgICAgInkiOiAxNDIuMDgxLA0KICAgICAgICAgICAgICAgICJ6IjogMzg1LjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzAyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDMiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTYyNDI5LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDUzODc1MSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjI2NjEzNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDQ1NjAzMywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk4MjY4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDM3MTY4Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMjY3Njc3LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMjM2MzUxLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NjMyMTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzU2Ljg3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjY1NSwNCiAgICAgICAgICAgICAgICAieiI6IDM0MC41MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzAzIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDQiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjgyOTE5NywNCiAgICAgICAgICAgICAgICAieSI6IDAuNDU3MDEzLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zMjE4MjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjQ2ODk5NCwNCiAgICAgICAgICAgICAgICAieSI6IDAuODgyMDkzLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDQ0MjQ1OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMwNDEsDQogICAgICAgICAgICAgICAgInkiOiAwLjExNDI0NSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk0NTc2NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjEuODI0LA0KICAgICAgICAgICAgICAgICJ5IjogMTQwLjk2MiwNCiAgICAgICAgICAgICAgICAieiI6IDM1OC44NzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzA0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRXhjYXZhdG9yXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdFeGNhdmF0b3JfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzEyNDQ0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDExODUwOCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzAxNjI4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMzE5ODY3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTgyNywNCiAgICAgICAgICAgICAgICAieiI6IDAuMDQ5MzQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzAwOTk5LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNTc1OTU1LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzEwODMyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE4Mi42ODcsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuMzEsDQogICAgICAgICAgICAgICAgInoiOiAzOTIuNzIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdFeGNhdmF0b3JfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdFeGNhdmF0b3JfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0V4Y2F2YXRvcl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43Njg4MTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Mzk0NjYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42Mzk0NjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY4ODE5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0Ni4xNDMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguMjk1LA0KICAgICAgICAgICAgICAgICJ6IjogMzI3LjA0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRXhjYXZhdG9yXzAyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb21iYXRWZWhpY2xlQ29udGFpbmVyXzAyX1dhbGtlclNlbmV4Q29udGFpbmVyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDczNzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDY4MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDY4MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDczNzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTE2Ljk4NiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC43NTIsDQogICAgICAgICAgICAgICAgInoiOiAxMDQuNTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDczNzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDY4MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDY4MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDczNzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTA0Ljc1OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40MywNCiAgICAgICAgICAgICAgICAieiI6IDExNS41OTYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXI1IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDY5NzIsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzAyNDMsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNjU5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIwMzgwNywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5NTQyLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjIzODk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA2OTQ4LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNDI4MDQsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNzI2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDguOTI2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjcxNSwNCiAgICAgICAgICAgICAgICAieiI6IDExMi4yODYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXI0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42OTAzNzcsDQogICAgICAgICAgICAgICAgInkiOiAwLjA5NjU4NzEsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNjk3Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjA3NzIxMDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5NTIyNCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA1OTcyNTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTkzMTgsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTQxMjUsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NDUzOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDQuMjc0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjY0NiwNCiAgICAgICAgICAgICAgICAieiI6IDEyOS41OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb21iYXRWZWhpY2xlQ29udGFpbmVyXzAyX1dhbGtlclNlbmV4Q29udGFpbmVyNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjMiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjcwNzM3OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNjgzNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNjgzNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNzM3OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDIuMzA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0NCwNCiAgICAgICAgICAgICAgICAieiI6IDEyMC4xMTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlVINjB3cmVja2Zyb210aGVza3khIiwNCiAgICAgICAgICAgICJEaXNhYmxlUmVzcGF3biI6IHRydWUsDQogICAgICAgICAgICAiVmVoaWNsZVR5cGUiOiAiVUg2MF9QYXgiLA0KICAgICAgICAgICAgIlBfQXV0b1NwYXduRW5hYmxlZCI6IHRydWUsDQogICAgICAgICAgICAiUF9EZWZhdWx0UmVzcGF3blRpbWUiOiA5OTk5OTk5OTk5LA0KICAgICAgICAgICAgIlBfVGltZVVudGlsQWJhbmRvbiI6IDAsDQogICAgICAgICAgICAiUF9LZWVwQWxpdmVBYmFuZG9uUmFkaXVzIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZVNwYXduZXJSYWRpdXMiOiAwLA0KICAgICAgICAgICAgInR5cGUiOiAiVmVoaWNsZVNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4xMDAyOTUsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTIyMjksDQogICAgICAgICAgICAgICAgInoiOiAwLjk5NDk0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDUyMDA0OCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjk5ODY0NywNCiAgICAgICAgICAgICAgICAieiI6IDYuMzYzNzFlLTA5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45OTM1OTgsDQogICAgICAgICAgICAgICAgInkiOiAwLjA1MTc0MTgsDQogICAgICAgICAgICAgICAgInoiOiAtMC4xMDA0MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE5LjQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDE0MC42NjMsDQogICAgICAgICAgICAgICAgInoiOiAyMjYuNjg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlVINjB3cmVja2Zyb210aGVza3khIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJFdXJvQ29wdGVyd3JlY2tmcm9tdGhlc2t5ISIsDQogICAgICAgICAgICAiRGlzYWJsZVJlc3Bhd24iOiB0cnVlLA0KICAgICAgICAgICAgIlZlaGljbGVUeXBlIjogIkV1cm9jb3B0ZXIiLA0KICAgICAgICAgICAgIlBfQXV0b1NwYXduRW5hYmxlZCI6IHRydWUsDQogICAgICAgICAgICAiUF9EZWZhdWx0UmVzcGF3blRpbWUiOiA5OTk5OTk5OTk5LA0KICAgICAgICAgICAgIlBfVGltZVVudGlsQWJhbmRvbiI6IDAsDQogICAgICAgICAgICAiUF9LZWVwQWxpdmVBYmFuZG9uUmFkaXVzIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZVNwYXduZXJSYWRpdXMiOiAwLA0KICAgICAgICAgICAgInR5cGUiOiAiVmVoaWNsZVNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44MzY2MzEsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTIyMjksDQogICAgICAgICAgICAgICAgInoiOiAwLjU0Nzc0Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDMyNzA1OCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjk5ODY0NywNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA0MDQzMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTQ2NzksDQogICAgICAgICAgICAgICAgInkiOiAwLjA1MTc0MTgsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MzU2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMjAuNjMxLA0KICAgICAgICAgICAgICAgICJ5IjogMTQ1LjM1OCwNCiAgICAgICAgICAgICAgICAieiI6IDI4MS42NTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRXVyb0NvcHRlcndyZWNrZnJvbXRoZXNreSEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkFoNjR3cmVja2Zyb210aGVza3khIiwNCiAgICAgICAgICAgICJEaXNhYmxlUmVzcGF3biI6IHRydWUsDQogICAgICAgICAgICAiVmVoaWNsZVR5cGUiOiAiQUg2NCIsDQogICAgICAgICAgICAiUF9BdXRvU3Bhd25FbmFibGVkIjogdHJ1ZSwNCiAgICAgICAgICAgICJQX0RlZmF1bHRSZXNwYXduVGltZSI6IDk5OTk5OTk5OTksDQogICAgICAgICAgICAiUF9UaW1lVW50aWxBYmFuZG9uIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZUFiYW5kb25SYWRpdXMiOiAwLA0KICAgICAgICAgICAgIlBfS2VlcEFsaXZlU3Bhd25lclJhZGl1cyI6IDAsDQogICAgICAgICAgICAidHlwZSI6ICJWZWhpY2xlU3Bhd25lciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41ODczMjgsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wOTQyODU4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODAzODM4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMTExNTcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5MzE0MSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzNDk3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODAxNjIyLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNjkxNDQ4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNTkzODE5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI5OC45MzUsDQogICAgICAgICAgICAgICAgInkiOiAxNjUuMzExLA0KICAgICAgICAgICAgICAgICJ6IjogMzUxLjYzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJBaDY0d3JlY2tmcm9tdGhlc2t5ISINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEciLA0KICAgICAgICAgICAgIk9iaklkIjogMjA2LA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEcvQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMzcuNTkxLA0KICAgICAgICAgICAgICAgICJ5IjogMTUzLjI5NiwNCiAgICAgICAgICAgICAgICAieiI6IDM1NC42MjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEciLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL0NhcEcgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMjUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTkyLjkzODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIxLjAxNzgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzY0LjIyMTg5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE3Ny44MTg3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMS4wMTc4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDM3OS4zMDk3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE0Ny41MjIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIxLjAxNzgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDA5LjUyOTUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTYuMDY2NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNTkuMTM1MDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTIuOTA1NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNDcuNDI0MDcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTcuNTIwNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMzQuODE5NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjAuNDE3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMS4wMTc4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDMxMi4wNTE3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEzNS4zODk5MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMDYuNjE1MQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEciLA0KICAgICAgICAgICAgIk9iaklkIjogMzA2LA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEcvQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTM3LjU5MSwNCiAgICAgICAgICAgICAgICAieSI6IDE0My4yOTYsDQogICAgICAgICAgICAgICAgInoiOiAzNTQuNjIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL1NlY3RvciBHIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBHIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwNiwNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTM3LjU5MSwNCiAgICAgICAgICAgICAgICAieSI6IDE1My4yOTYsDQogICAgICAgICAgICAgICAgInoiOiAzNTQuNjIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL1dvcmxkSWNvbiBHIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgRyIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDYsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBHIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNy41OTEsDQogICAgICAgICAgICAgICAgInkiOiAxNjMuMjk2LA0KICAgICAgICAgICAgICAgICJ6IjogMzU0LjYyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRy9DYXB0dXJlUG9pbnQgRyIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYiLA0KICAgICAgICAgICAgIk9iaklkIjogMjA1LA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvQ2FwRiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTU0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwRiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBGL0NhcEYgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMjUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuOTA0NSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjYuMDA5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMy43NDg5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI4MS43MDQyMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMDMuODk0MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyOTEuNDI0NzINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTQuMjcwMzksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjU4OTUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzQwLjM5MTENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjUuODgyNSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMTEuNzgyOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xOS41NDQ0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI5NS4wNDU3Mg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xOC42ODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjU4OTUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjgwLjg1MTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjMuODY4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjQuODk2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTU1LjcyNTczLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIzMy4yMzg0DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgRiIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDUsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRi9DYXBGIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTQ0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvU2VjdG9yIEYiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEYiLA0KICAgICAgICAgICAgIk9iaklkIjogNDA1LA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTU0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvV29ybGRJY29uIEYiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBGIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwNSwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEYgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtNTAuMzA3MywNCiAgICAgICAgICAgICAgICAieSI6IDE2NC42MDQsDQogICAgICAgICAgICAgICAgInoiOiAyODcuODYxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBGL0NhcHR1cmVQb2ludCBGIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRSIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDQsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9DYXBFIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNTguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBFIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwRSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAyNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDguMDAxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjUyLjY1MjQNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTMxLjg4ODksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjkuMTMzMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjMuNjgxNjUsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzcuNDUzMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMTQuMzIwOTgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjguMDU2OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC04Mi41NTE2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM2LjUwMTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNzUuNjMwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyOS4xODQ2MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMzIuNTgyOCwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE2OS4yMTk4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE1MC4yODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxODYuNTI4NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNjMuNDg2OSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIwMi45NDQ5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE3Mi43NzU3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjExLjgwMjgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTczLjQ1MzgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjYuOTc5NTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNlY3RvciBFIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDMwNCwNCiAgICAgICAgICAgICJTZWN0b3JBcmVhIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBFL0NhcEUgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZWN0b3IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNDguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9TZWN0b3IgRSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJXb3JsZEljb24gRSIsDQogICAgICAgICAgICAiT2JqSWQiOiA0MDQsDQogICAgICAgICAgICAidHlwZSI6ICJXb3JsZEljb24iLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNTguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9Xb3JsZEljb24gRSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgIk9iaklkIjogNjA0LA0KICAgICAgICAgICAgIkNhcHR1cmVBcmVhIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgRSBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2FwdHVyZVBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjEuODcxLA0KICAgICAgICAgICAgICAgICJ5IjogMTY4LjI3OCwNCiAgICAgICAgICAgICAgICAieiI6IDIyNC43NTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDIwMywNCiAgICAgICAgICAgICJBcmVhIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL0NhcEQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcEQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRC9DYXBEIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDE1LA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4NC4wODIxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI4NS44NDMyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI2OS40OTAzNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyOTMuODIyNA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yNTUuODYzODIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjk0LjIyODgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjQ1LjkxMjEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjg2LjE3MTgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjQyLjAzOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzkuNTE1NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMzQuNDMwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjcuMDY3NDcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjI4LjkzNTQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjUxLjUxNzMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjMyLjI3MzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM5LjYzODcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjM5LjMzODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjI5Ljc2MjYNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjU3LjE5MzA4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyNi43Nzg3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Mi42NzMyLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIzNS41NDgyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Ni41NTIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjQ0LjU5NTcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjkyLjIyNzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjU4LjQ0OTc5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI5Mi45NTI1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI2NC4xNTU3Ng0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEQiLA0KICAgICAgICAgICAgIk9iaklkIjogMzAzLA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEQvQ2FwRCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE0NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL1NlY3RvciBEIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBEIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwMywNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL1dvcmxkSWNvbiBEIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgRCIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDMsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBEIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2MS41NTYsDQogICAgICAgICAgICAgICAgInkiOiAxNjUuMDcxLA0KICAgICAgICAgICAgICAgICJ6IjogMjYyLjY5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRC9DYXB0dXJlUG9pbnQgRCIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMiLA0KICAgICAgICAgICAgIk9iaklkIjogMjAyLA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvQ2FwQyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTUxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwQyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBDL0NhcEMgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMTUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDAxLjcwNDEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjI0LjA2MzINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzk3LjkwNTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM2LjY2NzgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzg2Ljc5OTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjQzLjk1MDINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzY3Ljc0MzI2MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNDQuOTMzOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNTEuNjkzNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNDAuMTA0OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDIuMjYwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMzAuMTEwOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zMzguNTQwMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjAuOTQ2Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDAuMzczNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMDQuNDg5NTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzQ3Ljg5NjQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTkzLjIyMTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzYyLjIyMjc4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE4MC40MTgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzc2LjY4MjksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTc4LjY5NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zODcuMjc4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE4Ni4xNTA2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM5Mi44NDExLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE5NS4yNzYzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM5Ny4xMTMyLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIwNC44NDcyMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zOTkuODEwMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMTMuODc0NjYxDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgQyIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDIsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQy9DYXBDIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTQxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvU2VjdG9yIEMiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEMiLA0KICAgICAgICAgICAgIk9iaklkIjogNDAyLA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTUxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvV29ybGRJY29uIEMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBDIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwMiwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEMgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzY4LjUyNSwNCiAgICAgICAgICAgICAgICAieSI6IDE2MS45MjEsDQogICAgICAgICAgICAgICAgInoiOiAyMTMuOTk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBDL0NhcHR1cmVQb2ludCBDIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQiIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDEsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQi9DYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTQ0NS40NDYsDQogICAgICAgICAgICAgICAgInkiOiAxNTYuODE2LA0KICAgICAgICAgICAgICAgICJ6IjogMjY4LjYxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQiIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvQ2FwQiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAxNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NjguNDg3NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMDkuNzI0NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzMuNDMzMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjYuMjc3OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzIuOTUyMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMDguMjE4Mg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NDAuNDUxOTgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzA4LjMyNTENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDE0LjUzMzUsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzA4Ljg5MTcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDAzLjUyMDgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjkyLjI3MTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDEwLjk0NDIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjYzLjEyMDE3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQxMC4zNzAzLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOS4wNjMxLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyOS45Mzk4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQyMi4wODE3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOS4wNjMxLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIxMC44NTk1DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgQiIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDEsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQi9DYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC00NDUuNDQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMTQ2LjgxNiwNCiAgICAgICAgICAgICAgICAieiI6IDI2OC42MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvU2VjdG9yIEIiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEIiLA0KICAgICAgICAgICAgIk9iaklkIjogNDAxLA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC00NDUuNDQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMTU2LjgxNiwNCiAgICAgICAgICAgICAgICAieiI6IDI2OC42MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvV29ybGRJY29uIEIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBCIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwMSwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEIgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtNDQ1LjQ0NiwNCiAgICAgICAgICAgICAgICAieSI6IDE2Ni44MTYsDQogICAgICAgICAgICAgICAgInoiOiAyNjguNjE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBCL0NhcHR1cmVQb2ludCBCIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQSIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDAsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQS9DYXBBIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4wNDQsDQogICAgICAgICAgICAgICAgInkiOiAxNTQuMjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMTE1LjM4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBBIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEEvQ2FwQSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAyNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00MTEuMzQzMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE0Ni43Mjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4zNjk2MjMsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNzEuNTAxOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNzEuMzE4NSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE2MC41NzAzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM1MS45NzQ4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyNS42OTgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTQ3LjczOTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzQzLjcwNTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDAuMDE4NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zMTUuNzYwMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDExMS41NTM3Ng0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNjEuNzk4MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDY0LjMyNTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDI3Ljg1ODQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMjkuOTQ4OA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEEiLA0KICAgICAgICAgICAgIk9iaklkIjogMzAwLA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEEvQ2FwQSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzgyLjA0NCwNCiAgICAgICAgICAgICAgICAieSI6IDE0NC4yNTcsDQogICAgICAgICAgICAgICAgInoiOiAxMTUuMzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBBL1NlY3RvciBBIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBBIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwMCwNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzgyLjA0NCwNCiAgICAgICAgICAgICAgICAieSI6IDE1NC4yNTcsDQogICAgICAgICAgICAgICAgInoiOiAxMTUuMzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBBL1dvcmxkSWNvbiBBIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgQSIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDAsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBBIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4wNDQsDQogICAgICAgICAgICAgICAgInkiOiAxNjQuMjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMTE1LjM4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQS9DYXB0dXJlUG9pbnQgQSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZyIsDQogICAgICAgICAgICAiT2JqSWQiOiAxMDAwLA0KICAgICAgICAgICAgIkNhcHR1cmVQb2ludHMiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBBL0NhcHR1cmVQb2ludCBBIiwNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvQ2FwdHVyZVBvaW50IEIiLA0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYVRyaWdnZXIgQy9DYXB0dXJlUG9pbnQgQyIsDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBEL0NhcHR1cmVQb2ludCBEIiwNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYVRyaWdnZXIgRi9DYXB0dXJlUG9pbnQgRiIsDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBHL0NhcHR1cmVQb2ludCBHIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmciLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZVBvaW50cyINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgQSBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBBIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1teSBCIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEIgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bW15IEMgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgQyBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgRCBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBEIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1teSBFIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEUgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bW15IEYgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgRiBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgRyBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBHIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgXSwNCiAgICAiU3RhdGljIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJNUF9HcmFuaXRlX1RlY2hDYW1wdXNfUG9ydGFsX1RlcnJhaW4iLA0KICAgICAgICAgICAgIm1ldGFkYXRhL19lZGl0X2xvY2tfIjogdHJ1ZSwNCiAgICAgICAgICAgICJ0eXBlIjogIk1QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfVGVycmFpbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiU3RhdGljL01QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfVGVycmFpbiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiTVBfR3Jhbml0ZV9UZWNoQ2FtcHVzX1BvcnRhbF9Bc3NldHMiLA0KICAgICAgICAgICAgIm1ldGFkYXRhL19lZGl0X2xvY2tfIjogdHJ1ZSwNCiAgICAgICAgICAgICJ0eXBlIjogIk1QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfQXNzZXRzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTdGF0aWMvTVBfR3Jhbml0ZV9UZWNoQ2FtcHVzX1BvcnRhbF9Bc3NldHMiDQogICAgICAgIH0NCiAgICBdDQp9","compiled":""},"attachmentType":1,"errors":[]}}],"workspace":{"mod":{"blocks":{"languageVersion":0,"blocks":[{"type":"modBlock","id":"f`y}HF2MN[sU5oXf5Fi8","x":10,"y":10,"deletable":false,"inputs":{"RULES":{"block":{"type":"ruleBlock","id":"%8VOTreQ9~!6,MNruG]A","extraState":{"isOngoingEvent":true},"fields":{"NAME":"New Rule","EVENTTYPE":"Ongoing","OBJECTTYPE":"Global"}}}}}]}}},"teamComposition":[[1,{"humanCapacity":32}],[2,{"humanCapacity":32}]],"gameMode":"ModBuilderCustom","attachments":[{"id":"06d5ea45-d966-42ea-982f-6ff8b4794769","version":"123","filename":"MP_TWL_VehiclesOnly_Granite_TechCampus_Portal.spatial.json","isProcessable":true,"processingStatus":2,"attachmentData":{"original":"ew0KICAgICJQb3J0YWxfRHluYW1pYyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiVEVBTV8xX0hRIiwNCiAgICAgICAgICAgICJBbHRUZWFtIjogIlRlYW1OZXV0cmFsIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDEsDQogICAgICAgICAgICAiSW5mYW50cnlTcGF3bnMiOiBbDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMSIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMiIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMyIsDQogICAgICAgICAgICAgICAgIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfNCINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiSFFBcmVhIjogIlRFQU1fMV9IUS9IUV9UZWFtMSIsDQogICAgICAgICAgICAidHlwZSI6ICJIUV9QbGF5ZXJTcGF3bmVyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNTEuMDg2LA0KICAgICAgICAgICAgICAgICJ5IjogMTMzLjY5NCwNCiAgICAgICAgICAgICAgICAieiI6IDQyOC4wMTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkhRQXJlYSIsDQogICAgICAgICAgICAgICAgIkluZmFudHJ5U3Bhd25zIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJIUV9UZWFtMSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzFfSFEvSFFfVGVhbTEiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTY1Ljk3MzYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTQwLjk4ODMzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2Ny4wNTYzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE2NS45NzM2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDE0MC45ODgzMywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NTcuMDU2Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNzUuOTczNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDAuOTg4MzMsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDU3LjA1NjMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTc1Ljk3MzYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTQwLjk4ODMzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2Ny4wNTYzDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzFfMSIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjg4MDYxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDczODQzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDczODQzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg4MDYxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE3MC45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjQ3NjA2LA0KICAgICAgICAgICAgICAgICJ6IjogNDU5LjA1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRL1NwYXduUG9pbnRfMV8xIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzFfMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMzE2MTk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMDMxNjE5OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45OTk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE2Ny45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjQyNzI2MSwNCiAgICAgICAgICAgICAgICAieiI6IDQ2Mi4wNTYzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8xXzMiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44NjUyMjIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41MDEzOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjUwMTM5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg2NTIyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzMuOTczNiwNCiAgICAgICAgICAgICAgICAieSI6IDEzNS44NTc1NCwNCiAgICAgICAgICAgICAgICAieiI6IDQ2Mi4wNTYzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMV9IUS9TcGF3blBvaW50XzFfMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8xXzQiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45ODIwNjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xODg1NDcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xODg1NDcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTgyMDY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE3MC45NzM2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjcxMjYzLA0KICAgICAgICAgICAgICAgICJ6IjogNDY1LjA1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8xX0hRL1NwYXduUG9pbnRfMV80Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJURUFNXzJfSFEiLA0KICAgICAgICAgICAgIlRlYW0iOiAiVGVhbTIiLA0KICAgICAgICAgICAgIkFsdFRlYW0iOiAiVGVhbU5ldXRyYWwiLA0KICAgICAgICAgICAgIk9iaklkIjogMiwNCiAgICAgICAgICAgICJJbmZhbnRyeVNwYXducyI6IFsNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8xIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8yIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8zIiwNCiAgICAgICAgICAgICAgICAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl80Ig0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJIUUFyZWEiOiAiVEVBTV8yX0hRL0hRX1RlYW0yIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkhRX1BsYXllclNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEwNy43MjcsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMjkzLA0KICAgICAgICAgICAgICAgICJ6IjogMTIzLjI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiSFFBcmVhIiwNCiAgICAgICAgICAgICAgICAiSW5mYW50cnlTcGF3bnMiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkhRX1RlYW0yIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIlRFQU1fMl9IUS9IUV9UZWFtMiIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05NS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44Ng0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05NS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk2Ljg2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwNS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk2Ljg2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwNS44MDU1MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxNDQuMjkzLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44Ng0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU3Bhd25Qb2ludF8yXzEiLA0KICAgICAgICAgICAgInR5cGUiOiAiU3Bhd25Qb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc4ODk3NywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjYxNDQyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjYxNDQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjc4ODk3Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDAuODA1NTIsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMjkzLA0KICAgICAgICAgICAgICAgICJ6IjogOTguODYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiVEVBTV8yX0hRL1NwYXduUG9pbnRfMl8xIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTcGF3blBvaW50XzJfMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTcGF3blBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk3NjUzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE2NDM2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE2NDM2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk3NjUzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTk3LjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjI5MywNCiAgICAgICAgICAgICAgICAieiI6IDEwMS44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNwYXduUG9pbnRfMl8zIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNwYXduUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43NzY1NjMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42MzAwMzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42MzAwMzksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43NzY1NjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAzLjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4Ljk0NzAyMiwNCiAgICAgICAgICAgICAgICAieiI6IDEwMS44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNwYXduUG9pbnRfMl80IiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNwYXduUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44NTk2MzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41MTA5MDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41MTA5MDMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44NTk2MzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAwLjgwNTUyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjY0Mzk4MywNCiAgICAgICAgICAgICAgICAieiI6IDEwNC44Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJURUFNXzJfSFEvU3Bhd25Qb2ludF8yXzQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdEFyZWEiLA0KICAgICAgICAgICAgIkNvbWJhdFZvbHVtZSI6ICJDb21iYXRBcmVhL0NvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb21iYXRBcmVhIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTMuNDE1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM2LjY0MywNCiAgICAgICAgICAgICAgICAieiI6IDM1Mi40MDgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0QXJlYSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDb21iYXRWb2x1bWUiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDb21iYXRBcmVhL0NvbWJhdFZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMTAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogMi41MDg5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI5OC4yNTA5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQuMzA1MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzIuMzUxNg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNS4wMDExLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI1NS4yNTU5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM4LjI2MTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjMyLjUzODI1DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTY4Ljk2NDEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjAxLjk5Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC05OC40ODQ1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE3Mi43Njk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMi4yOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNTMuMjcyNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC04OS40NTk4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEzMy41NjUxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTg5LjM3NzgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTA3LjQ2OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjUuMjc5MywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA3NS4yMjQNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTcwLjUyMzcsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzEuMDU3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI0My4wNjUxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IC04LjE3OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yOTQuMTg5MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0My4zODgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzMwLjQxNTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogODAuMDQ3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM1OS4zMTYxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUxLjQxNQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zOTQuODQ3MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA2MC42MDUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDE2LjE3NzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNjQuNDgzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQ0NS45MTcxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDk0Ljc1Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzcuNTEwMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDUuMTI3Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00OTMuODI1MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxOTQuNTYwOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MDcuNDg4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMzguOTgxNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00OTcuMzM4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMjIuNDEwMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzIuMTgyMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNzIuMDU4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQzMC45ODAxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQwMy41NjcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzkzLjAyMzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDEwLjEwOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDcuNTAyMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MTMuNTM2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTMyNS4zNTgxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyMS40OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yOTcuMzUxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MzMuOTkyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4My45MDQxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQzMS44MTUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjUzLjQ5MzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDIyLjkwMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMzEuMTI0NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MTUuOTU3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTIxNS4zNDQ0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyNC41OTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjA1LjUyOCwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MzYuOTMyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5Ny40MDQ1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ2MC4wNTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTg1LjA0OTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc5LjQxMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDkuNjg3OTMsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDgzLjMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTI2LjQ0MTIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc3LjM3NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMDYuNDUxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NzQuMDA1DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTg4LjIxMjQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc2LjczNw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC02Ni45MjUzLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ3OC41MjUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzguNjg2MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NjcuODEyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Ljg3NzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDQ5LjU2Nw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMS4zMDYxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOC4zODg3LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQyNC43NTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTMuNzkxMSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzguMzg4NywNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNzUuNjgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAxLjk4NzksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM4LjM4ODcsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzM1LjUwMg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRGVwbG95Q2FtIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkRlcGxveUNhbSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC4xMDEwNTYsDQogICAgICAgICAgICAgICAgInoiOiAtMC45OTQ4ODENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTQ4ODEsDQogICAgICAgICAgICAgICAgInoiOiAwLjEwMTA1Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMTguNjQzLA0KICAgICAgICAgICAgICAgICJ5IjogNTAxLjYzNiwNCiAgICAgICAgICAgICAgICAieiI6IDMxMS42MjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FtZXJhM0QvRGVwbG95Q2FtIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAiT2JqSWQiOiA1MDEsDQogICAgICAgICAgICAiQXJlYSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlci9Tb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE1Ny42NzksDQogICAgICAgICAgICAgICAgInkiOiAxMzguMzk4LA0KICAgICAgICAgICAgICAgICJ6IjogNDY2LjY0MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiU291dGhCYXNlQXJlYVRyaWdnZXIvU291dGhCYXNlT09CVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5OS42MjE3MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ0OC40Njc2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTk2LjAyOTMxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDYwLjU0MjgyMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xODUuMjYwNTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0ODAuMDQ0NjQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE1MC45OTY4ODksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQ4My42ODc3NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTI0Ljk1ODkxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDc3LjE5OTI0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDIuODU5OTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0NTcuOTE0MDcxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE5My4yMjc3MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQwOC4wNDM1NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjAzLjE1NDYxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzIuNDUyNDYsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDE2LjU4MTQ0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMTQuMTM1NTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzMi40NTI0NiwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA0MjQuMzQxNjQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTIwNS4xODQ5MTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTMyLjQ1MjQ2LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDQzNS4zOTUwNDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNvdXRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJTb3V0aEJhc2VBcmVhVHJpZ2dlci9Tb3V0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgIlJldHJlYXRBcmVhIjogIlNvdXRoQmFzZUFyZWFUcmlnZ2VyL1NvdXRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZWN0b3IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTMwOS42MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMzY2LjA4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlNvdXRoQmFzZUFyZWFUcmlnZ2VyL1NvdXRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIiwNCiAgICAgICAgICAgICAgICAiUmV0cmVhdEFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDUwMCwNCiAgICAgICAgICAgICJBcmVhIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTAwLjkxOCwNCiAgICAgICAgICAgICAgICAieSI6IDE1Ni4zMDQsDQogICAgICAgICAgICAgICAgInoiOiAxMDguMzI1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIk5vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJOb3J0aEJhc2VBcmVhVHJpZ2dlci9Ob3J0aEJhc2VPT0JWb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTM2Ljc4MzkxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMTguOTUxMzQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEzMy4xMjQxMTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjQ1MjUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTIzLjkxMjU0MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjcuMzQzNzE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEyOS43OTQwNDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTE0LjQwMzMxOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDIuMzM3NzQxDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMS40NTE1OTI0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE1MS44MTc1NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuOTk5OTE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEzMy44ODA2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuNDMxMjE5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy40NTI1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDEwNi44MjM1MDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTAzLjcyNjk0OSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA5Mi43NTgyNDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTE4LjM3NjExOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA3OS40NTc2NDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTQ3Ljc3NzExOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuNDUyNSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMDguNTA1NjU2Nw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiTm9ydGhCYXNlU2VjdG9yIiwNCiAgICAgICAgICAgICJTZWN0b3JBcmVhIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZU9PQlZvbHVtZSIsDQogICAgICAgICAgICAiUmV0cmVhdEFyZWEiOiAiTm9ydGhCYXNlQXJlYVRyaWdnZXIvTm9ydGhCYXNlT09CVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtOTkuMDEzNiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS44MDc5OTgsDQogICAgICAgICAgICAgICAgInoiOiA5NS42OTE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIk5vcnRoQmFzZUFyZWFUcmlnZ2VyL05vcnRoQmFzZVNlY3RvciIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIiwNCiAgICAgICAgICAgICAgICAiUmV0cmVhdEFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkOCIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NTY2MjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yOTEzMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI5MTMyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk1NjYyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNjkuNTU4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDI5NS45OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ4Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDkiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODU5MDU4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNTExODc4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNTExODc4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg1OTA1OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yOTAuMjkyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMS4xMzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ5Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDExIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5NzA3MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjA3NjQ3NTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wNzY0NzU0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk5NzA3Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yODQuODAxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMC42NjcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMCIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDI5NjcwMywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5OTk5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk5OTk5NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4wMDI5NjcwMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zMDEuNDIzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDMwMC41OTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTU3MTgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44MzAzOTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44MzAzOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41NTcxOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNjEuNTY2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU4NiwNCiAgICAgICAgICAgICAgICAieiI6IDI4OS45ODUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDUiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTM2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwMDQ2MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMDQ2MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMzY5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1NC42MzcsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNjAzLA0KICAgICAgICAgICAgICAgICJ6IjogMjgzLjY4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkNiIsDQogICAgICAgICAgICAidHlwZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjg0NDg0MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjUzNTAxNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjUzNTAxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjg0NDg0Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDguNzA4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUyMiwNCiAgICAgICAgICAgICAgICAieiI6IDI3Ni40MTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQ2Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDciLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45MDMzMzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40Mjg5MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC40Mjg5MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45MDMzMzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQzLjk1MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41ODUsDQogICAgICAgICAgICAgICAgInoiOiAyNjguNTIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkNyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzExOTY0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcwMjIxNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzAyMjE1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzExOTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1NC40MTgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTIyLA0KICAgICAgICAgICAgICAgICJ6IjogMjAyLjUyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkMTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzYwMDQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMjE3NzUyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4yMTc3NTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NzYwMDQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM5LjY1NywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjIsDQogICAgICAgICAgICAgICAgInoiOiAyMzMuNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDEyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHTTEwODNDYXJnb1RydWNrXzAxX0JlZDEzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTk5OTg3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDA1MjAxMDQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDUyMDEwNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5OTk4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzguNTM1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0MiwNCiAgICAgICAgICAgICAgICAieiI6IDI0Mi4xMjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQxMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR00xMDgzQ2FyZ29UcnVja18wMV9CZWQzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjczNTQxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY3NzYyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY3NzYyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC43MzU0MTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjMxLjc2MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC4zMjIsDQogICAgICAgICAgICAgICAgInoiOiAxOTguNDQ4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdNMTA4M0NhcmdvVHJ1Y2tfMDFfQmVkMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC44OTI5NTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNDUwMTQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40NTAxNDUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODkyOTU1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI1Mi44NjksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDcsDQogICAgICAgICAgICAgICAgInoiOiAyOTkuNDY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzA0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY2MDE4MSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjA0ODA5NzUsDQogICAgICAgICAgICAgICAgInoiOiAtMC43NDk1NjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyOTEyNjYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODgzNiwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzODQzOTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc1MDU0MSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDAzNTQ0NjcsDQogICAgICAgICAgICAgICAgInoiOiAwLjY2MDgxNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTcuMjA2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjM5Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJEdW1wVHJ1Y2tfMDQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bXBUcnVja18wMyIsDQogICAgICAgICAgICAidHlwZSI6ICJEdW1wVHJ1Y2tfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4zMTM1OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NDk1NTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NDk1NTcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zMTM1OTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjczLjgyNCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NTEsDQogICAgICAgICAgICAgICAgInoiOiAzMDMuNTQ4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtcFRydWNrXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkR1bXBUcnVja18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45MTA2ODQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNDEzMTA0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40MTMxMDQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTEwNjg0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIyOC45OTgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDUsDQogICAgICAgICAgICAgICAgInoiOiAyNTUuMTc0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CMiIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODg2MDk4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjQ2MzQ5Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNDYzNDk3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjg4NjA5OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDMuMDU1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ2OSwNCiAgICAgICAgICAgICAgICAieiI6IDI4Mi44NzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0R1bXBUcnVja18wMV9CMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CMyIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTA3Mzc0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDIwMzIzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDIwMzIzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjkwNzM3NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNTIuODUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDE1LA0KICAgICAgICAgICAgICAgICJ6IjogMzE3LjI4MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0IzIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0I0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdEdW1wVHJ1Y2tfMDFfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43NDQ2NDksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Njc0NTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42Njc0NTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzQ0NjQ5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0MS4yNDMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguMTU3LA0KICAgICAgICAgICAgICAgICJ6IjogMzMzLjAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdEdW1wVHJ1Y2tfMDFfQjQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdEdW1wVHJ1Y2tfMDFfQjciLA0KICAgICAgICAgICAgInR5cGUiOiAiR0R1bXBUcnVja18wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc2NzY1NywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC42NDA4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjQwODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY3NjU3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwOS4yMjgsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTEyLA0KICAgICAgICAgICAgICAgICJ6IjogMzIyLjI3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0I3Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0I1IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdEdW1wVHJ1Y2tfMDFfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTMxNzUsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTg5MDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDA3MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMTA2MjcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTIwOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM4MjEwNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMDg5OSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM1MDAyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcxMjQwMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDQuNjc4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM2LjQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDM3MS41NjgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0R1bXBUcnVja18wMV9CNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0R1bXBUcnVja18wMV9CNiIsDQogICAgICAgICAgICAidHlwZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjgyNjcsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTg5MDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MzA0ODINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMjY4MDcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTIwOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM3NzA0NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjczMDYxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM1MDAyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjY4MTg5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5OC4xMTcsDQogICAgICAgICAgICAgICAgInkiOiAxMzYuMTc0LA0KICAgICAgICAgICAgICAgICJ6IjogMzc3LjQwNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRHVtcFRydWNrXzAxX0I2Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk1Mjk4NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjMwMzAxOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMwMzAxOSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk1Mjk4NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDMuMjUxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3LA0KICAgICAgICAgICAgICAgICJ6IjogMjkxLjE5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHQ2FyU1VWXzAxX09wZW5Eb29ycyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnM0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODA3MDg0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjU5MDQzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTkwNDM3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODA3MDg0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwNi40OTIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDcsDQogICAgICAgICAgICAgICAgInoiOiAyNDEuMzk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODg2Nzg1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNDYyMTgyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNDYyMTgyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODg2Nzg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwOS40MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NTMsDQogICAgICAgICAgICAgICAgInoiOiAzMDYuNzMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU1VWXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODA2NTA3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjU5MTIyNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTkxMjI1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODA2NTA3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0Ni4zNDksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDQzLA0KICAgICAgICAgICAgICAgICJ6IjogMjE1Ljg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdDYXJTVVZfMDMiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0NhclNVVl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIxNjM1NCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzYzMTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk3NjMxNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjIxNjM1NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDEuMDk5LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3MiwNCiAgICAgICAgICAgICAgICAieiI6IDIwOS42MzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzAzODIzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAwMTI1NTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MTAzNzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4wMDQwMTQyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5OTgzLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMDQxNTM4Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxMDM2NSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwNTc3NTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDM4MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMjYuNTA4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjMzNiwNCiAgICAgICAgICAgICAgICAieiI6IDMyNy43ODMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHQ2FyU1VWXzAxX09wZW5Eb29yczMiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0NhclNVVl8wMV9PcGVuRG9vcnMiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44MTc3OTgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC41NzU1MDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41NzU1MDUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44MTc3OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjEzLjUzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NzksDQogICAgICAgICAgICAgICAgInoiOiAzMTMuMzIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTVVZfMDFfT3BlbkRvb3JzMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQmFycmllckNvbnN0cnVjdGlvbl8wMV8yNTZfMTIwX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQmFycmllckNvbnN0cnVjdGlvbl8wMV8yNTZfMTIwX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4zNzEwOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTI4NTk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45Mjg1OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zNzEwOTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQ3LjcwNSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOS43MzgsDQogICAgICAgICAgICAgICAgInoiOiA0MTYuMTc0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJDb25zdHJ1Y3Rpb25fMDFfMjU2XzEyMF9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiIsDQogICAgICAgICAgICAidHlwZSI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAzMTc1OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTk5NDk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45OTk0OTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMzE3NTk2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0OC4wMjUsDQogICAgICAgICAgICAgICAgInkiOiAxMzkuNzI1LA0KICAgICAgICAgICAgICAgICJ6IjogNDE5LjgwOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJCYXJyaWVyQ29uc3RydWN0aW9uXzAxXzI1Nl8xMjBfRERQRiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FyU2VkYW5fMDFfQiIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXJTZWRhbl8wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzc4NTM5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjYyNzU5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjI3NTk2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzc4NTM5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2Ny41NDUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDYsDQogICAgICAgICAgICAgICAgInoiOiAxOTQuNDQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhclNlZGFuXzAxX0IiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJHQ2FyU2VkYW5fMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MjQzNjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNjg5NDE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42ODk0MTcsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MjQzNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYzLjUxNywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDksDQogICAgICAgICAgICAgICAgInoiOiAxOTguODY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNlZGFuXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjc0MTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjcxMjI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjcxMjI5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzQxMjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE5LjMzMiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDksDQogICAgICAgICAgICAgICAgInoiOiAzMjAuNDQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiR0NhclNlZGFuXzAzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdDYXJTZWRhbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk0MTAwNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4zMzgzOTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjMzODM5MywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk0MTAwNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMDQuMTI3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0OSwNCiAgICAgICAgICAgICAgICAieiI6IDI0Ny4zDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdDYXJTZWRhbl8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzE4NzYzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDI2MTIyMywNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk0NzY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTA5NDMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTU5NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2MjYyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTE2OSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxMTI3MzgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODc1OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNjcuODkxLA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjAxNiwNCiAgICAgICAgICAgICAgICAieiI6IDQzNC4wMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEwMDg2LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDI2MTIyMywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzAzNjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDYxNjMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTU5NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2Mzk2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNDAzNCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxMTI3MzgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMDA3Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNDEuNzkyLA0KICAgICAgICAgICAgICAgICJ5IjogMTMyLjgxNywNCiAgICAgICAgICAgICAgICAieiI6IDQ2MC4wODINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4OTYzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDM0ODQwNywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0MzA5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMjMxMjQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzOTEsDQogICAgICAgICAgICAgICAgInoiOiAwLjAyNjExNzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTQ3ODQsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMDE3MzczMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjk5MzQzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNi42MjksDQogICAgICAgICAgICAgICAgInkiOiAxMzIuNTY1LA0KICAgICAgICAgICAgICAgICJ6IjogNDY1LjM0Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzEyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzEzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42OTg5NjMsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzQ4NDA3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MTQzMDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyMzEyNDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTM5MSwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDI2MTE3OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNDc4NCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwMTczNzMyLA0KICAgICAgICAgICAgICAgICJ6IjogMC42OTkzNDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTMxLjEzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzMi4yNzYsDQogICAgICAgICAgICAgICAgInoiOiA0NzEuMDk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTQiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY5ODk2MywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAzNDg0MDcsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNDMwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIzMTI0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5MzkxLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjYxMTc5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE0Nzg0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNzM3MzIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5OTM0Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjYuNzQsDQogICAgICAgICAgICAgICAgInkiOiAxMzIuMDEzLA0KICAgICAgICAgICAgICAgICJ6IjogNDc1LjU2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTQiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjY5ODk2MywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAzNDg0MDcsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNDMwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIzMTI0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5MzkxLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjYxMTc5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzE0Nzg0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNzM3MzIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5OTM0Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjEuNjA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTMxLjcxMywNCiAgICAgICAgICAgICAgICAieiI6IDQ4MC44OTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDQ1MDM0LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDA3MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxOTA3MjksDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODgxMywNCiAgICAgICAgICAgICAgICAieiI6IDAuMDQ0ODExMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTkxNywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxODU0MDgsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMjAxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzEuNjI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjIxMywNCiAgICAgICAgICAgICAgICAieiI6IDQzMC4zMzkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wMyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMTEsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzI1NDk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDEzMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDY5MjIsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMxMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM1NTIzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTk4NywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMTk2OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzUuNTY4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjQyMiwNCiAgICAgICAgICAgICAgICAieiI6IDQyNi40MDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNCIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzEyMTEsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzI1NDk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDEzMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAxMDY5MjIsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMxMiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDM1NTIzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwMTk4NywNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxMTk2OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xNzkuMTc2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0LjYwNywNCiAgICAgICAgICAgICAgICAieiI6IDQyMi44NTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xODMuNTA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM0Ljg0MywNCiAgICAgICAgICAgICAgICAieiI6IDQxOC40MzMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNiIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xODcuNTUzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjA5NywNCiAgICAgICAgICAgICAgICAieiI6IDQxNC40NTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wNyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNjk4NDAzLA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDMyNTQ5NywNCiAgICAgICAgICAgICAgICAieiI6IDAuNzE0OTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMTAwMDI3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzMTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAzNTcyNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcxNTYzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAxNzc5ODIsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5ODI0OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTEuMjgzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjMzMSwNCiAgICAgICAgICAgICAgICAieiI6IDQxMC43MTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18wNyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18wOCIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcyMzM3OCwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDI0NjIyOSwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjkwMDEzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMjI1MjcyLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTk2NzQsDQogICAgICAgICAgICAgICAgInoiOiAtMC4wMTIwNTY1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjkwMDg0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMDY4MjI2LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzIzNjk3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5NS45NDUsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuNTE3LA0KICAgICAgICAgICAgICAgICJ6IjogNDEwLjc0Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzA4Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzA5IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuODE4OTAxLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNDU5ODk5LA0KICAgICAgICAgICAgICAgICJ6IjogMC41NzIwODkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA0MDc5NjMsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5ODkyOCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAyMTkwNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41NzI0ODMsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTM5OTkxLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODE5ODk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5OS44OTMsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuNTY3LA0KICAgICAgICAgICAgICAgICJ6IjogNDE0LjExNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzA5Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzEwIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzQ4NjUzLA0KICAgICAgICAgICAgICAgICJ5IjogMC4zMTk2ODEsDQogICAgICAgICAgICAgICAgInoiOiAwLjU4MDc5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMjkyMjQyLA0KICAgICAgICAgICAgICAgICJ5IjogMC45NDU0ODUsDQogICAgICAgICAgICAgICAgInoiOiAtMC4xNDM3MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41OTUwNzQsDQogICAgICAgICAgICAgICAgInkiOiAwLjA2MjE0NDgsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MDEyNjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjA5LjE4OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzNi42NjEsDQogICAgICAgICAgICAgICAgInoiOiA0MjEuMzM0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTAiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMTYiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjcwODc5NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNTQxNA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNTQxNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwODc5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMTcuNDAyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ4MywNCiAgICAgICAgICAgICAgICAieiI6IDEzOC44NDMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18yMyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODI0MjAzLA0KICAgICAgICAgICAgICAgICJ5IjogMC4xNTcwODUsDQogICAgICAgICAgICAgICAgInoiOiAwLjU0NDA3Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjE2Njc4NywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTg1NDc4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDMxODY2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjU0MTE3NiwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjA2NDQ3OTYsDQogICAgICAgICAgICAgICAgInoiOiAwLjgzODQzMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDcuMDE2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjIwNywNCiAgICAgICAgICAgICAgICAieiI6IDE0Ny4yOTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18yMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xNyIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA4Nzk1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1NDE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA1NDE0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA4Nzk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMC4yODIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgzLA0KICAgICAgICAgICAgICAgICJ6IjogMTM1Ljk3Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzE3Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzE4IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDg3OTUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDU0MTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDU0MTQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDg3OTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTIzLjE5LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ3NywNCiAgICAgICAgICAgICAgICAieiI6IDEzMy4wMDYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29uY3JldGVCYXJyaWVyc18xOCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29uY3JldGVCYXJyaWVyc18xOSIsDQogICAgICAgICAgICAidHlwZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA4Nzk1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1NDE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA1NDE0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA4Nzk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzMS4wMywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC43MzYsDQogICAgICAgICAgICAgICAgInoiOiAxMjUuNTY4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbmNyZXRlQmFycmllcnNfMTkiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbmNyZXRlQmFycmllcnNfMjAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29uY3JldGVCYXJyaWVyc18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjYwNDU3MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjc5NjU1MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc5NjU1MSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjYwNDU3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMzMuOTcsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNzM2LA0KICAgICAgICAgICAgICAgICJ6IjogMTIyLjIwMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzIxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTgyNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NTc3NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNy44OTUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguOTkxLA0KICAgICAgICAgICAgICAgICJ6IjogMTE3LjQxNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb25jcmV0ZUJhcnJpZXJzXzIyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbmNyZXRlQmFycmllcnNfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MTgyNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NTc3NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY5NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxODI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE0Mi4zOTksDQogICAgICAgICAgICAgICAgInkiOiAxMzguNzg3LA0KICAgICAgICAgICAgICAgICJ6IjogMTEyLjU4OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb25jcmV0ZUJhcnJpZXJzXzIyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRHVtcFRydWNrXzAxX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0R1bXBUcnVja18wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjc2ODIwNCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwOTUyODk3LA0KICAgICAgICAgICAgICAgICJ6IjogMC42NDAxMzQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAzNTEzNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5Nzc1NCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDU3MDE5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjYzOTI0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNjYyOTU3LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY2MTQ1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwNi41MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC45MDcsDQogICAgICAgICAgICAgICAgInoiOiAyMDQuMjU0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdEdW1wVHJ1Y2tfMDFfQiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQmFycmllckhlc2NvXzAxXzEyOHgxMjAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQmFycmllckhlc2NvXzAxXzEyOHgxMjAiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44NDk2MjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNTI3Mzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC41MjczODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44NDk2MjYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjA5NCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjcsDQogICAgICAgICAgICAgICAgInoiOiAyMTkuMTgzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJCYXJyaWVySGVzY29fMDFfMTI4eDEyMF9ERFBGIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwX0REUEYiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC40NTAyMjMsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODkyOTE2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44OTI5MTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40NTAyMjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM1LjcxOCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NjksDQogICAgICAgICAgICAgICAgInoiOiAyMTMuMDQyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV8xMjh4MTIwX0REUEYiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkJhcnJpZXJIZXNjb18wMV9Sb3cwMyIsDQogICAgICAgICAgICAidHlwZSI6ICJCYXJyaWVySGVzY29fMDFfUm93MDMiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzU2Mjg3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjY1NDI0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42NTQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC43NTYyODcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM4LjE0OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NDgsDQogICAgICAgICAgICAgICAgInoiOiAyMTYuMjU3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkJhcnJpZXJIZXNjb18wMV9Sb3cwMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjI0NTEyMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45Njk0OTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2OTQ5MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI0NTEyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuMzk0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU3OSwNCiAgICAgICAgICAgICAgICAieiI6IDI2Mi4xODMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVBbW1vXzAxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tDIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0MiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjUzNjU3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTY3Mjk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTY3Mjk0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjI1MzY1Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDEuNTEyLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUxOSwNCiAgICAgICAgICAgICAgICAieiI6IDI2MS44MzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjg5NjI1NCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC40NDM1NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNDQzNTQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC44OTYyNTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjY2LjEzMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjksDQogICAgICAgICAgICAgICAgInoiOiAyOTMuMzE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQzIiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVBbW1vXzAxX1N0YWNrQyIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45MDAxMjksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40MzU2MjQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC40MzU2MjQsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTAwMTI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2Ni41OTEsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTE5LA0KICAgICAgICAgICAgICAgICJ6IjogMjkyLjIzNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tDMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVQYWxsZXRfMDEiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVQYWxsZXRfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjE3MTM4LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc2MTQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTc2MTQxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjIxNzEzOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuODY0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU2MiwNCiAgICAgICAgICAgICAgICAieiI6IDI1OC43NjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVQYWxsZXRfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNyYXRlV29vZGVuXzAyX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVXb29kZW5fMDJfQiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2OTgxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI0Mzg1Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI0Mzg1MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk2OTgxMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yNDAuMDU2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMjU2LjczNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVdvb2Rlbl8wMl9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVdlYXBvbl8wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZVdlYXBvbl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4yNDI2MTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NzAxMjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC45NzAxMjIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMjQyNjE2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC4xMDksDQogICAgICAgICAgICAgICAgInkiOiAxMzkuMTczLA0KICAgICAgICAgICAgICAgICJ6IjogMjU1LjAyMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVdlYXBvbl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ3JhdGVfMDNfQiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZV8wM19CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMTc5Mzg2LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk4Mzc3OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTgzNzc5LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMTc5Mzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOS43OTEsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTU0LA0KICAgICAgICAgICAgICAgICJ6IjogMjUxLjI2OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZV8wM19CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZU1ldGFsV2lkZV8wMV9BIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlTWV0YWxXaWRlXzAxX0EiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzY5NTYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yMTM0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjIxMzQ0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc2OTU2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOS40OTUsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTM1LA0KICAgICAgICAgICAgICAgICJ6IjogMjUyLjI2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZU1ldGFsV2lkZV8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVBhbGxldF8wMl9CIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlUGFsbGV0XzAyX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC44MTQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNTI0LA0KICAgICAgICAgICAgICAgICJ6IjogMjQ5LjAyOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZVBhbGxldF8wMl9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZV8wMV9BIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlXzAxX0EiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIzOC41MzQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguODc3LA0KICAgICAgICAgICAgICAgICJ6IjogMjQ3LjkzNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZV8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZU1ldGFsXzAxX0IiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ3JhdGVNZXRhbF8wMV9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzguNTU4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjUwNywNCiAgICAgICAgICAgICAgICAieiI6IDI0Ny45ODENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ3JhdGVNZXRhbF8wMV9CIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45ODMxNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xODI2NjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xODI2NjUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45ODMxNzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM5LjU0OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41NDksDQogICAgICAgICAgICAgICAgInoiOiAyNTQuNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZVdvb2Rlbl8wMl9CMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZVdvb2Rlbl8wMl9CIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjIxNzcxNywNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzYwMTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk3NjAxMiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMTc3MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjQyMiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MzYsDQogICAgICAgICAgICAgICAgInoiOiAyMjUuNjE0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlV29vZGVuXzAyX0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCMiIsDQogICAgICAgICAgICAidHlwZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tCIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI3ODM4OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NjA0NjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2MDQ2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yNzgzODgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQxLjE4NCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41NDksDQogICAgICAgICAgICAgICAgInoiOiAyMjcuOTY5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMV9TdGFja0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDcmF0ZUFtbW9fMDFfU3RhY2tEIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlQW1tb18wMV9TdGFja0QiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4yMjk5OTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTczMTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45NzMxOTEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4yMjk5OTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjM4LjE0MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjYsDQogICAgICAgICAgICAgICAgInoiOiAyNTUuMTA4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlQW1tb18wMV9TdGFja0QiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNyYXRlXzAzX0IyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNyYXRlXzAzX0IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45ODUzNzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xNzAzOTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC4xNzAzOTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45ODUzNzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjQwLjAxNSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MzEsDQogICAgICAgICAgICAgICAgInoiOiAyNTguMDkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNyYXRlXzAzX0IyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEaXJ0UmlkZ2VfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiRGlydFJpZGdlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMzYyMjU1LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuODk2MjUzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEuMzgyMjMsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTEuMTEyOTIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC40NDk4MjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzYzLjExNywNCiAgICAgICAgICAgICAgICAieSI6IDEzOC44MDcsDQogICAgICAgICAgICAgICAgInoiOiAzMzQuMTQ2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkRpcnRSaWRnZV8wMiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRGlydFJpZGdlXzAzIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkRpcnRSaWRnZV8wMiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA2MzYyODYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NjQ1OTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMS4zODIyMywNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMS4xOTc3OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjA3OTAxMDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzU5LjE0MSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOS4yNTgsDQogICAgICAgICAgICAgICAgInoiOiAzNDYuNTIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkRpcnRSaWRnZV8wMyINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQSIsDQogICAgICAgICAgICAidHlwZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9BIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTYyMDEyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMjczMDAyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMjczMDAyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuOTYyMDEyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE5Ny4yNDIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgyLA0KICAgICAgICAgICAgICAgICJ6IjogMjExLjIxMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJGbGF0YmVkVHJhaWxlcl8wMV9BIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkZsYXRiZWRUcmFpbGVyXzAxX0Jhc2UiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTQ1NzIzLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjMyNDk3NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMzI0OTc0LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk0NTcyMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzEuNzIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDc5LA0KICAgICAgICAgICAgICAgICJ6IjogMjYxLjgwOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1wVHJ1Y2tfMDUiLA0KICAgICAgICAgICAgInR5cGUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjg4NDc5MiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjQ2NTk4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjQ2NTk4NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC44ODQ3OTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTk5LjI3MiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NSwNCiAgICAgICAgICAgICAgICAieiI6IDI1My42MTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRHVtcFRydWNrXzA1Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlMiIsDQogICAgICAgICAgICAidHlwZSI6ICJGbGF0YmVkVHJhaWxlcl8wMV9CYXNlIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjgzNjY2OSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjU0NzcwOQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjU0NzcwOSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MzY2NjkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTk1LjcwMSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MjEsDQogICAgICAgICAgICAgICAgInoiOiAyNTkuODM4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkZsYXRiZWRUcmFpbGVyXzAxX0Jhc2UyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZW1pVHJ1Y2tUcmFpbGVyXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlbWlUcnVja1RyYWlsZXJfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTIzNDExLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMzgzODEyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMzgzODEyLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjkyMzQxMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTkuNTQ3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjU1NywNCiAgICAgICAgICAgICAgICAieiI6IDI0Mi45NDUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiU2VtaVRydWNrVHJhaWxlcl8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VtaVRydWNrVHJhaWxlcl8wMiIsDQogICAgICAgICAgICAidHlwZSI6ICJTZW1pVHJ1Y2tUcmFpbGVyXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjk3NDc0NiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMjMzMTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIyMzMxOCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45NzQ3NDYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjU0Ljc3OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC41MDcsDQogICAgICAgICAgICAgICAgInoiOiAzMDYuMjk1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlNlbWlUcnVja1RyYWlsZXJfMDIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNlbWlUcnVja18wMSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZW1pVHJ1Y2tfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTk2MzUxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA4NTM0NzINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjA4NTM0NzIsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuOTk2MzUxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIwMS44NDQsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNDgyLA0KICAgICAgICAgICAgICAgICJ6IjogMjM1LjEyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTZW1pVHJ1Y2tfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMzYuMzkzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ2LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjY5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJQb3J0YWJsZURpZXNlbEVuZ2luZV8wMSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiUG9ydGFibGVEaWVzZWxFbmdpbmVfMDFfTGFtcFRvd2VyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxX0xhbXBUb3dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjE3MzIzNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAtMC45ODQ4OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTg0ODgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC4xNzMyMzYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTkzLjM2OSwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40NzUsDQogICAgICAgICAgICAgICAgInoiOiAyMjQuNTg5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlBvcnRhYmxlRGllc2VsRW5naW5lXzAxX0xhbXBUb3dlciINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29udGFpbmVyU3RhbmRhcmRfRGFtYWdlZF8wMV8xMjgwIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbnRhaW5lclN0YW5kYXJkX0RhbWFnZWRfMDFfMTI4MCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk2NDAzNSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAwNTkyMzA2LA0KICAgICAgICAgICAgICAgICJ6IjogMC4yNjU3MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTk3NTIsDQogICAgICAgICAgICAgICAgInoiOiAwLjAyMjI4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI2NTc3NSwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjAyMTQ4NDUsDQogICAgICAgICAgICAgICAgInoiOiAwLjk2Mzc5Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjIuODk4LA0KICAgICAgICAgICAgICAgICJ5IjogMTM1LjQ1MSwNCiAgICAgICAgICAgICAgICAieiI6IDQxOC40MTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29udGFpbmVyU3RhbmRhcmRfRGFtYWdlZF8wMV8xMjgwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb250YWluZXJTdGFuZGFyZF8wMV82NDAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29udGFpbmVyU3RhbmRhcmRfMDFfNjQwIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA1MTkxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjcwOTAxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNzA5MDE3LA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzA1MTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE4Ni43NjIsDQogICAgICAgICAgICAgICAgInkiOiAxMzguNjEzLA0KICAgICAgICAgICAgICAgICJ6IjogMjMwLjQ2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV82NDAiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbnRhaW5lclN0YW5kYXJkXzAxXzEyODAiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29udGFpbmVyU3RhbmRhcmRfMDFfMTI4MCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjk1ODYxNiwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjI4NDcwMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI4NDcwMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjk1ODYxNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xOTcuODEsDQogICAgICAgICAgICAgICAgInkiOiAxNDAuMTA3LA0KICAgICAgICAgICAgICAgICJ6IjogMjE3LjU0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgwIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1wVHJ1Y2tfMDYiLA0KICAgICAgICAgICAgInR5cGUiOiAiRHVtcFRydWNrXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcyNDA3MSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDE0OTM3NSwNCiAgICAgICAgICAgICAgICAieiI6IDAuNjg5NTY0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMzI3MzM5LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTkzODMsDQogICAgICAgICAgICAgICAgInoiOiAwLjAxMjcyMzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42ODg5NDgsDQogICAgICAgICAgICAgICAgInkiOiAwLjAzMTc4NDUsDQogICAgICAgICAgICAgICAgInoiOiAtMC43MjQxMTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE4LjgxNywNCiAgICAgICAgICAgICAgICAieSI6IDEzNy4yMjMsDQogICAgICAgICAgICAgICAgInoiOiAzNTcuNDE4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkR1bXBUcnVja18wNiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiRmxhdGJlZFRyYWlsZXJfMDFfQSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43NDQyOTUsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNzE5MDIzLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Njc4MTENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjAyNjA1MDUsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTQ5NCwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDE4MjcyNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjY2NzM0MiwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDMwOTk3LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzQ0MTA1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIxMy44NDcsDQogICAgICAgICAgICAgICAgInkiOiAxMzYuOTc3LA0KICAgICAgICAgICAgICAgICJ6IjogMzYyLjc2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkZsYXRiZWRUcmFpbGVyXzAxX0EyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbnRhaW5lclN0YW5kYXJkXzAxXzEyODAiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzUyMzcsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNzU2NzMsDQogICAgICAgICAgICAgICAgInoiOiAwLjY1ODY5OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDI2MDUwNSwNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5NDk0LA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMTgyNzI2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNjU4MjI2LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMzA5MDcxLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzUyMTg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTIxOC44NTMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguODAzLA0KICAgICAgICAgICAgICAgICJ6IjogMzU4LjkzMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb250YWluZXJTdGFuZGFyZF8wMV8xMjgxIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEaXJ0UmlkZ2VfMDEiLA0KICAgICAgICAgICAgInR5cGUiOiAiRGlydFJpZGdlXzAxIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMzNjQwOSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDI3MzkwNiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMTE4NDI5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wNTA3NDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjYyNTM2NCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAwMDQ4NzE4NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjI1OTAxNCwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDIwNDQxMSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjc0MDQ4Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjMuOTgzLA0KICAgICAgICAgICAgICAgICJ5IjogMTM4Ljc1LA0KICAgICAgICAgICAgICAgICJ6IjogMzI1Ljg5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJEaXJ0UmlkZ2VfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkRpcnRSaWRnZV8wNCIsDQogICAgICAgICAgICAidHlwZSI6ICJEaXJ0UmlkZ2VfMDIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wNjc4OTc0LA0KICAgICAgICAgICAgICAgICJ5IjogMC4xMDQ4ODcsDQogICAgICAgICAgICAgICAgInoiOiAwLjk5MjE2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDAxMDk1OTcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5NDQ1LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMTA1MjAzDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuOTk3NjkyLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMDgyMzA0MiwNCiAgICAgICAgICAgICAgICAieiI6IDAuMDY3NDA1Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNTcuNjcxLA0KICAgICAgICAgICAgICAgICJ5IjogMTQwLjMyMSwNCiAgICAgICAgICAgICAgICAieiI6IDM1OC4zMjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRGlydFJpZGdlXzA0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTc4MjY0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDA3NzIxNjEsDQogICAgICAgICAgICAgICAgInoiOiAtMC4yMDcyMjINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMS4xODEwN2UtMTAsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5OTMwNywNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzNzIzNjcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjIwNzM2NSwNCiAgICAgICAgICAgICAgICAieSI6IDAuMDM2NDI3MywNCiAgICAgICAgICAgICAgICAieiI6IDAuOTc3NTg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM1Ni40MzksDQogICAgICAgICAgICAgICAgInkiOiAxNDIuMDgxLA0KICAgICAgICAgICAgICAgICJ6IjogMzg1LjMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzAyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDMiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuOTYyNDI5LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDUzODc1MSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjI2NjEzNg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDQ1NjAzMywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk4MjY4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDM3MTY4Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMjY3Njc3LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wMjM2MzUxLA0KICAgICAgICAgICAgICAgICJ6IjogMC45NjMyMTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzU2Ljg3LA0KICAgICAgICAgICAgICAgICJ5IjogMTM5LjY1NSwNCiAgICAgICAgICAgICAgICAieiI6IDM0MC41MDkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzAzIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDZW1lbnRSdWJibGVfMDQiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2VtZW50UnViYmxlXzAyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjgyOTE5NywNCiAgICAgICAgICAgICAgICAieSI6IDAuNDU3MDEzLA0KICAgICAgICAgICAgICAgICJ6IjogMC4zMjE4MjUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjQ2ODk5NCwNCiAgICAgICAgICAgICAgICAieSI6IDAuODgyMDkzLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuMDQ0MjQ1OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjMwNDEsDQogICAgICAgICAgICAgICAgInkiOiAwLjExNDI0NSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjk0NTc2NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjEuODI0LA0KICAgICAgICAgICAgICAgICJ5IjogMTQwLjk2MiwNCiAgICAgICAgICAgICAgICAieiI6IDM1OC44NzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2VtZW50UnViYmxlXzA0Ig0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJHRXhjYXZhdG9yXzAxIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkdFeGNhdmF0b3JfMDEiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzEyNDQ0LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDExODUwOCwNCiAgICAgICAgICAgICAgICAieiI6IDAuNzAxNjI4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMC4wMzE5ODY3LA0KICAgICAgICAgICAgICAgICJ5IjogMC45OTgyNywNCiAgICAgICAgICAgICAgICAieiI6IDAuMDQ5MzQxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzAwOTk5LA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNTc1OTU1LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzEwODMyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTE4Mi42ODcsDQogICAgICAgICAgICAgICAgInkiOiAxMzUuMzEsDQogICAgICAgICAgICAgICAgInoiOiAzOTIuNzIyDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkdFeGNhdmF0b3JfMDEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkdFeGNhdmF0b3JfMDIiLA0KICAgICAgICAgICAgInR5cGUiOiAiR0V4Y2F2YXRvcl8wMSIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43Njg4MTksDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC42Mzk0NjYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC42Mzk0NjYsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNzY4ODE5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI0Ni4xNDMsDQogICAgICAgICAgICAgICAgInkiOiAxMzguMjk1LA0KICAgICAgICAgICAgICAgICJ6IjogMzI3LjA0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJHRXhjYXZhdG9yXzAyIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDb21iYXRWZWhpY2xlQ29udGFpbmVyXzAyX1dhbGtlclNlbmV4Q29udGFpbmVyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDczNzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDY4MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDY4MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDczNzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTE2Ljk4NiwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC43NTIsDQogICAgICAgICAgICAgICAgInoiOiAxMDQuNTkxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIyIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDczNzgsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDY4MzUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MDY4MzUsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMC43MDczNzgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTA0Ljc1OCwNCiAgICAgICAgICAgICAgICAieSI6IDEzOC40MywNCiAgICAgICAgICAgICAgICAieiI6IDExNS41OTYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXI1IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC43MDY5NzIsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMzAyNDMsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNjU5NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDIwMzgwNywNCiAgICAgICAgICAgICAgICAieSI6IDAuOTk5NTQyLA0KICAgICAgICAgICAgICAgICJ6IjogMC4wMjIzODk4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuNzA2OTQ4LA0KICAgICAgICAgICAgICAgICJ5IjogLTAuMDAxNDI4MDQsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNzI2NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDguOTI2LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjcxNSwNCiAgICAgICAgICAgICAgICAieiI6IDExMi4yODYNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjUiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXI0IiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNvbWJhdFZlaGljbGVDb250YWluZXJfMDJfV2Fsa2VyU2VuZXhDb250YWluZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC42OTAzNzcsDQogICAgICAgICAgICAgICAgInkiOiAwLjA5NjU4NzEsDQogICAgICAgICAgICAgICAgInoiOiAwLjcxNjk3Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjA3NzIxMDYsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5NTIyNCwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA1OTcyNTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC43MTkzMTgsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wMTQxMjUsDQogICAgICAgICAgICAgICAgInoiOiAwLjY5NDUzOA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDQuMjc0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjY0NiwNCiAgICAgICAgICAgICAgICAieiI6IDEyOS41OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDb21iYXRWZWhpY2xlQ29udGFpbmVyXzAyX1dhbGtlclNlbmV4Q29udGFpbmVyNCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjMiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLjcwNzM3OCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNjgzNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0wLjcwNjgzNSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwLjcwNzM3OA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMDIuMzA0LA0KICAgICAgICAgICAgICAgICJ5IjogMTM4LjQ0NCwNCiAgICAgICAgICAgICAgICAieiI6IDEyMC4xMTkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ29tYmF0VmVoaWNsZUNvbnRhaW5lcl8wMl9XYWxrZXJTZW5leENvbnRhaW5lcjMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlVINjB3cmVja2Zyb210aGVza3khIiwNCiAgICAgICAgICAgICJEaXNhYmxlUmVzcGF3biI6IHRydWUsDQogICAgICAgICAgICAiVmVoaWNsZVR5cGUiOiAiVUg2MF9QYXgiLA0KICAgICAgICAgICAgIlBfQXV0b1NwYXduRW5hYmxlZCI6IHRydWUsDQogICAgICAgICAgICAiUF9EZWZhdWx0UmVzcGF3blRpbWUiOiA5OTk5OTk5OTk5LA0KICAgICAgICAgICAgIlBfVGltZVVudGlsQWJhbmRvbiI6IDAsDQogICAgICAgICAgICAiUF9LZWVwQWxpdmVBYmFuZG9uUmFkaXVzIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZVNwYXduZXJSYWRpdXMiOiAwLA0KICAgICAgICAgICAgInR5cGUiOiAiVmVoaWNsZVNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC4xMDAyOTUsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTIyMjksDQogICAgICAgICAgICAgICAgInoiOiAwLjk5NDk0NA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDUyMDA0OCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjk5ODY0NywNCiAgICAgICAgICAgICAgICAieiI6IDYuMzYzNzFlLTA5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC45OTM1OTgsDQogICAgICAgICAgICAgICAgInkiOiAwLjA1MTc0MTgsDQogICAgICAgICAgICAgICAgInoiOiAtMC4xMDA0MzENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjE5LjQyNCwNCiAgICAgICAgICAgICAgICAieSI6IDE0MC42NjMsDQogICAgICAgICAgICAgICAgInoiOiAyMjYuNjg1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIlVINjB3cmVja2Zyb210aGVza3khIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJFdXJvQ29wdGVyd3JlY2tmcm9tdGhlc2t5ISIsDQogICAgICAgICAgICAiRGlzYWJsZVJlc3Bhd24iOiB0cnVlLA0KICAgICAgICAgICAgIlZlaGljbGVUeXBlIjogIkV1cm9jb3B0ZXIiLA0KICAgICAgICAgICAgIlBfQXV0b1NwYXduRW5hYmxlZCI6IHRydWUsDQogICAgICAgICAgICAiUF9EZWZhdWx0UmVzcGF3blRpbWUiOiA5OTk5OTk5OTk5LA0KICAgICAgICAgICAgIlBfVGltZVVudGlsQWJhbmRvbiI6IDAsDQogICAgICAgICAgICAiUF9LZWVwQWxpdmVBYmFuZG9uUmFkaXVzIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZVNwYXduZXJSYWRpdXMiOiAwLA0KICAgICAgICAgICAgInR5cGUiOiAiVmVoaWNsZVNwYXduZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMC44MzY2MzEsDQogICAgICAgICAgICAgICAgInkiOiAwLjAwNTIyMjksDQogICAgICAgICAgICAgICAgInoiOiAwLjU0Nzc0Mg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuMDMyNzA1OCwNCiAgICAgICAgICAgICAgICAieSI6IC0wLjk5ODY0NywNCiAgICAgICAgICAgICAgICAieiI6IC0wLjA0MDQzMw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuNTQ2NzksDQogICAgICAgICAgICAgICAgInkiOiAwLjA1MTc0MTgsDQogICAgICAgICAgICAgICAgInoiOiAtMC44MzU2Nw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0yMjAuNjMxLA0KICAgICAgICAgICAgICAgICJ5IjogMTQ1LjM1OCwNCiAgICAgICAgICAgICAgICAieiI6IDI4MS42NTgNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiRXVyb0NvcHRlcndyZWNrZnJvbXRoZXNreSEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkFoNjR3cmVja2Zyb210aGVza3khIiwNCiAgICAgICAgICAgICJEaXNhYmxlUmVzcGF3biI6IHRydWUsDQogICAgICAgICAgICAiVmVoaWNsZVR5cGUiOiAiQUg2NCIsDQogICAgICAgICAgICAiUF9BdXRvU3Bhd25FbmFibGVkIjogdHJ1ZSwNCiAgICAgICAgICAgICJQX0RlZmF1bHRSZXNwYXduVGltZSI6IDk5OTk5OTk5OTksDQogICAgICAgICAgICAiUF9UaW1lVW50aWxBYmFuZG9uIjogMCwNCiAgICAgICAgICAgICJQX0tlZXBBbGl2ZUFiYW5kb25SYWRpdXMiOiAwLA0KICAgICAgICAgICAgIlBfS2VlcEFsaXZlU3Bhd25lclJhZGl1cyI6IDAsDQogICAgICAgICAgICAidHlwZSI6ICJWZWhpY2xlU3Bhd25lciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMC41ODczMjgsDQogICAgICAgICAgICAgICAgInkiOiAtMC4wOTQyODU4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuODAzODM4DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTAuMTExNTcsDQogICAgICAgICAgICAgICAgInkiOiAwLjk5MzE0MSwNCiAgICAgICAgICAgICAgICAieiI6IC0wLjAzNDk3MQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAuODAxNjIyLA0KICAgICAgICAgICAgICAgICJ5IjogMC4wNjkxNDQ4LA0KICAgICAgICAgICAgICAgICJ6IjogLTAuNTkzODE5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI5OC45MzUsDQogICAgICAgICAgICAgICAgInkiOiAxNjUuMzExLA0KICAgICAgICAgICAgICAgICJ6IjogMzUxLjYzNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJBaDY0d3JlY2tmcm9tdGhlc2t5ISINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEciLA0KICAgICAgICAgICAgIk9iaklkIjogMjA2LA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEcvQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMzcuNTkxLA0KICAgICAgICAgICAgICAgICJ5IjogMTUzLjI5NiwNCiAgICAgICAgICAgICAgICAieiI6IDM1NC42MjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEciLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL0NhcEcgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMjUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTkyLjkzODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIxLjAxNzgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzY0LjIyMTg5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE3Ny44MTg3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMS4wMTc4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDM3OS4zMDk3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE0Ny41MjIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIxLjAxNzgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNDA5LjUyOTUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTYuMDY2NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNTkuMTM1MDENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTIuOTA1NywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzNDcuNDI0MDcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtOTcuNTIwNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMzQuODE5NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjAuNDE3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMS4wMTc4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDMxMi4wNTE3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEzNS4zODk5MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjEuMDE3OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMDYuNjE1MQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEciLA0KICAgICAgICAgICAgIk9iaklkIjogMzA2LA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEcvQ2FwRyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTM3LjU5MSwNCiAgICAgICAgICAgICAgICAieSI6IDE0My4yOTYsDQogICAgICAgICAgICAgICAgInoiOiAzNTQuNjIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL1NlY3RvciBHIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBHIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwNiwNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMTM3LjU5MSwNCiAgICAgICAgICAgICAgICAieSI6IDE1My4yOTYsDQogICAgICAgICAgICAgICAgInoiOiAzNTQuNjIxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBHL1dvcmxkSWNvbiBHIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgRyIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDYsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBHIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEzNy41OTEsDQogICAgICAgICAgICAgICAgInkiOiAxNjMuMjk2LA0KICAgICAgICAgICAgICAgICJ6IjogMzU0LjYyMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRy9DYXB0dXJlUG9pbnQgRyIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYiLA0KICAgICAgICAgICAgIk9iaklkIjogMjA1LA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvQ2FwRiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTU0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwRiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBGL0NhcEYgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMjUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtODkuOTA0NSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjYuMDA5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTEwMy43NDg5LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI4MS43MDQyMw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMDMuODk0MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyOTEuNDI0NzINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTQuMjcwMzksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjU4OTUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzQwLjM5MTENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjUuODgyNSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMTEuNzgyOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xOS41NDQ0LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI5NS4wNDU3Mg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xOC42ODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjU4OTUsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjgwLjg1MTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjMuODY4MSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuNTg5NSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjQuODk2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTU1LjcyNTczLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi41ODk1LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIzMy4yMzg0DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgRiIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDUsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRi9DYXBGIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTQ0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvU2VjdG9yIEYiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEYiLA0KICAgICAgICAgICAgIk9iaklkIjogNDA1LA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC01MC4zMDczLA0KICAgICAgICAgICAgICAgICJ5IjogMTU0LjYwNCwNCiAgICAgICAgICAgICAgICAieiI6IDI4Ny44NjENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEYvV29ybGRJY29uIEYiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBGIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwNSwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEYgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtNTAuMzA3MywNCiAgICAgICAgICAgICAgICAieSI6IDE2NC42MDQsDQogICAgICAgICAgICAgICAgInoiOiAyODcuODYxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBGL0NhcHR1cmVQb2ludCBGIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRSIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDQsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9DYXBFIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNTguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBFIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwRSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAyNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNDguMDAxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjUyLjY1MjQNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTMxLjg4ODksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjkuMTMzMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMjMuNjgxNjUsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzcuNDUzMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMTQuMzIwOTgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjguMDU2OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC04Mi41NTE2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM2LjUwMTMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNzUuNjMwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyOS4xODQ2MQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xMzIuNTgyOCwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE2OS4yMTk4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE1MC4yODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxODYuNTI4NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0xNjMuNDg2OSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjIuMTQ4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIwMi45NDQ5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTE3Mi43NzU3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyMi4xNDgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjExLjgwMjgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMTczLjQ1MzgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTIyLjE0OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjYuOTc5NTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIlNlY3RvciBFIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDMwNCwNCiAgICAgICAgICAgICJTZWN0b3JBcmVhIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBFL0NhcEUgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJTZWN0b3IiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNDguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9TZWN0b3IgRSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJTZWN0b3JBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJXb3JsZEljb24gRSIsDQogICAgICAgICAgICAiT2JqSWQiOiA0MDQsDQogICAgICAgICAgICAidHlwZSI6ICJXb3JsZEljb24iLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTEyMS44NzEsDQogICAgICAgICAgICAgICAgInkiOiAxNTguMjc4LA0KICAgICAgICAgICAgICAgICJ6IjogMjI0Ljc1Mw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRS9Xb3JsZEljb24gRSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgIk9iaklkIjogNjA0LA0KICAgICAgICAgICAgIkNhcHR1cmVBcmVhIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgRSBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQ2FwdHVyZVBvaW50IiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0xMjEuODcxLA0KICAgICAgICAgICAgICAgICJ5IjogMTY4LjI3OCwNCiAgICAgICAgICAgICAgICAieiI6IDIyNC43NTMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDIwMywNCiAgICAgICAgICAgICJBcmVhIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL0NhcEQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJBcmVhVHJpZ2dlciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcEQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRC9DYXBEIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDE1LA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4NC4wODIxLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI4NS44NDMyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI2OS40OTAzNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyOTMuODIyNA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yNTUuODYzODIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjk0LjIyODgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjQ1LjkxMjEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjg2LjE3MTgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjQyLjAzOSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNzkuNTE1NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0yMzQuNDMwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzcuMTI4NCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNjcuMDY3NDcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjI4LjkzNTQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjUxLjUxNzMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjMyLjI3MzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM5LjYzODcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjM5LjMzODEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjI5Ljc2MjYNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjU3LjE5MzA4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyNi43Nzg3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Mi42NzMyLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIzNS41NDgyDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI4Ni41NTIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjQ0LjU5NTcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMjkyLjIyNzEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM3LjEyODQsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjU4LjQ0OTc5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTI5Mi45NTI1LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNy4xMjg0LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDI2NC4xNTU3Ng0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEQiLA0KICAgICAgICAgICAgIk9iaklkIjogMzAzLA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEQvQ2FwRCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE0NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL1NlY3RvciBEIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBEIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwMywNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBEL1dvcmxkSWNvbiBEIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgRCIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDMsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBEIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTI2MS41NTYsDQogICAgICAgICAgICAgICAgInkiOiAxNjUuMDcxLA0KICAgICAgICAgICAgICAgICJ6IjogMjYyLjY5OQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgRC9DYXB0dXJlUG9pbnQgRCIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMiLA0KICAgICAgICAgICAgIk9iaklkIjogMjAyLA0KICAgICAgICAgICAgIkFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvQ2FwQyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkFyZWFUcmlnZ2VyIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTUxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwQyBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBDL0NhcEMgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMTUsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDAxLjcwNDEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjI0LjA2MzINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzk3LjkwNTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjM2LjY2NzgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzg2Ljc5OTEsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjQzLjk1MDINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzY3Ljc0MzI2MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNDQuOTMzOA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNTEuNjkzNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyNDAuMTA0OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDIuMjYwNywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMzAuMTEwOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zMzguNTQwMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjAuOTQ2Mw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNDAuMzczNiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMDQuNDg5NTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzQ3Ljg5NjQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTkzLjIyMTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzYyLjIyMjc4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE4MC40MTgNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzc2LjY4MjksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM2LjY4MjgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTc4LjY5NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zODcuMjc4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE4Ni4xNTA2DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM5Mi44NDExLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE5NS4yNzYzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM5Ny4xMTMyLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzNi42ODI4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIwNC44NDcyMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zOTkuODEwMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzYuNjgyOCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMTMuODc0NjYxDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgQyIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDIsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQy9DYXBDIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTQxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvU2VjdG9yIEMiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEMiLA0KICAgICAgICAgICAgIk9iaklkIjogNDAyLA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC0zNjguNTI1LA0KICAgICAgICAgICAgICAgICJ5IjogMTUxLjkyMSwNCiAgICAgICAgICAgICAgICAieiI6IDIxMy45OTQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEMvV29ybGRJY29uIEMiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBDIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwMiwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEMgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzY4LjUyNSwNCiAgICAgICAgICAgICAgICAieSI6IDE2MS45MjEsDQogICAgICAgICAgICAgICAgInoiOiAyMTMuOTk0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBDL0NhcHR1cmVQb2ludCBDIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQiIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDEsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQi9DYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTQ0NS40NDYsDQogICAgICAgICAgICAgICAgInkiOiAxNTYuODE2LA0KICAgICAgICAgICAgICAgICJ6IjogMjY4LjYxNw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQiIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvQ2FwQiBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAxNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NjguNDg3NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMDkuNzI0NQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzMuNDMzMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAyMjYuMjc3OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NzIuOTUyMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMzkuMDYzMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAzMDguMjE4Mg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00NDAuNDUxOTgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzA4LjMyNTENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDE0LjUzMzUsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMzA4Ljg5MTcNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDAzLjUyMDgsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjkyLjI3MTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDEwLjk0NDIsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTM5LjA2MzEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMjYzLjEyMDE3DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQxMC4zNzAzLA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOS4wNjMxLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIyOS45Mzk4DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTQyMi4wODE3LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEzOS4wNjMxLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDIxMC44NTk1DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJTZWN0b3IgQiIsDQogICAgICAgICAgICAiT2JqSWQiOiAzMDEsDQogICAgICAgICAgICAiU2VjdG9yQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQi9DYXBCIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiU2VjdG9yIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC00NDUuNDQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMTQ2LjgxNiwNCiAgICAgICAgICAgICAgICAieiI6IDI2OC42MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvU2VjdG9yIEIiLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiU2VjdG9yQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiV29ybGRJY29uIEIiLA0KICAgICAgICAgICAgIk9iaklkIjogNDAxLA0KICAgICAgICAgICAgInR5cGUiOiAiV29ybGRJY29uIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IC00NDUuNDQ2LA0KICAgICAgICAgICAgICAgICJ5IjogMTU2LjgxNiwNCiAgICAgICAgICAgICAgICAieiI6IDI2OC42MTcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvV29ybGRJY29uIEIiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkNhcHR1cmVQb2ludCBCIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDYwMSwNCiAgICAgICAgICAgICJDYXB0dXJlQXJlYSI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEIgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIkNhcHR1cmVQb2ludCIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtNDQ1LjQ0NiwNCiAgICAgICAgICAgICAgICAieSI6IDE2Ni44MTYsDQogICAgICAgICAgICAgICAgInoiOiAyNjguNjE3DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBCL0NhcHR1cmVQb2ludCBCIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQSIsDQogICAgICAgICAgICAiT2JqSWQiOiAyMDAsDQogICAgICAgICAgICAiQXJlYSI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQS9DYXBBIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiQXJlYVRyaWdnZXIiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4wNDQsDQogICAgICAgICAgICAgICAgInkiOiAxNTQuMjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMTE1LjM4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJBcmVhIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXBBIFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEEvQ2FwQSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAyNSwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC00MTEuMzQzMywNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE0Ni43Mjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4zNjk2MjMsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNzEuNTAxOQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNzEuMzE4NSwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDE2MC41NzAzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTM1MS45NzQ4LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDEyNS42OTgsDQogICAgICAgICAgICAgICAgICAgICJ6IjogMTQ3LjczOTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtMzQzLjcwNTksDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxNDAuMDE4NA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zMTUuNzYwMiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDExMS41NTM3Ng0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC0zNjEuNzk4MiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAxMjUuNjk4LA0KICAgICAgICAgICAgICAgICAgICAieiI6IDY0LjMyNTINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNDI3Ljg1ODQsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMTI1LjY5OCwNCiAgICAgICAgICAgICAgICAgICAgInoiOiAxMjkuOTQ4OA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiU2VjdG9yIEEiLA0KICAgICAgICAgICAgIk9iaklkIjogMzAwLA0KICAgICAgICAgICAgIlNlY3RvckFyZWEiOiAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEEvQ2FwQSBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzgyLjA0NCwNCiAgICAgICAgICAgICAgICAieSI6IDE0NC4yNTcsDQogICAgICAgICAgICAgICAgInoiOiAxMTUuMzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBBL1NlY3RvciBBIiwNCiAgICAgICAgICAgICJsaW5rZWQiOiBbDQogICAgICAgICAgICAgICAgIlNlY3RvckFyZWEiDQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIldvcmxkSWNvbiBBIiwNCiAgICAgICAgICAgICJPYmpJZCI6IDQwMCwNCiAgICAgICAgICAgICJ0eXBlIjogIldvcmxkSWNvbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMzgyLjA0NCwNCiAgICAgICAgICAgICAgICAieSI6IDE1NC4yNTcsDQogICAgICAgICAgICAgICAgInoiOiAxMTUuMzg2DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVBcmVhVHJpZ2dlciBBL1dvcmxkSWNvbiBBIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJDYXB0dXJlUG9pbnQgQSIsDQogICAgICAgICAgICAiT2JqSWQiOiA2MDAsDQogICAgICAgICAgICAiQ2FwdHVyZUFyZWEiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBBIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJDYXB0dXJlUG9pbnQiLA0KICAgICAgICAgICAgInJpZ2h0Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMSwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInVwIjogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDEsDQogICAgICAgICAgICAgICAgInoiOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImZyb250Ijogew0KICAgICAgICAgICAgICAgICJ4IjogMCwNCiAgICAgICAgICAgICAgICAieSI6IDAsDQogICAgICAgICAgICAgICAgInoiOiAxDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvc2l0aW9uIjogew0KICAgICAgICAgICAgICAgICJ4IjogLTM4Mi4wNDQsDQogICAgICAgICAgICAgICAgInkiOiAxNjQuMjU3LA0KICAgICAgICAgICAgICAgICJ6IjogMTE1LjM4Ng0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlQXJlYVRyaWdnZXIgQS9DYXB0dXJlUG9pbnQgQSIsDQogICAgICAgICAgICAibGlua2VkIjogWw0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYSINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZyIsDQogICAgICAgICAgICAiT2JqSWQiOiAxMDAwLA0KICAgICAgICAgICAgIkNhcHR1cmVQb2ludHMiOiBbDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBBL0NhcHR1cmVQb2ludCBBIiwNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEIvQ2FwdHVyZVBvaW50IEIiLA0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYVRyaWdnZXIgQy9DYXB0dXJlUG9pbnQgQyIsDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBEL0NhcHR1cmVQb2ludCBEIiwNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZUFyZWFUcmlnZ2VyIEUvQ2FwdHVyZVBvaW50IEUiLA0KICAgICAgICAgICAgICAgICJDYXB0dXJlQXJlYVRyaWdnZXIgRi9DYXB0dXJlUG9pbnQgRiIsDQogICAgICAgICAgICAgICAgIkNhcHR1cmVBcmVhVHJpZ2dlciBHL0NhcHR1cmVQb2ludCBHIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJ0eXBlIjogIlNlY3RvciIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAtMjYxLjU1NiwNCiAgICAgICAgICAgICAgICAieSI6IDE1NS4wNzEsDQogICAgICAgICAgICAgICAgInoiOiAyNjIuNjk5DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmciLA0KICAgICAgICAgICAgImxpbmtlZCI6IFsNCiAgICAgICAgICAgICAgICAiQ2FwdHVyZVBvaW50cyINCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgQSBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBBIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1teSBCIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEIgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bW15IEMgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgQyBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgRCBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBEIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJEdW1teSBFIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJpZCI6ICJDYXB0dXJlUG9pbnQgU2VjdG9yIE9yZGVyaW5nL0R1bW15IEUgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJoZWlnaHQiOiAwLA0KICAgICAgICAgICAgInBvaW50cyI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI1Ny42OTkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJuYW1lIjogIkR1bW15IEYgQ2FwdHVyZSBQb2ludCBQb2x5Z29uVm9sdW1lIiwNCiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImlkIjogIkNhcHR1cmVQb2ludCBTZWN0b3IgT3JkZXJpbmcvRHVtbXkgRiBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgImhlaWdodCI6IDAsDQogICAgICAgICAgICAicG9pbnRzIjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI2Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNjcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNTYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjU3LjY5OQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiRHVtbXkgRyBDYXB0dXJlIFBvaW50IFBvbHlnb25Wb2x1bWUiLA0KICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaWQiOiAiQ2FwdHVyZVBvaW50IFNlY3RvciBPcmRlcmluZy9EdW1teSBHIENhcHR1cmUgUG9pbnQgUG9seWdvblZvbHVtZSIsDQogICAgICAgICAgICAiaGVpZ2h0IjogMCwNCiAgICAgICAgICAgICJwb2ludHMiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjY2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJ4IjogLTUyNjYuNTU2LA0KICAgICAgICAgICAgICAgICAgICAieSI6IDM1OC40MTEsDQogICAgICAgICAgICAgICAgICAgICJ6IjogNTI2Ny42OTkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIngiOiAtNTI1Ni41NTYsDQogICAgICAgICAgICAgICAgICAgICJ5IjogMzU4LjQxMSwNCiAgICAgICAgICAgICAgICAgICAgInoiOiA1MjY3LjY5OQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAieCI6IC01MjU2LjU1NiwNCiAgICAgICAgICAgICAgICAgICAgInkiOiAzNTguNDExLA0KICAgICAgICAgICAgICAgICAgICAieiI6IDUyNTcuNjk5DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgXSwNCiAgICAiU3RhdGljIjogWw0KICAgICAgICB7DQogICAgICAgICAgICAibmFtZSI6ICJNUF9HcmFuaXRlX1RlY2hDYW1wdXNfUG9ydGFsX1RlcnJhaW4iLA0KICAgICAgICAgICAgIm1ldGFkYXRhL19lZGl0X2xvY2tfIjogdHJ1ZSwNCiAgICAgICAgICAgICJ0eXBlIjogIk1QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfVGVycmFpbiIsDQogICAgICAgICAgICAicmlnaHQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAxLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidXAiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMSwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiZnJvbnQiOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicG9zaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIngiOiAwLA0KICAgICAgICAgICAgICAgICJ5IjogMCwNCiAgICAgICAgICAgICAgICAieiI6IDANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiaWQiOiAiU3RhdGljL01QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfVGVycmFpbiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIm5hbWUiOiAiTVBfR3Jhbml0ZV9UZWNoQ2FtcHVzX1BvcnRhbF9Bc3NldHMiLA0KICAgICAgICAgICAgIm1ldGFkYXRhL19lZGl0X2xvY2tfIjogdHJ1ZSwNCiAgICAgICAgICAgICJ0eXBlIjogIk1QX0dyYW5pdGVfVGVjaENhbXB1c19Qb3J0YWxfQXNzZXRzIiwNCiAgICAgICAgICAgICJyaWdodCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDEsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ1cCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAxLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJmcm9udCI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwb3NpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAieCI6IDAsDQogICAgICAgICAgICAgICAgInkiOiAwLA0KICAgICAgICAgICAgICAgICJ6IjogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpZCI6ICJTdGF0aWMvTVBfR3Jhbml0ZV9UZWNoQ2FtcHVzX1BvcnRhbF9Bc3NldHMiDQogICAgICAgIH0NCiAgICBdDQp9","compiled":""},"attachmentType":1,"metadata":"mapIdx=0","errors":[]},{"id":"83b02297-153f-474b-b8a5-8b5731c3deb9","version":"234","filename":"Script.ts","isProcessable":true,"processingStatus":2,"attachmentData":{"original":"Ly8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlcnNpb25pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIHZlcnNpb246IDAuNTQ0IHwgRGF0ZTogMDEuMjUuMjYgfCBUaW1lOiAxNzoyMiBVVEMKLy8gbmFtZSBvZiBzY3JpcHQ6IFRXTF9UYW5rc19TYW5kYm94X0JldGFfU2NyaXB0LnRzCi8vIG5hbWUgb2YgcGFpcmVkIHN0cmluZ3MgZmlsZTogVFdMX1RhbmtzX1NhbmRib3hfQmV0YV9TdHJpbmdzLnN0cmluZ3MuanNvbgovLyBwb2xpY3k6IHRoZSBzdHJpbmcgaHVkLmJyYW5kaW5nLnRpdGxlIHNob3VsZCBkaXNwbGF5IHRoaXMgc2FtZSB2ZXJzaW9uIGF0IHRoZSBlbmQgb2YgdGhlIHRpdGxlCi8vIHBvbGljeTogaW5jcmVtZW50IG1pbm9yIHZlcnNpb24gb24gZXZlcnkgY2hhbmdlIChVVEMpCi8vIHBvbGljeTogbWFqb3IgdmVyc2lvbnMgcmVzZXJ2ZWQgZm9yIG1pbGVzdG9uZSBmZWF0dXJlIHJlbGVhc2VzIChwcmltYXJ5IGF1dGhvcnMgb25seSkKLy8gcG9saWN5OiBFT0YgdmVyc2lvbiBsaW5lIG11c3QgbWF0Y2ggdGhlIGhlYWRlciB2ZXJzaW9uIGFuZCB0aW1lc3RhbXAKCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBWZXJzaW9uaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBMaWNlbnNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBNSVQgTGljZW5zZQovLyAKLy8gQ29weXJpZ2h0IChjKSAyMDI2IHRlYW13YXJmYXJlLm5ldCwgdWJlcmR1YmVyc29sZGF0LCBwb2x5a2F0YW5hCi8vIAovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Ci8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAovLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8gCi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbAovLyBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLyAKLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQovLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFCi8vIFNPRlRXQVJFLgoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIExpY2Vuc2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEF1dGhvcnMgLyBBdHRyaWJ1dGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQXV0aG9yczogVWJlckR1YmVyU29sZGF0LCBQb2x5bm9yYmx1LCBEb3gKLy8gQ29kZSBnZW5lcmF0aW9uLCBhc3Npc3RhbmNlIGFuZCBzdXBwb3J0IGJ5OiBDaGF0R1BUIChPcGVuQUksIEdQVC01LjIsIEdQVC01LjItQ29kZXgpCi8vCi8vIFRoaXMgY29kZSBpcyBzb3VyY2VkIGNvbnRyb2xsZWQgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL1RlYW13YXJmYXJlLU5ldHdvcmsvYmY2LXBvcnRhbC90cmVlL21haW4KLy8KLy8gQkY2IFBvcnRhbCBDb21tdW5pdHkgVG9vbHMgdXNlZC9yZWZlcmVuY2VkOgovLyAgLSBQb3J0YWwgQ29tbXVuaXR5IERpc2NvcmQ6IGh0dHBzOi8vZGlzY29yZC5jb20vaW52aXRlL2JhdHRsZWZpZWxkLXBvcnRhbC1jb21tdW5pdHktODcwMjQ2MTQ3NDU1ODc3MTgxCi8vICAtIFR5cGVTY3JpcHQgUHJvamVjdCBUZW1wbGF0ZSBmb3IgQmF0dGxlZmllbGQgNiBQb3J0YWwgU2NyaXB0aW5nIGJ5IE1pa2UgRGVMdWNhOiBodHRwczovL2dpdGh1Yi5jb20vZGVsdWNhLW1pa2UvYmY2LXBvcnRhbC1zY3JpcHRpbmctdGVtcGxhdGUKLy8gICAgIC0gTXVsdGktQ2xpY2sgZGV0ZWN0b3IgYnkgTWlrZSBEZUx1Y2E6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZWx1Y2EtbWlrZS9iZjYtcG9ydGFsLXV0aWxzL3RyZWUvbWFzdGVyL2ludGVyYWN0LW11bHRpLWNsaWNrLWRldGVjdG9yCi8vICAgICAtIE1hcCBkZXRlY3RvciBieSBNaWtlIERlTHVjYTogaHR0cHM6Ly9naXRodWIuY29tL2RlbHVjYS1taWtlL2JmNi1wb3J0YWwtdXRpbHMvdHJlZS9tYXN0ZXIvbWFwLWRldGVjdG9yCi8vICAtIFRlYW0gU3dpdGNoIFVJIFRlbXBsYXRlIGJ5IFRoZU96enk6IGh0dHBzOi8vZ2l0aHViLmNvbS9UaGUwenp5L0JGNi1Qb3J0YWwtVGVhbVN3aXRjaFVJCi8vICAtIEJGNiBQb3J0YWwgQXNzaXN0YW50IGJ5IFF1b2VpemE6IGh0dHBzOi8vY2hhdGdwdC5jb20vZy9nLTY4ZjI4NTgwZWVmYzgxOTFiNGNmNDBiYmYyMzA1ZGIzLWJmNi1wb3J0YWwtYXNzaXN0YW50Ci8vICAgICAtIEdQVCBQcm9tcHQ6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1F1b2VpemEvODA4NWYxNDJhZDhhMDVlZTA0Yjc5YWRjYzRhZDhmZDcKLy8gIC0gQkY2IFVzZXIgSW50ZXJmYWNlIFRvb2wgYnVpbGRlciBieSBFYWdsZU5haXQ6IGh0dHBzOi8vdG9vbHMuYmZwb3J0YWwuZ2cvdWktYnVpbGRlci8KLy8gIC0gQ3VzdG9tIENvbnF1ZXN0IFRlbXBsYXRlIGJ5IGFuZHk2MTcwOiBodHRwczovL2JmcG9ydGFsLmdnL2V4cGVyaWVuY2VzL2N1c3RvbS1jb25xdWVzdC10ZW1wbGF0ZS8KLy8gIC0gQXNzZXQgQnJvd3NlciBieSBXaWxsVG90aDogaHR0cHM6Ly9iZjZwcm9wcy5wYWdlcy5kZXYvIC0tIGh0dHBzOi8vZ2l0aHViLmNvbS9UaGUtU2lyLUNvbW11bml0eS9wcm9wX3N0YXRzL3JlbGVhc2VzL3RhZy92MS4xLjIuMAoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEF1dGhvcnMgLyBBdHRyaWJ1dGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ2hhbmdlbG9nIC8gSGlzdG9yeSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gdjAuNTQ0OiBQbGF5dGVzdCByZWFkeSwgQWxwaGEgQ2FuZGlkYXRlIGZvciAxLjAuLi4uCi8vIHYwLjU0MzogR3VhcmQgam9pbi1wcm9tcHQgZGVsZXRlcyArIGRlZmVyIGZvcmNlZCB1bmRlcGxveSB0byBhdm9pZCBkZXBsb3kgbGlmZWN5Y2xlIGNyYXNoZXMKLy8gdjAuNTQxOiBBdm9pZCBoYXJkLWRlbGV0aW5nIG92ZXJ0aW1lIEhVRCBvbiB1bmRlcGxveTsgaGlkZSArIGRyb3AgcmVmcyBmb3Igc2FmZSByZWJ1aWxkCi8vIHYwLjUzOTogQ29kZSBjbGVhbnVwLCByZWdpb25zIGFkZGVkLCAxLjAgQWxwaGEgUmVsZWFzZSBjYW5kaWRhdGUKLy8gdjAuNTM4OiBVSSBzYWZ0ZXkgd3JhcHBlcnMsIHJlb3JnYW5pemVkIGNvZGUsIGZpeGVkIGRpc2Nvbm5lY3QgQnVncywgbWFwIGNyYXNoIGJ1Z3MgYW5kIFVJIGluY29uc2lzdGVuY2llcyB3aXRoIHRpbWluZy4gQWxwaGEgY2FuZGlkYXRlIGZvciAxLjAgcmVsZWFzZS4KLy8gdjAuNTE0OiBVSS9VWCBQb2xpc2gsIGNhcHR1cmUgYmFyIHByb2dyZXNzICUgZGlzcGxheSwgdGllLWJyZWFrZXIgdGlwIGFkZGVkCi8vIHYwLjQ3NzogUGxheXRlc3RpbmcgdmVyc2lvbiwgYWxwaGEgY2FuZGlkYXRlIGZvciAxLjAgcmVsZWFzZQovLyB2MC40Njg6IEFkZGVkIEFkbWluIGZ1bmN0aW9uIGZvciBvdmVycmlkaW5nIHJhbmRvbSB0aWUtYnJlYWtlciBmbGFnIGZvciB0ZXN0aW5nCi8vIHYwLjQ0MzogUG9saXNoZWQgVGllLUJyZWFrZXIgVUksIGNhcHR1cmUgem9uZSByYXRlcywgbWVzc2FnaW5nIGFuZCBVWCBvZiBjYXB0dXJpbmcKLy8gdjAuNDU3OiBIYWxmLXRpbWUgZmxhZyB2aXNpYmlsaXR5ICsgY2FwdHVyZSB0dW5pbmcKLy8gdjAuMzk1OiBBZGQgb3ZlcnRpbWUgZmxhZyBjYXB0dXJlIHRpZWJyZWFrZXIgKHJhbmRvbWl6ZWQgY2FwdHVyZSBwb2ludCArIFVJICsgY2FwdHVyZSBsb2dpYykKLy8gdjAuMzU5OiBSZXF1aXJlIHRyaXBsZS10YXAgdG8gdW5sb2NrIGpvaW4gcHJvbXB0IHRpcHMKLy8gdjAuMzU4OiBBZGQgam9pbiBwcm9tcHQgdGlwcyBzZXF1ZW5jZSB3aXRoIHVubG9jayBnYXRpbmcgYW5kIHBlci1wbGF5ZXIgc3RhdGUKLy8gdjAuMzU3OiBIaWRlIGhlbHAvcmVhZHkgdGV4dCB3aGlsZSB1bmRlcGxveWVkIHRvIGF2b2lkIHJlc3Bhd24gb3ZlcmxheSAmIGZpeGVkIGlzc3VlcyBzbWFsbGVyIGFzcGVjdCByYXRpb3Mgb3Igd2llcmQgcmVzb2x1dGlvbnMgZHVlIHRvIGRpYWxvZyBvdmVybGFwCi8vIHYwLjM0NjogQWRkZWQgTUlUIExpY2VuY2UgYW5kIGVuc3VyZWQgc3Bhd24tZGlzYWJsZWQgd2FybmluZyBpcyBzaG93biB3aGlsZSB1bmRlcGxveWVkIGR1cmluZyBsaXZlIHJvdW5kcyBmb3IgY29udGV4dAovLyB2MC4zNDA6IFR3ZWFrIEhVRCBjb3VudGVyIHNpemVzLCBhZGQgdmljdG9yeSBjcm93biArIGR5bmFtaWMgcm9zdGVyIGhlaWdodCArIGRlYnVnIHJvc3RlciBwbGFjZWhvbGRlcnMKLy8gdjAuMzM3OiBBZGRlZCByb3VuZC13aW4gY3Jvd24gYW5kIHRyZW5kaW5nIHdpbm5lciBjcm93biBpY29ucyBpbnNpZGUgdG9wIEhVRCBwYW5lbHMKLy8gdjAuMzMzOiBBZGRlZCByb3N0ZXJzIHRvIHRoZSBib3R0b20gb2YgdGhlIG1hcCB2aWN0b3J5IGRpYWxvZyBmb3IgaW1wcm92ZWQgVVggLyBTY3JlZW5zaG90IGF1ZGl0aW5nCi8vIHYwLjMzMDogQ2xlYW5lZCB1cCB0b3AgSFVELCBtYWRlIHJvdW5kIHNjb3JlcyBtb3JlIG9idmlvdXMsIHJlZmFjdG9yZWQgc29tZSBsb2dpYyBhcm91bmQgcmVhZHkgc3RhdHVzIGRpc3BsYXlzCi8vIHYwLjMyMjogQ2xlYW5lZCB1cCBVSSBzcGFjaW5ncywgY29sb3JzLCBjb25zdGFudHMsIHBvc2l0aW9ucyBhbmQgb3BhY2l0eSAtIG1vc3QgdGhpbmdzIGNvbnRyb2xsZWQgdmlhIGNvbnN0YW50cyBub3cKLy8gdjAuMjcxOiBBZGRlZCBmaXJzdC1qb2luIGhlbHAgcHJvbXB0IG92ZXJsYXksIGNvbnRyb2xsZWQgd2l0aCBTSE9XX0hFTFBfVEVYVF9QUk9NUFRfT05fSk9JTgovLyB2MC4yNjk6IERpc2FibGUgcmVzcGF3biBkdXJpbmcgbGl2ZSByb3VuZHMgd2l0aCBESVNBQkxFX1JFU1BBV05fRFVSSU5HX0xJVkVfUk9VTkQKLy8gdjAuMjY2OiBJbmNyZWFzZWQgdHJpcGxlIHRhcCB3aW5kb3cgdG8gMnMsIGluc3RlYWQgb2YgMXMuIENsYXJpZmllZCBzdHJpbmcgdG8gbWVudGlvbiAic3RhbmRpbmcgc3RpbGwiIHdoaWxlIHRyaXBsZSB0YXBwaW5nLgovLyB2MC4yNjM6IEZpeCBmb3IgcmVhZHkgdXAgcm9zdGVyIHJlZnJlc2hpbmcgd2hlbiBuZXcgcGxheWVyIGpvaW5zIG9yIG9sZCBwbGF5ZXIgZGlzY29ubmVjdHMKLy8gdjAuMjYyOiBSZWZhY3RvcmVkIHJvdW5kIGVuZCBwcm9jZXNzLiBEZXN0cm95IGFsbCB0YW5rcywgZm9yY2UgdW5kZXBsb3kgYWxsIHBsYXllcnMsIHJlc3Bhd24gYWxsIHRhbmtzLCB3YWl0LCBmb3JjZSByZWRlcGxveSBwbGF5ZXJzLCBrZWVwIFJvdW5kIEVuZCBkaWFsb2cgdXAgbG9uZ2VyCi8vIHYwLjI1OTogUmVsZWFzZSB2ZXJzaW9uIGZvciBMYWRkZXIgd2l0aCA4IG1hcHMKLy8gdjAuMjU4OiBBZGRlZCBNYXBDb25maWcgc2V0dGluZ3MgZm9yIEFyZWEgMjJCCi8vIHYwLjI1NzogRml4ZWQgcmFjZSBjb25kaXRpb24gb24gZmlyc3QgdGFuayBzcGF3bmVkIC0gbmVlZCB0byBjbGVhciBpdCBhbmQgc3Bhd24gY29ycmVjdCB2ZWhpY2xlIHRvIGF2b2lkIGRlZmF1bHQgQWJyYW1zIHNwYXduCi8vIHYwLjI0NzogQWRkZWQgdGVhbSBuYW1lcyB0byBNYXBDb25maWcsIGZpeGVkIGJhY2tlbmQgSlMgRXJyb3JzIG9uIHBsYXllciBiZWluZyBkZXBsb3llZCBvciBub3QgKGVtcHR5IHN0cmluZyBhcmdzIHt9IHZzIHswfSkKLy8gdjAuMjQwOiBGaXhlZCBzcGF3bmVyIGxvZ2ljIHJlZ3Jlc3Npb25zIChzcGF3biBibG9jayBhbmQgZmFpbGVkIHRvIHNwYXduIHdpdGggcmFwaWQgbW9kZSBpbmNyZWFzZSkKLy8gdjAuMjM4OiBTdWJtaXR0ZWQgZm9yIENvZGUgUmV2aWV3IGJ5IERveCAmIFBvbHkKLy8gdjAuMjMzOiBDb2RlIGNsZWFudXAsIHJlb3JnYW5pemF0aW9uIGFuZCBjb21tZW50IGNsYXJpdHksIHByZXBwaW5nIGZvciAxLjAgUmVsZWFzZSB2ZXJzaW9uCi8vIHYwLjIyODogQWRkZWQgZHluYW1pYyBiaW5kaW5nIHRvIG1vZGVzOiAxdjEgb25seSBzcGF3bnMgMSB0YW5rLCA0djQgc3Bhd25zIDQgdGFua3MuIENvbmZpZ3VyYWJsZSB3aGVuIHJvdW5kIGlzIG5vdCBsaXZlLgovLyB2MC4yMjQ6IEFkZGVkIE1hcCBEZXRlY3RvciBsb2dpYyB0byBhdXRvLWRldGVjdCB3aGljaCBNYXBDb25maWcgYW5kIHNwYXduZXJzIHRvIHVzZSwgdGhlbiBkaXNwbGF5IHRoZSBNYXAgbmFtZSBvbiB0aGUgUmVhZHkgVXAgc2NyZWVuCi8vIHYwLjIxODogRmlyc3QgcGFzcyBvbiBTcGF3biBwb2ludHMgZm9yIGFsbCA3IG1hcHMgaW4gTGFkZGVyIHJvdGF0aW9uLCB1c2luZyBBZG1pbiBEZWJ1ZyBQb3NpdGlvbiB0b29sCi8vIHYwLjIxNzogQWRkZWQgQWRtaW4gRGVidWcgUG9zaXRpb24gYnV0dG9uIHRvIGRpc3BsYXkgWC9ZL1ogY29vcmRpbmF0ZXMgYW5kIFkgcm90YXRpb24gb2YgcGxheWVyCi8vIHYwLjIwNTogQWRkZWQgc3Bhd24gY2FtcCBzY29yaW5nIHByb3RlY3Rpb24gaWYgYSBsZWZ0b3ZlciB2ZWhpY2xlIHJlbWFpbnMgaW4gbWFpbiBiYXNlIGR1cmluZyByb3VuZCBzZXR1cAovLyB2MC4xOTc6IEFkanVzdGVkIHNvbWUgSFVEL1VJIHBvc2l0aW9ucywgYWRkZWQgbmV3IGxhYmVscyBhbmQgYWRkZWQgIjF2MSIgdXAgdG8gIjR2NCIgbWF0Y2h1cCBjb25maWd1cmF0aW9uIGJ1dHRvbnMgdG8gUmVhZHkgc2NyZWVuCi8vIHYwLjE4MjogRnVuY3Rpb25hbCB2ZXJzaW9uIG9mIEJhZGxhbmRzIHdvcmtpbmcgd2l0aCByZXNwYXduIGxvZ2ljLCBvcmllbnRhdGlvbiBhbmQgdmVoaWNsZSBhc3NpZ25tZW50cyB3b3JraW5nCi8vIHYwLjE3NzogQ3VzdG9tIHJlc3Bhd24gbG9naWMgaW1wbGVtZW50ZWQgd2l0aCB1bmlxdWUgZGF0YSBzdHJ1Y3R1cmVzIHBlciBtYXA7IGN1c3RvbSB2ZWhpY2xlIGFuZCBIUSBzcGF3biBwb2ludHMgbmVlZGVkIHBlciBtYXAgCi8vIHYwLjE1MjogRm9yY2luZyBzdXBwbHkgYm94ZXMgb24gZXZlcnkgc3Bhd24sIHRvIGVuc3VyZSBubyBvdGhlciBnYWRnZXQgbG9vcGhvbGUKLy8gdjAuMTUxOiBGaW5hbGl6ZWQgc3RyaW5nLmpzb24gaW50byBuZXcgZm9ybWF0IHdpdGggdXBkYXRlZCBzdHJpbmdzIHBvbGljeQovLyB2MC4xNDg6IEFkZGVkIENoYW5nZWxvZyAvIEhpc3Rvcnkgc2VjdGlvbiB0byBzY3JpcHQgaGVhZGVyIGFuZCBmaW5hbGl6ZWQgZW51bS9pbnRlcmZhY2UgcmVmYWN0b3IgYnVncwovLyB2MC4xMzQ6IExhc3Qgd29ya2luZyB2ZXJzaW9uIGJlZm9yZSBlbnVtL2ludGVyZmFjZSByZWZhY3RvciAoc2VlIGFyY2hpdmVcZW51bV9pbnRlcmZhY2VfaW1wbGVtZW50YXRpb25fcGxhbi5tZCkKLy8gdjAuMTI5OiBSZWxlYXNlIHZlcnNpb24gZm9yIExhZGRlciB3aXRoIDcgbWFwcwovLyB2MC4wNTk6IExhc3QgdmVyc2lvbiBiZWZvcmUgc3dpdGNoaW5nIHByaW1hcmx5IGZyb20gR1BULTUuMiB3ZWIgY2xpZW50IHRvIEdQVC01LjItQ29kZXggaW4gVlMgQ29kZQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIENoYW5nZWxvZyAvIEhpc3RvcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEdhbWVtb2RlIERlc2NyaXB0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBUaGlzIHNjcmlwdCBpbXBsZW1lbnRzOgovLyAgIC0gVmVoaWNsZSBzY29yaW5nICsgcm91bmQvbWF0Y2ggZmxvdyAoc3RhcnQvZW5kLCB0aW1lcnMsIHZpY3RvcnkgZGlhbG9nKQovLyAgIC0gTWFpbi1iYXNlIGVudGVyL2V4aXQgdHJhY2tpbmcgKGFtbW8gcmVzdG9jayArIGJhc2Ugc3RhdGUpCi8vICAgLSBUcmlwbGUtdGFwICJSZWFkeSBVcCIgZGlhbG9nIChyb3N0ZXIsIHJlYWR5IHN0YXRlcywgYmFzZSBnYXRpbmcsIGF1dG8tc3RhcnQpCi8vICAgLSBUZWFtIHN3aXRjaGluZyB2aWEgYSBzaW5nbGUgIlN3YXAgVGVhbXMiIGJ1dHRvbiAoZm9yY2VzIHVuZGVwbG95KQovLyAgIC0gT3ZlcnRpbWUgdGllLWJyZWFrZXIgb2JqZWN0aXZlIGNhcHR1cmUgKHJhbmRvbWl6ZWQgZmxhZywgc3RhZ2VkIHZpc2liaWxpdHkvYWN0aXZhdGlvbiwgY2FwdHVyZSBIVUQgKyByZXNvbHV0aW9uKQovLwovLyBUaGlzIGV4cGVyaWVuY2UgaXMgYSByb3VuZC1iYXNlZCwgdmVoaWNsZS1vbmx5IHNjb3JpbmcgbW9kZToKLy8gLSBWZWhpY2xlcyBiZWNvbWUgInJlZ2lzdGVyZWQiIHRvIGEgdGVhbSB3aGVuIHRoZXkgc3Bhd24gYW5kL29yIHRoZSBmaXJzdCB0aW1lIGEgcGxheWVyIGVudGVycyB0aGVtLgovLyAtIFdoZW4gYSByZWdpc3RlcmVkIHZlaGljbGUgaXMgZGVzdHJveWVkIGR1cmluZyBhIExJVkUgcm91bmQsIHRoZSBvcHBvc2luZyB0ZWFtIGVhcm5zICsxIFJvdW5kIEtpbGwuCi8vIC0gQSByb3VuZCBlbmRzIHdoZW4gYSB0ZWFtIHJlYWNoZXMgdGhlIFJvdW5kIEtpbGwgdGFyZ2V0IChlLmcuIDIga2lsbHMgZm9yIDJ2Mikgb3IgdGhlIHJvdW5kIGNsb2NrIGV4cGlyZXMuCi8vIC0gVGllLWJyZWFrZXIgb2JqZWN0aXZlOiBhIHJhbmRvbSBmbGFnIGJlY29tZXMgdmlzaWJsZSBhdCBoYWxmLXRpbWUgKGJhc2VkIG9uIHJvdW5kIGxlbmd0aCkgYnV0IHJlbWFpbnMgbG9ja2VkLgovLyAtIFRoZSBvYmplY3RpdmUgdW5sb2NrcyBhdCAxOjAwIHJlbWFpbmluZzsgY2FwdHVyZSBpcyB2ZWhpY2xlLW9ubHkgYW5kIHByb2dyZXNzIGlzIHNjcmlwdC1kcml2ZW4uCi8vIC0gQ2FwdHVyZSBzcGVlZCBzY2FsZXMgd2l0aCAyLzMvNCB2ZWhpY2xlIG1ham9yaXRpZXMsIGFuZCBuZXV0cmFsIHJlc2V0L3B1c2hiYWNrIGFjY2VsZXJhdGVzIHVudGlsIG5ldXRyYWwgKDAuNSkuCi8vIC0gQXQgY2xvY2sgZXhwaXJ5LCBvYmplY3RpdmUgcHJvZ3Jlc3MgZGVjaWRlcyB0aGUgd2lubmVyOyBleGFjdCBuZXV0cmFsICgwLjUpIGZhbGxzIGJhY2sgdG8gcm91bmQga2lsbHMuCi8vIC0gRW50ZXJpbmcvRXhpdGluZyBtYWluLWJhc2UgcHJvdmlkZXMgYSBnYWRnZXQgYW1tbyByZXN0b2NrIHNvIHBsYXllcnMgY2FuIHJlYXJtL3Jlc3VwcGx5IGlmIG5lZWRlZCBtaWQgbWF0Y2ggb3IgcG9zdCBtYXRjaAovLyAtIE1hdGNoIHJlY29yZCAod2lucy9sb3NzZXMvdGllcykgaXMgdHJhY2tlZCBhY3Jvc3Mgcm91bmRzOyBIVUQgaXMgYSBwcm9qZWN0aW9uIG9mIHRoYXQgYXV0aG9yaXRhdGl2ZSBzdGF0ZS4KLy8gLSBSb3VuZCBlbmQgYW5kIFZpY3RvcnkgZW5kIGRpYWxvZ3MgY29tbXVuaWNhdGUgcmVzdWx0cyBpbiB0aW1lZCB3aW5kb3dzIGZvciBjbGFyaXR5Ci8vCi8vIEdsb3NzYXJ5ICh0ZXJtcyk6Ci8vIC0gIlJvdW5kIEtpbGxzIjogcG9pbnRzIGVhcm5lZCB0aGlzIHJvdW5kICh2ZWhpY2xlLWRlc3RydWN0aW9uIHBvaW50cykuCi8vIC0gIlRvdGFsIEtpbGxzIjogbGlmZXRpbWUgbWF0Y2ggdG90YWwgKGlmIHVzZWQvc2hvd24pOyBub3QgcmVxdWlyZWQgZm9yIHdpbiBjb25kaXRpb24uCi8vIC0gIlJlZ2lzdGVyZWQgdmVoaWNsZSI6IGEgdmVoaWNsZSBjdXJyZW50bHkgc3RvcmVkIGluIHRoZSB0ZWFtJ3MgcmVnaXN0ZXJlZCBsaXN0IChHbG9iYWxWYXJpYWJsZXMgMC8xKS4KLy8gLSAiTGFzdCBkcml2ZXIiOiBiZXN0LWVmZm9ydCBvd25lciB1c2VkIGZvciBtZXNzYWdpbmcgb25seTsgbm90IGF1dGhvcml0YXRpdmUgZm9yIHNjb3JpbmcuCi8vIC0gIkhVRCI6IGFsd2F5cy1vbiBwZXItcGxheWVyIG92ZXJsYXkgKGNhY2hlZCBieSBwaWQpLgovLyAtICJEaWFsb2ciOiBtb2RhbCBVSSB0aGF0IGVuYWJsZXMgVUkgaW5wdXQgbW9kZSAoVGVhbSBTd2l0Y2ggLyBWaWN0b3J5KS4KLy8gLSAiT3ZlcnRpbWUgb2JqZWN0aXZlIjogdGhlIHRpZS1icmVha2VyIGZsYWcgc2VsZWN0ZWQgZnJvbSB0aGUgbWFwJ3MgQS1HIHNldC4KLy8gLSAiT3ZlcnRpbWUgc3RhZ2UiOiBOb25lIC0+IFZpc2libGUgKGxvY2tlZCkgLT4gQWN0aXZlIChjYXB0dXJhYmxlKS4KLy8gLSAiT3ZlcnRpbWUgcHJvZ3Jlc3MiOiAwLjUgaXMgbmV1dHJhbDsgPjAuNSBmYXZvcnMgVGVhbSAxLCA8MC41IGZhdm9ycyBUZWFtIDIuCi8vIC0gIlZlaGljbGUgbWFqb3JpdHkiOiB1bmlxdWUgdmVoaWNsZXMgaW4gdGhlIHpvbmUgdXNlZCBmb3IgY2FwdHVyZSBtdWx0aXBsaWVycy4KLy8KLy8gR2xvc3NhcnkgKHNjcmlwdCBzZW1hbnRpY3MpCi8vIC0gVDEgLyBUMjogVGhlIHR3byBjb21wZXRpbmcgdGVhbXMgaW4gdGhpcyBtb2RlOyBVSSBtYXkgc3RpbGwgdXNlIExlZnQvUmlnaHQgZm9yIGxheW91dCBvbmx5LgovLyAtIE1hdGNoIHRvdGFsczogQ291bnRlcnMgdGhhdCBwZXJzaXN0IGFjcm9zcyByb3VuZHMgKGUuZy4sIHRvdGFsIGtpbGxzLCBtYXRjaCB3aW5zKS4KLy8gLSBSb3VuZCBjb3VudGVyczogQ291bnRlcnMgdGhhdCByZXNldCBvbiByb3VuZCBzdGFydCAoZS5nLiwgcm91bmQga2lsbHMsIHJvdW5kIGNsb2NrKS4KLy8gLSBBdXRob3JpdGF0aXZlIHN0YXRlOiBUaGUgc2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgbWF0Y2gtY3JpdGljYWwgY291bnRlcnM7IEhVRCBpcyBhIHByb2plY3Rpb24gb2YgdGhpcyBzdGF0ZS4KLy8gLSBPdmVydGltZSBzdGF0ZSBkZXJpdmVzIGZyb20gdGhlIHJvdW5kIGNsb2NrIChoYWxmLXRpbWUgcmV2ZWFsLCAxOjAwIHVubG9jaykgYW5kIGRyaXZlcyBIVUQgdmlzaWJpbGl0eS4KLy8KLy8gUmVjb21tZW5kYXRpb25zIG9uIHR3ZWFraW5nL2FkanVzdGluZy9jdXN0b21pemluZyB0aGlzIGV4cGVyaWVuY2UKLy8gLSBHZW5lcmFsIFVJIGxheW91dCB0aXA6IE1vc3Qgd2lkZ2V0cyBkZWZpbmUgYW4gb2Zmc2V0IHZpYSBgcG9zaXRpb246IFt4LCB5XWAuCi8vIC0gQ2hhbmdlIHRob3NlIG51bWJlcnMgdG8gbnVkZ2UgdGhhdCB3aWRnZXQgcmVsYXRpdmUgdG8gaXRzIGFuY2hvcjsgdGhlIHBlcmNlaXZlZCBkaXJlY3Rpb24gY2FuIHZhcnkgYnkgYW5jaG9yaW5nLCBzbyB2ZXJpZnkgaW4tZ2FtZSBhZnRlciBlZGl0cy4KLy8gLSBPdmVydGltZS90aWUtYnJlYWtlciB0dW5pbmcgbGl2ZXMgdW5kZXIgT1ZFUlRJTUVfKiBjb25zdGFudHMgKHRpbWluZywgY2FwdHVyZSByYXRlLCBtdWx0aXBsaWVycywgVUkgbGF5b3V0KS4KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBHYW1lbW9kZSBEZXNjcmlwdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW1wcm92ZW1lbnRzIHB1bmNobGlzdCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLyogCiAqCiAqIExpc3Qgb2YgaW1wcm92ZW1lbnRzIChmb3Igb25seSBodW1hbnMgYW5kIG5vdCBMTE1zLCBDT0RFWCBvciBHUFQgdG8gZGVzaWduIGFuZCBpbXBsZW1lbnQpOgogKiAtLS0gQ29kZSBDbGVhbnVwOiBHdXQgdW51c2VkIGZ1bmN0aW9ucyAvIGNvbW1lbnRlZCBvdXQgZnVuY3Rpb25zIGZyb20gc2NyaXB0IGZpbGUgKGRvbmU/KQogKiAtLS0gQ29kZSBDbGVhbnVwOiBBZGRyZXNzIHRoaW5ncyBsaWtlIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMgdnMgcmVmcmVzaFJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMgKG92ZXJsYXAvZHVwbGljYXRpb24/KQogKiAtLS0gQ29kZSBDbGVhbnVwOiBUaGUgVUkgcGF0dGVybnMgYXJlIGJvbmtlcnMuIFdlIGRvbnQgbmVlZCB1bmlxdWUgZnVuY3Rpb25zIGZvciBzaW5nbGUgbWVzc2FnZSBzdHJpbmdzPyBjYW4gd2Ugc2ltcGxpZnkgdGhpcyB0eXBlIG9mIHBhdHRlcm46IE5vdGlmeUFtbW9SZXN0b2NrZWQoZXZlbnRQbGF5ZXIpOwogKiAtLS0gQ29kZSBDbGVhbnVwOiBUaGVyZSBhcmUgbWFueSB2YXJpb3VzIGZ1bmN0aW9ucyB3aGljaCBnZW5lcmFsbHkgZG8gdGhlIHNhbWUgdGhpbmcsIGNhbiB3ZSBjb25zaWRlciBob3cgdG8gdW5pZnkgVUkgdXBkYXRlcy9yZWZyZXNoZXMgb3IgdXNlIFRTIHRlbXBsYXRlIFVJIGxpYnJhcnkgKG1ham9yIHJlZmFjdG9yKQogKiAtLS0gQ29kZSBDbGVhbnVwOiBFbWJyYWNlIFRTIFRlbXBsYXRlIHByb2plY3QgYW5kIGJyZWFrIG1lZ2EgZmlsZSBpbnRvIG1vZHVsYXIgZmlsZXMuLi4KICogCiAqIExpc3Qgb2YgTmljZSB0byBIYXZlcyAoZm9yIG9ubHkgaHVtYW5zIGFuZCBub3QgTExNcywgQ09ERVggb3IgR1BUIHRvIGRlc2lnbiBhbmQgaW1wbGVtZW50KToKICogLSBVSSBQb2xpc2g6IEFkZCAiUmVzcGF3biBpbiAxMHMuLi4iIG1lc3NhZ2Ugc3luY2VkIHdpdGggY2xvY2sgdG8gYXBwZWFyIGluIHBsYWNlIGF0IHRvcCBpbiB5ZWxsb3cgaW5zdGVhZCBvZiAicmVhZHkgdXAiIGRpYWxvZywgZHVyaW5nIHRoZSB3aW5kb3cgb2Ygcm91bmQgZW5kaW5nCiAqIC0gVUkgUG9saXNoOiBSZXN0YXJ0IGluIFhzIHN0aWxsIHJvbGxzIG92ZXIgb24gdG9wIG1hdGNoIGNsb2NrIAogKiAtIFNGWCBQb2xpc2g6IEFkZCBzb3VuZCBlZmZlY3RzIGZvciByZWFkeSB1cCwgcm91bmQgc3RhcnQgY291bnRkb3duLCByb3VuZCBlbmQgZGlzcGxheSwgdmljdG9yeSBkaXNwbGF5IAogKiAtIFNGWCBQb2xpc2g6IEFkZCBzb3VuZCBlZmZlY3Qgb24gdmVoaWNsZSByZWdpc3RyYXRpb24gCiAqIC0gU0ZYIFBvbGlzaDogQWRkIHNvdW5kIGVmZmVjdCBvbiB2ZWhpY2xlIGRlc3RydWN0aW9uIGZvciBzY29yaW5nIAogKiAtIFNGWCBQb2xpc2g6IEFkZCBzb3VuZCBlZmZlY3QgZm9yIGNhcHR1cmluZyBmbGFncwogKiAKICogTGlzdCBvZiBTcGF0aWFsIERhdGEgYnVncyB0byBhZGRyZXNzOgogKiAtIEdvbGYgQ291cnNlOiBwcmV2ZW50IHRhbmtzIGZyb20gZ2V0dGluZyBzdHVjayBpbiBwb25kcywgb3IgcG9vbHMKICogLSBEZWZlbnNlIE5leHVzOiBwcmV2ZW50IHRhbmtzIGZyb20gZ2V0dGluZyBzdHVjayB1bmRlciBzZW1pLXRyYWlsZXJzIChlLmcuIG5lYXIgbm9ydGggbWFpbiBiYXNlKQogKiAKICovCgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSW1wcm92ZW1lbnRzIHB1bmNobGlzdCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUG9ydGFsIE5hbWluZyBOb3RlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLyogTGlzdCBvZiBWZWhpY2xlcyBpbiBCRjYgUG9ydGFsIChmb3IgcmVmZXJlbmNlKToKCi8vIE1haW4gQmF0dGxlIFRhbmsKbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICAvLyBBYnJhbXMgLSBNMUEyIFNFUHYzIChOQVRPKQptb2QuVmVoaWNsZUxpc3QuTGVvcGFyZCAgICAgIC8vIExlb3BhcmQgLSBMZW8gQTQgKFBBWCkKCi8vIEluZmFudHJ5IEZpZ2h0aW5nIFZlaGljbGUKbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICAvLyBNMiBCcmFkbGV5IC0gTTNBMyBCcmFkbGV5IChOQVRPKQptb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIC8vIENWOTAgLSBTVFJGIDA5IEE0IChQQVgpCgovLyBBbnRpIEFpciBWZWhpY2xlCm1vZC5WZWhpY2xlTGlzdC5DaGVldGFoICAgICAgLy8gQ2hlZXRhaCAxQTIgKE5BVE8pCm1vZC5WZWhpY2xlTGlzdC5HZXBhcmQgICAgICAgLy8gR2VwYXJkIC0gR0UtMjYgUEFYIChQQVgpCgovLyBHcm91bmQgVmVoaWNsZSAodHJhbnNwb3J0IC8gbGlnaHQpCm1vZC5WZWhpY2xlTGlzdC5NYXJhdWRlciAgICAgLy8gTWFyYXVkZXIgKE5BVE8pCm1vZC5WZWhpY2xlTGlzdC5NYXJhdWRlcl9QYXggLy8gTWFyYXVkZXIgKFBBWCkKbW9kLlZlaGljbGVMaXN0LlF1YWRiaWtlICAgICAvLyBRdWFkIEJpa2UKbW9kLlZlaGljbGVMaXN0LkdvbGZDYXJ0ICAgICAvLyBHb2xmIENhcnQKCi8vIEF0dGFjayBIZWxpY29wdGVyCm1vZC5WZWhpY2xlTGlzdC5BSDY0ICAgICAgICAgLy8gQUgtNjQgQXBhY2hlIC0gTTc3RSBGYWxjaGlvbiAoTkFUTykKbW9kLlZlaGljbGVMaXN0LkV1cm9jb3B0ZXIgICAvLyBFdXJvY29wdGVyIFRpZ2VyIC0gUGFudGhlcmEgS0hUIChQYXgpCgovLyBUcmFuc3BvcnQgSGVsaWNvcHRlcgptb2QuVmVoaWNsZUxpc3QuVUg2MCAgICAgICAgIC8vIFVILTYwIEJsYWNrIEhhd2sgKE5BVE8pCm1vZC5WZWhpY2xlTGlzdC5VSDYwX1BheCAgICAgLy8gVUgtNjAgQmxhY2sgSGF3ayAoUEFYKQoKLy8gSmV0cyAtIG5lZWQgdG8gc29ydCBpbnRvIFBBWC9OQVRPIGFuZCBGaWdodGVyIC8gR3JvdW5kIEF0dGFjawptb2QuVmVoaWNsZUxpc3QuRjE2ICAgICAgICAgIC8vIEYtMTYgKE5BVE8pCm1vZC5WZWhpY2xlTGlzdC5KQVMzOSAgICAgICAgLy8gSkFTIDM5IEdyaXBlbiAoUEFYKQptb2QuVmVoaWNsZUxpc3QuRjIyICAgICAgICAgIC8vIEYtMjIgKE5BVE8pCm1vZC5WZWhpY2xlTGlzdC5TVTU3ICAgICAgICAgLy8gU1UtNTcgKFBBWCkKbW9kLlZlaGljbGVMaXN0LkZseWVyNjAgICAgICAvLyBGbHllciA2MD8KCi8vIEludGVybmFsIC8gVGVzdAptb2QuVmVoaWNsZUxpc3QuVmVjdG9yICAgICAgIC8vIFZlY3RvciAoaW50ZXJuYWwgb3IgdGVzdCkKCiovCgovKgogKiBQbGF5ZXIgRmFjaW5nIE1hcCBOYW1lcyA9IEdvZG90IE1hcCBSZWZlcmVuY2UgTmFtZXMKICogCiAqIEJsYWNrd2VsbEZpZWxkcyA9IEJhZGxhbmRzCiAqIERlZmVuc2VOZXh1cyA9IEdyYW5pdGVfVGVjaENhbXB1cwogKiBEb3dudG93biA9IEdyYW5pdGVfTWFpblN0cmVldAogKiBFYXN0d29vZCA9IEVhc3R3b29kCiAqIEVtcGlyZVN0YXRlID0gQWZ0ZXJtYXRoCiAqIEdvbGZDb3Vyc2UgPSBHcmFuaXRlX0NsdWJIb3VzZQogKiBJYmVyaWFuT2ZmZW5zaXZlID0gQmF0dGVyeQogKiBMaWJlcmF0aW9uUGVhayA9IENhcHN0b25lCiAqIE1hbmhhdHRhbkJyaWRnZSA9IER1bWJvCiAqIE1hcmluYSA9IEdyYW5pdGVfTWFyaW5hCiAqIE1pcmFrVmFsbGV5ID0gVHVuZ3N0ZW4KICogTmV3U29iZWtDaXR5ID0gT3V0c2tpcnRzCiAqIE9wZXJhdGlvbkZpcmVzdG9ybSA9IEZpcmVzdG9ybQogKiBQb3J0YWxTYW5kYm94ID0gU2FuZAogKiBTYWludHNRdWFydGVyID0gTGltZXN0b25lCiAqIFNpZWdlT2ZDYWlybyA9IEFiYmFzaWQKICovCgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUG9ydGFsIE5hbWluZyBOb3RlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gTW9kbGliIGltcG9ydCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gSWYgbm90IHVzaW5nIGJ1bmRsZWQgVFMgcHJvamVjdCB5b3UgbmVlZCB0byB1c2UgbW9kbGliIGltcG9ydAovLyBAdHMtaWdub3JlIC0gaWdub3JlcyBlcnJvciBvbiBQb3J0YWwgd2ViY2xpZW50IHdpdGggaW1wb3J0aW5nIG1vZGxpYgppbXBvcnQgKiBhcyBtb2RsaWIgZnJvbSAibW9kbGliIjsKLy8gVFMgcHJvamVjdCBjb21lcyB3aXRoIGxvY2FsIG1vZGxpYiBmdW5jdGlvbnMsIGlmIHVzaW5nIHRoYXQgdGhlbiBubyBuZWVkIHRvIGltcG9ydCBtb2RsaWIKLy8gLSBUaGVyZSBzZWVtcyB0byBiZSBhbiBlcnJvciB3aXRoIFRTIHRlbXBsYXRlJ3MgcHJvamVjdCBsb2NhbCBtb2RsaWIgRmlsdGVyZWRBcnJheSBmdW5jdGlvbiAoZHJvcHMgYWxsIHZlaGljbGVzIGluIHZlaGljbGUgYXJyYXk/ISkKCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBNb2RsaWIgaW1wb3J0IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBDb25zdGFudCwgRW51bXMgYW5kIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBDb3JlIGdhbWVwbGF5IHR1bmluZyBkZWZhdWx0cyAoc2FmZSB0byBlZGl0KS4KLy8gVW5pdHM6IHNlY29uZHMgdW5sZXNzIG90aGVyd2lzZSBub3RlZC4KY29uc3QgREVGQVVMVF9NQVhfUk9VTkRTID0gMzsgLy8gQmVzdC1vZiByb3VuZHMgZm9yIGEgZnVsbCBtYXRjaC4KY29uc3QgTUFYX1JPVU5EUyA9IERFRkFVTFRfTUFYX1JPVU5EUzsKY29uc3QgREVGQVVMVF9ST1VORF9LSUxMU19UQVJHRVQgPSAxOyAvLyAxIGZvciAxdjEsIDIgZm9yIDJ2MiwgZXRjLgpjb25zdCBST1VORF9LSUxMU19UQVJHRVQgPSBERUZBVUxUX1JPVU5EX0tJTExTX1RBUkdFVDsKY29uc3QgUk9VTkRfU1RBUlRfU0VDT05EUyA9IDUgKiA2MDsgLy8gUm91bmQgY2xvY2sgc3RhcnRpbmcgdGltZS4KY29uc3QgTUFUQ0hfRU5EX0RFTEFZX1NFQ09ORFMgPSA0NTsgLy8gVmljdG9yeSBkaWFsb2cgZHVyYXRpb24gYmVmb3JlIG1hdGNoIGVuZC4KY29uc3QgUk9VTkRfRU5EX1JFREVQTE9ZX0RFTEFZX1NFQ09ORFMgPSAxMDsgLy8gUmVkZXBsb3kgZGVsYXkgYmV0d2VlbiByb3VuZHMuCmNvbnN0IFJPVU5EX0VORF9DTEVBTlVQX1NQQVdOX1RJTUVPVVRfU0VDT05EUyA9IDYwOyAvLyBNYXggd2FpdCBmb3IgY2xlYW51cCBzcGF3bnMgYmVmb3JlIGZvcmNpbmcgZGVwbG95Lgpjb25zdCBST1VORF9FTkRfUE9TVF9ERVBMT1lfSE9MRF9TRUNPTkRTID0gMTA7IC8vIEtlZXAgcm91bmQtZW5kIGRpYWxvZyB2aXNpYmxlIGFmdGVyIGRlcGxveS4KY29uc3QgUkVBRFlfVVBfTUVTU0FHRV9DT09MRE9XTl9TRUNPTkRTID0gMi4wOyAvLyBUaHJvdHRsZSByZWFkeS11cCBicm9hZGNhc3Qgc3BhbSBwZXIgcGxheWVyLgpjb25zdCBESVNBQkxFX1JFU1BBV05fRFVSSU5HX0xJVkVfUk9VTkQgPSB0cnVlOyAvLyBMb2NrIG91dCByZXNwYXduL2RlcGxveSBjYXBhYmlsaXR5IGR1cmluZyBsaXZlIHJvdW5kcyBpZiB0cnVlLiBEZWZhdWx0cyB0byB0cnVlLgpjb25zdCBTSE9XX0hFTFBfVEVYVF9QUk9NUFRfT05fSk9JTiA9IHRydWU7IC8vIFNob3cgdGhlIGpvaW4gaGVscCBwcm9tcHQgb3ZlcmxheSBvbiBmaXJzdCBjb25uZWN0Lgpjb25zdCBST1VORF9DTE9DS19ERUZBVUxUX1NFQ09ORFMgPSBST1VORF9TVEFSVF9TRUNPTkRTOyAvLyBTb3VyY2Ugb2YgdHJ1dGggZm9yIGNsb2NrIHJlc2V0Lgpjb25zdCBHQU1FTU9ERV9UQVJHRVRfU0NPUkVfU0FGRVRZX0NBUCA9IDk5OTk7IC8vIFByZXZlbnQgZW5naW5lIGF1dG8tZW5kIGZyb20gbG93IGRlZmF1bHQgdGFyZ2V0cy4KCi8vIERlYnVnL2dhbWVwbGF5IG1lc3NhZ2UgdG9nZ2xlczoKLy8gLSAiRGVidWciIG1lc3NhZ2VzIGFyZSBkZXZlbG9wbWVudC9kaWFnbm9zdGljIFVYICh3aGl0ZSBsb2cgLyBncmVlbiBib3gpLgovLyAtICJHYW1lcGxheSIgbWVzc2FnZXMgYXJlIHBsYXllci1mYWNpbmcgcm91bmQvbW9kZSBpbmZvcm1hdGlvbi4KY29uc3QgRU5BQkxFX0dBTUVQTEFZX01FU1NBR0VTID0gdHJ1ZTsgLy8gR2FtZXBsYXktY3JpdGljYWwgbWVzc2FnaW5nIChib3RoIGNoYW5uZWxzKS4gVGhpcyBzaG91bGQgYmUgb24gYXQgYWxsIHRpbWVzCmNvbnN0IEVOQUJMRV9ERUJVR19OT1RJRklDQVRJT05fTUVTU0FHRVMgPSBmYWxzZTsgLy8gR3JlZW4gYm94IG5vdGlmaWNhdGlvbnMuIERlZmF1bHRzIHRvIGZhbHNlLgpjb25zdCBFTkFCTEVfREVCVUdfSElHSExJR0hURURfTUVTU0FHRVMgPSBmYWxzZTsgLy8gV2hpdGUgaGlnaGxpZ2h0ZWQgd29ybGQgbG9nLiBEZWZhdWx0cyB0byBmYWxzZS4KY29uc3QgRU5BQkxFX0NQX1ZJU19ERUJVRyA9IGZhbHNlOyAvLyBDUCB2aXNpYmlsaXR5IGRlYnVnIGxvZ3MgaW4gaGlnaGxpZ2h0ZWQgd29ybGQgbG9nLgpjb25zdCBTSE9XX0RFQlVHX1RJTUVMSU1JVCA9IGZhbHNlOyAvLyBTaG93IHRoZSB0b3AtcmlnaHQgdGltZSBsaW1pdCBkZWJ1ZyB0ZXh0IGZvciBtYXAgZW5kLgpjb25zdCBERUJVR19URVNUX05BTUVTX1RFQU1fMSA9IDA7IC8vIERpc3BsYXktb25seSByb3N0ZXIgcm93cyBmb3IgVGVhbSAxIChSZWFkeSBkaWFsb2cgKyBWaWN0b3J5IGRpYWxvZykuCmNvbnN0IERFQlVHX1RFU1RfTkFNRVNfVEVBTV8yID0gMDsgLy8gRGlzcGxheS1vbmx5IHJvc3RlciByb3dzIGZvciBUZWFtIDIgKFJlYWR5IGRpYWxvZyArIFZpY3RvcnkgZGlhbG9nKS4KY29uc3QgREVCVUdfVEVTVF9QTEFDRUhPTERFUl9OQU1FX0tFWSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZGVidWdQbGFjZWhvbGRlck5hbWU7CmNvbnN0IFRFQU1fUk9TVEVSX01BWF9ST1dTID0gMTY7CgovLyBPdmVydGltZSBmbGFnIGNhcHR1cmUgKHRpZWJyZWFrZXIpIHR1bmluZy4KLy8gLSBOZXV0cmFsIHByb2dyZXNzIHN0YXJ0cyBhdCAwLjUuCi8vIC0gQmFzZSBjYXB0dXJlIHRpbWUgaXMgbmV1dHJhbCAtPiBmdWxsICgwLjUgZGlzdGFuY2UpIGZvciAxIHZlaGljbGUgdW5jb250ZXN0ZWQuCmNvbnN0IE9WRVJUSU1FX1RJQ0tfU0VDT05EUyA9IDAuMjU7IC8vIFRpY2sgaW50ZXJ2YWwgZm9yIG92ZXJ0aW1lIGNhcHR1cmUgbG9vcCAoMC4yNXMgPSA0IHVwZGF0ZXMvc2VjKQpjb25zdCBPVkVSVElNRV9DQVBUVVJFX1NFQ09ORFNfVE9fRlVMTCA9IDI1Owpjb25zdCBPVkVSVElNRV9ERUNBWV9TRUNPTkRTX1RPX1RBUkdFVCA9IE9WRVJUSU1FX0NBUFRVUkVfU0VDT05EU19UT19GVUxMOyAvLyBFbXB0eS16b25lIGRyaWZ0IHRpbWUgdG93YXJkIHRhcmdldCAobmV1dHJhbC9vd25lZCkgaW4gc2Vjb25kcy4KLy8gQ2FwdHVyZSBzcGVlZCBtdWx0aXBsaWVycyBmb3IgMi8zLzQgdmVoaWNsZSBtYWpvcml0aWVzLgpjb25zdCBPVkVSVElNRV9DQVBUVVJFX01VTFRJUExJRVJfMlggPSAxLjI1Owpjb25zdCBPVkVSVElNRV9DQVBUVVJFX01VTFRJUExJRVJfM1ggPSAxLjM1Owpjb25zdCBPVkVSVElNRV9DQVBUVVJFX01VTFRJUExJRVJfNFggPSAxLjQ1Owpjb25zdCBPVkVSVElNRV9ORVVUUkFMX0FDQ0VMRVJBVElPTl9NVUxUSVBMSUVSID0gMjsgLy8gQm9vc3QgZmFjdG9yIGZvciBlbXB0eS16b25lIG5ldXRyYWwgcmVzZXQgKyBsb3NpbmctdGVhbSBwdXNoYmFjayB0byAwLjUuCmNvbnN0IE9WRVJUSU1FX1NUQUdFX05PVElDRV9TRUNPTkRTID0gMiAqIDYwICsgMzA7IC8vIDI6MzAKY29uc3QgT1ZFUlRJTUVfU1RBR0VfVklTSUJMRV9TRUNPTkRTID0gTWF0aC5mbG9vcihST1VORF9TVEFSVF9TRUNPTkRTIC8gMik7IC8vIExlZ2FjeSBkZWZhdWx0IChoYWxmIG9mIHJvdW5kIHN0YXJ0KTsgdXNlIGdldE92ZXJ0aW1lVmlzaWJsZVNlY29uZHMoKS4KY29uc3QgT1ZFUlRJTUVfU1RBR0VfQUNUSVZFX1NFQ09ORFMgPSAxICogNjA7IC8vIDE6MDAKY29uc3QgT1ZFUlRJTUVfVU5MT0NLX1JFTUlOREVSX1NFQ09ORFMgPSAzMDsgLy8gMTozMCByZW1pbmRlciB3aGlsZSBsb2NrZWQuCmNvbnN0IE9WRVJUSU1FX01FTUJFUlNISVBfUFJVTkVfSU5URVJWQUxfU0VDT05EUyA9IDEuMDsgLy8gUHJ1bmUgbWlzc2VkIEFyZWFUcmlnZ2VyIGV4aXRzLgovLyBDYXB0dXJlUG9pbnQgc3VwcHJlc3Npb24gKG1hcmtlci1vbmx5IHVzYWdlOyBwbGF5ZXJzIHNob3VsZCBuZXZlciBzZWUgcHJvZ3Jlc3MpLgpjb25zdCBPVkVSVElNRV9DQVBUVVJFX1RJTUVfRElTQUJMRV9TRUNPTkRTID0gOTk5OTk5Owpjb25zdCBPVkVSVElNRV9ORVVUUkFMSVpFX1RJTUVfRElTQUJMRV9TRUNPTkRTID0gOTk5OTk5Owpjb25zdCBPVkVSVElNRV9FTkdJTkVfQ0FQVFVSRV9NQVhfTVVMVElQTElFUiA9IDA7IC8vIEVuZ2luZSBDUCBjYXB0dXJlIG11bHRpcGxpZXIgKDAgZGlzYWJsZXMgZW5naW5lLWRyaXZlbiBjYXB0dXJlOyBzY3JpcHQgb3ducyBwcm9ncmVzcykuCmNvbnN0IE9WRVJUSU1FX0ZMQUdfSUNPTl9DT0xPUiA9IG1vZC5DcmVhdGVWZWN0b3IoMSwgMSwgMSk7CgovLyBPdmVydGltZSBIVUQgbGF5b3V0ICsgc2l6aW5nIChwbGFjZW1lbnQgbmVhciByb3VuZC1lbmQgZGlhbG9nKS4KY29uc3QgT1ZFUlRJTUVfVUlfT0ZGU0VUX1ggPSAwOwpjb25zdCBPVkVSVElNRV9VSV9PRkZTRVRfWSA9IDE1NDsKY29uc3QgT1ZFUlRJTUVfVUlfV0lEVEggPSAzNjA7CmNvbnN0IE9WRVJUSU1FX1VJX0hFSUdIVCA9IDkwOwpjb25zdCBPVkVSVElNRV9CQVJfV0lEVEggPSAyNjA7CmNvbnN0IE9WRVJUSU1FX0JBUl9IRUlHSFQgPSA2Owpjb25zdCBPVkVSVElNRV9CQVJfT0ZGU0VUX1kgPSA0MjsKY29uc3QgT1ZFUlRJTUVfQ09VTlRfVEVYVF9XSURUSCA9IDQ4Owpjb25zdCBPVkVSVElNRV9DT1VOVF9URVhUX0hFSUdIVCA9IDIwOwpjb25zdCBPVkVSVElNRV9DT1VOVF9URVhUX1NJWkUgPSAxODsKY29uc3QgT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX1dJRFRIID0gMzI7CmNvbnN0IE9WRVJUSU1FX1BFUkNFTlRfVEVYVF9IRUlHSFQgPSAxNjsKY29uc3QgT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX1NJWkUgPSBPVkVSVElNRV9DT1VOVF9URVhUX1NJWkU7CmNvbnN0IE9WRVJUSU1FX0NPVU5UX09GRlNFVF9YID0gKE9WRVJUSU1FX0JBUl9XSURUSCAvIDIpICsgMjc7CmNvbnN0IE9WRVJUSU1FX0NPVU5UX09GRlNFVF9ZID0gT1ZFUlRJTUVfQkFSX09GRlNFVF9ZIC0gODsKY29uc3QgT1ZFUlRJTUVfUEVSQ0VOVF9HQVAgPSAwOwpjb25zdCBPVkVSVElNRV9QRVJDRU5UX09GRlNFVF9OVURHRSA9IDg7CmNvbnN0IE9WRVJUSU1FX1BFUkNFTlRfVEVYVF9OVURHRSA9IDM7CmNvbnN0IE9WRVJUSU1FX1BFUkNFTlRfT0ZGU0VUX1ggPSBPVkVSVElNRV9DT1VOVF9PRkZTRVRfWAogICAgKyAoT1ZFUlRJTUVfQ09VTlRfVEVYVF9XSURUSCAvIDIpCiAgICArIE9WRVJUSU1FX1BFUkNFTlRfR0FQCiAgICArIChPVkVSVElNRV9QRVJDRU5UX1RFWFRfV0lEVEggLyAyKQogICAgKyBPVkVSVElNRV9QRVJDRU5UX09GRlNFVF9OVURHRTsKY29uc3QgT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWSA9IE9WRVJUSU1FX0NPVU5UX09GRlNFVF9ZICsgMjsKY29uc3QgT1ZFUlRJTUVfQ09VTlRfQkdfQUxQSEEgPSAwLjY7CmNvbnN0IE9WRVJUSU1FX0NPVU5UX0JPUkRFUl9BTFBIQSA9IDEuMDsKY29uc3QgT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0dST1cgPSA0Owpjb25zdCBPVkVSVElNRV9DT1VOVF9UMV9SR0I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFsxMTIgLyAyNTUsIDIzNSAvIDI1NSwgMjU1IC8gMjU1XTsKY29uc3QgT1ZFUlRJTUVfQ09VTlRfVDJfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMTMxIC8gMjU1LCA5NyAvIDI1NV07CmNvbnN0IE9WRVJUSU1FX0NPVU5UX1RFWFRfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMSwgMV07CmNvbnN0IE9WRVJUSU1FX0NPVU5UX0NST1dOX1NJWkUgPSAyNDsKY29uc3QgT1ZFUlRJTUVfUEVSQ0VOVF9DUk9XTl9PRkZTRVRfWSA9IE9WRVJUSU1FX1BFUkNFTlRfT0ZGU0VUX1kgLSAyMTsKY29uc3QgT1ZFUlRJTUVfQ09VTlRfQ1JPV05fUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMSwgMV07CmNvbnN0IE9WRVJUSU1FX0NPVU5UX0NST1dOX0FMUEhBID0gMC44Owpjb25zdCBPVkVSVElNRV9CQVJfQkdfQUxQSEEgPSAwLjY7CmNvbnN0IE9WRVJUSU1FX0JBUl9GSUxMX0FMUEhBID0gMC45Owpjb25zdCBPVkVSVElNRV9HTE9CQUxfVUlfT0ZGU0VUX1ggPSAwOwpjb25zdCBPVkVSVElNRV9HTE9CQUxfVUlfT0ZGU0VUX1kgPSAxMDA7CmNvbnN0IE9WRVJUSU1FX0dMT0JBTF9VSV9XSURUSCA9IDI2MDsKY29uc3QgT1ZFUlRJTUVfR0xPQkFMX1VJX0hFSUdIVCA9IDQ0Owpjb25zdCBPVkVSVElNRV9HTE9CQUxfQkFSX1dJRFRIID0gMjIwOwpjb25zdCBPVkVSVElNRV9HTE9CQUxfQkFSX0hFSUdIVCA9IDY7CmNvbnN0IE9WRVJUSU1FX0dMT0JBTF9CQVJfT0ZGU0VUX1kgPSAyMjsKCi8vIFRlYW0gaWRlbnRpZmllcnMgKHNjcmlwdCB1c2VzIFQxL1QyIHNlbWFudGljcykuCmVudW0gVGVhbUlEIHsKICAgIFRlYW0xID0gMSwKICAgIFRlYW0yID0gMiwKfQoKLy8gUm91bmQgcGhhc2UgZm9yIHNjb3JpbmcgKyBIVUQgc3RhdGUuCmVudW0gUm91bmRQaGFzZSB7CiAgICBOb3RSZWFkeSA9IDAsCiAgICBMaXZlID0gMSwKICAgIEdhbWVPdmVyID0gMiwKfQoKLy8gUm91bmQtZW5kIGRldGFpbCBtZXNzYWdpbmcgY2F0ZWdvcmllcyBmb3IgdGhlIHJvdW5kLWVuZCBkaWFsb2cuCmVudW0gUm91bmRFbmREZXRhaWxSZWFzb24gewogICAgTm9uZSA9IDAsCiAgICBFbGltaW5hdGlvbiA9IDEsCiAgICBPYmplY3RpdmVDYXB0dXJlZCA9IDIsCiAgICBUaW1lT3Zlck9iamVjdGl2ZVByb2dyZXNzID0gMywKICAgIFRpbWVPdmVyS2lsbHMgPSA0LAogICAgVGltZU92ZXJEcmF3RXZlbkVsaW1zID0gNSwKICAgIFRpbWVPdmVyRHJhd05vQWN0aW9uID0gNiwKfQoKLy8gT3ZlcnRpbWUgc3RhZ2UgaXMgZGVyaXZlZCBmcm9tIHJvdW5kIGNsb2NrIHRocmVzaG9sZHMuCmVudW0gT3ZlcnRpbWVTdGFnZSB7CiAgICBOb25lID0gMCwKICAgIE5vdGljZSA9IDEsCiAgICBWaXNpYmxlID0gMiwKICAgIEFjdGl2ZSA9IDMsCn0KCi8vIFZlaGljbGUgcmVnaXN0cnkgc3RvcmFnZSAoR2xvYmFsVmFyaWFibGVzKS4KLy8gS2VwdCBhdCAwLzEgdG8gbWF0Y2ggbGVnYWN5IHZlcnNpb25zIGFuZCBzaW1wbGlmeSBleHRlcm5hbCB0b29saW5nLgpjb25zdCBSRUdJU1RSWV9URUFNMV9WQVIgPSAwOwpjb25zdCBSRUdJU1RSWV9URUFNMl9WQVIgPSAxOwoKLy8gUmVnaXN0ZXJlZCB2ZWhpY2xlIGFycmF5cyBwZXJzaXN0IGFjcm9zcyByb3VuZHMgdW50aWwgZXhwbGljaXRseSBjbGVhcmVkLgovLyBUaGVzZSBsaXZlIGluIGVuZ2luZSBnbG9iYWxzIChub3QgU3RhdGUpIGFuZCBhcmUgdXNlZCBmb3Igc2NvcmluZy9yZWdpc3RyYXRpb24gY2hlY2tzLgpjb25zdCByZWdWZWhpY2xlc1RlYW0xID0gbW9kLkdsb2JhbFZhcmlhYmxlKFJFR0lTVFJZX1RFQU0xX1ZBUik7CmNvbnN0IHJlZ1ZlaGljbGVzVGVhbTIgPSBtb2QuR2xvYmFsVmFyaWFibGUoUkVHSVNUUllfVEVBTTJfVkFSKTsKCi8vIFZlaGljbGUgb3duZXJzaGlwIHRyYWNraW5nIChiZXN0LWVmZm9ydCBoZXVyaXN0aWMpOgovLyAtIHZlaElkcyBhbmQgdmVoT3duZXJzIGFyZSBwYXJhbGxlbCBhcnJheXMga2V5ZWQgYnkgdmVoaWNsZSBPYmpJZC4KLy8gLSBnZXRMYXN0RHJpdmVyIG1heSByZXR1cm4gdW5kZWZpbmVkIGlmIG5vIGVudGVyIGV2ZW50IHdhcyBvYnNlcnZlZCBmb3IgdGhlIHZlaGljbGUuCi8vIC0gRG8gbm90IHRyZWF0IHRoaXMgYXMgYXV0aG9yaXRhdGl2ZSBraWxsZXIgYXR0cmlidXRpb247IGl0IGlzIHVzZWQgb25seSBmb3IgaW5mb3JtYXRpdmUgbWVzc2FnaW5nLgpjb25zdCB2ZWhJZHM6IG51bWJlcltdID0gW107CmNvbnN0IHZlaE93bmVyczogbW9kLlBsYXllcltdID0gW107CgovLyBCYXNpYyBWZWhpY2xlIFNwYXduZXIgY29uc3RhbnRzLCBjYW4gYmUgdHVuZWQgZm9yIGJhbGFuY2UuCmNvbnN0IFZFSElDTEVfU1BBV05FUl9SRVNQQVdOX0RFTEFZX1NFQ09ORFMgPSAxNTsKY29uc3QgVkVISUNMRV9TUEFXTkVSX1RJTUVfVU5USUxfQUJBTkRPTl9TRUNPTkRTID0gMjsKY29uc3QgVkVISUNMRV9TUEFXTkVSX0tFRVBfQUxJVkVfQUJBTkRPTl9SQURJVVMgPSA1Owpjb25zdCBWRUhJQ0xFX1NQQVdORVJfS0VFUF9BTElWRV9TUEFXTkVSX1JBRElVUyA9IDI1OwoKLy8gVmVoaWNsZSBzcGF3bmVyIGJhY2tlbmQgbG9naWMuIFRoZXNlIGFyZSBxdWl0ZSBwYXJ0aWN1bGFyLCBjaGFuZ2luZyBjYW4gY2F1c2UgYnVncwpjb25zdCBWRUhJQ0xFX1NQQVdORVJfU1RBUlRfREVMQVlfU0VDT05EUyA9IDE7Ci8vIFN0YXJ0dXAgY2xlYW51cCByYWRpdXMgaXMgaW50ZW50aW9uYWxseSBsYXJnZXIgdGhhbiBiaW5kIHJhZGl1cyB0byBjYXRjaCBkZWZhdWx0IHNwYXducwovLyB0aGF0IGFwcGVhciBvZmZzZXQgZnJvbSB0aGUgY29uZmlndXJlZCBzcGF3biBwb2ludHMgKERlZmVuc2UgTmV4dXMvR29sZiBDb3Vyc2UvQmxhY2t3ZWxsIHNsb3QgMSkuCmNvbnN0IFZFSElDTEVfU1BBV05FUl9TVEFSVFVQX0NMRUFOVVBfUkFESVVTX01FVEVSUyA9IDUwLjA7CmNvbnN0IFZFSElDTEVfU1BBV05FUl9QT0xMX0lOVEVSVkFMX1NFQ09ORFMgPSAxLjA7CmNvbnN0IFZFSElDTEVfU1BBV05FUl9CSU5EX0RJU1RBTkNFX01FVEVSUyA9IDcuMDsKY29uc3QgVkVISUNMRV9TUEFXTkVSX0JJTkRfVElNRU9VVF9TRUNPTkRTID0gMi4wOwpjb25zdCBWRUhJQ0xFX0NBTVBFRF9ESVNUQU5DRV9NRVRFUlMgPSAyNS4wOyAvLyBUaGlzIHNob3VsZCBub3QgYmUgc21hbGxlciB0aGFuIFZFSElDTEVfU1BBV05FUl9LRUVQX0FMSVZFX1NQQVdORVJfUkFESVVTCgovLyBNYWluIGJhc2UgdHJpZ2dlcnMgKyBhbW1vIHJlc3RvY2sgdHVuaW5nLgovLyBUcmlnZ2VyIElEcyBtdXN0IG1hdGNoIHRoZSBtYXAncyBzcGF0aWFsIGRhdGEgb2JqZWN0IElEcy4KY29uc3QgQkFDS0dST1VORF9USU1FX0xJTUlUX1JFU0VUX1NFQ09ORFMgPSA2MCAqIDYwOyAvLyBFeHRlbmRzIGVuZ2luZSB0aW1lIGxpbWl0IG9uIHJvdW5kIHN0YXJ0Lgpjb25zdCBURUFNMV9NQUlOX0JBU0VfVFJJR0dFUl9JRCA9IDUwMTsgLy8gRG8gbm90IGNoYW5nZSB3aXRob3V0IHVwZGF0aW5nIHNwYXRpYWwgZGF0YS4KY29uc3QgVEVBTTJfTUFJTl9CQVNFX1RSSUdHRVJfSUQgPSA1MDA7IC8vIERvIG5vdCBjaGFuZ2Ugd2l0aG91dCB1cGRhdGluZyBzcGF0aWFsIGRhdGEuCmNvbnN0IFJFU1RPQ0tfTUFHX0FNTU9fRU5URVIgPSA2OTsgLy8gTWFnYXppbmVzIGdyYW50ZWQgb24gYmFzZSBlbnRyeS4KY29uc3QgUkVTVE9DS19NQUdfQU1NT19FWElUID0gMTsgLy8gTWFnYXppbmVzIGdyYW50ZWQgb24gYmFzZSBleGl0LgoKLy8gUmVhZHktdXAgYXV0by1zdGFydCBnYXRpbmc6Ci8vIFNldCB0byAxIGZvciBzb2xvIGRlYnVnLCAyIGZvciAxdjEsIDQgZm9yIDJ2MiwgZXRjLgpjb25zdCBERUZBVUxUX0FVVE9fU1RBUlRfTUlOX0FDVElWRV9QTEFZRVJTID0gMjsKY29uc3QgTUFUQ0hVUF9DSEFOR0VfQ09PTERPV05fU0VDT05EUyA9IDEuMDsKCi8vIEhVRC9VSSBwYWxldHRlIGNvbG9ycyAoZ2VuZXJhbGx5IHVzZWQgd2l0aCA3NSUgb3BhY2l0eSkuCmNvbnN0IENPTE9SX0JMVUUgPSBtb2QuQ3JlYXRlVmVjdG9yKDExMiAvIDI1NSwgMjM1IC8gMjU1LCAyNTUgLyAyNTUpOyAvLyAjNzBFQkZGCmNvbnN0IENPTE9SX0JMVUVfREFSSyA9IG1vZC5DcmVhdGVWZWN0b3IoMTkgLyAyNTUsIDQ3IC8gMjU1LCA2MyAvIDI1NSk7IC8vICMxMzJGM0YKY29uc3QgQ09MT1JfUkVEID0gbW9kLkNyZWF0ZVZlY3RvcigxLCAxMzEgLyAyNTUsIDk3IC8gMjU1KTsgLy8gI0ZGODM2MQpjb25zdCBDT0xPUl9SRURfREFSSyA9IG1vZC5DcmVhdGVWZWN0b3IoNjQgLyAyNTUsIDI0IC8gMjU1LCAxNyAvIDI1NSk7IC8vICM0MDE4MTEKY29uc3QgQ09MT1JfR1JFRU4gPSBtb2QuQ3JlYXRlVmVjdG9yKDE3MyAvIDI1NSwgMjUzIC8gMjU1LCAxMzQgLyAyNTUpOyAvLyAjQURGRDg2CmNvbnN0IENPTE9SX0dSRUVOX0RBUksgPSBtb2QuQ3JlYXRlVmVjdG9yKDcxIC8gMjU1LCAxMTQgLyAyNTUsIDU0IC8gMjU1KTsgLy8gIzQ3NzIzNgpjb25zdCBDT0xPUl9ZRUxMT1cgPSBtb2QuQ3JlYXRlVmVjdG9yKDEsIDI1MiAvIDI1NSwgMTU2IC8gMjU1KTsgLy8gI0ZGRkM5Qwpjb25zdCBDT0xPUl9ZRUxMT1dfREFSSyA9IG1vZC5DcmVhdGVWZWN0b3IoMTEzIC8gMjU1LCA5NiAvIDI1NSwgMCk7IC8vICM3MTYwMDAKY29uc3QgQ09MT1JfV0hJVEUgPSBtb2QuQ3JlYXRlVmVjdG9yKDEsIDEsIDEpOyAvLyAjRkZGRkZGCmNvbnN0IENPTE9SX1dISVRFX0xPVyA9IG1vZC5DcmVhdGVWZWN0b3IoMjEzIC8gMjU1LCAyMzUgLyAyNTUsIDI0OSAvIDI1NSk7IC8vICNENUVCRjkKY29uc3QgQ09MT1JfR1JBWSA9IG1vZC5DcmVhdGVWZWN0b3IoODQgLyAyNTUsIDk0IC8gMjU1LCA5OSAvIDI1NSk7IC8vICM1NDVFNjMKY29uc3QgQ09MT1JfR1JBWV9EQVJLID0gbW9kLkNyZWF0ZVZlY3Rvcig1NCAvIDI1NSwgNTcgLyAyNTUsIDYwIC8gMjU1KTsgLy8gIzM2MzkzQwpjb25zdCBDT0xPUl9EQVJLX0JMQUNLID0gbW9kLkNyZWF0ZVZlY3Rvcig4IC8gMjU1LCAxMSAvIDI1NSwgMTEgLyAyNTUpOyAvLyAjMDgwQjBCCgovLyBVc2VkIGZvciBNb2RlIHNlbGVjdGlvbiwgZS5nLiAxdjEgZHJpdmluZyAxIHBsYXllciBwZXIgc2lkZSB0byByZWFkeSB1cCBhbmQgMSBraWxsIHRvIHdpbiBhIHJvdW5kLgp0eXBlIE1hdGNodXBQcmVzZXQgPSB7CiAgICBsZWZ0UGxheWVyczogbnVtYmVyOwogICAgcmlnaHRQbGF5ZXJzOiBudW1iZXI7CiAgICBtaW5BY3RpdmVQbGF5ZXJzOiBudW1iZXI7CiAgICByb3VuZEtpbGxzVGFyZ2V0OiBudW1iZXI7Cn07CgovLyBNYXRjaHVwIHByZXNldHMgZHJpdmUgbWluIHBsYXllcnMgKyByb3VuZCBraWxsIHRhcmdldHM7IHNsb3QgZW5hYmxlbWVudCB1c2VzIGxlZnQvcmlnaHQgY291bnRzLgpjb25zdCBNQVRDSFVQX1BSRVNFVFM6IE1hdGNodXBQcmVzZXRbXSA9IFsKICAgIHsgbGVmdFBsYXllcnM6IDEsIHJpZ2h0UGxheWVyczogMCwgbWluQWN0aXZlUGxheWVyczogMSwgcm91bmRLaWxsc1RhcmdldDogMSB9LAogICAgeyBsZWZ0UGxheWVyczogMSwgcmlnaHRQbGF5ZXJzOiAxLCBtaW5BY3RpdmVQbGF5ZXJzOiAyLCByb3VuZEtpbGxzVGFyZ2V0OiAxIH0sCiAgICB7IGxlZnRQbGF5ZXJzOiAyLCByaWdodFBsYXllcnM6IDIsIG1pbkFjdGl2ZVBsYXllcnM6IDQsIHJvdW5kS2lsbHNUYXJnZXQ6IDIgfSwKICAgIHsgbGVmdFBsYXllcnM6IDMsIHJpZ2h0UGxheWVyczogMywgbWluQWN0aXZlUGxheWVyczogNiwgcm91bmRLaWxsc1RhcmdldDogMyB9LAogICAgeyBsZWZ0UGxheWVyczogNCwgcmlnaHRQbGF5ZXJzOiA0LCBtaW5BY3RpdmVQbGF5ZXJzOiA4LCByb3VuZEtpbGxzVGFyZ2V0OiA0IH0sCl07CgovLyBEZXJpdmUgdGhlIGluaXRpYWwgcHJlc2V0IGZyb20gdGhlIGRlZmF1bHQgbWluLXBsYXllciArIGtpbGwtdGFyZ2V0IHZhbHVlcy4KY29uc3QgREVGQVVMVF9NQVRDSFVQX1BSRVNFVF9JTkRFWCA9IGZpbmRNYXRjaHVwUHJlc2V0SW5kZXgoCiAgICBERUZBVUxUX0FVVE9fU1RBUlRfTUlOX0FDVElWRV9QTEFZRVJTLAogICAgUk9VTkRfS0lMTFNfVEFSR0VUCik7CgovLyBQcmVnYW1lIGNvdW50ZG93biB0dW5pbmcgKFJlYWR5IFVwIC0+IHJvdW5kIHN0YXJ0KS4KLy8gVW5pdHM6IHNlY29uZHMgYW5kIFVJIHNjYWxlIHVuaXRzLgpjb25zdCBQUkVHQU1FX0NPVU5URE9XTl9JTklUSUFMX0RFTEFZX1NFQ09ORFMgPSAwLjU7CmNvbnN0IFBSRUdBTUVfQ09VTlRET1dOX1NURVBfU0VDT05EUyA9IDEuMDsKY29uc3QgUFJFR0FNRV9DT1VOVERPV05fU1RBUlRfTlVNQkVSID0gMTA7CmNvbnN0IFBSRUdBTUVfQ09VTlRET1dOX1NJWkVfRElHSVRfU1RBUlQgPSA2MjA7CmNvbnN0IFBSRUdBTUVfQ09VTlRET1dOX1NJWkVfRElHSVRfRU5EID0gMzYwOwpjb25zdCBQUkVHQU1FX0NPVU5URE9XTl9TSVpFX0dPX1NUQVJUID0gNjUwOwpjb25zdCBQUkVHQU1FX0NPVU5URE9XTl9TSVpFX0dPX0VORCA9IDQyMDsKY29uc3QgUFJFR0FNRV9DT1VOVERPV05fR09fSE9MRF9TRUNPTkRTID0gMC43NTsKY29uc3QgUFJFR0FNRV9DT1VOVERPV05fQU5JTUFUSU9OX1NURVBTID0gMzA7CmNvbnN0IFBSRUdBTUVfQUxFUlRfVEVYVF9BTFBIQSA9IDAuODU7IC8vIFVJIHRleHQgYWxwaGEgKDAuLjEpLgoKLy8gVGVhbSBzd2l0Y2ggYmVoYXZpb3IgY29uZmlndXJhdGlvbiAoc2FmZSB0byB0d2VhaykuCi8vIC0gZW5hYmxlVGVhbVN3aXRjaDogbWFzdGVyIHRvZ2dsZSBmb3IgdGhlIGludGVyYWN0LWJhc2VkIHRlYW0gc3dpdGNoIGRpYWxvZy4KLy8gLSBpbnRlcmFjdFBvaW50TWluTGlmZXRpbWUvTWF4TGlmZXRpbWU6IGxpZmV0aW1lIHdpbmRvdyBiZWZvcmUgYXV0by1kZXNwYXduLgovLyAtIHZlbG9jaXR5VGhyZXNob2xkOiByZW1vdmUgaW50ZXJhY3QgcG9pbnQgd2hpbGUgcGxheWVyIGlzIG1vdmluZy4KY29uc3QgVEVBTVNXSVRDSENPTkZJRzogVGVhbVN3aXRjaENvbmZpZyA9IHsKICAgIGVuYWJsZVRlYW1Td2l0Y2g6IHRydWUsCiAgICBpbnRlcmFjdFBvaW50TWluTGlmZXRpbWU6IDEsCiAgICBpbnRlcmFjdFBvaW50TWF4TGlmZXRpbWU6IDMsCiAgICB2ZWxvY2l0eVRocmVzaG9sZDogMywKfTsKCi8vIEFkbWluIHBhbmVsIHRvZ2dsZSBkZWJvdW5jZSAoc2Vjb25kcykuIFByZXZlbnRzIGRvdWJsZS10b2dnbGUgZnJvbSBwcmVzcy9yZWxlYXNlIGV2ZW50cy4KY29uc3QgQURNSU5fUEFORUxfVE9HR0xFX0NPT0xET1dOX1NFQ09ORFMgPSAwLjI7CgovLyBDbG9jayArIEhVRCBsYXlvdXQgY29uc3RhbnRzIChwaXhlbHMgdW5sZXNzIG5vdGVkKS4KY29uc3QgVE9QX0hVRF9PRkZTRVRfWSA9IDEwOwpjb25zdCBDTE9DS19QT1NJVElPTl9YID0gMDsKY29uc3QgQ0xPQ0tfUE9TSVRJT05fWSA9IDUzICsgVE9QX0hVRF9PRkZTRVRfWTsKY29uc3QgQ0xPQ0tfV0lEVEggPSAyMjA7CmNvbnN0IENMT0NLX0hFSUdIVCA9IDQ0Owpjb25zdCBST1VORF9MSVZFX0hFTFBfT0ZGU0VUX1kgPSA2NzsKY29uc3QgUk9VTkRfQ09VTlRFUl9PRkZTRVRfWCA9IC02Owpjb25zdCBST1VORF9TTEFTSF9PRkZTRVRfWCA9IC02Owpjb25zdCBUT1BfSFVEX1JPT1RfV0lEVEggPSAxOTIwOwpjb25zdCBUT1BfSFVEX1JPT1RfSEVJR0hUID0gMjYwOwpjb25zdCBST1VORF9MSVZFX0hFTFBfV0lEVEggPSAzMDA7CmNvbnN0IFJPVU5EX0xJVkVfSEVMUF9IRUlHSFQgPSAxODsKY29uc3QgQ0xPQ0tfRk9OVF9TSVpFID0gMzI7CmNvbnN0IExPV19USU1FX1RIUkVTSE9MRF9TRUNPTkRTID0gNjA7IC8vIExvdy10aW1lIGNvbG9yIHRocmVzaG9sZCBpbiBzZWNvbmRzLgovLyBIVUQgdGV4dCBkcm9wIHNoYWRvdyBvZmZzZXQgKHBpeGVscyk6IG5lZ2F0aXZlIFggbW92ZXMgbGVmdCwgbmVnYXRpdmUgWSBtb3ZlcyB1cC4KLy8gU2hhcmVkIHNoYWRvdyBvZmZzZXRzIGZvciBzdGFja2VkIEhVRCB0ZXh0IGxheWVycy4KY29uc3QgSFVEX1RFWFRfU0hBRE9XX09GRlNFVF9YID0gLTE7CmNvbnN0IEhVRF9URVhUX1NIQURPV19PRkZTRVRfWSA9IC0xOwoKLy8gSFVEIHN0YXR1cyBjb2xvcnMgKHZlY3RvcnMgYXJlIFJHQiAwLi4xKS4KY29uc3QgQ09MT1JfTk9STUFMID0gbW9kLkNyZWF0ZVZlY3RvcigxLCAxLCAxKTsKY29uc3QgQ09MT1JfTE9XX1RJTUUgPSBtb2QuQ3JlYXRlVmVjdG9yKDEsIDEzMSAvIDI1NSwgOTcgLyAyNTUpOwpjb25zdCBDT0xPUl9SRUFEWV9HUkVFTiA9IG1vZC5DcmVhdGVWZWN0b3IoMTczIC8gMjU1LCAyNTMgLyAyNTUsIDEzNCAvIDI1NSk7IC8vICNBREZEODYKCi8vIFN0YXR1cyAvIGVtcGhhc2lzIGNvbG9ycyAodXNlIGNvbnN0YW50czsgZG8gbm90IGlubGluZSBDcmVhdGVWZWN0b3IoKSBpbiBVSSBjb2RlKS4KY29uc3QgQ09MT1JfTk9UX1JFQURZX1JFRCA9IG1vZC5DcmVhdGVWZWN0b3IoMSwgMCwgMCk7CmNvbnN0IENPTE9SX1dBUk5JTkdfWUVMTE9XID0gbW9kLkNyZWF0ZVZlY3RvcigxLCAxLCAwKTsKCi8vIEJ1dHRvbnMgbG9vayBhbmQgZmVlbCAoYmFzZSAvIHNlbGVjdGVkIC8gcHJlc3NlZCAvIGJvcmRlcikuCmNvbnN0IENPTE9SX0JVVFRPTl9CQVNFID0gQ09MT1JfR1JBWTsKY29uc3QgQlVUVE9OX09QQUNJVFlfQkFTRSA9IDAuNzU7CmNvbnN0IENPTE9SX0JVVFRPTl9TRUxFQ1RFRCA9IENPTE9SX0JMVUU7CmNvbnN0IEJVVFRPTl9PUEFDSVRZX1NFTEVDVEVEID0gMC43NTsKY29uc3QgQ09MT1JfQlVUVE9OX1BSRVNTRUQgPSBDT0xPUl9XSElURTsKY29uc3QgQlVUVE9OX09QQUNJVFlfUFJFU1NFRCA9IDAuNzU7CmNvbnN0IENPTE9SX0JVVFRPTl9CT1JERVIgPSBDT0xPUl9HUkFZOwpjb25zdCBCVVRUT05fQk9SREVSX09QQUNJVFkgPSAwLjUwOwpjb25zdCBCVVRUT05fQk9SREVSX1BBRERJTkcgPSAwOwoKLy8gUmVhZHkgRGlhbG9nCmNvbnN0IFJFQURZX0RJQUxPR19TTUFMTF9CVVRUT05fV0lEVEggPSAyNjsKY29uc3QgUkVBRFlfRElBTE9HX1NNQUxMX0JVVFRPTl9IRUlHSFQgPSAyNDsKY29uc3QgUkVBRFlfRElBTE9HX01BSU5fQlVUVE9OX1dJRFRIID0gMzAwOwpjb25zdCBSRUFEWV9ESUFMT0dfTUFJTl9CVVRUT05fSEVJR0hUID0gMTAwOwpjb25zdCBSRUFEWV9QQU5FTF9UMV9CR19DT0xPUiA9IG1vZC5DcmVhdGVWZWN0b3IoMC4xMCwgMC4yNSwgMC43MCk7CmNvbnN0IFJFQURZX1BBTkVMX1QyX0JHX0NPTE9SID0gbW9kLkNyZWF0ZVZlY3RvcigwLjcwLCAwLjE1LCAwLjE1KTsKY29uc3QgUkVBRFlfUEFORUxfQkdfQUxQSEEgPSAwLjIwOwpjb25zdCBSRUFEWV9ESUFMT0dfQlVUVE9OX1RFWFRfQ09MT1JfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMSwgMV07CmNvbnN0IFJFQURZX0RJQUxPR19MQUJFTF9URVhUX0NPTE9SID0gQ09MT1JfV0hJVEU7CmNvbnN0IFJFQURZX0RJQUxPR19CT1JERVJfQ09MT1IgPSBDT0xPUl9HUkFZOwoKLy8gQWRtaW4gUGFuZWwKY29uc3QgQURNSU5fUEFORUxfSEVJR0hUID0gNTgwOwpjb25zdCBBRE1JTl9QQU5FTF9QQURESU5HID0gNTsKY29uc3QgQURNSU5fUEFORUxfQkFTRV9YID0gLTU7CmNvbnN0IEFETUlOX1BBTkVMX0JBU0VfWSA9IDE1Owpjb25zdCBBRE1JTl9QQU5FTF9PRkZTRVRfWCA9IDEwOwpjb25zdCBBRE1JTl9QQU5FTF9PRkZTRVRfWSA9IDE1Owpjb25zdCBBRE1JTl9QQU5FTF9UT0dHTEVfT0ZGU0VUX1ggPSAxMDsKY29uc3QgQURNSU5fUEFORUxfVE9HR0xFX09GRlNFVF9ZID0gMTU7CmNvbnN0IEFETUlOX1BBTkVMX1RPR0dMRV9XSURUSCA9IDEyMDsKY29uc3QgQURNSU5fUEFORUxfVE9HR0xFX0hFSUdIVCA9IDI0Owpjb25zdCBBRE1JTl9QQU5FTF9CVVRUT05fU0laRV9YID0gNDg7CmNvbnN0IEFETUlOX1BBTkVMX0JVVFRPTl9TSVpFX1kgPSAzMDsKY29uc3QgQURNSU5fUEFORUxfTEFCRUxfU0laRV9YID0gMTMwOwpjb25zdCBBRE1JTl9QQU5FTF9DT05URU5UX1dJRFRIID0gKEFETUlOX1BBTkVMX0JVVFRPTl9TSVpFX1ggKiAyKSArIEFETUlOX1BBTkVMX0xBQkVMX1NJWkVfWCArIDE2Owpjb25zdCBBRE1JTl9QQU5FTF9ST1dfU1BBQ0lOR19ZID0gNDsKY29uc3QgQURNSU5fUEFORUxfVkFMVUVfU0laRV9YID0gNDY7CmNvbnN0IEFETUlOX1BBTkVMX1RJRUJSRUFLRVJfTEFCRUxfSEVJR0hUID0gMTY7CmNvbnN0IEFETUlOX1BBTkVMX1RJRUJSRUFLRVJfQlVUVE9OX1NJWkUgPSAyNjsKY29uc3QgQURNSU5fUEFORUxfVElFQlJFQUtFUl9CVVRUT05fU1BBQ0lORyA9IDQ7CmNvbnN0IEFETUlOX1BBTkVMX0JHX0NPTE9SID0gQ09MT1JfREFSS19CTEFDSzsKY29uc3QgQURNSU5fUEFORUxfQkdfQUxQSEEgPSAxLjA7CmNvbnN0IEFETUlOX1BBTkVMX0JHX0ZJTEwgPSBtb2QuVUlCZ0ZpbGwuQmx1cjsKY29uc3QgQURNSU5fUEFORUxfTEFCRUxfVEVYVF9DT0xPUl9SR0I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFsxLCAxLCAxXTsKY29uc3QgQURNSU5fUEFORUxfQlVUVE9OX1RFWFRfQ09MT1IgPSBDT0xPUl9XSElURTsKY29uc3QgQURNSU5fUEFORUxfTEFCRUxfVEVYVF9DT0xPUiA9IENPTE9SX1dISVRFOwpjb25zdCBBRE1JTl9USUVCUkVBS0VSX09WRVJSSURFX0xFVFRFUlMgPSBbIkEiLCAiQiIsICJDIiwgIkQiLCAiRSIsICJGIiwgIkciXTsKCi8vIFZpY3RvcnkgZGlhbG9nIHRoZW1lIGNvbG9ycyAoUGFyc2VVSSBleHBlY3RzIFJHQiB0dXBsZXMsIG5vdCB2ZWN0b3JzKS4KY29uc3QgVklDVE9SWV9CR19SR0I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFswLjAzMTQsIDAuMDQzMSwgMC4wNDMxXTsKY29uc3QgVklDVE9SWV9URUFNMV9CR19SR0I6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFswLjEwOTgsIDAuMjMwNCwgMC4yNV07CmNvbnN0IFZJQ1RPUllfVEVBTTJfQkdfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMC4yNSwgMC4xMjg0LCAwLjA5NTFdOwpjb25zdCBWSUNUT1JZX1RFQU0xX1RFWFRfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMC40MzkyLCAwLjkyMTYsIDFdOwpjb25zdCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMC41MTM3LCAwLjM4MDRdOwpjb25zdCBWSUNUT1JZX0RJQUxPR19XSURUSCA9IDM2MDsKY29uc3QgVklDVE9SWV9ESUFMT0dfSEVJR0hUID0gNTAwOwpjb25zdCBWSUNUT1JZX0RJQUxPR19ST1NURVJfUk9XX1kgPSAyODI7CmNvbnN0IFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfV0lEVEggPSAzNDA7CmNvbnN0IFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfSEVJR0hUX01BWCA9IDIwMDsKY29uc3QgVklDVE9SWV9ESUFMT0dfUk9TVEVSX0NPTlRBSU5FUl9XSURUSCA9IDE2MDsKY29uc3QgVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19IRUlHSFQgPSAxMjsKY29uc3QgVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19QQURESU5HX1RPUCA9IDQ7CmNvbnN0IFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfUEFERElOR19CT1RUT00gPSA0Owpjb25zdCBWSUNUT1JZX0RJQUxPR19CT1RUT01fUEFERElORyA9IDE4Owpjb25zdCBWSUNUT1JZX0NST1dOX1NJWkUgPSAxNjsKY29uc3QgVklDVE9SWV9DUk9XTl9PRkZTRVRfWF9MRUZUID0gNTg7CmNvbnN0IFZJQ1RPUllfQ1JPV05fT0ZGU0VUX1hfUklHSFQgPSAtNTg7CmNvbnN0IFZJQ1RPUllfQ1JPV05fT0ZGU0VUX1kgPSA4Owpjb25zdCBWSUNUT1JZX0NST1dOX0NPTE9SX1JHQjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gWzEsIDI1MiAvIDI1NSwgMTU2IC8gMjU1XTsKY29uc3QgU1BBV05fRElTQUJMRURfVEVYVF9XSURUSCA9IDY0MDsKY29uc3QgU1BBV05fRElTQUJMRURfVEVYVF9IRUlHSFQgPSAzNjsKY29uc3QgU1BBV05fRElTQUJMRURfVEVYVF9QT1NfWSA9IDMzNjsKY29uc3QgU1BBV05fRElTQUJMRURfVEVYVF9TSVpFID0gMjY7CmNvbnN0IFNQQVdOX0RJU0FCTEVEX1RFWFRfQ09MT1JfUkdCOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMSwgMC4xLCAwLjFdOwoKLy8gTWFpbiBiYXNlIG1lc3NhZ2luZyBzdHJpbmcga2V5cyAoU3RyaW5ncy5qc29uKS4KY29uc3QgU1RSX0VOVEVSRURfTUFJTl9CQVNFID0gbW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMuZW50ZXJlZE1haW5CYXNlOwpjb25zdCBTVFJfRVhJVEVEX01BSU5fQkFTRSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5ub3RpZmljYXRpb25zLmV4aXRlZE1haW5CYXNlOwpjb25zdCBTVFJfQU1NT19SRVNUT0NLRUQgPSBtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5hbW1vUmVzdG9ja2VkOwpjb25zdCBTVFJfUkVBRFlVUF9SRVRVUk5fVE9fQkFTRV9OT1RfTElWRSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5ub3RpZmljYXRpb25zLnJlYWR5dXBSZXR1cm5Ub0Jhc2VOb3RMaXZlOwpjb25zdCBTVFJfUExBWUVSX1JFQURJRURfVVAgPSBtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5wbGF5ZXJSZWFkaWVkVXA7CmNvbnN0IFNUUl9KT0lOX1BST01QVF9USVRMRSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LnRpdGxlOwpjb25zdCBTVFJfSk9JTl9QUk9NUFRfRElTTUlTUyA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmRpc21pc3M7CmNvbnN0IFNUUl9KT0lOX1BST01QVF9ESVNNSVNTX1NIT1dfTU9SRV9USVBTID0gbW9kLnN0cmluZ2tleXMudHdsLmpvaW5Qcm9tcHQuZGlzbWlzc1Nob3dNb3JlVGlwczsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX05FVkVSX1NIT1cgPSBtb2Quc3RyaW5na2V5cy50d2wuam9pblByb21wdC5uZXZlclNob3dBZ2FpbjsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfTUFOREFUT1JZMSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkubWFuZGF0b3J5MTsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfTUFOREFUT1JZMiA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkubWFuZGF0b3J5MjsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMyA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwMzsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQNCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwNDsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQNSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwNTsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQNiA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwNjsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQNyA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwNzsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQOCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwODsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQOSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwOTsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTAgPSBtb2Quc3RyaW5na2V5cy50d2wuam9pblByb21wdC5ib2R5LnRpcDEwOwpjb25zdCBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxMSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwMTE7CmNvbnN0IFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDEyID0gbW9kLnN0cmluZ2tleXMudHdsLmpvaW5Qcm9tcHQuYm9keS50aXAxMjsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTMgPSBtb2Quc3RyaW5na2V5cy50d2wuam9pblByb21wdC5ib2R5LnRpcDEzOwpjb25zdCBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxNCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwMTQ7CmNvbnN0IFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE1ID0gbW9kLnN0cmluZ2tleXMudHdsLmpvaW5Qcm9tcHQuYm9keS50aXAxNTsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTYgPSBtb2Quc3RyaW5na2V5cy50d2wuam9pblByb21wdC5ib2R5LnRpcDE2Owpjb25zdCBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxNyA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwMTc7CmNvbnN0IFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE4ID0gbW9kLnN0cmluZ2tleXMudHdsLmpvaW5Qcm9tcHQuYm9keS50aXAxODsKY29uc3QgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTkgPSBtb2Quc3RyaW5na2V5cy50d2wuam9pblByb21wdC5ib2R5LnRpcDE5Owpjb25zdCBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAyMCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5qb2luUHJvbXB0LmJvZHkudGlwMjA7CmNvbnN0IEpPSU5fUFJPTVBUX0JPRFlfU0VRVUVOQ0VfS0VZUzogbnVtYmVyW10gPSBbCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9NQU5EQVRPUlkxLAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfTUFOREFUT1JZMiwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDMsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVA0LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQNSwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDYsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVA3LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQOCwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDksCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxMCwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDExLAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTIsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxMywKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE0LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTUsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxNiwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE3LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTgsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxOSwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDIwLApdOwoKLy8gQWRkIGFueSBib2R5IGtleXMgdG8gc2tpcCAoZS5nLiwgdGlwcyB3aXRoIGVtcHR5IHN0cmluZ3MpLgpjb25zdCBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUzogbnVtYmVyW10gPSBbCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxNCwKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE1LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTYsCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAxNywKICAgIFNUUl9KT0lOX1BST01QVF9CT0RZX1RJUDE4LAogICAgU1RSX0pPSU5fUFJPTVBUX0JPRFlfVElQMTksCiAgICBTVFJfSk9JTl9QUk9NUFRfQk9EWV9USVAyMCwKXTsKCi8vIFZlaGljbGUgcmVnaXN0cmF0aW9uIG1lc3NhZ2luZyBzdHJpbmdzCmNvbnN0IFNUUl9ST1VORF9DTEVBTlVQX1NQQVdOX1RJTUVPVVQgPSBtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5yb3VuZENsZWFudXBTcGF3blRpbWVvdXQ7CmNvbnN0IFNUUl9WRUhJQ0xFX1NQQVdOX1JFVFJZID0gbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnZlaGljbGVTcGF3blJldHJ5Owpjb25zdCBTVFJfVkVISUNMRV9TVE9MRU5fUkVHSVNURVIgPSBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMudmVoaWNsZVN0b2xlblJlZ2lzdGVyOwpjb25zdCBTVFJfVkVISUNMRV9SRUdfTk9fQ0hBTkdFID0gbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnZlaGljbGVSZWdpc3RyYXRpb25Ob0NoYW5nZTsKY29uc3QgU1RSX1ZFSElDTEVfUkVHX1BFTkRJTkdfVEVBTSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy52ZWhpY2xlUmVnaXN0cmF0aW9uUGVuZGluZ1RlYW07CmNvbnN0IFNUUl9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9DSEFOR0VEID0gbW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLm1hdGNodXBDaGFuZ2VkOwpjb25zdCBTVFJfVUlfWCA9IG1vZC5zdHJpbmdrZXlzLnR3bC51aS54OwoKLy8gT3ZlcnRpbWUgYW5ub3VuY2VtZW50cyArIGZsYWcgY2FwdHVyZSBVSSBzdHJpbmdzCmNvbnN0IFNUUl9PVkVSVElNRV9TVUJfTk9USUNFID0gbW9kLnN0cmluZ2tleXMudHdsLm92ZXJ0aW1lLnN1YnRpdGxlLm5vdGljZTsKY29uc3QgU1RSX09WRVJUSU1FX1RJVExFX1ZJU0lCTEUgPSBtb2Quc3RyaW5na2V5cy50d2wub3ZlcnRpbWUudGl0bGUudmlzaWJsZTsKY29uc3QgU1RSX09WRVJUSU1FX1RJVExFX1ZJU0lCTEVfQURNSU4gPSBtb2Quc3RyaW5na2V5cy50d2wub3ZlcnRpbWUudGl0bGUudmlzaWJsZUFkbWluOwpjb25zdCBTVFJfT1ZFUlRJTUVfU1VCX1VOTE9DS1NfSU4gPSBtb2Quc3RyaW5na2V5cy50d2wub3ZlcnRpbWUuc3VidGl0bGUudW5sb2Nrc0luOwpjb25zdCBTVFJfT1ZFUlRJTUVfU1VCX1VOTE9DS1NfTk9XID0gbW9kLnN0cmluZ2tleXMudHdsLm92ZXJ0aW1lLnN1YnRpdGxlLnVubG9ja3NOb3c7CmNvbnN0IFNUUl9GTEFHX1RJVExFID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLnRpdGxlOwpjb25zdCBTVFJfRkxBR19USVRMRV9MT0NLRURfRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmxvY2tlZFRpdGxlRm9ybWF0Owpjb25zdCBTVFJfRkxBR19USVRMRV9BQ1RJVkVfRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmFjdGl2ZVRpdGxlRm9ybWF0Owpjb25zdCBTVFJfRkxBR19BQ1RJVkFURVNfSU5fRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmFjdGl2YXRlc0luRm9ybWF0Owpjb25zdCBTVFJfRkxBR19TVEFUVVNfQ0FQVFVSSU5HID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLnN0YXR1cy5jYXB0dXJpbmc7CmNvbnN0IFNUUl9GTEFHX1NUQVRVU19MT1NJTkcgPSBtb2Quc3RyaW5na2V5cy50d2wuZmxhZ0NhcHR1cmUuc3RhdHVzLmxvc2luZzsKY29uc3QgU1RSX0ZMQUdfU1RBVFVTX1NUQUxMRUQgPSBtb2Quc3RyaW5na2V5cy50d2wuZmxhZ0NhcHR1cmUuc3RhdHVzLnN0YWxsZWQ7CmNvbnN0IFNUUl9GTEFHX1NUQVRVU19SRVNFVFRJTkcgPSBtb2Quc3RyaW5na2V5cy50d2wuZmxhZ0NhcHR1cmUuc3RhdHVzLnJlc2V0dGluZzsKY29uc3QgU1RSX0ZMQUdfQ09VTlRTX0xFRlRfRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmNvdW50cy5sZWZ0Rm9ybWF0Owpjb25zdCBTVFJfRkxBR19DT1VOVFNfUklHSFRfRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmNvdW50cy5yaWdodEZvcm1hdDsKY29uc3QgU1RSX0ZMQUdfUFJPR1JFU1NfRk9STUFUID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLnByb2dyZXNzLmZvcm1hdDsKY29uc3QgU1RSX0ZMQUdfVkVISUNMRV9SRVFVSVJFRCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5mbGFnQ2FwdHVyZS52ZWhpY2xlUmVxdWlyZWQ7CmNvbnN0IFNUUl9GTEFHX1BSRVZJRVdfQUNUSVZFID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLnByZXZpZXdBY3RpdmVGb3JtYXQ7Ci8vIFdvcmxkSWNvbiB0ZXh0IHBsYWNlaG9sZGVycyBtdXN0IGJlIHN0cmluZyBrZXlzLCBub3QgcmF3IGxldHRlcnMuCmNvbnN0IFNUUl9GTEFHX0xFVFRFUl9VTktOT1dOID0gbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmxldHRlcnMudW5rbm93bjsKY29uc3QgU1RSX0ZMQUdfTEVUVEVSX0tFWVM6IG51bWJlcltdID0gWwogICAgbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmxldHRlcnMuQSwKICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5mbGFnQ2FwdHVyZS5sZXR0ZXJzLkIsCiAgICBtb2Quc3RyaW5na2V5cy50d2wuZmxhZ0NhcHR1cmUubGV0dGVycy5DLAogICAgbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmxldHRlcnMuRCwKICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5mbGFnQ2FwdHVyZS5sZXR0ZXJzLkUsCiAgICBtb2Quc3RyaW5na2V5cy50d2wuZmxhZ0NhcHR1cmUubGV0dGVycy5GLAogICAgbW9kLnN0cmluZ2tleXMudHdsLmZsYWdDYXB0dXJlLmxldHRlcnMuRywKXTsKY29uc3QgU1RSX0RFQlVHX0NQX1ZJU19SRVNFVCA9IG1vZC5zdHJpbmdrZXlzLnR3bC5kZWJ1Zy5jcFZpc1Jlc2V0Owpjb25zdCBTVFJfREVCVUdfQ1BfVklTX0hBUkRfUkVTRVQgPSBtb2Quc3RyaW5na2V5cy50d2wuZGVidWcuY3BWaXNIYXJkUmVzZXQ7CmNvbnN0IFNUUl9ST1VORF9TVEFSVF9USVRMRSA9IG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZFN0YXJ0LnRpdGxlOwpjb25zdCBTVFJfUk9VTkRfU1RBUlRfU1VCVElUTEUgPSBtb2Quc3RyaW5na2V5cy50d2wucm91bmRTdGFydC5zdWJ0aXRsZTsKY29uc3QgU1RSX1JPVU5EX0VORF9ERVRBSUxfV0lOX0VMSU1JTkFUSU9OID0gbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRldGFpbC53aW5FbGltaW5hdGlvbjsKY29uc3QgU1RSX1JPVU5EX0VORF9ERVRBSUxfTE9TRV9FTElNSU5BVElPTiA9IG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZEVuZC5kZXRhaWwubG9zZUVsaW1pbmF0aW9uOwpjb25zdCBTVFJfUk9VTkRfRU5EX0RFVEFJTF9XSU5fT0JKRUNUSVZFX0NBUFRVUkVEID0gbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRldGFpbC53aW5PYmplY3RpdmVDYXB0dXJlZDsKY29uc3QgU1RSX1JPVU5EX0VORF9ERVRBSUxfTE9TRV9PQkpFQ1RJVkVfQ0FQVFVSRUQgPSBtb2Quc3RyaW5na2V5cy50d2wucm91bmRFbmQuZGV0YWlsLmxvc2VPYmplY3RpdmVDYXB0dXJlZDsKY29uc3QgU1RSX1JPVU5EX0VORF9ERVRBSUxfV0lOX09CSkVDVElWRV9QUk9HUkVTUyA9IG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZEVuZC5kZXRhaWwud2luT2JqZWN0aXZlUHJvZ3Jlc3M7CmNvbnN0IFNUUl9ST1VORF9FTkRfREVUQUlMX0xPU0VfT0JKRUNUSVZFX1BST0dSRVNTID0gbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRldGFpbC5sb3NlT2JqZWN0aXZlUHJvZ3Jlc3M7CmNvbnN0IFNUUl9ST1VORF9FTkRfREVUQUlMX1dJTl9USU1FX09WRVJfS0lMTFMgPSBtb2Quc3RyaW5na2V5cy50d2wucm91bmRFbmQuZGV0YWlsLndpblRpbWVPdmVyS2lsbHM7CmNvbnN0IFNUUl9ST1VORF9FTkRfREVUQUlMX0xPU0VfVElNRV9PVkVSX0tJTExTID0gbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRldGFpbC5sb3NlVGltZU92ZXJLaWxsczsKY29uc3QgU1RSX1JPVU5EX0VORF9ERVRBSUxfRFJBV19FVkVOX0VMSU1TID0gbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRldGFpbC5kcmF3RXZlbkVsaW1zOwpjb25zdCBTVFJfUk9VTkRfRU5EX0RFVEFJTF9EUkFXX05PX0FDVElPTiA9IG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZEVuZC5kZXRhaWwuZHJhd05vQWN0aW9uOwoKLy8gU2hhcmVkIGdsb2JhbCBtZXNzYWdlIGxheW91dCAoT3ZlckxpbmUgKyByb3VuZCBzdGFydCArIG92ZXJ0aW1lIGFubm91bmNlbWVudHMpLgpjb25zdCBCSUdfVElUTEVfU0laRSA9IDk2OyAvLyBGb250IHNpemUgaW4gVUkgc2NhbGUgdW5pdHMuCmNvbnN0IEJJR19TVUJUSVRMRV9TSVpFID0gMjg7CmNvbnN0IEJJR19USVRMRV9PRkZTRVRfWSA9IDE2MDsgLy8gUG9zaXRpb24gYmVsb3cgdG9wIEhVRC4KY29uc3QgQklHX1NVQlRJVExFX09GRlNFVF9ZID0gMzAwOyAvLyBTdWJ0aXRsZSBwb3NpdGlvbgpjb25zdCBCSUdfTUVTU0FHRV9CR19BTFBIQSA9IDAuNjsKY29uc3QgQklHX1RJVExFX0JHX1dJRFRIID0gMjUwMDsKY29uc3QgQklHX1RJVExFX0JHX0hFSUdIVCA9IDE0MDsKY29uc3QgQklHX1NVQlRJVExFX0JHX1dJRFRIID0gMjUwMDsKY29uc3QgQklHX1NVQlRJVExFX0JHX0hFSUdIVCA9IDgwOwpjb25zdCBTTUFMTF9USVRMRV9CR19IRUlHSFQgPSA0MDsKY29uc3QgU01BTExfVElUTEVfU0laRSA9IDI4OyAvLyB+MS80IG9mIGJpZyB0aXRsZSBzaXplLgpjb25zdCBTTUFMTF9TVUJUSVRMRV9TSVpFID0gMTU7IC8vIH4xLzQgb2YgYmlnIHN1YnRpdGxlIHNpemUuCmNvbnN0IFNNQUxMX1RJVExFX09GRlNFVF9ZID0gMjEwOwpjb25zdCBTTUFMTF9TVUJUSVRMRV9PRkZTRVRfWSA9IDI2MDsKY29uc3QgQklHX01FU1NBR0VfRFVSQVRJT05fU0VDT05EUyA9IDUuNTsgLy8gRHVyYXRpb24gaW4gc2Vjb25kcy4KCnR5cGUgR2xvYmFsTWVzc2FnZUxheW91dCA9IHsKICAgIHRpdGxlU2l6ZTogbnVtYmVyOwogICAgc3VidGl0bGVTaXplOiBudW1iZXI7CiAgICB0aXRsZU9mZnNldFk6IG51bWJlcjsKICAgIHN1YnRpdGxlT2Zmc2V0WTogbnVtYmVyOwogICAgdGl0bGVCZ0hlaWdodD86IG51bWJlcjsKICAgIHVzZUJhY2tncm91bmQ/OiBib29sZWFuOwogICAgc3VidGl0bGVVc2VCYWNrZ3JvdW5kPzogYm9vbGVhbjsKfTsKCmNvbnN0IEJJR19NRVNTQUdFX0xBWU9VVDogR2xvYmFsTWVzc2FnZUxheW91dCA9IHsKICAgIHRpdGxlU2l6ZTogQklHX1RJVExFX1NJWkUsCiAgICBzdWJ0aXRsZVNpemU6IEJJR19TVUJUSVRMRV9TSVpFLAogICAgdGl0bGVPZmZzZXRZOiBCSUdfVElUTEVfT0ZGU0VUX1ksCiAgICBzdWJ0aXRsZU9mZnNldFk6IEJJR19TVUJUSVRMRV9PRkZTRVRfWSwKICAgIHVzZUJhY2tncm91bmQ6IHRydWUsCn07Cgpjb25zdCBTTUFMTF9NRVNTQUdFX0xBWU9VVDogR2xvYmFsTWVzc2FnZUxheW91dCA9IHsKICAgIHRpdGxlU2l6ZTogU01BTExfVElUTEVfU0laRSwKICAgIHN1YnRpdGxlU2l6ZTogU01BTExfU1VCVElUTEVfU0laRSwKICAgIHRpdGxlT2Zmc2V0WTogU01BTExfVElUTEVfT0ZGU0VUX1ksCiAgICBzdWJ0aXRsZU9mZnNldFk6IFNNQUxMX1NVQlRJVExFX09GRlNFVF9ZLAogICAgdGl0bGVCZ0hlaWdodDogU01BTExfVElUTEVfQkdfSEVJR0hULAogICAgdXNlQmFja2dyb3VuZDogdHJ1ZSwKICAgIHN1YnRpdGxlVXNlQmFja2dyb3VuZDogdHJ1ZSwKfTsKCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBDb25zdGFudHMsIEVudW1zIGFuZCBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwIENvbmZpZyAoQ29uc3RhbnRzICsgVHlwZXMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBTdXBwb3J0IG1hcHMgZm9yIHRoaXMgZ2FtZW1vZGUsIHNob3VsZCBoYXZlIGEgbGlzdGluZyBpbiBNYXBLZXksIGFuZCBhIGNvcnJlc3BvbmRpbmcgbGlzdCBvZiBzcGF3bmVycyBpbiBNYXBDb25maWcKdHlwZSBNYXBLZXkgPSAiQmxhY2t3ZWxsX0ZpZWxkcyIgfCAiRGVmZW5zZV9OZXh1cyIgfCAiR29sZl9Db3Vyc2UiIHwgIk1pcmFrX1ZhbGxleSIgfCAiT3BlcmF0aW9uX0ZpcmVzdG9ybSIgfCAiTGliZXJhdGlvbl9QZWFrIiB8ICJNYW5oYXR0YW5fQnJpZGdlIiB8ICJBcmVhXzIyQiI7CgovLyBzbG90TnVtYmVyIGRlZmluZXMgdGhlIGV4cGxpY2l0IHNwYXduIHByaW9yaXR5IHBlciB0ZWFtICh1c2VkIGZvciAxdjEvMnYyLzN2My80djQgZW5hYmxlbWVudCkuCnR5cGUgVmVoaWNsZVNwYXduU3BlYyA9IHsgc2xvdE51bWJlcjogbnVtYmVyOyBwb3M6IG1vZC5WZWN0b3I7IHJvdDogbW9kLlZlY3RvcjsgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0IH07CgovLyBPdmVydGltZSB6b25lcyBhcmUgY3VzdG9tIGNhcHR1cmUgYXJlYXMgYW5jaG9yZWQgYnkgQXJlYVRyaWdnZXJzICsgU2VjdG9ycyArIFdvcmxkSWNvbiArIENhcHR1cmVQb2ludCBvYmplY3RzLgp0eXBlIE92ZXJ0aW1lWm9uZVNwZWMgPSB7IGFyZWFUcmlnZ2VyT2JqSWQ6IG51bWJlcjsgc2VjdG9ySWQ6IG51bWJlcjsgd29ybGRJY29uT2JqSWQ6IG51bWJlcjsgY2FwdHVyZVBvaW50T2JqSWQ6IG51bWJlciB9OwoKLy8gRXZlcnkgbWFwIG5lZWRzIGEgdGVhbSAxIGFuZCB0ZWFtIDIgSFEgb2JqZWN0IGluIHRoZSBzcGF0aWFsIGRhdGEsIHNvIHRoaXMgbGlzdCBvZiB2ZWhpY2xlcyBjYW4gc3Bhd24gYW5kIGR5bmFtaWNhbGx5IGdldCByZWZlcmVuY2VkIG9uIG1hcCBsb2FkCnR5cGUgTWFwQ29uZmlnID0gewogICAgdGVhbTFCYXNlOiBtb2QuVmVjdG9yOwogICAgdGVhbTJCYXNlOiBtb2QuVmVjdG9yOwogICAgdGVhbTFOYW1lOiBudW1iZXI7CiAgICB0ZWFtMk5hbWU6IG51bWJlcjsKICAgIHRlYW0xU3Bhd25zOiBWZWhpY2xlU3Bhd25TcGVjW107CiAgICB0ZWFtMlNwYXduczogVmVoaWNsZVNwYXduU3BlY1tdOwogICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiBudW1iZXI7IC8vVGhpcyBpcyBub3QgdXNlZCBhbnltb3JlLCBidXQgd2UncmUga2VlcGluZyBpdCBpbiBjYXNlIGl0cyBuZWVkZWQgaW4gdGhlIGZ1dHVyZQogICAgLy8gT3B0aW9uYWwgcGVyLW1hcCBvdmVydGltZSB6b25lIGxpc3QgKEFyZWFUcmlnZ2VyIE9iaklkICsgU2VjdG9yIElkICsgV29ybGRJY29uIE9iaklkICsgQ2FwdHVyZVBvaW50IE9iaklkKS4KICAgIC8vIEVtcHR5L3VuZGVmaW5lZCBkaXNhYmxlcyBvdmVydGltZSBvbiB0aGF0IG1hcC4KICAgIG92ZXJ0aW1lWm9uZXM/OiBPdmVydGltZVpvbmVTcGVjW107Cn07CgovLyBDaGFuZ2UgdGhpcyBNYXBLZXkgdG8gc3dpdGNoIGFjdGl2ZSBtYXAgY29uZmlndXJhdGlvbiBmb3IgdGhhdCBtYXAsIG9ubHkgb25lIG1hcCBjYW4gYmUgYWN0aXZlIGF0IGEgdGltZSEgVGhpcyBoYXBwZW5zIGluc2lkZSBnZXRNYXBOYW1lS2V5ICYgYXBwbHlNYXBDb25maWcKbGV0IEFDVElWRV9NQVBfS0VZOiBNYXBLZXkgPSAiQmxhY2t3ZWxsX0ZpZWxkcyI7IC8vTmVlZCB0byBwaWNrIG9uZSB0byBiZSBkZWZhdWx0CgovLyBNYXAtc3BlY2lmaWMgYmFzZXMgKyBzcGF3biBzbG90cy4gS2VlcCBzbG90TnVtYmVyIHVuaXF1ZSB3aXRoaW4gYSB0ZWFtOyBTbG90cyBhcmUgcGFyYWxsZWwsIGUuZy4gU2xvdCAyIG9uIFRlYW0gMSBhbmQgU2xvdCAyIG9uIFRlYW0gMiAtIGJvdGggdmVoaWNsZXMgc3Bhd24gaW4gd2hlbiB0aGUgMnYyIG1vZGUgaXMgdG9nZ2xlZApjb25zdCBNQVBfQ09ORklHUzogUmVjb3JkPE1hcEtleSwgTWFwQ29uZmlnPiA9IHsKCiAgICAvL0JhZGxhbmRzCiAgICBCbGFja3dlbGxfRmllbGRzOiB7ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaIAogICAgICAgIHRlYW0xQmFzZTogbW9kLkNyZWF0ZVZlY3RvcigtMTUxLjM2NCwgIDg2Ljk0OCwgIC01NjcuNjcyKSwgdGVhbTFOYW1lOiBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuV0VTVCwKICAgICAgICB0ZWFtMkJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoIDM4OC4yMzEsICA3MS42NTIsICAgMTM2LjU0KSwgIHRlYW0yTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLkVBU1QsCiAgICAgICAgLy8gT2JqSWQgcGF0dGVybiBwZXIgem9uZTogQXJlYVRyaWdnZXIgMjAwKywgU2VjdG9yIDMwMCssIFdvcmxkSWNvbiA0MDArLCBDYXB0dXJlUG9pbnQgNjAwKy4KICAgICAgICBvdmVydGltZVpvbmVzOiBbCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAwLCBzZWN0b3JJZDogMzAwLCB3b3JsZEljb25PYmpJZDogNDAwLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAwIH0sIC8vIEEKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDEsIHNlY3RvcklkOiAzMDEsIHdvcmxkSWNvbk9iaklkOiA0MDEsIGNhcHR1cmVQb2ludE9iaklkOiA2MDEgfSwgLy8gQgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMiwgc2VjdG9ySWQ6IDMwMiwgd29ybGRJY29uT2JqSWQ6IDQwMiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMiB9LCAvLyBDCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAzLCBzZWN0b3JJZDogMzAzLCB3b3JsZEljb25PYmpJZDogNDAzLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAzIH0sIC8vIEQKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDQsIHNlY3RvcklkOiAzMDQsIHdvcmxkSWNvbk9iaklkOiA0MDQsIGNhcHR1cmVQb2ludE9iaklkOiA2MDQgfSwgLy8gRQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNSwgc2VjdG9ySWQ6IDMwNSwgd29ybGRJY29uT2JqSWQ6IDQwNSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNSB9LCAvLyBGCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA2LCBzZWN0b3JJZDogMzA2LCB3b3JsZEljb25PYmpJZDogNDA2LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA2IH0sIC8vIEcKICAgICAgICBdLAogICAgICAgCiAgICAgICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiAwLAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zWCAgICAgIHBvc1kgICAgICBwb3NaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0xNjMuMjg1LCAgODYuOTYsICAgLTU3MC4yNTQpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICA0NS4wLCAgICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMTY5LjU1OSwgIDg2LjkxNSwgIC01NjAuMTY4KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgNDUuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTE3OC4xNzQsICA4Ny4xNTksICAtNTUxLjIwNiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDQ1LjAsICAgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0xODUuODMzLCAgODcuMTU5LCAgLTU0MC45NDkpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICA0NS4wLCAgICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGVhbTJTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc1ggICAgICBwb3NZICAgICAgcG9zWgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggNDAzLjU3NSwgIDcxLjIyNywgICAxNDQuNTk0KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtOTAuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDQwNC4wNTQsICA3MS4yMjcsICAgMTMxLjk2NiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTkwLjAsICAgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTGVvcGFyZCAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCA0MDMuNTc1LCAgNzEuMjI3LCAgIDExOC41NzEpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC05MC4wLCAgICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggNDAzLjI3NCwgIDcxLjIyNywgICAxMDUuODg2KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtOTAuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICBdLAogICAgfSwKCiAgICAvL0dyYW5pdGVfVGVjaENhbXB1cwogICAgRGVmZW5zZV9OZXh1czogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaIAogICAgICAgIHRlYW0xQmFzZTogbW9kLkNyZWF0ZVZlY3RvcigtMTUxLjA4NjIsIDEzMy42OTQsICA0MjguMDE4KSwgdGVhbTFOYW1lOiBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuU09VVEgsCiAgICAgICAgdGVhbTJCYXNlOiBtb2QuQ3JlYXRlVmVjdG9yKC0xMDcuNzI3LCAgMTM5LjI5MywgIDEyMy4yNDgpLCB0ZWFtMk5hbWU6IG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtcy5OT1JUSCwKICAgICAgICAvLyBPYmpJZCBwYXR0ZXJuIHBlciB6b25lOiBBcmVhVHJpZ2dlciAyMDArLCBTZWN0b3IgMzAwKywgV29ybGRJY29uIDQwMCssIENhcHR1cmVQb2ludCA2MDArLgogICAgICAgIG92ZXJ0aW1lWm9uZXM6IFsKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDAsIHNlY3RvcklkOiAzMDAsIHdvcmxkSWNvbk9iaklkOiA0MDAsIGNhcHR1cmVQb2ludE9iaklkOiA2MDAgfSwgLy8gQQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMSwgc2VjdG9ySWQ6IDMwMSwgd29ybGRJY29uT2JqSWQ6IDQwMSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMSB9LCAvLyBCCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAyLCBzZWN0b3JJZDogMzAyLCB3b3JsZEljb25PYmpJZDogNDAyLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAyIH0sIC8vIEMKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDMsIHNlY3RvcklkOiAzMDMsIHdvcmxkSWNvbk9iaklkOiA0MDMsIGNhcHR1cmVQb2ludE9iaklkOiA2MDMgfSwgLy8gRAogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNCwgc2VjdG9ySWQ6IDMwNCwgd29ybGRJY29uT2JqSWQ6IDQwNCwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNCB9LCAvLyBFCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA1LCBzZWN0b3JJZDogMzA1LCB3b3JsZEljb25PYmpJZDogNDA1LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA1IH0sIC8vIEYKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDYsIHNlY3RvcklkOiAzMDYsIHdvcmxkSWNvbk9iaklkOiA0MDYsIGNhcHR1cmVQb2ludE9iaklkOiA2MDYgfSwgLy8gRwogICAgICAgIF0sCiAgICAKICAgICAgICB2ZWhpY2xlU3Bhd25ZYXdPZmZzZXREZWc6IDAsIAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90WCAgICAgIHJvdFkgICAgICByb3RaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0xODUuNTAzLCAgMTM2LjU5NiwgIDQ1NC42MTcpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xNjUuODM0LCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMTc5LjEwOSwgIDEzNi4xNDYsICA0NTMuMzI3KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtMTU4LjUyNiwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5NMkJyYWRsZXkgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTE3NC4xNzIsICAxMzUuMTQwLCAgNDQ5LjM4MCksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTE0OS4yNTYsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0xNjguMjkzLCAgMTM0LjA2NywgIDQ0Mi45MzUpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xMzUuNDQyLCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGVhbTJTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc1ggICAgICBwb3NZICAgICAgcG9zWgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMTA4LjgyNCwgIDEzOC44MTUsICAxMTIuMjA5KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtNDQuOTg0LCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTEwNC4xNTMsICAxMzguNTMwLCAgMTE1LjAzNCksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTQ0LjcxNywgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0xMDEuMzc4LCAgMTM4LjU0NCwgIDExOS4yNjMpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC00NC44MDYsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMTE2LjU2NiwgIDEzOC44NTIsICAxMDQuMTc1KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtNDQuODk1LCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICBdLAogICAgfSwKCiAgICAvL0dyYW5pdGVfQ2x1YkhvdXNlCiAgICBHb2xmX0NvdXJzZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgcG9zWSAgICAgIHBvc1ogCiAgICAgICAgdGVhbTFCYXNlOiBtb2QuQ3JlYXRlVmVjdG9yKC03NjQuNTA4LCAxNDYuNjk2LCAtODU2LjE5MyksIHRlYW0xTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLk5PUlRILAogICAgICAgIHRlYW0yQmFzZTogbW9kLkNyZWF0ZVZlY3RvcigtNzI0Ljc2OSwgMTQxLjMxNywgLTI3MS42NTMpLCB0ZWFtMk5hbWU6IG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtcy5TT1VUSCwKICAgICAgICAvLyBPYmpJZCBwYXR0ZXJuIHBlciB6b25lOiBBcmVhVHJpZ2dlciAyMDArLCBTZWN0b3IgMzAwKywgV29ybGRJY29uIDQwMCssIENhcHR1cmVQb2ludCA2MDArLgogICAgICAgIG92ZXJ0aW1lWm9uZXM6IFsKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDAsIHNlY3RvcklkOiAzMDAsIHdvcmxkSWNvbk9iaklkOiA0MDAsIGNhcHR1cmVQb2ludE9iaklkOiA2MDAgfSwgLy8gQQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMSwgc2VjdG9ySWQ6IDMwMSwgd29ybGRJY29uT2JqSWQ6IDQwMSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMSB9LCAvLyBCCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAyLCBzZWN0b3JJZDogMzAyLCB3b3JsZEljb25PYmpJZDogNDAyLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAyIH0sIC8vIEMKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDMsIHNlY3RvcklkOiAzMDMsIHdvcmxkSWNvbk9iaklkOiA0MDMsIGNhcHR1cmVQb2ludE9iaklkOiA2MDMgfSwgLy8gRAogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNCwgc2VjdG9ySWQ6IDMwNCwgd29ybGRJY29uT2JqSWQ6IDQwNCwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNCB9LCAvLyBFCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA1LCBzZWN0b3JJZDogMzA1LCB3b3JsZEljb25PYmpJZDogNDA1LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA1IH0sIC8vIEYKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDYsIHNlY3RvcklkOiAzMDYsIHdvcmxkSWNvbk9iaklkOiA0MDYsIGNhcHR1cmVQb2ludE9iaklkOiA2MDYgfSwgLy8gRwogICAgICAgIF0sCiAgICAgICAgCiAgICAgICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiAwLAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90WCAgICAgIHJvdFkgICAgICByb3RaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC03NjUuMDMyLCAgMTQ2LjA2OCwgLTg2My4zMDcpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0yMS45MDgsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNzU4LjM5OCwgIDE0Ni41MjQsIC04NjEuODkwKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgOS4yODcsICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5NMkJyYWRsZXkgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTc1MS4yMzQsICAxNDcuMzczLCAtODU5LjAwOSksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDEwLjAwMCwgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC03NDEuNzc5LCAgMTQ4LjkxOSwgLTg1Ni43NTEpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAyMC4wMDAsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGVhbTJTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc1ggICAgICBwb3NZICAgICAgcG9zWgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNzIyLjgwMCwgIDE0MC45OTcsIC0yNzUuOTgwKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgMTM4LjM1NywgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTcxNi4wNDUsICAxNDAuNTU1LCAtMjcwLjIxOSksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDEzOC4zNTcsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC03MDkuMzI3LCAgMTQwLjY4MCwgLTI2NC45NjgpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAxMzguMTc5LCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNzAyLjA4MCwgIDE0MC42MjUsIC0yNTkuNzcyKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgMTM5LjI0OCwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICBdLAogICAgfSwKCiAgICAvL1R1bmdzdGVuCiAgICBNaXJha19WYWxsZXk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAKICAgICAgICB0ZWFtMUJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoLTUwNS42NDEsICA4Mi41NzEsICAtMzI5LjAzNCksIHRlYW0xTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLldFU1QsCiAgICAgICAgdGVhbTJCYXNlOiBtb2QuQ3JlYXRlVmVjdG9yKCA0MjguMzIsICAgODUuMjE1LCAgLTYxOS4zMzkpLCB0ZWFtMk5hbWU6IG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtcy5FQVNULAogICAgICAgIC8vIE9iaklkIHBhdHRlcm4gcGVyIHpvbmU6IEFyZWFUcmlnZ2VyIDIwMCssIFNlY3RvciAzMDArLCBXb3JsZEljb24gNDAwKywgQ2FwdHVyZVBvaW50IDYwMCsuCiAgICAgICAgb3ZlcnRpbWVab25lczogWwogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMCwgc2VjdG9ySWQ6IDMwMCwgd29ybGRJY29uT2JqSWQ6IDQwMCwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMCB9LCAvLyBBCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAxLCBzZWN0b3JJZDogMzAxLCB3b3JsZEljb25PYmpJZDogNDAxLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAxIH0sIC8vIEIKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDIsIHNlY3RvcklkOiAzMDIsIHdvcmxkSWNvbk9iaklkOiA0MDIsIGNhcHR1cmVQb2ludE9iaklkOiA2MDIgfSwgLy8gQwogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMywgc2VjdG9ySWQ6IDMwMywgd29ybGRJY29uT2JqSWQ6IDQwMywgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMyB9LCAvLyBECiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA0LCBzZWN0b3JJZDogMzA0LCB3b3JsZEljb25PYmpJZDogNDA0LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA0IH0sIC8vIEUKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDUsIHNlY3RvcklkOiAzMDUsIHdvcmxkSWNvbk9iaklkOiA0MDUsIGNhcHR1cmVQb2ludE9iaklkOiA2MDUgfSwgLy8gRgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNiwgc2VjdG9ySWQ6IDMwNiwgd29ybGRJY29uT2JqSWQ6IDQwNiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNiB9LCAvLyBHCiAgICAgICAgXSwKICAgICAgIAogICAgICAgIHZlaGljbGVTcGF3bllhd09mZnNldERlZzogMCwKCiAgICAgICAgdGVhbTFTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdFggICAgICByb3RZICAgICAgcm90WgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNDk3LjMyOCwgIDgxLjkwOSwgIC0zMjAuMDU4KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgOTAuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTQ5My42OTksICA4Mi4xNjcsICAtMzMwLjYxNiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDg3LjAsICAgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC00ODguODY5LCAgODIuNTU2LCAgLTM0MC43MjMpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICA4NS4wLCAgICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNDg1LjMzNSwgIDgzLjI0NCwgIC0zNTEuMzI3KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgODQuNTAwLCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHRlYW0yU3Bhd25zOiBbICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NYICAgICAgcG9zWSAgICAgIHBvc1oKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAxLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDQyMy4xNTUsICA4NS4xNjAsICAtNjA5LjU5MyksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTQxLjIxMiwgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTGVvcGFyZCAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMiwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCA0MTIuNDE2LCAgODUuNDQyLCAgLTYxMC4wNDQpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC00NS41ODAsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDMsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggNDAwLjM5NiwgIDg1Ljc3NSwgIC02MTAuNTc2KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtNDcuNzE5LCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiA0LCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDM4OC42NjcsICA4Ni4wODUsICAtNjExLjU5NiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTQ0Ljk1NiwgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTGVvcGFyZCAgICAgIH0sCiAgICAgICAgXSwKICAgIH0sCgogICAgLy9GaXJlc3Rvcm0KICAgIE9wZXJhdGlvbl9GaXJlc3Rvcm06IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAKICAgICAgICB0ZWFtMUJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoIDU3MC42OTIsICAxMTAuMjA1LCAtMjMyLjM0MSksIHRlYW0xTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLldFU1QsCiAgICAgICAgdGVhbTJCYXNlOiBtb2QuQ3JlYXRlVmVjdG9yKC03NjEuODY5LCAgMTMzLjA5MSwgIDIyMy4wMzgpLCB0ZWFtMk5hbWU6IG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtcy5FQVNULAogICAgICAgIC8vIE9iaklkIHBhdHRlcm4gcGVyIHpvbmU6IEFyZWFUcmlnZ2VyIDIwMCssIFNlY3RvciAzMDArLCBXb3JsZEljb24gNDAwKywgQ2FwdHVyZVBvaW50IDYwMCsuCiAgICAgICAgb3ZlcnRpbWVab25lczogWwogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMCwgc2VjdG9ySWQ6IDMwMCwgd29ybGRJY29uT2JqSWQ6IDQwMCwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMCB9LCAvLyBBCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAxLCBzZWN0b3JJZDogMzAxLCB3b3JsZEljb25PYmpJZDogNDAxLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAxIH0sIC8vIEIKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDIsIHNlY3RvcklkOiAzMDIsIHdvcmxkSWNvbk9iaklkOiA0MDIsIGNhcHR1cmVQb2ludE9iaklkOiA2MDIgfSwgLy8gQwogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMywgc2VjdG9ySWQ6IDMwMywgd29ybGRJY29uT2JqSWQ6IDQwMywgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMyB9LCAvLyBECiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA0LCBzZWN0b3JJZDogMzA0LCB3b3JsZEljb25PYmpJZDogNDA0LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA0IH0sIC8vIEUKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDUsIHNlY3RvcklkOiAzMDUsIHdvcmxkSWNvbk9iaklkOiA0MDUsIGNhcHR1cmVQb2ludE9iaklkOiA2MDUgfSwgLy8gRgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNiwgc2VjdG9ySWQ6IDMwNiwgd29ybGRJY29uT2JqSWQ6IDQwNiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNiB9LCAvLyBHCiAgICAgICAgXSwKCiAgICAgICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiAwLAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdFggICAgICByb3RZICAgICAgcm90WgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNzkwLjgzNywgIDEzMi45NzEsICAyNDQuNjE2KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgMTQzLjg0OSwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTc4NS4wMjIsICAxMzIuOTczLCAgMjQ2Ljk1MyksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDE0MC4wNDcsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC03NzUuMTQwLCAgMTMyLjk3MSwgIDI1NS4zMTIpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAxNDMuODc5LCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtNzcwLjI3NywgIDEzMi45NzEsICAyNTkuMjk2KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgMTQxLjY1MSwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKCiAgICAgICAgXSwKICAgICAgICB0ZWFtMlNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zWCAgICAgIHBvc1kgICAgICBwb3NaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCA2MDEuNzM1LCAgMTEwLjI4MywgLTIzMC4yNDYpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xMTkuNDYzLCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggNjA4LjM3OSwgIDExMC4yODMsIC0yMzMuNTY5KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtMTMwLjQyNSwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDYxNS4zNjYsICAxMTAuMjgzLCAtMjQzLjI4OCksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTEyNC4xODcsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCA2MTcuOTA0LCAgMTEwLjI5NywgLTI0OS44MjMpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xMjUuNzAyLCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgIF0sCiAgICB9LAoKICAgIC8vQ2Fwc3RvbmUKICAgIExpYmVyYXRpb25fUGVhazogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaIAogICAgICAgIHRlYW0xQmFzZTogbW9kLkNyZWF0ZVZlY3RvcigtMzIzLjM2NSwgIDEzMC40NTIsICA4My4yMTEpLCAgdGVhbTFOYW1lOiBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuV0VTVCwKICAgICAgICB0ZWFtMkJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoIDI4MS44ODcsICAxMzkuMDk1LCAgNDY0LjE4NyksIHRlYW0yTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLkVBU1QsCiAgICAgICAgLy8gT2JqSWQgcGF0dGVybiBwZXIgem9uZTogQXJlYVRyaWdnZXIgMjAwKywgU2VjdG9yIDMwMCssIFdvcmxkSWNvbiA0MDArLCBDYXB0dXJlUG9pbnQgNjAwKy4KICAgICAgICBvdmVydGltZVpvbmVzOiBbCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAwLCBzZWN0b3JJZDogMzAwLCB3b3JsZEljb25PYmpJZDogNDAwLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAwIH0sIC8vIEEKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDEsIHNlY3RvcklkOiAzMDEsIHdvcmxkSWNvbk9iaklkOiA0MDEsIGNhcHR1cmVQb2ludE9iaklkOiA2MDEgfSwgLy8gQgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMiwgc2VjdG9ySWQ6IDMwMiwgd29ybGRJY29uT2JqSWQ6IDQwMiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMiB9LCAvLyBDCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAzLCBzZWN0b3JJZDogMzAzLCB3b3JsZEljb25PYmpJZDogNDAzLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAzIH0sIC8vIEQKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDQsIHNlY3RvcklkOiAzMDQsIHdvcmxkSWNvbk9iaklkOiA0MDQsIGNhcHR1cmVQb2ludE9iaklkOiA2MDQgfSwgLy8gRQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNSwgc2VjdG9ySWQ6IDMwNSwgd29ybGRJY29uT2JqSWQ6IDQwNSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNSB9LCAvLyBGCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA2LCBzZWN0b3JJZDogMzA2LCB3b3JsZEljb25PYmpJZDogNDA2LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA2IH0sIC8vIEcKICAgICAgICBdLAogICAgICAgIAogICAgICAgIHZlaGljbGVTcGF3bllhd09mZnNldERlZzogMCwKCiAgICAgICAgdGVhbTFTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdFggICAgICByb3RZICAgICAgcm90WgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMzEzLjEyMiwgIDEzMC4xMDksICA5MS4zMTcpLCAgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgNjcuNjgxLCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5BYnJhbXMgICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTMwNi44NTcsICAxMjkuOTk4LCAgODQuNTAwKSwgIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDQ5LjMyMSwgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTTJCcmFkbGV5ICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0zMDkuODU4LCAgMTMwLjMxNiwgIDEwMi4xMjQpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICA2MS40NDIsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMzEwLjg2NSwgIDEzMC44MjUsICAxMTUuMDk4KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgODMuMjc4LCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5NMkJyYWRsZXkgICAgfSwKICAgICAgICBdLAogICAgICAgIHRlYW0yU3Bhd25zOiBbICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NYICAgICAgcG9zWSAgICAgIHBvc1oKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAxLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDI3Ny4wOTcsICAxMzkuNzI1LCAgNDUxLjAyNyksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTE1Ny4xNzYsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTGVvcGFyZCAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMiwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCAyODUuNDY0LCAgMTM5LjQ0OSwgIDQ0Ni44MjMpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xMzcuOTI0LCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkNWOTAgICAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDMsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggMjcwLjAyMywgIDEzOS45MTcsICA0NTcuNTM4KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtMTU2LjgxOSwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiA0LCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDI1Ny45MzgsICAxMzkuNDAzLCAgNDU5LjAzMiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDE2Mi4wOTQsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgXSwKICAgIH0sCgogICAgLy9EdW1ibwogICAgTWFuaGF0dGFuX0JyaWRnZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaIAogICAgICAgIHRlYW0xQmFzZTogbW9kLkNyZWF0ZVZlY3RvcigtMjYzLjMxMiwgIDUyLjMwOCwgIC00NjAuNjEyKSwgdGVhbTFOYW1lOiBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuV0VTVCwKICAgICAgICB0ZWFtMkJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoIDE3Ni4wNTMsICA1Ny40NzQsICAtMjQzLjg0MyksIHRlYW0yTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLkVBU1QsCiAgICAgICAgLy8gT2JqSWQgcGF0dGVybiBwZXIgem9uZTogQXJlYVRyaWdnZXIgMjAwKywgU2VjdG9yIDMwMCssIFdvcmxkSWNvbiA0MDArLCBDYXB0dXJlUG9pbnQgNjAwKy4KICAgICAgICBvdmVydGltZVpvbmVzOiBbCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAwLCBzZWN0b3JJZDogMzAwLCB3b3JsZEljb25PYmpJZDogNDAwLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAwIH0sIC8vIEEKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDEsIHNlY3RvcklkOiAzMDEsIHdvcmxkSWNvbk9iaklkOiA0MDEsIGNhcHR1cmVQb2ludE9iaklkOiA2MDEgfSwgLy8gQgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMiwgc2VjdG9ySWQ6IDMwMiwgd29ybGRJY29uT2JqSWQ6IDQwMiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMiB9LCAvLyBDCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAzLCBzZWN0b3JJZDogMzAzLCB3b3JsZEljb25PYmpJZDogNDAzLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAzIH0sIC8vIEQKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDQsIHNlY3RvcklkOiAzMDQsIHdvcmxkSWNvbk9iaklkOiA0MDQsIGNhcHR1cmVQb2ludE9iaklkOiA2MDQgfSwgLy8gRQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNSwgc2VjdG9ySWQ6IDMwNSwgd29ybGRJY29uT2JqSWQ6IDQwNSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNSB9LCAvLyBGCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA2LCBzZWN0b3JJZDogMzA2LCB3b3JsZEljb25PYmpJZDogNDA2LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA2IH0sIC8vIEcKICAgICAgICBdLAogICAgICAgCiAgICAgICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiAwLAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90WCAgICAgIHJvdFkgICAgICByb3RaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0yNjAuMzE3LCAgNTIuMDc5LCAgLTQ1MS40NzUpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAzNC42ODcsICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvcigtMjcwLjA2MSwgIDUyLjA3OSwgIC00NDguNjgwKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgNTIuMjQ1LCAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5NMkJyYWRsZXkgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoLTI4MS45NjIsICA1Mi4wNzksICAtNDQ4LjYwNCksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDUyLjA2NywgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQWJyYW1zICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKC0yOTQuNDI4LCAgNTIuMDc5LCAgLTQ0OC43NzIpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICA0MC42NTksICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lk0yQnJhZGxleSAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGVhbTJTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc1ggICAgICBwb3NZICAgICAgcG9zWgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggMjA1LjI3MSwgIDU3LjM1OCwgIC0yMzkuNzc0KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtOTAuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDIwNS41NDksICA1Ny4zNTgsICAtMjQ3LjgyMiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTkwLjAsICAgICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCAyMDUuMjk0LCAgNTcuMzU4LCAgLTI1MS45ODYpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC05MC4wLCAgICAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0Lkxlb3BhcmQgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggMjAyLjcwNywgIDU3LjM1OCwgIC0yNTcuMjQwKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtOTAuMCwgICAgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5DVjkwICAgICAgICAgfSwKICAgICAgICBdLAogICAgfSwKICAgIAogICAgLy9HcmFuaXRlIE1pbGl0YXJ5IFJORCBQb3J0CiAgICBBcmVhXzIyQjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zWCAgICAgIHBvc1kgICAgICBwb3NaIAogICAgICAgIHRlYW0xQmFzZTogbW9kLkNyZWF0ZVZlY3RvciggMTgxLjMyNywgIDE3My4xOTMsIC0zOTkuMjAxKSwgdGVhbTFOYW1lOiBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuV0VTVCwKICAgICAgICB0ZWFtMkJhc2U6IG1vZC5DcmVhdGVWZWN0b3IoIDc4Mi4wMTMsICAxNzguMDI4LCAtNTA4Ljc5MiksIHRlYW0yTmFtZTogbW9kLnN0cmluZ2tleXMudHdsLnRlYW1zLkVBU1QsCiAgICAgICAgLy8gT2JqSWQgcGF0dGVybiBwZXIgem9uZTogQXJlYVRyaWdnZXIgMjAwKywgU2VjdG9yIDMwMCssIFdvcmxkSWNvbiA0MDArLCBDYXB0dXJlUG9pbnQgNjAwKy4KICAgICAgICBvdmVydGltZVpvbmVzOiBbCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAwLCBzZWN0b3JJZDogMzAwLCB3b3JsZEljb25PYmpJZDogNDAwLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAwIH0sIC8vIEEKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDEsIHNlY3RvcklkOiAzMDEsIHdvcmxkSWNvbk9iaklkOiA0MDEsIGNhcHR1cmVQb2ludE9iaklkOiA2MDEgfSwgLy8gQgogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwMiwgc2VjdG9ySWQ6IDMwMiwgd29ybGRJY29uT2JqSWQ6IDQwMiwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwMiB9LCAvLyBDCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjAzLCBzZWN0b3JJZDogMzAzLCB3b3JsZEljb25PYmpJZDogNDAzLCBjYXB0dXJlUG9pbnRPYmpJZDogNjAzIH0sIC8vIEQKICAgICAgICAgICAgeyBhcmVhVHJpZ2dlck9iaklkOiAyMDQsIHNlY3RvcklkOiAzMDQsIHdvcmxkSWNvbk9iaklkOiA0MDQsIGNhcHR1cmVQb2ludE9iaklkOiA2MDQgfSwgLy8gRQogICAgICAgICAgICB7IGFyZWFUcmlnZ2VyT2JqSWQ6IDIwNSwgc2VjdG9ySWQ6IDMwNSwgd29ybGRJY29uT2JqSWQ6IDQwNSwgY2FwdHVyZVBvaW50T2JqSWQ6IDYwNSB9LCAvLyBGCiAgICAgICAgICAgIHsgYXJlYVRyaWdnZXJPYmpJZDogMjA2LCBzZWN0b3JJZDogMzA2LCB3b3JsZEljb25PYmpJZDogNDA2LCBjYXB0dXJlUG9pbnRPYmpJZDogNjA2IH0sIC8vIEcKICAgICAgICBdLAogICAgICAgCiAgICAgICAgdmVoaWNsZVNwYXduWWF3T2Zmc2V0RGVnOiAwLAoKICAgICAgICB0ZWFtMVNwYXduczogWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc1ggICAgICBwb3NZICAgICAgcG9zWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90WCAgICAgIHJvdFkgICAgICByb3RaCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMSwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCAyMDMuNDY0LCAgMTczLjY1MSwgLTQwNC40OTYpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAxNTIuNzIxLCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDIsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggMTk4LjE1NywgIDE3My42NTEsIC00MTEuODA0KSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAgMTUyLjYzMiwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5NMkJyYWRsZXkgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAzLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDE5Ni42MDYsICAxNzMuNTIxLCAtNDI2LjQ4OSksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgIDE1Mi44OTksICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuTTJCcmFkbGV5ICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogNCwgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCAxOTUuMDE4LCAgMTczLjY1NSwgLTQ0MC42OTkpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgICAxNTIuNTQzLCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkFicmFtcyAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGVhbTJTcGF3bnM6IFsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3NYICAgICAgcG9zWSAgICAgIHBvc1ogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc1ggICAgICBwb3NZICAgICAgcG9zWgogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDEsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggODA1LjcwNiwgIDE3Ny42MjQsIC00NzQuNDgxKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtMTU5LjQxOSwgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICAgICAgeyBzbG90TnVtYmVyOiAyLCBwb3M6IG1vZC5DcmVhdGVWZWN0b3IoIDc5OS41MDYsICAxNzcuNjY5LCAtNDkwLjE1NiksIHJvdDogbW9kLkNyZWF0ZVZlY3RvciggMC4wLCAgICAgLTE1Ny41NDgsICAwLjApLCAgICAgICB2ZWhpY2xlOiBtb2QuVmVoaWNsZUxpc3QuQ1Y5MCAgICAgICAgIH0sCiAgICAgICAgICAgIHsgc2xvdE51bWJlcjogMywgcG9zOiBtb2QuQ3JlYXRlVmVjdG9yKCA3OTIuNTYxLCAgMTc3LjYyOCwgLTUwNi42NDUpLCByb3Q6IG1vZC5DcmVhdGVWZWN0b3IoIDAuMCwgICAgIC0xNTYuOTI0LCAgMC4wKSwgICAgICAgdmVoaWNsZTogbW9kLlZlaGljbGVMaXN0LkNWOTAgICAgICAgICB9LAogICAgICAgICAgICB7IHNsb3ROdW1iZXI6IDQsIHBvczogbW9kLkNyZWF0ZVZlY3RvciggNzg2LjM0MCwgIDE3Ny42MDUsIC01MjAuNjEzKSwgcm90OiBtb2QuQ3JlYXRlVmVjdG9yKCAwLjAsICAgICAtMTU1LjA4MywgIDAuMCksICAgICAgIHZlaGljbGU6IG1vZC5WZWhpY2xlTGlzdC5MZW9wYXJkICAgICAgfSwKICAgICAgICBdLAogICAgfSwKfTsKCi8vIE1hcEtleSAtPiBTdHJpbmdzLmpzb24ga2V5IG1hcHBpbmcgZm9yIHRoZSBSZWFkeSBkaWFsb2cgbWFwIGxhYmVsLgpjb25zdCBNQVBfTkFNRV9TVFJJTkdLRVlTOiBSZWNvcmQ8TWFwS2V5LCBudW1iZXI+ID0gewogICAgQmxhY2t3ZWxsX0ZpZWxkczogbW9kLnN0cmluZ2tleXMudHdsLm1hcHMuYmxhY2t3ZWxsRmllbGRzLAogICAgRGVmZW5zZV9OZXh1czogbW9kLnN0cmluZ2tleXMudHdsLm1hcHMuZGVmZW5zZU5leHVzLAogICAgR29sZl9Db3Vyc2U6IG1vZC5zdHJpbmdrZXlzLnR3bC5tYXBzLmdvbGZDb3Vyc2UsCiAgICBNaXJha19WYWxsZXk6IG1vZC5zdHJpbmdrZXlzLnR3bC5tYXBzLm1pcmFrVmFsbGV5LAogICAgT3BlcmF0aW9uX0ZpcmVzdG9ybTogbW9kLnN0cmluZ2tleXMudHdsLm1hcHMub3BlcmF0aW9uRmlyZXN0b3JtLAogICAgTGliZXJhdGlvbl9QZWFrOiBtb2Quc3RyaW5na2V5cy50d2wubWFwcy5saWJlcmF0aW9uUGVhaywKICAgIE1hbmhhdHRhbl9CcmlkZ2U6IG1vZC5zdHJpbmdrZXlzLnR3bC5tYXBzLm1hbmhhdHRhbkJyaWRnZSwKICAgIEFyZWFfMjJCOiBtb2Quc3RyaW5na2V5cy50d2wubWFwcy5hcmVhMjJCLAp9OwoKLy8gRXhwZWN0ZWQgdG8gaW5jbHVkZSB0ZWFtIGJhc2VzICsgYXQgbGVhc3Qgb25lIHNwYXduIHBlciB0ZWFtLCB3aXRoIHVuaXF1ZSBzbG90TnVtYmVyIHZhbHVlcyBtYXRjaGluZyBwZXIgc2lkZS4KbGV0IEFDVElWRV9NQVBfQ09ORklHID0gTUFQX0NPTkZJR1NbQUNUSVZFX01BUF9LRVldOwovLyBBY3RpdmUgbWFwJ3MgY3VyYXRlZCBvdmVydGltZSB6b25lcyAoQXJlYVRyaWdnZXIgT2JqSWQgKyBTZWN0b3IgSWQgKyBXb3JsZEljb24gT2JqSWQgKyBDYXB0dXJlUG9pbnQgT2JqSWQpLgpsZXQgQUNUSVZFX09WRVJUSU1FX1pPTkVTOiBPdmVydGltZVpvbmVTcGVjW10gPSAoQUNUSVZFX01BUF9DT05GSUcub3ZlcnRpbWVab25lcyA/PyBbXSkubWFwKCh6b25lKSA9PiAoewogICAgYXJlYVRyaWdnZXJPYmpJZDogem9uZS5hcmVhVHJpZ2dlck9iaklkLAogICAgc2VjdG9ySWQ6IHpvbmUuc2VjdG9ySWQsCiAgICB3b3JsZEljb25PYmpJZDogem9uZS53b3JsZEljb25PYmpJZCwKICAgIGNhcHR1cmVQb2ludE9iaklkOiB6b25lLmNhcHR1cmVQb2ludE9iaklkLAp9KSk7CgovLyBCYXNlbGluZSB0ZWFtIGluZmVyZW5jZSBmcm9tIHN0YXRpYyBtYWluLWJhc2UgYW5jaG9yIGNvb3JkaW5hdGVzIChPcHRpb24gQSkuCi8vIC0gUmVwbGFjZSB0aGVzZSB2ZWN0b3JzIHdpdGggZXhhY3QgbWFwIGNvb3JkaW5hdGVzIHRocm91Z2ggTWFwQ29uZmlnOyB0aGVzZSBwb3NpdGlvbnMgZHJpdmUgZmFsbGJhY2sgdGVhbSByZWdpc3RyYXRpb24uCi8vIC0gQSBzcGF3bmVkIHZlaGljbGUgaXMgYXNzaWduZWQgdG8gdGhlIG5lYXJlc3QgYmFzZSBhbmNob3IgaWYgd2l0aGluIE1BSU5fQkFTRV9CSU5EX1JBRElVU19NRVRFUlMuCmxldCBNQUlOX0JBU0VfVEVBTTFfUE9TID0gQUNUSVZFX01BUF9DT05GSUcudGVhbTFCYXNlOwpsZXQgTUFJTl9CQVNFX1RFQU0yX1BPUyA9IEFDVElWRV9NQVBfQ09ORklHLnRlYW0yQmFzZTsKY29uc3QgTUFJTl9CQVNFX0JJTkRfUkFESVVTX01FVEVSUyA9IDE1MC4wOwoKLy8gQ2FjaGVkIHBlci12ZWhpY2xlIHNwYXduIGluZmVyZW5jZSBmb3IgbGF0ZXIgcmVjb25jaWxpYXRpb24gb24gc2VhdCBlbnRyeSAoYmVzdC1lZmZvcnQsIGNhbiBnbyBzdGFsZSkuCmNvbnN0IHZlaGljbGVTcGF3bkJhc2VUZWFtQnlPYmpJZDogUmVjb3JkPG51bWJlciwgVGVhbUlEPiA9IHt9OwoKLy8gVmVoaWNsZSBzcGF3bmVyIGRlZmF1bHRzIChwZXItbWFwIHNwYXduIHNwZWNzKS4KbGV0IFRFQU0xX1ZFSElDTEVfU1BBV05fU1BFQ1MgPSBBQ1RJVkVfTUFQX0NPTkZJRy50ZWFtMVNwYXduczsKbGV0IFRFQU0yX1ZFSElDTEVfU1BBV05fU1BFQ1MgPSBBQ1RJVkVfTUFQX0NPTkZJRy50ZWFtMlNwYXduczsKbGV0IFZFSElDTEVfU1BBV05fWUFXX09GRlNFVF9ERUcgPSBBQ1RJVkVfTUFQX0NPTkZJRy52ZWhpY2xlU3Bhd25ZYXdPZmZzZXREZWc7CmNvbnN0IE1BUF9ERVRFQ1RfRElTVEFOQ0VfTUVURVJTID0gNS4wOwoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIE1hcCBDb25maWcgKENvbnN0YW50cyArIFR5cGVzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwICsgTWF0Y2h1cCBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBSZXR1cm5zIHRoZSBSZWFkeS1kaWFsb2cgZGlzcGxheSBzdHJpbmdrZXkgZm9yIHRoZSBjdXJyZW50IG1hcC4KZnVuY3Rpb24gZ2V0TWFwTmFtZUtleShtYXBLZXk6IE1hcEtleSk6IG51bWJlciB7CiAgICByZXR1cm4gTUFQX05BTUVfU1RSSU5HS0VZU1ttYXBLZXldID8/IG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0udW5rbm93blBsYXllcjsKfQoKLy8gQXBwbGllcyB0aGUgc2VsZWN0ZWQgbWFwJ3MgYmFzZSBhbmNob3JzLCBzcGF3biBzcGVjcywgYW5kIHlhdyBvZmZzZXRzIHRvIHRoZSBhY3RpdmUgcnVudGltZSBjb25maWcuCi8vIEFsc28gcmVmcmVzaGVzIHRoZSBSZWFkeSBkaWFsb2cgbWFwIGxhYmVsIHNvIHRoZSBVSSBtYXRjaGVzIHRoZSBhY3RpdmUgbWFwLgpmdW5jdGlvbiBhcHBseU1hcENvbmZpZyhtYXBLZXk6IE1hcEtleSk6IHZvaWQgewogICAgQUNUSVZFX01BUF9LRVkgPSBtYXBLZXk7CiAgICBBQ1RJVkVfTUFQX0NPTkZJRyA9IE1BUF9DT05GSUdTW0FDVElWRV9NQVBfS0VZXTsKICAgIE1BSU5fQkFTRV9URUFNMV9QT1MgPSBBQ1RJVkVfTUFQX0NPTkZJRy50ZWFtMUJhc2U7CiAgICBNQUlOX0JBU0VfVEVBTTJfUE9TID0gQUNUSVZFX01BUF9DT05GSUcudGVhbTJCYXNlOwogICAgVEVBTTFfVkVISUNMRV9TUEFXTl9TUEVDUyA9IEFDVElWRV9NQVBfQ09ORklHLnRlYW0xU3Bhd25zOwogICAgVEVBTTJfVkVISUNMRV9TUEFXTl9TUEVDUyA9IEFDVElWRV9NQVBfQ09ORklHLnRlYW0yU3Bhd25zOwogICAgVkVISUNMRV9TUEFXTl9ZQVdfT0ZGU0VUX0RFRyA9IEFDVElWRV9NQVBfQ09ORklHLnZlaGljbGVTcGF3bllhd09mZnNldERlZzsKICAgIEFDVElWRV9PVkVSVElNRV9aT05FUyA9IChBQ1RJVkVfTUFQX0NPTkZJRy5vdmVydGltZVpvbmVzID8/IFtdKS5tYXAoKHpvbmUpID0+ICh7CiAgICAgICAgYXJlYVRyaWdnZXJPYmpJZDogem9uZS5hcmVhVHJpZ2dlck9iaklkLAogICAgICAgIHNlY3RvcklkOiB6b25lLnNlY3RvcklkLAogICAgICAgIHdvcmxkSWNvbk9iaklkOiB6b25lLndvcmxkSWNvbk9iaklkLAogICAgICAgIGNhcHR1cmVQb2ludE9iaklkOiB6b25lLmNhcHR1cmVQb2ludE9iaklkLAogICAgfSkpOwogICAgLy8gS2VlcCBvdmVydGltZSB6b25lcyBzeW5jZWQgd2l0aCB0aGUgYWN0aXZlIG1hcCBjb25maWcuCiAgICByZWZyZXNoT3ZlcnRpbWVab25lc0Zyb21NYXBDb25maWcoKTsKCiAgICB1cGRhdGVSZWFkeURpYWxvZ01hcExhYmVsRm9yQWxsUGxheWVycygpOwogICAgdXBkYXRlVGVhbU5hbWVXaWRnZXRzRm9yQWxsUGxheWVycygpOwp9CgovLyBCZXN0LWVmZm9ydCBtYXAgZGV0ZWN0aW9uIGJ5IGNvbXBhcmluZyBIUSBwb3NpdGlvbnMgdG8gbWFwIGJhc2UgYW5jaG9ycyAoYmlkaXJlY3Rpb25hbCBjaGVjaykuCmZ1bmN0aW9uIGRldGVjdE1hcEtleUZyb21IcXMoKTogTWFwS2V5IHwgdW5kZWZpbmVkIHsKICAgIGNvbnN0IGhxMVBvcyA9IG1vZC5HZXRPYmplY3RQb3NpdGlvbihtb2QuR2V0SFEoMSkpOwogICAgY29uc3QgaHEyUG9zID0gbW9kLkdldE9iamVjdFBvc2l0aW9uKG1vZC5HZXRIUSgyKSk7CgogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKE1BUF9DT05GSUdTKSBhcyBNYXBLZXlbXTsKICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHsKICAgICAgICBjb25zdCBjZmcgPSBNQVBfQ09ORklHU1trZXldOwogICAgICAgIGNvbnN0IGQxMSA9IG1vZC5EaXN0YW5jZUJldHdlZW4oaHExUG9zLCBjZmcudGVhbTFCYXNlKTsKICAgICAgICBjb25zdCBkMjIgPSBtb2QuRGlzdGFuY2VCZXR3ZWVuKGhxMlBvcywgY2ZnLnRlYW0yQmFzZSk7CiAgICAgICAgaWYgKGQxMSA8PSBNQVBfREVURUNUX0RJU1RBTkNFX01FVEVSUyAmJiBkMjIgPD0gTUFQX0RFVEVDVF9ESVNUQU5DRV9NRVRFUlMpIHsKICAgICAgICAgICAgcmV0dXJuIGtleTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGQxMiA9IG1vZC5EaXN0YW5jZUJldHdlZW4oaHExUG9zLCBjZmcudGVhbTJCYXNlKTsKICAgICAgICBjb25zdCBkMjEgPSBtb2QuRGlzdGFuY2VCZXR3ZWVuKGhxMlBvcywgY2ZnLnRlYW0xQmFzZSk7CiAgICAgICAgaWYgKGQxMiA8PSBNQVBfREVURUNUX0RJU1RBTkNFX01FVEVSUyAmJiBkMjEgPD0gTUFQX0RFVEVDVF9ESVNUQU5DRV9NRVRFUlMpIHsKICAgICAgICAgICAgcmV0dXJuIGtleTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKLy8gRmluZHMgdGhlIHByZXNldCBpbmRleCBtYXRjaGluZyBtaW4gcGxheWVycyArIGtpbGwgdGFyZ2V0OyByZXR1cm5zIDAgaWYgbm8gZXhhY3QgbWF0Y2guCmZ1bmN0aW9uIGZpbmRNYXRjaHVwUHJlc2V0SW5kZXgobWluQWN0aXZlUGxheWVyczogbnVtYmVyLCByb3VuZEtpbGxzVGFyZ2V0OiBudW1iZXIpOiBudW1iZXIgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVRDSFVQX1BSRVNFVFMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBwcmVzZXQgPSBNQVRDSFVQX1BSRVNFVFNbaV07CiAgICAgICAgaWYgKHByZXNldC5taW5BY3RpdmVQbGF5ZXJzID09PSBtaW5BY3RpdmVQbGF5ZXJzICYmIHByZXNldC5yb3VuZEtpbGxzVGFyZ2V0ID09PSByb3VuZEtpbGxzVGFyZ2V0KSB7CiAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAwOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gTWFwICsgTWF0Y2h1cCBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBTdHJpbmcgVmFyaWFibGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBTdHJpbmdzLmpzb24ga2V5IHBvbGljeSAtLS0tLS0tLS0tLS0tLS0tLS0tLQovLwovLyAtIFVJIGxhYmVscyAoc3RhdGljIHRleHQpIHNob3VsZCBiZSBzaGFyZWQgKGUuZy4sIExhYmVsX1RvdGFsS2lsbHMpIHJhdGhlciB0aGFuIGR1cGxpY2F0ZWQgcGVyIHRlYW0uCi8vIC0gUGVyLXRlYW0gZGlmZmVyZW5jZXMgYmVsb25nIGluIGxheW91dC93aWRnZXQgcGxhY2VtZW50LCBub3QgaW4gZHVwbGljYXRlZCBsYWJlbCBzdHJpbmdzLgovLyAtIER5bmFtaWMgdmFsdWVzIChudW1iZXJzKSBhcmUgdXN1YWxseSB3cml0dGVuIGludG8gdmFsdWUgd2lkZ2V0cyBkaXJlY3RseTsgYXZvaWQgY3JlYXRpbmcgbWFueSBvbmUtb2ZmIHN0cmluZ3MuCi8vIC0gSWYgeW91IG11c3QgdXNlIHBsYWNlaG9sZGVycywga2VlcCBmb3JtYXR0aW5nIGNvbnNpc3RlbnQgYWNyb3NzIHRoZSBmaWxlLgovLyAtIFJlbWluZGVyOiBVSSB3aWRnZXQgYG5hbWU6YCB2YWx1ZXMgYXJlIE5PVCBTdHJpbmdzLmpzb24ga2V5czsgdGhleSBhcmUgcnVudGltZSB3aWRnZXQgSURzLgovLwovLyBQb2xpY3kgY29tcGxpYW5jZSBjaGVja2xpc3Q6Ci8vIC0gTmV3IFVJIHRleHQgYWRkZWQ/IFB1dCBpdCBpbiBTdHJpbmdzLmpzb24gdW5kZXIgYSBzaGFyZWQga2V5IChubyBwZXItdGVhbSBkdXBsaWNhdGlvbikuCi8vIC0gVXNpbmcgcGxhY2Vob2xkZXJzPyBNYXRjaCBleGlzdGluZyBmb3JtYXR0aW5nIHBhdHRlcm5zIGZvciB0aGF0IHNlY3Rpb24uCi8vIC0gUmV1c2luZyBhbiBleGlzdGluZyBsYWJlbD8gVXNlIHRoZSBleGlzdGluZyBzdHJpbmcga2V5IHJhdGhlciB0aGFuIGEgbmV3IGFsaWFzLgovLyAtIEF2b2lkIGNyZWF0aW5nIHN0cmluZyBrZXkgY29uc3RhbnRzIHVubGVzcyByZXVzZWQgaW4gbXVsdGlwbGUgcGxhY2VzLgovLwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFVJIHdpZGdldCBJRCBjb25zdGFudHMgKHN0cmluZyBwcmVmaXhlcyB1c2VkIHRvIGZpbmQgd2lkZ2V0cykuCi8vIEFsbCBVSSB3aWRnZXQgSURzIGFyZSBwZXItcGxheWVyOyB0aGUgdmlld2VyJ3MgcGlkIGlzIGFwcGVuZGVkIGF0IHVzZSBzaXRlcy4KY29uc3QgVUlfVEVBTVNXSVRDSF9DT05UQUlORVJfQkFTRV9JRCA9ICJVSV9URUFNU1dJVENIX0NPTlRBSU5FUl9CQVNFXyI7CmNvbnN0IFVJX1RFQU1TV0lUQ0hfQk9SREVSX1RPUF9JRCA9ICJVSV9URUFNU1dJVENIX0JPUkRFUl9UT1BfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9CT1JERVJfQk9UVE9NX0lEID0gIlVJX1RFQU1TV0lUQ0hfQk9SREVSX0JPVFRPTV8iOwpjb25zdCBVSV9URUFNU1dJVENIX0JPUkRFUl9MRUZUX0lEID0gIlVJX1RFQU1TV0lUQ0hfQk9SREVSX0xFRlRfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9CT1JERVJfUklHSFRfSUQgPSAiVUlfVEVBTVNXSVRDSF9CT1JERVJfUklHSFRfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTFfSUQgPSAiVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTFfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTJfSUQgPSAiVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTJfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9CVVRUT05fQ0FOQ0VMX0lEID0gIlVJX1RFQU1TV0lUQ0hfQlVUVE9OX0NBTkNFTF8iOwpjb25zdCBVSV9URUFNU1dJVENIX0JVVFRPTl9DQU5DRUxfTEFCRUxfSUQgPSAiVUlfVEVBTVNXSVRDSF9CVVRUT05fQ0FOQ0VMX0xBQkVMXyI7CmNvbnN0IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX09QVE9VVF9JRCA9ICJVSV9URUFNU1dJVENIX0JVVFRPTl9PUFRPVVRfIjsKY29uc3QgVUlfVEVBTVNXSVRDSF9ERUJVR19USU1FTElNSVRfSUQgPSAiVUlfVEVBTVNXSVRDSF9ERUJVR19USU1FTElNSVRfIjsKCi8vIFJlYWR5IERpYWxvZyAoUm9zdGVyIFVJKSAtIFdpZGdldCBJRCBiYXNlcyAocGVyLXBsYXllciBJRHMgYXBwZW5kIHZpZXdlciBwbGF5ZXJJZCkuCmNvbnN0IFVJX1JFQURZX0RJQUxPR19IRUFERVJfSUQgPSAiVUlfUkVBRFlfRElBTE9HX0hFQURFUl8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfSEVBREVSMl9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfSEVBREVSMl8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfSEVBREVSM19JRCA9ICJVSV9SRUFEWV9ESUFMT0dfSEVBREVSM18iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfSEVBREVSNF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfSEVBREVSNF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfVEVBTTFfQ09OVEFJTkVSX0lEID0gIlVJX1JFQURZX0RJQUxPR19URUFNMV9DT05UQUlORVJfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX1RFQU0yX0NPTlRBSU5FUl9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfVEVBTTJfQ09OVEFJTkVSXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19URUFNMV9MQUJFTF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfVEVBTTFfTEFCRUxfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX1RFQU0yX0xBQkVMX0lEID0gIlVJX1JFQURZX0RJQUxPR19URUFNMl9MQUJFTF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfVDFfUk9XX05BTUVfSUQgPSAiVUlfUkVBRFlfRElBTE9HX1QxX1JPV19OQU1FXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19UMV9ST1dfUkVBRFlfSUQgPSAiVUlfUkVBRFlfRElBTE9HX1QxX1JPV19SRUFEWV8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfVDFfUk9XX0JBU0VfSUQgPSAiVUlfUkVBRFlfRElBTE9HX1QxX1JPV19CQVNFXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19UMl9ST1dfTkFNRV9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfVDJfUk9XX05BTUVfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX1QyX1JPV19SRUFEWV9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfVDJfUk9XX1JFQURZXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19UMl9ST1dfQkFTRV9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfVDJfUk9XX0JBU0VfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9SRUFEWV9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1JFQURZXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CVVRUT05fUkVBRFlfTEFCRUxfSUQgPSAiVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9SRUFEWV9MQUJFTF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1NXQVBfSUQgPSAiVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9TV0FQXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CVVRUT05fU1dBUF9MQUJFTF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1NXQVBfTEFCRUxfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX0JFU1RPRl9MQUJFTF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfQkVTVE9GX0xBQkVMXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDX0lEID0gIlVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDX0xBQkVMX0lEID0gIlVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDX0xBQkVMXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DX0lEID0gIlVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DX0xBQkVMX0lEID0gIlVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DX0xBQkVMXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0RFQ19JRCA9ICJVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9ERUNfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX01BVENIVVBfREVDX0xBQkVMX0lEID0gIlVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0RFQ19MQUJFTF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9MQUJFTF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9MQUJFTF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9JTkNfSUQgPSAiVUlfUkVBRFlfRElBTE9HX01BVENIVVBfSU5DXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0lOQ19MQUJFTF9JRCA9ICJVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9JTkNfTEFCRUxfIjsKY29uc3QgVUlfUkVBRFlfRElBTE9HX01BVENIVVBfTUlOUExBWUVSU19JRCA9ICJVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9NSU5QTEFZRVJTXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0tJTExTVEFSR0VUX0lEID0gIlVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0tJTExTVEFSR0VUXyI7CmNvbnN0IFVJX1JFQURZX0RJQUxPR19NQVBfTEFCRUxfSUQgPSAiVUlfUkVBRFlfRElBTE9HX01BUF9MQUJFTF8iOwpjb25zdCBVSV9SRUFEWV9ESUFMT0dfTUFQX1ZBTFVFX0lEID0gIlVJX1JFQURZX0RJQUxPR19NQVBfVkFMVUVfIjsKCi8vIEFkbWluL1Rlc3RlciBVSSAtIFdpZGdldCBJRCBiYXNlcyAocGVyLXBsYXllciBJRHMgYXBwZW5kIHZpZXdlciBwbGF5ZXJJZCkuCmNvbnN0IFVJX1RFU1RfSEVBREVSX0xBQkVMX0lEID0gIlVJX1RFU1RfSEVBREVSX0xBQkVMXyI7CmNvbnN0IFVJX1RFU1RfQlVUVE9OX0xFRlRfV0lOU19ERUNfSUQgPSAiVUlfVEVTVF9CVVRUT05fTEVGVF9XSU5TX0RFQ18iOwpjb25zdCBVSV9URVNUX0JVVFRPTl9MRUZUX1dJTlNfSU5DX0lEID0gIlVJX1RFU1RfQlVUVE9OX0xFRlRfV0lOU19JTkNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUklHSFRfV0lOU19ERUNfSUQgPSAiVUlfVEVTVF9CVVRUT05fUklHSFRfV0lOU19ERUNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUklHSFRfV0lOU19JTkNfSUQgPSAiVUlfVEVTVF9CVVRUT05fUklHSFRfV0lOU19JTkNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fTEVGVF9LSUxMU19ERUNfSUQgPSAiVUlfVEVTVF9CVVRUT05fTEVGVF9LSUxMU19ERUNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fTEVGVF9LSUxMU19JTkNfSUQgPSAiVUlfVEVTVF9CVVRUT05fTEVGVF9LSUxMU19JTkNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUklHSFRfS0lMTFNfREVDX0lEID0gIlVJX1RFU1RfQlVUVE9OX1JJR0hUX0tJTExTX0RFQ18iOwpjb25zdCBVSV9URVNUX0JVVFRPTl9SSUdIVF9LSUxMU19JTkNfSUQgPSAiVUlfVEVTVF9CVVRUT05fUklHSFRfS0lMTFNfSU5DXyI7CmNvbnN0IFVJX0FETUlOX0JVVFRPTl9UMV9ST1VORF9LSUxMU19ERUNfSUQgPSAiVUlfQURNSU5fQlVUVE9OX1QxX1JPVU5EX0tJTExTX0RFQ18iOwpjb25zdCBVSV9BRE1JTl9CVVRUT05fVDFfUk9VTkRfS0lMTFNfSU5DX0lEID0gIlVJX0FETUlOX0JVVFRPTl9UMV9ST1VORF9LSUxMU19JTkNfIjsKY29uc3QgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0RFQ19JRCA9ICJVSV9BRE1JTl9CVVRUT05fVDJfUk9VTkRfS0lMTFNfREVDXyI7CmNvbnN0IFVJX0FETUlOX0JVVFRPTl9UMl9ST1VORF9LSUxMU19JTkNfSUQgPSAiVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0lOQ18iOwpjb25zdCBVSV9URVNUX0JVVFRPTl9ST1VORF9LSUxMU19UQVJHRVRfREVDX0lEID0gIlVJX1RFU1RfQlVUVE9OX1JPVU5EX0tJTExTX1RBUkdFVF9ERUNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUk9VTkRfS0lMTFNfVEFSR0VUX0lOQ19JRCA9ICJVSV9URVNUX0JVVFRPTl9ST1VORF9LSUxMU19UQVJHRVRfSU5DXyI7CmNvbnN0IFVJX1RFU1RfTEFCRUxfUk9VTkRfS0lMTFNfVEFSR0VUX0lEID0gIlVJX1RFU1RfTEFCRUxfUk9VTkRfS0lMTFNfVEFSR0VUXyI7CmNvbnN0IFVJX1RFU1RfVkFMVUVfUk9VTkRfS0lMTFNfVEFSR0VUX0lEID0gIlVJX1RFU1RfVkFMVUVfUk9VTkRfS0lMTFNfVEFSR0VUXyI7CmNvbnN0IFVJX1RFU1RfQlVUVE9OX1RJRVNfREVDX0lEID0gIlVJX1RFU1RfQlVUVE9OX1RJRVNfREVDXyI7CmNvbnN0IFVJX1RFU1RfQlVUVE9OX1RJRVNfSU5DX0lEID0gIlVJX1RFU1RfQlVUVE9OX1RJRVNfSU5DXyI7CmNvbnN0IFVJX1RFU1RfQlVUVE9OX0NVUl9ST1VORF9ERUNfSUQgPSAiVUlfVEVTVF9CVVRUT05fQ1VSX1JPVU5EX0RFQ18iOwpjb25zdCBVSV9URVNUX0JVVFRPTl9DVVJfUk9VTkRfSU5DX0lEID0gIlVJX1RFU1RfQlVUVE9OX0NVUl9ST1VORF9JTkNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9ERUNfSUQgPSAiVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9ERUNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9JTkNfSUQgPSAiVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9JTkNfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfUkVTRVRfSUQgPSAiVUlfVEVTVF9CVVRUT05fQ0xPQ0tfUkVTRVRfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUk9VTkRfU1RBUlRfSUQgPSAiVUlfVEVTVF9CVVRUT05fUk9VTkRfU1RBUlRfIjsKY29uc3QgVUlfVEVTVF9CVVRUT05fUk9VTkRfRU5EX0lEID0gIlVJX1RFU1RfQlVUVE9OX1JPVU5EX0VORF8iOwpjb25zdCBVSV9URVNUX0JVVFRPTl9QT1NfREVCVUdfSUQgPSAiVUlfVEVTVF9CVVRUT05fUE9TX0RFQlVHXyI7CmNvbnN0IFVJX1RFU1RfTEFCRUxfTEVGVF9XSU5TX0lEID0gIlVJX1RFU1RfTEFCRUxfTEVGVF9XSU5TXyI7CmNvbnN0IFVJX1RFU1RfTEFCRUxfUklHSFRfV0lOU19JRCA9ICJVSV9URVNUX0xBQkVMX1JJR0hUX1dJTlNfIjsKY29uc3QgVUlfVEVTVF9MQUJFTF9MRUZUX0tJTExTX0lEID0gIlVJX1RFU1RfTEFCRUxfTEVGVF9LSUxMU18iOwpjb25zdCBVSV9URVNUX0xBQkVMX1JJR0hUX0tJTExTX0lEID0gIlVJX1RFU1RfTEFCRUxfUklHSFRfS0lMTFNfIjsKY29uc3QgVUlfQURNSU5fTEFCRUxfVDFfUk9VTkRfS0lMTFNfSUQgPSAiVUlfQURNSU5fTEFCRUxfVDFfUk9VTkRfS0lMTFNfIjsKY29uc3QgVUlfQURNSU5fTEFCRUxfVDJfUk9VTkRfS0lMTFNfSUQgPSAiVUlfQURNSU5fTEFCRUxfVDJfUk9VTkRfS0lMTFNfIjsKY29uc3QgVUlfVEVTVF9MQUJFTF9USUVTX0lEID0gIlVJX1RFU1RfTEFCRUxfVElFU18iOwpjb25zdCBVSV9URVNUX0xBQkVMX0NVUl9ST1VORF9JRCA9ICJVSV9URVNUX0xBQkVMX0NVUl9ST1VORF8iOwpjb25zdCBVSV9URVNUX0xBQkVMX0NMT0NLX1RJTUVfSUQgPSAiVUlfVEVTVF9MQUJFTF9DTE9DS19USU1FXyI7CmNvbnN0IFVJX1RFU1RfUExVU19URVhUX0lEID0gIlVJX1RFU1RfUExVU19URVhUXyI7CmNvbnN0IFVJX1RFU1RfTUlOVVNfVEVYVF9JRCA9ICJVSV9URVNUX01JTlVTX1RFWFRfIjsKY29uc3QgVUlfVEVTVF9SRVNFVF9URVhUX0lEID0gIlVJX1RFU1RfUkVTRVRfVEVYVF8iOwpjb25zdCBVSV9URVNUX1JPVU5EX1NUQVJUX1RFWFRfSUQgPSAiVUlfVEVTVF9ST1VORF9TVEFSVF9URVhUXyI7CmNvbnN0IFVJX1RFU1RfUk9VTkRfRU5EX1RFWFRfSUQgPSAiVUlfVEVTVF9ST1VORF9FTkRfVEVYVF8iOwpjb25zdCBVSV9URVNUX1BPU19ERUJVR19URVhUX0lEID0gIlVJX1RFU1RfUE9TX0RFQlVHX1RFWFRfIjsKY29uc3QgVUlfQURNSU5fVElFQlJFQUtFUl9MQUJFTF9JRCA9ICJVSV9BRE1JTl9USUVCUkVBS0VSX0xBQkVMXyI7CmNvbnN0IFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEID0gIlVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OXyI7CmNvbnN0IFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX1RFWFRfSUQgPSAiVUlfQURNSU5fVElFQlJFQUtFUl9CVVRUT05fVEVYVF8iOwoKLy8gRGVidWcgUG9zaXRpb25pbmcgVUkKY29uc3QgVUlfUE9TX0RFQlVHX0NPTlRBSU5FUl9JRCA9ICJVSV9QT1NfREVCVUdfQ09OVEFJTkVSXyI7CmNvbnN0IFVJX1BPU19ERUJVR19YX0lEID0gIlVJX1BPU19ERUJVR19YXyI7CmNvbnN0IFVJX1BPU19ERUJVR19ZX0lEID0gIlVJX1BPU19ERUJVR19ZXyI7CmNvbnN0IFVJX1BPU19ERUJVR19aX0lEID0gIlVJX1BPU19ERUJVR19aXyI7CmNvbnN0IFVJX1BPU19ERUJVR19ST1RZX0lEID0gIlVJX1BPU19ERUJVR19ST1RZXyI7CgovLyBBZG1pbiBQYW5lbCAoZGVjb3VwbGVkIGZyb20gbWFpbiBUZWFtIFN3aXRjaCBkaWFsb2cpCmNvbnN0IFVJX0FETUlOX1BBTkVMX0JVVFRPTl9JRCA9ICJVSV9BRE1JTl9QQU5FTF9CVVRUT05fIjsKY29uc3QgVUlfQURNSU5fUEFORUxfQlVUVE9OX0xBQkVMX0lEID0gIlVJX0FETUlOX1BBTkVMX0JVVFRPTl9MQUJFTF8iOwpjb25zdCBVSV9BRE1JTl9QQU5FTF9DT05UQUlORVJfSUQgPSAiVUlfQURNSU5fUEFORUxfQ09OVEFJTkVSXyI7CgovLyAiT3ZlciB0aGUgbGluZSIgbWVzc2FnaW5nIHN0cmluZ3MKY29uc3QgQklHX1RJVExFX1dJREdFVF9JRCA9ICJCaWdUaXRsZV8iOwpjb25zdCBCSUdfU1VCVElUTEVfV0lER0VUX0lEID0gIkJpZ1N1YnRpdGxlXyI7CmNvbnN0IEJJR19USVRMRV9TSEFET1dfV0lER0VUX0lEID0gIkJpZ1RpdGxlU2hhZG93XyI7CmNvbnN0IEJJR19TVUJUSVRMRV9TSEFET1dfV0lER0VUX0lEID0gIkJpZ1N1YnRpdGxlU2hhZG93XyI7CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0gU3RyaW5nIFZhcmlhYmxlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ29yZSBnYW1lcGxheSBzdGF0ZSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBDb3JlIGdhbWVwbGF5IGhlbHBlciB1dGlsaXRpZXMgKHN0YXRlIHN5bmMgKyBtZXNzYWdpbmcgZ2F0ZXMpLgoKZnVuY3Rpb24gZ2V0TWF0Y2hXaW5zVGVhbSh0ZWFtTnVtOiBUZWFtSUQpOiBudW1iZXIgewogICAgLy8gRGVidWctb25seTogZW5naW5lIEdhbWVNb2RlU2NvcmUgY2FuIGJlIHRyYW5zaWVudCBkdXJpbmcgcmVjb25uZWN0cyAvIHRlYW0gc3dhcHMuCiAgICByZXR1cm4gTWF0aC5mbG9vcihtb2QuR2V0R2FtZU1vZGVTY29yZShtb2QuR2V0VGVhbSh0ZWFtTnVtKSkpOwp9CgpmdW5jdGlvbiBzZXRNYXRjaFdpbnNUZWFtKHRlYW1OdW06IFRlYW1JRCwgd2luczogbnVtYmVyKTogdm9pZCB7CiAgICBtb2QuU2V0R2FtZU1vZGVTY29yZShtb2QuR2V0VGVhbSh0ZWFtTnVtKSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih3aW5zKSkpOwp9CgovLyBDZW50cmFsIG1lc3NhZ2UtZ2F0aW5nIHBvbGljeTogZ2FtZXBsYXkgdnMgZGVidWcsIGFuZCBoaWdobGlnaHRlZCB2cyBub3RpZmljYXRpb24uCmZ1bmN0aW9uIHNob3VsZFNlbmRNZXNzYWdlKGlzR2FtZXBsYXk6IGJvb2xlYW4sIGlzSGlnaGxpZ2h0ZWQ6IGJvb2xlYW4pOiBib29sZWFuIHsKICAgIGlmIChpc0dhbWVwbGF5KSByZXR1cm4gRU5BQkxFX0dBTUVQTEFZX01FU1NBR0VTOwogICAgcmV0dXJuIGlzSGlnaGxpZ2h0ZWQgPyBFTkFCTEVfREVCVUdfSElHSExJR0hURURfTUVTU0FHRVMgOiBFTkFCTEVfREVCVUdfTk9USUZJQ0FUSU9OX01FU1NBR0VTOwp9CgpmdW5jdGlvbiBzZXRVSUlucHV0TW9kZUZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIsIGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm47CiAgICBtb2QuRW5hYmxlVUlJbnB1dE1vZGUoZW5hYmxlZCwgcGxheWVyKTsKICAgIFN0YXRlLnBsYXllcnMudWlJbnB1dEVuYWJsZWRCeVBpZFttb2QuR2V0T2JqSWQocGxheWVyKV0gPSBlbmFibGVkOwp9CgpmdW5jdGlvbiBub3RlSGlnaGxpZ2h0ZWRNZXNzYWdlU2VudChtZXNzYWdlS2V5PzogbnVtYmVyKTogdm9pZCB7CiAgICBTdGF0ZS5kZWJ1Zy5oaWdobGlnaHRlZE1lc3NhZ2VDb3VudCA9IFN0YXRlLmRlYnVnLmhpZ2hsaWdodGVkTWVzc2FnZUNvdW50ICsgMTsKICAgIFN0YXRlLmRlYnVnLmxhc3RIaWdobGlnaHRlZE1lc3NhZ2VBdFNlY29uZHMgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpOwogICAgaWYgKG1lc3NhZ2VLZXkgIT09IHVuZGVmaW5lZCkgewogICAgICAgIFN0YXRlLmRlYnVnLmxhc3RIaWdobGlnaHRlZE1lc3NhZ2VLZXkgPSBtZXNzYWdlS2V5OwogICAgfQp9CgovLyBSb3VuZCBwaGFzZSBoZWxwZXIgZm9yIHJlYWRhYmlsaXR5IChhdm9pZHMgc2NhdHRlcmVkIGVudW0gY29tcGFyaXNvbnMpLgpmdW5jdGlvbiBpc1JvdW5kTGl2ZSgpOiBib29sZWFuIHsKICAgIHJldHVybiBTdGF0ZS5yb3VuZC5waGFzZSA9PT0gUm91bmRQaGFzZS5MaXZlOwp9CgovLyBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHRlYW0gY3VycmVudGx5IGhhcyBhdCBsZWFzdCBvbmUgdmFsaWQgcGxheWVyLgpmdW5jdGlvbiBoYXNQbGF5ZXJzT25UZWFtKHRlYW06IG1vZC5UZWFtKTogYm9vbGVhbiB7CiAgICBpZiAobW9kLkVxdWFscyh0ZWFtLCBtb2QuR2V0VGVhbSgwKSkpIHJldHVybiBmYWxzZTsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgaWYgKG1vZC5FcXVhbHMobW9kLkdldFRlYW0ocCksIHRlYW0pKSByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKLy8gTm90aWZpY2F0aW9uIGNoYW5uZWwgd3JhcHBlcjsgcmVzcGVjdHMgZ2FtZXBsYXkvZGVidWcgZ2F0ZXMgYW5kIG9wdGlvbmFsIHRhcmdldC4KZnVuY3Rpb24gc2VuZE5vdGlmaWNhdGlvbk1lc3NhZ2UobWVzc2FnZTogbW9kLk1lc3NhZ2UsIGlzR2FtZXBsYXk6IGJvb2xlYW4sIHRhcmdldD86IG1vZC5QbGF5ZXIgfCBtb2QuVGVhbSk6IHZvaWQgewogICAgaWYgKCFzaG91bGRTZW5kTWVzc2FnZShpc0dhbWVwbGF5LCBmYWxzZSkpIHJldHVybjsKICAgIGlmICh0YXJnZXQpIHsKICAgICAgICAvLyBSb3V0ZSB0byB0aGUgY29ycmVjdCBvdmVybG9hZDsgVGVhbSBjYXN0LWFzLVBsYXllciBjYW4gc2lsZW50bHkgZHJvcCBtZXNzYWdlcyBhZnRlciB0ZWFtIHN3aXRjaGVzLgogICAgICAgIGlmIChtb2QuSXNUeXBlKHRhcmdldCwgbW9kLlR5cGVzLlRlYW0pKSB7CiAgICAgICAgICAgIGNvbnN0IHRlYW1UYXJnZXQgPSB0YXJnZXQgYXMgbW9kLlRlYW07CiAgICAgICAgICAgIGlmICghaGFzUGxheWVyc09uVGVhbSh0ZWFtVGFyZ2V0KSkgcmV0dXJuOwogICAgICAgICAgICBtb2QuRGlzcGxheU5vdGlmaWNhdGlvbk1lc3NhZ2UobWVzc2FnZSwgdGVhbVRhcmdldCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG1vZC5Jc1R5cGUodGFyZ2V0LCBtb2QuVHlwZXMuUGxheWVyKSkgewogICAgICAgICAgICBjb25zdCBwbGF5ZXJUYXJnZXQgPSB0YXJnZXQgYXMgbW9kLlBsYXllcjsKICAgICAgICAgICAgaWYgKCFwbGF5ZXJUYXJnZXQgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllclRhcmdldCkpIHJldHVybjsKICAgICAgICAgICAgbW9kLkRpc3BsYXlOb3RpZmljYXRpb25NZXNzYWdlKG1lc3NhZ2UsIHBsYXllclRhcmdldCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbW9kLkRpc3BsYXlOb3RpZmljYXRpb25NZXNzYWdlKG1lc3NhZ2UpOwp9CgovLyBXb3JsZC1sb2cgd3JhcHBlcjsgcmVzcGVjdHMgZ2FtZXBsYXkvZGVidWcgZ2F0ZXMgYW5kIG9wdGlvbmFsIHRhcmdldC4KZnVuY3Rpb24gc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKG1lc3NhZ2U6IG1vZC5NZXNzYWdlLCBpc0dhbWVwbGF5OiBib29sZWFuLCB0YXJnZXQ/OiBtb2QuUGxheWVyIHwgbW9kLlRlYW0sIGRlYnVnS2V5PzogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoIXNob3VsZFNlbmRNZXNzYWdlKGlzR2FtZXBsYXksIHRydWUpKSByZXR1cm47CiAgICBub3RlSGlnaGxpZ2h0ZWRNZXNzYWdlU2VudChkZWJ1Z0tleSk7CiAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgLy8gUm91dGUgdG8gdGhlIGNvcnJlY3Qgb3ZlcmxvYWQ7IFRlYW0gY2FzdC1hcy1QbGF5ZXIgY2FuIHNpbGVudGx5IGRyb3AgbWVzc2FnZXMgYWZ0ZXIgdGVhbSBzd2l0Y2hlcy4KICAgICAgICBpZiAobW9kLklzVHlwZSh0YXJnZXQsIG1vZC5UeXBlcy5UZWFtKSkgewogICAgICAgICAgICBjb25zdCB0ZWFtVGFyZ2V0ID0gdGFyZ2V0IGFzIG1vZC5UZWFtOwogICAgICAgICAgICBpZiAoIWhhc1BsYXllcnNPblRlYW0odGVhbVRhcmdldCkpIHJldHVybjsKICAgICAgICAgICAgbW9kLkRpc3BsYXlIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZShtZXNzYWdlLCB0ZWFtVGFyZ2V0KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAobW9kLklzVHlwZSh0YXJnZXQsIG1vZC5UeXBlcy5QbGF5ZXIpKSB7CiAgICAgICAgICAgIGNvbnN0IHBsYXllclRhcmdldCA9IHRhcmdldCBhcyBtb2QuUGxheWVyOwogICAgICAgICAgICBpZiAoIXBsYXllclRhcmdldCB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyVGFyZ2V0KSkgcmV0dXJuOwogICAgICAgICAgICBtb2QuRGlzcGxheUhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKG1lc3NhZ2UsIHBsYXllclRhcmdldCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbW9kLkRpc3BsYXlIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZShtZXNzYWdlKTsKfQoKCi8vIENQIHZpc2liaWxpdHkgZGVidWcgaGVscGVyIChoaWdobGlnaHRlZCB3b3JsZCBsb2cpLgpmdW5jdGlvbiBsb2dDYXB0dXJlUG9pbnRWaXNpYmlsaXR5RGVidWcobWVzc2FnZUtleTogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoIUVOQUJMRV9DUF9WSVNfREVCVUcpIHJldHVybjsKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShtZXNzYWdlS2V5KSwKICAgICAgICB0cnVlLAogICAgICAgIHVuZGVmaW5lZCwKICAgICAgICBtZXNzYWdlS2V5CiAgICApOwp9CgovLyBTeW5jaHJvbml6ZXMgSFVEIHdpbiBjb3VudGVycyBmcm9tIGF1dGhvcml0YXRpdmUgbWF0Y2ggc3RhdGUuCi8vIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBhbnkgYWRtaW4gb3IgZ2FtZXBsYXkgbXV0YXRpb24gb2YgU3RhdGUubWF0Y2gud2luc1QxL1QyLgpmdW5jdGlvbiBzeW5jV2luQ291bnRlcnNIdWRGcm9tR2FtZU1vZGVTY29yZSgpOiB2b2lkIHsKICAgIC8vIERlYnVnLW9ubHk6IGRvIG5vdCB1c2UgZm9yIGF1dGhvcml0YXRpdmUgc3RhdGU7IHB1bGxpbmcgZnJvbSBlbmdpbmUgaGVyZSBjYW4gbGF0Y2ggdHJhbnNpZW50IHZhbHVlcy4KICAgIGNvbnN0IHQxV2lucyA9IGdldE1hdGNoV2luc1RlYW0oVGVhbUlELlRlYW0xKTsKICAgIGNvbnN0IHQyV2lucyA9IGdldE1hdGNoV2luc1RlYW0oVGVhbUlELlRlYW0yKTsKCiAgICBTdGF0ZS5tYXRjaC53aW5zVDEgPSB0MVdpbnM7CiAgICBTdGF0ZS5tYXRjaC53aW5zVDIgPSB0MldpbnM7CiAgICBzeW5jUm91bmRSZWNvcmRIdWRGb3JBbGxQbGF5ZXJzKCk7CiAgICBzZXRUcmVuZGluZ1dpbm5lckNyb3duRm9yQWxsUGxheWVycygpOwoKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcmVmcyA9IGVuc3VyZUh1ZEZvclBsYXllcihwKTsKICAgICAgICBpZiAoIXJlZnMpIGNvbnRpbnVlOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMubGVmdFdpbnNUZXh0LCB0MVdpbnMpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMucmlnaHRXaW5zVGV4dCwgdDJXaW5zKTsKICAgIH0KfQoKZnVuY3Rpb24gZW5kR2FtZU1vZGVGb3JUZWFtTnVtKHRlYW1OdW06IFRlYW1JRCB8IDApOiB2b2lkIHsKICAgIGNvbnN0IHdpbm5pbmdUZWFtID0gbW9kLkdldFRlYW0odGVhbU51bSk7CgogICAgLy8gRW5kIHRoZSBtYXRjaCBieSB0ZWFtIGNvbnNpc3RlbnRseTsgZW5kaW5nICJieSBwbGF5ZXIiIGNhbiB5aWVsZCBpbmNvbnNpc3RlbnQgZW5naW5lIGZpbmFsaXphdGlvbgogICAgLy8gd2hlbiBwbGF5ZXJzIHJlY29ubmVjdCBvciBicmllZmx5IGpvaW4gZGlmZmVyZW50IHRlYW1zLgogICAgbW9kLkVuZEdhbWVNb2RlKHdpbm5pbmdUZWFtKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIENvcmUgZ2FtZXBsYXkgc3RhdGUgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gU2hhcmVkIElEIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZ1bmN0aW9uIGdldE9iaklkKG9iajogYW55KTogbnVtYmVyIHsKICAgIHJldHVybiBtb2QuR2V0T2JqSWQob2JqKTsKfQoKZnVuY3Rpb24gc2FmZUdldE9iaklkKG9iajogYW55KTogbnVtYmVyIHwgdW5kZWZpbmVkIHsKICAgIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gbW9kLkdldE9iaklkKG9iaik7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQp9CgovLyBHdWFyZGVkIHBpZCByZXNvbHV0aW9uIGZvciBkaXNjb25uZWN0IHJhY2Ugd2luZG93cyBpbiBob3QgcGF0aHMuCmZ1bmN0aW9uIHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXI6IG1vZC5QbGF5ZXIgfCBudWxsIHwgdW5kZWZpbmVkKTogbnVtYmVyIHwgdW5kZWZpbmVkIHsKICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm4gdW5kZWZpbmVkOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gbW9kLkdldE9iaklkKHBsYXllcik7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQp9CgpmdW5jdGlvbiBpc1BpZERpc2Nvbm5lY3RlZChwaWQ6IG51bWJlcik6IGJvb2xlYW4gewogICAgcmV0dXJuIFN0YXRlLnBsYXllcnMuZGlzY29ubmVjdGVkQnlQaWRbcGlkXSA9PT0gdHJ1ZTsKfQoKZnVuY3Rpb24gZ2V0VGVhbU51bWJlcih0ZWFtOiBtb2QuVGVhbSk6IFRlYW1JRCB8IDAgewogICAgaWYgKG1vZC5FcXVhbHModGVhbSwgbW9kLkdldFRlYW0oVGVhbUlELlRlYW0xKSkpIHJldHVybiBUZWFtSUQuVGVhbTE7CiAgICBpZiAobW9kLkVxdWFscyh0ZWFtLCBtb2QuR2V0VGVhbShUZWFtSUQuVGVhbTIpKSkgcmV0dXJuIFRlYW1JRC5UZWFtMjsKICAgIHJldHVybiAwOwp9CgpmdW5jdGlvbiBzYWZlR2V0VGVhbU51bWJlckZyb21QbGF5ZXIoCiAgICBwbGF5ZXI6IG1vZC5QbGF5ZXIgfCBudWxsIHwgdW5kZWZpbmVkLAogICAgZmFsbGJhY2s6IFRlYW1JRCB8IDAgPSAwCik6IFRlYW1JRCB8IDAgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiBmYWxsYmFjazsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGdldFRlYW1OdW1iZXIobW9kLkdldFRlYW0ocGxheWVyKSk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gZmFsbGJhY2s7CiAgICB9Cn0KCmZ1bmN0aW9uIGlzUGxheWVyRGVwbG95ZWQocGxheWVyOiBtb2QuUGxheWVyKTogYm9vbGVhbiB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIGZhbHNlOwogICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiAhIVN0YXRlLnBsYXllcnMuZGVwbG95ZWRCeVBpZFtwaWRdOwp9CgovLyBTYWZlIEdldFNvbGRpZXJTdGF0ZSB3cmFwcGVyczogYXZvaWQgZW5naW5lIGVycm9ycyBkdXJpbmcgdW5kZXBsb3kvY2xlYW51cCBhbmQga2VlcCBkZXBsb3kgc3RhdGUgaW4gc3luYy4KZnVuY3Rpb24gc2FmZUdldFNvbGRpZXJTdGF0ZUJvb2wocGxheWVyOiBtb2QuUGxheWVyLCBzdGF0ZUtleTogYW55LCBmYWxsYmFjazogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIGZhbGxiYWNrOwogICAgaWYgKCFpc1BsYXllckRlcGxveWVkKHBsYXllcikpIHJldHVybiBmYWxsYmFjazsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuICEhbW9kLkdldFNvbGRpZXJTdGF0ZShwbGF5ZXIsIHN0YXRlS2V5KTsKICAgIH0gY2F0Y2ggewogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXIpOwogICAgICAgIGlmIChwaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBTdGF0ZS5wbGF5ZXJzLmRlcGxveWVkQnlQaWRbcGlkXSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsbGJhY2s7CiAgICB9Cn0KCmZ1bmN0aW9uIHNhZmVHZXRTb2xkaWVyU3RhdGVWZWN0b3IocGxheWVyOiBtb2QuUGxheWVyLCBzdGF0ZUtleTogYW55KTogbW9kLlZlY3RvciB8IHVuZGVmaW5lZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChwbGF5ZXIpKSByZXR1cm4gdW5kZWZpbmVkOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gbW9kLkdldFNvbGRpZXJTdGF0ZShwbGF5ZXIsIHN0YXRlS2V5KSBhcyB1bmtub3duIGFzIG1vZC5WZWN0b3I7CiAgICB9IGNhdGNoIHsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgU3RhdGUucGxheWVycy5kZXBsb3llZEJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KfQoKZnVuY3Rpb24gZ2V0VGVhbU5hbWVLZXkodGVhbU51bTogVGVhbUlEIHwgMCk6IG51bWJlciB7CiAgICBpZiAodGVhbU51bSA9PT0gVGVhbUlELlRlYW0xKSByZXR1cm4gQUNUSVZFX01BUF9DT05GSUc/LnRlYW0xTmFtZSA/PyBtb2Quc3RyaW5na2V5cy50d2wudGVhbXMuV0VTVDsKICAgIGlmICh0ZWFtTnVtID09PSBUZWFtSUQuVGVhbTIpIHJldHVybiBBQ1RJVkVfTUFQX0NPTkZJRz8udGVhbTJOYW1lID8/IG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtcy5FQVNUOwogICAgcmV0dXJuIG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0udW5rbm93blBsYXllcjsKfQoKZnVuY3Rpb24gb3Bwb3NpbmdUZWFtKHRlYW1OdW06IFRlYW1JRCB8IDApOiBUZWFtSUQgfCAwIHsKICAgIGlmICh0ZWFtTnVtID09PSBUZWFtSUQuVGVhbTEpIHJldHVybiBUZWFtSUQuVGVhbTI7CiAgICBpZiAodGVhbU51bSA9PT0gVGVhbUlELlRlYW0yKSByZXR1cm4gVGVhbUlELlRlYW0xOwogICAgcmV0dXJuIDA7Cn0KCmZ1bmN0aW9uIHNhZmVGaW5kKG5hbWU6IHN0cmluZyk6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUobmFtZSwgbW9kLkdldFVJUm9vdCgpKSBhcyBtb2QuVUlXaWRnZXQ7CiAgICB9IGNhdGNoIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKG5hbWUpIGFzIG1vZC5VSVdpZGdldDsKICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICB9CiAgICB9Cn0KCi8vIE91dGxpbmVkIGJ1dHRvbiBoZWxwZXI6IHdyYXBzIGEgc29saWQgYnV0dG9uIGluc2lkZSBhIHRoaW4tb3V0bGluZSBjb250YWluZXIuCmZ1bmN0aW9uIGFkZE91dGxpbmVkQnV0dG9uKAogICAgYnV0dG9uSWQ6IHN0cmluZywKICAgIHBvc1g6IG51bWJlciwKICAgIHBvc1k6IG51bWJlciwKICAgIHNpemVYOiBudW1iZXIsCiAgICBzaXplWTogbnVtYmVyLAogICAgYW5jaG9yOiBtb2QuVUlBbmNob3IsCiAgICBwYXJlbnQ6IG1vZC5VSVdpZGdldCwKICAgIHBsYXllcjogbW9kLlBsYXllciwKICAgIGJvcmRlclBhZGRpbmc6IG51bWJlciA9IEJVVFRPTl9CT1JERVJfUEFERElORwopOiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQgewogICAgY29uc3QgYm9yZGVySWQgPSBgJHtidXR0b25JZH1fQk9SREVSYDsKICAgIGNvbnN0IGJvcmRlclNpemVYID0gc2l6ZVggKyAoYm9yZGVyUGFkZGluZyAqIDIpOwogICAgY29uc3QgYm9yZGVyU2l6ZVkgPSBzaXplWSArIChib3JkZXJQYWRkaW5nICogMik7CgogICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgIGJvcmRlcklkLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IocG9zWCwgcG9zWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3Rvcihib3JkZXJTaXplWCwgYm9yZGVyU2l6ZVksIDApLAogICAgICAgIGFuY2hvciwKICAgICAgICBwYXJlbnQsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIENPTE9SX0JVVFRPTl9CT1JERVIsCiAgICAgICAgQlVUVE9OX0JPUkRFUl9PUEFDSVRZLAogICAgICAgIG1vZC5VSUJnRmlsbC5PdXRsaW5lVGhpbiwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBwbGF5ZXIKICAgICk7CgogICAgY29uc3QgYm9yZGVyID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKGJvcmRlcklkLCBtb2QuR2V0VUlSb290KCkpOwogICAgY29uc3QgYnV0dG9uUGFyZW50ID0gYm9yZGVyID8/IHBhcmVudDsKCiAgICBtb2QuQWRkVUlCdXR0b24oCiAgICAgICAgYnV0dG9uSWQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKHNpemVYLCBzaXplWSwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICBidXR0b25QYXJlbnQsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIENPTE9SX0JVVFRPTl9CQVNFLAogICAgICAgIEJVVFRPTl9PUEFDSVRZX0JBU0UsCiAgICAgICAgbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgIHRydWUsCiAgICAgICAgQ09MT1JfQlVUVE9OX0JBU0UsCiAgICAgICAgQlVUVE9OX09QQUNJVFlfQkFTRSwKICAgICAgICBDT0xPUl9CVVRUT05fQkFTRSwKICAgICAgICBCVVRUT05fT1BBQ0lUWV9CQVNFLAogICAgICAgIENPTE9SX0JVVFRPTl9QUkVTU0VELAogICAgICAgIEJVVFRPTl9PUEFDSVRZX1BSRVNTRUQsCiAgICAgICAgQ09MT1JfQlVUVE9OX1NFTEVDVEVELAogICAgICAgIEJVVFRPTl9PUEFDSVRZX1NFTEVDVEVELAogICAgICAgIENPTE9SX0JVVFRPTl9TRUxFQ1RFRCwKICAgICAgICBCVVRUT05fT1BBQ0lUWV9TRUxFQ1RFRCwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBwbGF5ZXIKICAgICk7CgogICAgY29uc3QgYnV0dG9uID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKGJ1dHRvbklkLCBtb2QuR2V0VUlSb290KCkpOwogICAgaWYgKGJ1dHRvbiAmJiBib3JkZXIpIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoYnV0dG9uLCBib3JkZXIpOwogICAgfQoKICAgIHJldHVybiBib3JkZXIgPz8gdW5kZWZpbmVkOwp9CgpmdW5jdGlvbiBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICBsYWJlbElkOiBzdHJpbmcsCiAgICBzaXplWDogbnVtYmVyLAogICAgc2l6ZVk6IG51bWJlciwKICAgIGxhYmVsOiBudW1iZXIgfCBtb2QuTWVzc2FnZSwKICAgIHBsYXllcjogbW9kLlBsYXllciwKICAgIHBhcmVudDogbW9kLlVJV2lkZ2V0LAogICAgdGV4dFNpemU/OiBudW1iZXIKKTogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkIHsKICAgIGNvbnN0IGV4aXN0aW5nID0gc2FmZUZpbmQobGFiZWxJZCk7CiAgICBpZiAoZXhpc3RpbmcpIG1vZC5EZWxldGVVSVdpZGdldChleGlzdGluZyk7CgogICAgY29uc3QgY29uZmlnOiBhbnkgPSB7CiAgICAgICAgbmFtZTogbGFiZWxJZCwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICBwb3NpdGlvbjogWzAsIDBdLAogICAgICAgIHNpemU6IFtzaXplWCwgc2l6ZVldLAogICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgIHRleHRMYWJlbDogbGFiZWwsCiAgICAgICAgdGV4dENvbG9yOiBSRUFEWV9ESUFMT0dfQlVUVE9OX1RFWFRfQ09MT1JfUkdCLAogICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgfTsKICAgIGlmICh0eXBlb2YgdGV4dFNpemUgPT09ICJudW1iZXIiKSB7CiAgICAgICAgY29uZmlnLnRleHRTaXplID0gdGV4dFNpemU7CiAgICB9CgogICAgbW9kbGliLlBhcnNlVUkoY29uZmlnKTsKCiAgICBjb25zdCB3aWRnZXQgPSBzYWZlRmluZChsYWJlbElkKTsKICAgIGlmICh3aWRnZXQpIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQod2lkZ2V0LCBwYXJlbnQpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBvc2l0aW9uKHdpZGdldCwgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSk7CiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0U2l6ZSA9PT0gIm51bWJlciIpIHsKICAgICAgICAgICAgbW9kLlNldFVJVGV4dFNpemUod2lkZ2V0LCB0ZXh0U2l6ZSk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHdpZGdldDsKfQoKZnVuY3Rpb24gYXBwbHlSZWFkeURpYWxvZ0xhYmVsVGV4dENvbG9yKHdpZGdldD86IG1vZC5VSVdpZGdldCk6IHZvaWQgewogICAgaWYgKHdpZGdldCkgbW9kLlNldFVJVGV4dENvbG9yKHdpZGdldCwgUkVBRFlfRElBTE9HX0xBQkVMX1RFWFRfQ09MT1IpOwp9CgpmdW5jdGlvbiBhcHBseUFkbWluUGFuZWxMYWJlbFRleHRDb2xvcih3aWRnZXQ/OiBtb2QuVUlXaWRnZXQpOiB2b2lkIHsKICAgIGlmICh3aWRnZXQpIG1vZC5TZXRVSVRleHRDb2xvcih3aWRnZXQsIEFETUlOX1BBTkVMX0xBQkVMX1RFWFRfQ09MT1IpOwp9CgpmdW5jdGlvbiByZWZyZXNoUmVhZHlEaWFsb2dCdXR0b25UZXh0Rm9yUGlkKHBsYXllcjogbW9kLlBsYXllciwgcGlkOiBudW1iZXIsIGJhc2VDb250YWluZXI6IG1vZC5VSVdpZGdldCk6IHZvaWQgewogICAgY29uc3Qgc3dhcEJvcmRlciA9IHNhZmVGaW5kKFVJX1JFQURZX0RJQUxPR19CVVRUT05fU1dBUF9JRCArIHBpZCArICJfQk9SREVSIik7CiAgICBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9TV0FQX0xBQkVMX0lEICsgcGlkLAogICAgICAgIFJFQURZX0RJQUxPR19NQUlOX0JVVFRPTl9XSURUSCwKICAgICAgICBSRUFEWV9ESUFMT0dfTUFJTl9CVVRUT05fSEVJR0hULAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5idXR0b25zLnN3YXBUZWFtcywKICAgICAgICBwbGF5ZXIsCiAgICAgICAgc3dhcEJvcmRlciA/PyBiYXNlQ29udGFpbmVyCiAgICApOwoKICAgIGNvbnN0IHJlYWR5Qm9yZGVyID0gc2FmZUZpbmQoVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9SRUFEWV9JRCArIHBpZCArICJfQk9SREVSIik7CiAgICBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgVUlfUkVBRFlfRElBTE9HX0JVVFRPTl9SRUFEWV9MQUJFTF9JRCArIHBpZCwKICAgICAgICBSRUFEWV9ESUFMT0dfTUFJTl9CVVRUT05fV0lEVEgsCiAgICAgICAgUkVBRFlfRElBTE9HX01BSU5fQlVUVE9OX0hFSUdIVCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYnV0dG9ucy5yZWFkeSwKICAgICAgICBwbGF5ZXIsCiAgICAgICAgcmVhZHlCb3JkZXIgPz8gYmFzZUNvbnRhaW5lcgogICAgKTsKICAgIHVwZGF0ZVJlYWR5VG9nZ2xlQnV0dG9uRm9yVmlld2VyKHBsYXllciwgcGlkKTsKCiAgICBjb25zdCBjYW5jZWxCb3JkZXIgPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JVVFRPTl9DQU5DRUxfSUQgKyBwaWQgKyAiX0JPUkRFUiIpOwogICAgYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIFVJX1RFQU1TV0lUQ0hfQlVUVE9OX0NBTkNFTF9MQUJFTF9JRCArIHBpZCwKICAgICAgICBSRUFEWV9ESUFMT0dfTUFJTl9CVVRUT05fV0lEVEgsCiAgICAgICAgUkVBRFlfRElBTE9HX01BSU5fQlVUVE9OX0hFSUdIVCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wudGVhbVN3aXRjaC5idXR0b25zLmNhbmNlbCwKICAgICAgICBwbGF5ZXIsCiAgICAgICAgY2FuY2VsQm9yZGVyID8/IGJhc2VDb250YWluZXIKICAgICk7CgogICAgY29uc3QgYmVzdE9mRGVjQm9yZGVyID0gc2FmZUZpbmQoVUlfUkVBRFlfRElBTE9HX0JFU1RPRl9ERUNfSUQgKyBwaWQgKyAiX0JPUkRFUiIpOwogICAgYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDX0xBQkVMX0lEICsgcGlkLAogICAgICAgIFJFQURZX0RJQUxPR19TTUFMTF9CVVRUT05fV0lEVEgsCiAgICAgICAgUkVBRFlfRElBTE9HX1NNQUxMX0JVVFRPTl9IRUlHSFQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLnVpLm1pbnVzLAogICAgICAgIHBsYXllciwKICAgICAgICBiZXN0T2ZEZWNCb3JkZXIgPz8gYmFzZUNvbnRhaW5lciwKICAgICAgICAxNAogICAgKTsKICAgIGNvbnN0IGJlc3RPZkluY0JvcmRlciA9IHNhZmVGaW5kKFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DX0lEICsgcGlkICsgIl9CT1JERVIiKTsKICAgIGFkZENlbnRlcmVkQnV0dG9uVGV4dCgKICAgICAgICBVSV9SRUFEWV9ESUFMT0dfQkVTVE9GX0lOQ19MQUJFTF9JRCArIHBpZCwKICAgICAgICBSRUFEWV9ESUFMT0dfU01BTExfQlVUVE9OX1dJRFRILAogICAgICAgIFJFQURZX0RJQUxPR19TTUFMTF9CVVRUT05fSEVJR0hULAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC51aS5wbHVzLAogICAgICAgIHBsYXllciwKICAgICAgICBiZXN0T2ZJbmNCb3JkZXIgPz8gYmFzZUNvbnRhaW5lciwKICAgICAgICAxNAogICAgKTsKCiAgICBjb25zdCBtYXRjaHVwRGVjQm9yZGVyID0gc2FmZUZpbmQoVUlfUkVBRFlfRElBTE9HX01BVENIVVBfREVDX0lEICsgcGlkICsgIl9CT1JERVIiKTsKICAgIGFkZENlbnRlcmVkQnV0dG9uVGV4dCgKICAgICAgICBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9ERUNfTEFCRUxfSUQgKyBwaWQsCiAgICAgICAgUkVBRFlfRElBTE9HX1NNQUxMX0JVVFRPTl9XSURUSCwKICAgICAgICBSRUFEWV9ESUFMT0dfU01BTExfQlVUVE9OX0hFSUdIVCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wudWkubWludXMsCiAgICAgICAgcGxheWVyLAogICAgICAgIG1hdGNodXBEZWNCb3JkZXIgPz8gYmFzZUNvbnRhaW5lciwKICAgICAgICAxNAogICAgKTsKICAgIGNvbnN0IG1hdGNodXBJbmNCb3JkZXIgPSBzYWZlRmluZChVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9JTkNfSUQgKyBwaWQgKyAiX0JPUkRFUiIpOwogICAgYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0lOQ19MQUJFTF9JRCArIHBpZCwKICAgICAgICBSRUFEWV9ESUFMT0dfU01BTExfQlVUVE9OX1dJRFRILAogICAgICAgIFJFQURZX0RJQUxPR19TTUFMTF9CVVRUT05fSEVJR0hULAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC51aS5wbHVzLAogICAgICAgIHBsYXllciwKICAgICAgICBtYXRjaHVwSW5jQm9yZGVyID8/IGJhc2VDb250YWluZXIsCiAgICAgICAgMTQKICAgICk7Cn0KCi8vIFNhZmVseSByZXNvbHZlIGEgUGxheWVyIGJ5IHBpZCAobW9kLkdldE9iaklkKHBsYXllcikpLiBSZXR1cm5zIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuCmZ1bmN0aW9uIHNhZmVGaW5kUGxheWVyKHBpZDogbnVtYmVyKTogbW9kLlBsYXllciB8IHVuZGVmaW5lZCB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGlmIChtb2QuR2V0T2JqSWQocCkgPT09IHBpZCkgcmV0dXJuIHA7CiAgICB9CiAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFNoYXJlZCBJRCBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgVHlwZXMgKyBDYWNoZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFdlIGJ1aWxkIEhVRCBwZXItcGxheWVyIChwbGF5ZXJJZCByZWNlaXZlcikgYW5kIHN1ZmZpeCBuYW1lcyB3aXRoIHBpZCB0byBhdm9pZCBjb2xsaXNpb25zLgp0eXBlIEh1ZFJlZnMgPSB7CiAgICBwaWQ6IG51bWJlcjsKCiAgICAvLyBDb3VudGVyIHRleHQgd2lkZ2V0cyAod2Ugb25seSBuZWVkIHRvIHVwZGF0ZSB0aGVzZSkKICAgIHJvdW5kQ3VyVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHJvdW5kTWF4VGV4dD86IG1vZC5VSVdpZGdldDsKCiAgICBsZWZ0V2luc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICByaWdodFdpbnNUZXh0PzogbW9kLlVJV2lkZ2V0OwoKICAgIGxlZnRSZWNvcmRUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgcmlnaHRSZWNvcmRUZXh0PzogbW9kLlVJV2lkZ2V0OwoKICAgIGxlZnRSb3VuZEtpbGxzVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHJpZ2h0Um91bmRLaWxsc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICBsZWZ0Um91bmRLaWxsc0xhYmVsPzogbW9kLlVJV2lkZ2V0OwogICAgcmlnaHRSb3VuZEtpbGxzTGFiZWw/OiBtb2QuVUlXaWRnZXQ7CiAgICBsZWZ0VmVoaWNsZXNBbGl2ZVRleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICByaWdodFZlaGljbGVzQWxpdmVUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgbGVmdFJvdW5kS2lsbHNDcm93bj86IG1vZC5VSVdpZGdldDsKICAgIHJpZ2h0Um91bmRLaWxsc0Nyb3duPzogbW9kLlVJV2lkZ2V0OwogICAgbGVmdFRyZW5kaW5nV2lubmVyQ3Jvd24/OiBtb2QuVUlXaWRnZXQ7CiAgICByaWdodFRyZW5kaW5nV2lubmVyQ3Jvd24/OiBtb2QuVUlXaWRnZXQ7CgogICAgbGVmdEtpbGxzVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHJpZ2h0S2lsbHNUZXh0PzogbW9kLlVJV2lkZ2V0OwoKICAgIC8vIFZpY3RvcnkgcmVzdWx0cyBkaWFsb2cgd2lkZ2V0cyAoc2hvd24gZHVyaW5nIG1hdGNoIGVuZCBjb3VudGRvd24pCiAgICB2aWN0b3J5Um9vdD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlSZXN0YXJ0VGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlUaW1lSG91cnNUZW5zPzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVRpbWVIb3Vyc09uZXM/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5VGltZU1pbnV0ZXNUZW5zPzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVRpbWVNaW51dGVzT25lcz86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlUaW1lU2Vjb25kc1RlbnM/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5VGltZVNlY29uZHNPbmVzPzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVJvdW5kc1N1bW1hcnlUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeUFkbWluQWN0aW9uc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CgogICAgdmljdG9yeUxlZnRPdXRjb21lVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlMZWZ0UmVjb3JkVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlMZWZ0Um91bmRXaW5zVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlMZWZ0Um91bmRMb3NzZXNUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeUxlZnRSb3VuZFRpZXNUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeUxlZnRUb3RhbEtpbGxzVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlMZWZ0Q3Jvd24/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5TGVmdFJvc3RlclRleHQ/OiBBcnJheTxtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQ+OwoKICAgIHZpY3RvcnlSaWdodE91dGNvbWVUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVJpZ2h0UmVjb3JkVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlSaWdodFJvdW5kV2luc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5UmlnaHRSb3VuZExvc3Nlc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5UmlnaHRSb3VuZFRpZXNUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVJpZ2h0VG90YWxLaWxsc1RleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICB2aWN0b3J5UmlnaHRDcm93bj86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlSaWdodFJvc3RlclRleHQ/OiBBcnJheTxtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQ+OwogICAgdmljdG9yeVJvc3RlclJvdz86IG1vZC5VSVdpZGdldDsKICAgIHZpY3RvcnlSb3N0ZXJMZWZ0Q29udGFpbmVyPzogbW9kLlVJV2lkZ2V0OwogICAgdmljdG9yeVJvc3RlclJpZ2h0Q29udGFpbmVyPzogbW9kLlVJV2lkZ2V0OwoKICAgIC8vIFJvdW5kLWVuZCBkaWFsb2cgd2lkZ2V0cyAoc2hvd24gZHVyaW5nIHRoZSByb3VuZC1lbmQgcmVkZXBsb3kgd2luZG93KQogICAgcm91bmRFbmRSb290PzogbW9kLlVJV2lkZ2V0OwogICAgcm91bmRFbmRSb3VuZFRleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICByb3VuZEVuZE91dGNvbWVUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgcm91bmRFbmREZXRhaWxUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgYWRtaW5QYW5lbEFjdGlvbkNvdW50VGV4dD86IG1vZC5VSVdpZGdldDsKCiAgICBoZWxwVGV4dENvbnRhaW5lcj86IG1vZC5VSVdpZGdldDsKICAgIHJlYWR5U3RhdHVzQ29udGFpbmVyPzogbW9kLlVJV2lkZ2V0OwoKICAgIHNwYXduRGlzYWJsZWRMaXZlVGV4dD86IG1vZC5VSVdpZGdldDsKCiAgICAvLyBPcHRpb25hbCByb290cyAoZm9yIGNsZWFudXAgaWYgbmVlZGVkKQogICAgcm9vdHM6IG1vZC5VSVdpZGdldFtdOwp9OwoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEhVRCBUeXBlcyArIENhY2hlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gR2FtZSBTdGF0ZSBEZWZpbml0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBPdmVydGltZSBVSSB3aWRnZXQgY2FjaGVzIChwZXItcGxheWVyKS4gVGhlc2UgbWlycm9yIHRoZSBIVUQgY2FjaGluZyBwYXR0ZXJuIHVzZWQgZWxzZXdoZXJlLgp0eXBlIE92ZXJ0aW1lRmxhZ0h1ZFJlZnMgPSB7CiAgICByb290PzogbW9kLlVJV2lkZ2V0OwogICAgdGl0bGU/OiBtb2QuVUlXaWRnZXQ7CiAgICB0aXRsZVNoYWRvdz86IG1vZC5VSVdpZGdldDsKICAgIHN0YXR1cz86IG1vZC5VSVdpZGdldDsKICAgIHN0YXR1c1NoYWRvdz86IG1vZC5VSVdpZGdldDsKICAgIGNvdW50c0xlZnQ/OiBtb2QuVUlXaWRnZXQ7CiAgICBjb3VudHNSaWdodD86IG1vZC5VSVdpZGdldDsKICAgIGNvdW50c0xlZnRCb3JkZXI/OiBtb2QuVUlXaWRnZXQ7CiAgICBjb3VudHNSaWdodEJvcmRlcj86IG1vZC5VSVdpZGdldDsKICAgIHBlcmNlbnRMZWZ0Qmc/OiBtb2QuVUlXaWRnZXQ7CiAgICBwZXJjZW50UmlnaHRCZz86IG1vZC5VSVdpZGdldDsKICAgIHBlcmNlbnRMZWZ0PzogbW9kLlVJV2lkZ2V0OwogICAgcGVyY2VudFJpZ2h0PzogbW9kLlVJV2lkZ2V0OwogICAgY291bnRzTGVmdENyb3duPzogbW9kLlVJV2lkZ2V0OwogICAgY291bnRzUmlnaHRDcm93bj86IG1vZC5VSVdpZGdldDsKICAgIGJhckJnPzogbW9kLlVJV2lkZ2V0OwogICAgYmFyRmlsbFQxPzogbW9kLlVJV2lkZ2V0OwogICAgYmFyRmlsbFQyPzogbW9kLlVJV2lkZ2V0OwogICAgdmVoaWNsZVJlcXVpcmVkPzogbW9kLlVJV2lkZ2V0Owp9OwoKdHlwZSBPdmVydGltZUZsYWdHbG9iYWxIdWRSZWZzID0gewogICAgcm9vdD86IG1vZC5VSVdpZGdldDsKICAgIHRpdGxlPzogbW9kLlVJV2lkZ2V0OwogICAgYmFyQmc/OiBtb2QuVUlXaWRnZXQ7CiAgICBiYXJGaWxsVDE/OiBtb2QuVUlXaWRnZXQ7CiAgICBiYXJGaWxsVDI/OiBtb2QuVUlXaWRnZXQ7Cn07CgovLyBUcmFja3Mgem9uZSBtZW1iZXJzaGlwIGZvciBVSSB1cGRhdGVzICsgdmVoaWNsZSBkZWR1cGUgKHZlaGljbGVPYmpJZCA9IDAgd2hlbiBvbiBmb290KS4KdHlwZSBPdmVydGltZUZsYWdQbGF5ZXJab25lU3RhdGUgPSB7CiAgICBwbGF5ZXJPYmpJZDogbnVtYmVyOwogICAgdGVhbUlkOiBUZWFtSUQgfCAwOwogICAgdmVoaWNsZU9iaklkOiBudW1iZXI7Cn07CgovLyBMYXN0IHJlbmRlcmVkIHZhbHVlcyBmb3IgaW4tem9uZSBIVUQgdXBkYXRlcyAoYXZvaWQgcGVyLXRpY2sgVUkgY2h1cm4pLgp0eXBlIE92ZXJ0aW1lRmxhZ1VpU25hcHNob3QgPSB7CiAgICBwcm9ncmVzc1BlcmNlbnQ6IG51bWJlcjsKICAgIGxlZnRQZXJjZW50OiBudW1iZXI7CiAgICByaWdodFBlcmNlbnQ6IG51bWJlcjsKICAgIGJhckZpbGxUMVdpZHRoOiBudW1iZXI7CiAgICBiYXJGaWxsVDJXaWR0aDogbnVtYmVyOwogICAgdDFDb3VudDogbnVtYmVyOwogICAgdDJDb3VudDogbnVtYmVyOwogICAgc3RhdHVzS2V5OiBudW1iZXI7CiAgICBzdGF0dXNWYWx1ZTogbnVtYmVyOwogICAgc3RhdHVzVmlzaWJsZTogYm9vbGVhbjsKICAgIHRpdGxlS2V5OiBudW1iZXI7CiAgICB0aXRsZVZhbHVlOiBudW1iZXI7CiAgICBjb3VudHNWaXNpYmxlOiBib29sZWFuOwogICAgY291bnRzVXNlWDogYm9vbGVhbjsKICAgIGxlZnRCb3JkZXJWaXNpYmxlOiBib29sZWFuOwogICAgcmlnaHRCb3JkZXJWaXNpYmxlOiBib29sZWFuOwogICAgdmVoaWNsZVJlcXVpcmVkVmlzaWJsZTogYm9vbGVhbjsKfTsKCnR5cGUgVmVoaWNsZVNwYXduZXJTbG90ID0gewogICAgdGVhbUlkOiBUZWFtSUQ7CiAgICBzbG90TnVtYmVyOiBudW1iZXI7CiAgICBzcGF3bmVyOiBtb2QuVmVoaWNsZVNwYXduZXI7CiAgICBzcGF3bmVyT2JqSWQ6IG51bWJlcjsKICAgIHNwYXduUG9zOiBtb2QuVmVjdG9yOwogICAgc3Bhd25Sb3Q6IG1vZC5WZWN0b3I7CiAgICB2ZWhpY2xlVHlwZTogbW9kLlZlaGljbGVMaXN0OwogICAgZW5hYmxlZDogYm9vbGVhbjsKICAgIGVuYWJsZVRva2VuOiBudW1iZXI7CiAgICBzcGF3blJlcXVlc3RUb2tlbjogbnVtYmVyOwogICAgc3Bhd25SZXF1ZXN0QXRTZWNvbmRzOiBudW1iZXI7CiAgICBleHBlY3RpbmdTcGF3bjogYm9vbGVhbjsKICAgIHZlaGljbGVJZDogbnVtYmVyOwogICAgcmVzcGF3blJ1bm5pbmc6IGJvb2xlYW47CiAgICBzcGF3blJldHJ5U2NoZWR1bGVkOiBib29sZWFuOwp9OwoKLy8gR2FtZVN0YXRlIGNlbnRyYWxpemVzIGFsbCBtdXRhYmxlIG1hdGNoL3JvdW5kL1VJIHN0YXRlIHNvIHdyaXRlcyBhcmUgZXhwbGljaXQgYW5kIHNlYXJjaGFibGUuCmludGVyZmFjZSBHYW1lU3RhdGUgewogICAgcm91bmQ6IHsKICAgICAgICBjdXJyZW50OiBudW1iZXI7CiAgICAgICAgbWF4OiBudW1iZXI7CiAgICAgICAga2lsbHNUYXJnZXQ6IG51bWJlcjsKICAgICAgICBhdXRvU3RhcnRNaW5BY3RpdmVQbGF5ZXJzOiBudW1iZXI7CiAgICAgICAgbWF0Y2h1cFByZXNldEluZGV4OiBudW1iZXI7CiAgICAgICAgbGFzdE1hdGNodXBDaGFuZ2VBdFNlY29uZHM6IG51bWJlcjsKICAgICAgICBwaGFzZTogUm91bmRQaGFzZTsKICAgICAgICBsYXN0V2lubmVyVGVhbTogVGVhbUlEIHwgMDsKICAgICAgICBsYXN0RW5kRGV0YWlsUmVhc29uOiBSb3VuZEVuZERldGFpbFJlYXNvbjsKICAgICAgICBsYXN0T2JqZWN0aXZlUHJvZ3Jlc3M6IG51bWJlcjsKICAgICAgICBjbG9jazogewogICAgICAgICAgICBkdXJhdGlvblNlY29uZHM6IG51bWJlcjsKICAgICAgICAgICAgcm91bmRMZW5ndGhTZWNvbmRzOiBudW1iZXI7CiAgICAgICAgICAgIG1hdGNoU3RhcnRFbGFwc2VkU2Vjb25kcz86IG51bWJlcjsKICAgICAgICAgICAgcGF1c2VkUmVtYWluaW5nU2Vjb25kcz86IG51bWJlcjsKICAgICAgICAgICAgaXNQYXVzZWQ6IGJvb2xlYW47CiAgICAgICAgICAgIGxhc3REaXNwbGF5ZWRTZWNvbmRzPzogbnVtYmVyOwogICAgICAgICAgICBsYXN0TG93VGltZVN0YXRlPzogYm9vbGVhbjsKICAgICAgICAgICAgZXhwaXJ5RmlyZWQ6IGJvb2xlYW47CiAgICAgICAgICAgIGV4cGlyeUhhbmRsZXJzOiBBcnJheTwoKSA9PiB2b2lkPjsKICAgICAgICB9OwogICAgICAgIC8vIGNsZWFudXBBY3RpdmUgZ2F0ZXMgZGVwbG95L1VJIGR1cmluZyByb3VuZC1lbmQgcmVzZXQ7IGNsZWFudXBBbGxvd0RlcGxveSB0ZW1wb3JhcmlseSBvdmVycmlkZXMuCiAgICAgICAgZmxvdzogewogICAgICAgICAgICByb3VuZEVuZFJlZGVwbG95VG9rZW46IG51bWJlcjsKICAgICAgICAgICAgY2xvY2tFeHBpcnlCb3VuZDogYm9vbGVhbjsKICAgICAgICAgICAgY2xlYW51cEFjdGl2ZTogYm9vbGVhbjsKICAgICAgICAgICAgY2xlYW51cEFsbG93RGVwbG95OiBib29sZWFuOwogICAgICAgICAgICByb3VuZEVuZERpYWxvZ1Zpc2libGU6IGJvb2xlYW47CiAgICAgICAgICAgIC8vIExvY2tzIG92ZXJ0aW1lL0hVRCBVSSB1cGRhdGVzIG9uY2UgYSByb3VuZCBlbmRzIHRvIGF2b2lkIFVJIGNhbGxzIGR1cmluZyB0ZWFyZG93bi4KICAgICAgICAgICAgcm91bmRFbmRVaUxvY2tkb3duOiBib29sZWFuOwogICAgICAgIH07CiAgICAgICAgY291bnRkb3duOiB7CiAgICAgICAgICAgIGlzQWN0aXZlOiBib29sZWFuOwogICAgICAgICAgICBpc1JlcXVlc3RlZDogYm9vbGVhbjsKICAgICAgICAgICAgdG9rZW46IG51bWJlcjsKICAgICAgICAgICAgb3ZlckxpbmVNZXNzYWdlVG9rZW46IG51bWJlcjsKICAgICAgICB9OwogICAgfTsKICAgIC8vIE92ZXJ0aW1lIGZsYWcgY2FwdHVyZSBzdGF0ZSAocmVzZXQgb24gcm91bmQgc3RhcnQvZW5kKS4KICAgIC8vIFByb2dyZXNzIGlzIDAuLjEgKDAgPSBUZWFtMiBvd25zLCAxID0gVGVhbTEgb3ducywgMC41ID0gbmV1dHJhbCkuCiAgICAvLyB0MUNvdW50L3QyQ291bnQgdHJhY2sgdW5pcXVlIHZlaGljbGVzIGluIHRoZSB6b25lIChub3QgcGxheWVyIGNvdW50KS4KICAgIGZsYWc6IHsKICAgICAgICBzdGFnZTogT3ZlcnRpbWVTdGFnZTsKICAgICAgICBhY3RpdmU6IGJvb2xlYW47CiAgICAgICAgdHJhY2tpbmdFbmFibGVkOiBib29sZWFuOwogICAgICAgIHVubG9ja1JlbWluZGVyU2VudDogYm9vbGVhbjsKICAgICAgICBjb25maWdWYWxpZDogYm9vbGVhbjsKICAgICAgICAvLyBUcnVlIG9ubHkgd2hlbiBhbiBhZG1pbiBvdmVycmlkZSBhY3R1YWxseSBzZWxlY3RzIHRoZSB6b25lIGZvciB0aGlzIHJvdW5kLgogICAgICAgIG92ZXJyaWRlVXNlZFRoaXNSb3VuZDogYm9vbGVhbjsKICAgICAgICBjYW5kaWRhdGVab25lczogT3ZlcnRpbWVab25lU3BlY1tdOwogICAgICAgIGFjdGl2ZUFyZWFUcmlnZ2VySWQ/OiBudW1iZXI7CiAgICAgICAgYWN0aXZlQXJlYVRyaWdnZXI/OiBtb2QuQXJlYVRyaWdnZXI7CiAgICAgICAgYWN0aXZlU2VjdG9ySWQ/OiBudW1iZXI7CiAgICAgICAgYWN0aXZlU2VjdG9yPzogbW9kLlNlY3RvcjsKICAgICAgICBhY3RpdmVXb3JsZEljb25JZD86IG51bWJlcjsKICAgICAgICBhY3RpdmVXb3JsZEljb24/OiBtb2QuV29ybGRJY29uOwogICAgICAgIGFjdGl2ZUNhcHR1cmVQb2ludElkPzogbnVtYmVyOwogICAgICAgIGFjdGl2ZUNhcHR1cmVQb2ludD86IG1vZC5DYXB0dXJlUG9pbnQ7CiAgICAgICAgYWN0aXZlQ2FuZGlkYXRlSW5kZXg/OiBudW1iZXI7CiAgICAgICAgLy8gQ2FjaGVkIHN0cmluZyBrZXkgZm9yIHRoZSBzZWxlY3RlZCB6b25lIGxldHRlciAoQS1HKS4KICAgICAgICBzZWxlY3RlZFpvbmVMZXR0ZXJLZXk/OiBudW1iZXI7CiAgICAgICAgb3duZXJUZWFtOiBUZWFtSUQgfCAwOwogICAgICAgIHByb2dyZXNzOiBudW1iZXI7CiAgICAgICAgdDFDb3VudDogbnVtYmVyOwogICAgICAgIHQyQ291bnQ6IG51bWJlcjsKICAgICAgICBwbGF5ZXJzSW5ab25lQnlQaWQ6IFJlY29yZDxudW1iZXIsIE92ZXJ0aW1lRmxhZ1BsYXllclpvbmVTdGF0ZT47CiAgICAgICAgdmVoaWNsZU9jY3VwYW50c0J5VmlkOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+OwogICAgICAgIHZlaGljbGVUZWFtQnlWaWQ6IFJlY29yZDxudW1iZXIsIFRlYW1JRD47CiAgICAgICAgbGFzdFVpU25hcHNob3RCeVBpZDogUmVjb3JkPG51bWJlciwgT3ZlcnRpbWVGbGFnVWlTbmFwc2hvdD47CiAgICAgICAgbGFzdEdsb2JhbFByb2dyZXNzUGVyY2VudDogbnVtYmVyOwogICAgICAgIGxhc3RNZW1iZXJzaGlwUHJ1bmVBdFNlY29uZHM6IG51bWJlcjsKICAgICAgICB1aUJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBPdmVydGltZUZsYWdIdWRSZWZzPjsKICAgICAgICBnbG9iYWxVaUJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBPdmVydGltZUZsYWdHbG9iYWxIdWRSZWZzPjsKICAgICAgICB0aWNrVG9rZW46IG51bWJlcjsKICAgICAgICB0aWNrQWN0aXZlOiBib29sZWFuOwogICAgfTsKICAgIHNjb3JlczogewogICAgICAgIHQxUm91bmRLaWxsczogbnVtYmVyOwogICAgICAgIHQyUm91bmRLaWxsczogbnVtYmVyOwogICAgICAgIHQxVG90YWxLaWxsczogbnVtYmVyOwogICAgICAgIHQyVG90YWxLaWxsczogbnVtYmVyOwogICAgfTsKICAgIG1hdGNoOiB7CiAgICAgICAgd2luc1QxOiBudW1iZXI7CiAgICAgICAgd2luc1QyOiBudW1iZXI7CiAgICAgICAgbG9zc2VzVDE6IG51bWJlcjsKICAgICAgICBsb3NzZXNUMjogbnVtYmVyOwogICAgICAgIHRpZXNUMTogbnVtYmVyOwogICAgICAgIHRpZXNUMjogbnVtYmVyOwogICAgICAgIGlzRW5kZWQ6IGJvb2xlYW47CiAgICAgICAgdmljdG9yeURpYWxvZ0FjdGl2ZTogYm9vbGVhbjsKICAgICAgICB3aW5uZXJUZWFtPzogVGVhbUlEIHwgMDsKICAgICAgICBlbmRFbGFwc2VkU2Vjb25kc1NuYXBzaG90OiBudW1iZXI7CiAgICAgICAgdmljdG9yeVN0YXJ0RWxhcHNlZFNlY29uZHNTbmFwc2hvdDogbnVtYmVyOwogICAgICAgIGZsb3c6IHsKICAgICAgICAgICAgbWF0Y2hFbmREZWxheVRva2VuOiBudW1iZXI7CiAgICAgICAgfTsKICAgIH07CiAgICBhZG1pbjogewogICAgICAgIGFjdGlvbkNvdW50OiBudW1iZXI7CiAgICAgICAgZGVidWdMb29wQWN0aXZlOiBib29sZWFuOwogICAgICAgIHRpZUJyZWFrZXJPdmVycmlkZUluZGV4PzogbnVtYmVyOwogICAgICAgIC8vIE1hdGNoLWxldmVsIGZsYWcgaWYgYW55IHRpZS1icmVha2VyIG92ZXJyaWRlIHdhcyB1c2VkLgogICAgICAgIHRpZUJyZWFrZXJPdmVycmlkZVVzZWQ6IGJvb2xlYW47CiAgICB9OwogICAgZGVidWc6IHsKICAgICAgICBoaWdobGlnaHRlZE1lc3NhZ2VDb3VudDogbnVtYmVyOwogICAgICAgIGxhc3RIaWdobGlnaHRlZE1lc3NhZ2VBdFNlY29uZHM6IG51bWJlcjsKICAgICAgICBsYXN0SGlnaGxpZ2h0ZWRNZXNzYWdlS2V5OiBudW1iZXI7CiAgICB9OwogICAgcGxheWVyczogewogICAgICAgIHRlYW1Td2l0Y2hEYXRhOiBSZWNvcmQ8bnVtYmVyLCB0ZWFtU3dpdGNoRGF0YV90PjsKICAgICAgICByZWFkeUJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBib29sZWFuPjsKICAgICAgICByZWFkeU1lc3NhZ2VDb29sZG93bkJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+OwogICAgICAgIC8vIEpvaW4tdGltZSBwcm9tcHQ6IG9ubHkgb25jZSBwZXIgcGxheWVyLCByZWdhcmRsZXNzIG9mIHVuZGVwbG95IHJlcGVhdHMuCiAgICAgICAgam9pblByb21wdFNob3duQnlQaWQ6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+OwogICAgICAgIC8vICJOZXZlciBTaG93IEFnYWluIiBpcyBzdG9yZWQgcGVyIG1hcCBzbyBvdGhlciBtYXBzIGNhbiBzdGlsbCBzaG93IHRoZSBwcm9tcHQuCiAgICAgICAgam9pblByb21wdE5ldmVyU2hvd0J5UGlkTWFwOiBSZWNvcmQ8bnVtYmVyLCBQYXJ0aWFsPFJlY29yZDxNYXBLZXksIGJvb2xlYW4+Pj47CiAgICAgICAgLy8gSm9pbiBwcm9tcHQgc2VxdWVuY2luZyAodGlwcyArIHVubG9jayB0cmFja2luZykuCiAgICAgICAgam9pblByb21wdFJlYWR5RGlhbG9nT3BlbmVkQnlQaWQ6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+OwogICAgICAgIGpvaW5Qcm9tcHRUaXBJbmRleEJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+OwogICAgICAgIGpvaW5Qcm9tcHRUaXBzVW5sb2NrZWRCeVBpZDogUmVjb3JkPG51bWJlciwgYm9vbGVhbj47CiAgICAgICAgam9pblByb21wdFRyaXBsZVRhcEFybWVkQnlQaWQ6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+OwogICAgICAgIGluTWFpbkJhc2VCeVBpZDogUmVjb3JkPG51bWJlciwgYm9vbGVhbj47CiAgICAgICAgZGVwbG95ZWRCeVBpZDogUmVjb3JkPG51bWJlciwgYm9vbGVhbj47CiAgICAgICAgZGlzY29ubmVjdGVkQnlQaWQ6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+OwogICAgICAgIHVpSW5wdXRFbmFibGVkQnlQaWQ6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+OwogICAgICAgIHNwYXduRGlzYWJsZWRXYXJuaW5nVmlzaWJsZUJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBib29sZWFuPjsKICAgIH07CiAgICB2ZWhpY2xlczogewogICAgICAgIHNsb3RzOiBWZWhpY2xlU3Bhd25lclNsb3RbXTsKICAgICAgICB2ZWhpY2xlVG9TbG90OiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+OwogICAgICAgIHNwYXduU2VxdWVuY2VUb2tlbjogbnVtYmVyOwogICAgICAgIHNwYXduU2VxdWVuY2VJblByb2dyZXNzOiBib29sZWFuOwogICAgICAgIGFjdGl2ZVNwYXduU2xvdEluZGV4PzogbnVtYmVyOwogICAgICAgIGFjdGl2ZVNwYXduVG9rZW4/OiBudW1iZXI7CiAgICAgICAgYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHM/OiBudW1iZXI7CiAgICAgICAgY29uZmlnUmVhZHk6IGJvb2xlYW47CiAgICAgICAgc3RhcnR1cENsZWFudXBEb25lOiBib29sZWFuOwogICAgfTsKICAgIGh1ZENhY2hlOiB7CiAgICAgICAgbGFzdEh1ZFNjb3JlVDE/OiBudW1iZXI7CiAgICAgICAgbGFzdEh1ZFNjb3JlVDI/OiBudW1iZXI7CiAgICAgICAgbGFzdEh1ZFJvdW5kS2lsbHNUMT86IG51bWJlcjsKICAgICAgICBsYXN0SHVkUm91bmRLaWxsc1QyPzogbnVtYmVyOwogICAgICAgIGh1ZEJ5UGlkOiBSZWNvcmQ8bnVtYmVyLCBIdWRSZWZzPjsKICAgICAgICBjbG9ja1dpZGdldENhY2hlOiBSZWNvcmQ8bnVtYmVyLCBDbG9ja1dpZGdldENhY2hlRW50cnk+OwogICAgICAgIGNvdW50ZG93bldpZGdldENhY2hlOiBSZWNvcmQ8bnVtYmVyLCBDb3VudGRvd25XaWRnZXRDYWNoZUVudHJ5PjsKICAgICAgICBvdmVyTGluZVRpdGxlV2lkZ2V0Q2FjaGU6IFJlY29yZDxudW1iZXIsIENvdW50ZG93bldpZGdldENhY2hlRW50cnk+OwogICAgICAgIG92ZXJMaW5lU3VidGl0bGVXaWRnZXRDYWNoZTogUmVjb3JkPG51bWJlciwgQ291bnRkb3duV2lkZ2V0Q2FjaGVFbnRyeT47CiAgICAgICAgb3ZlckxpbmVUaXRsZVNoYWRvd1dpZGdldENhY2hlOiBSZWNvcmQ8bnVtYmVyLCBDb3VudGRvd25XaWRnZXRDYWNoZUVudHJ5PjsKICAgICAgICBvdmVyTGluZVN1YnRpdGxlU2hhZG93V2lkZ2V0Q2FjaGU6IFJlY29yZDxudW1iZXIsIENvdW50ZG93bldpZGdldENhY2hlRW50cnk+OwogICAgfTsKfQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0gQXV0aG9yaXRhdGl2ZSBTdGF0ZSBNYXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gUm91bmQgc3RhdGUgKHJlc2V0cyBhdCByb3VuZCBzdGFydCk6Ci8vIC0gU3RhdGUucm91bmQuY3VycmVudDogY3VycmVudCByb3VuZCBpbmRleCAoMS1iYXNlZCBkaXNwbGF5KS4KLy8gLSBTdGF0ZS5yb3VuZC5tYXg6IG51bWJlciBvZiByb3VuZHMgaW4gdGhlIG1hdGNoLgovLyAtIFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMgLyBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzOiBwb2ludHMgZWFybmVkIHRoaXMgcm91bmQgYnkgZWFjaCB0ZWFtLgovLyAtIFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0OiBwb2ludHMgbmVlZGVkIHRvIHdpbiB0aGUgcm91bmQuCi8vIC0gU3RhdGUucm91bmQucGhhc2U6IFJvdW5kUGhhc2UuTm90UmVhZHkgfCBSb3VuZFBoYXNlLkxpdmUgfCBSb3VuZFBoYXNlLkdhbWVPdmVyLgovLyAtIFN0YXRlLnJvdW5kLmNsb2NrLmR1cmF0aW9uU2Vjb25kczogYXV0aG9yaXRhdGl2ZSByZW1haW5pbmcgc2Vjb25kcyBpbiB0aGUgcm91bmQuCi8vIC0gU3RhdGUucm91bmQuY2xvY2sucm91bmRMZW5ndGhTZWNvbmRzOiByb3VuZC1zdGFydCBkdXJhdGlvbiB1c2VkIGZvciBoYWxmLXRpbWUgcmV2ZWFsIHRocmVzaG9sZHMuCi8vCi8vIE1hdGNoIHN0YXRlIChyZXNldHMgYXQgbWF0Y2ggc3RhcnQpOgovLyAtIFN0YXRlLm1hdGNoLndpbnNUMS9UMiwgU3RhdGUubWF0Y2gubG9zc2VzVDEvVDIsIFN0YXRlLm1hdGNoLnRpZXNUMS9UMjogbWF0Y2ggcmVjb3JkIGFjcm9zcyByb3VuZHMuCi8vIC0gU3RhdGUubWF0Y2guaXNFbmRlZDogaW5kaWNhdGVzIG1hdGNoIGlzIG92ZXIgYW5kIHZpY3RvcnkgZGlhbG9nIHNob3VsZCBiZSBzaG93bi4KLy8KLy8gVmVoaWNsZSByZWdpc3RyYXRpb24gKHBlcnNpc3RzIGFjcm9zcyByb3VuZCB0cmFuc2l0aW9ucyB1bmxlc3MgZXhwbGljaXRseSBjbGVhcmVkKToKLy8gLSByZWdWZWhpY2xlc1RlYW0xIChHbG9iYWxWYXJpYWJsZSAwKTogYXJyYXkgb2YgdmVoaWNsZXMgcmVnaXN0ZXJlZCB0byBUZWFtIDEuCi8vIC0gcmVnVmVoaWNsZXNUZWFtMiAoR2xvYmFsVmFyaWFibGUgMSk6IGFycmF5IG9mIHZlaGljbGVzIHJlZ2lzdGVyZWQgdG8gVGVhbSAyLgovLyAtIHZlaElkcy92ZWhPd25lcnM6IGJlc3QtZWZmb3J0ICdsYXN0IGRyaXZlcicgbWFwcGluZyB1c2VkIGZvciBtZXNzYWdlcyBvbmx5LgovLwovLyBVSSBjYWNoZXMgKHBlci1wbGF5ZXIsIHJlYnVpbHQgYXMgbmVlZGVkKToKLy8gLSBTdGF0ZS5odWRDYWNoZS5odWRCeVBpZFtwaWRdOiBjYWNoZWQgSFVEIHdpZGdldCByZWZlcmVuY2VzLgovLyAtIGRpYWxvZy93aWRnZXQgY2FjaGVzOiBjYWNoZWQgcmVmZXJlbmNlcyB0byBtb2RhbCBVSSBlbGVtZW50cyAodGVhbSBzd2l0Y2gsIHZpY3RvcnksIGNsb2NrIGRpZ2l0cykuCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQ2VudHJhbGl6ZWQgbXV0YWJsZSBzdGF0ZSBmb3IgbWF0Y2gvcm91bmQgZmxvdyBhbmQgVUkgY2FjaGVzLgpjb25zdCBTdGF0ZTogR2FtZVN0YXRlID0gewogICAgcm91bmQ6IHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIG1heDogTUFYX1JPVU5EUywKICAgICAgICBraWxsc1RhcmdldDogUk9VTkRfS0lMTFNfVEFSR0VULAogICAgICAgIGF1dG9TdGFydE1pbkFjdGl2ZVBsYXllcnM6IERFRkFVTFRfQVVUT19TVEFSVF9NSU5fQUNUSVZFX1BMQVlFUlMsCiAgICAgICAgbWF0Y2h1cFByZXNldEluZGV4OiBERUZBVUxUX01BVENIVVBfUFJFU0VUX0lOREVYLAogICAgICAgIGxhc3RNYXRjaHVwQ2hhbmdlQXRTZWNvbmRzOiAtOTk5LAogICAgICAgIHBoYXNlOiBSb3VuZFBoYXNlLk5vdFJlYWR5LAogICAgICAgIGxhc3RXaW5uZXJUZWFtOiAwLAogICAgICAgIGxhc3RFbmREZXRhaWxSZWFzb246IFJvdW5kRW5kRGV0YWlsUmVhc29uLk5vbmUsCiAgICAgICAgbGFzdE9iamVjdGl2ZVByb2dyZXNzOiAwLjUsCiAgICAgICAgY2xvY2s6IHsKICAgICAgICAgICAgZHVyYXRpb25TZWNvbmRzOiBST1VORF9DTE9DS19ERUZBVUxUX1NFQ09ORFMsCiAgICAgICAgICAgIHJvdW5kTGVuZ3RoU2Vjb25kczogUk9VTkRfQ0xPQ0tfREVGQVVMVF9TRUNPTkRTLAogICAgICAgICAgICBtYXRjaFN0YXJ0RWxhcHNlZFNlY29uZHM6IHVuZGVmaW5lZCwKICAgICAgICAgICAgcGF1c2VkUmVtYWluaW5nU2Vjb25kczogdW5kZWZpbmVkLAogICAgICAgICAgICBpc1BhdXNlZDogZmFsc2UsCiAgICAgICAgICAgIGxhc3REaXNwbGF5ZWRTZWNvbmRzOiB1bmRlZmluZWQsCiAgICAgICAgICAgIGxhc3RMb3dUaW1lU3RhdGU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgZXhwaXJ5RmlyZWQ6IGZhbHNlLAogICAgICAgICAgICBleHBpcnlIYW5kbGVyczogW10sCiAgICAgICAgfSwKICAgICAgICBmbG93OiB7CiAgICAgICAgICAgIHJvdW5kRW5kUmVkZXBsb3lUb2tlbjogMCwKICAgICAgICAgICAgY2xvY2tFeHBpcnlCb3VuZDogZmFsc2UsCiAgICAgICAgICAgIGNsZWFudXBBY3RpdmU6IGZhbHNlLAogICAgICAgICAgICBjbGVhbnVwQWxsb3dEZXBsb3k6IGZhbHNlLAogICAgICAgICAgICByb3VuZEVuZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgICAgICByb3VuZEVuZFVpTG9ja2Rvd246IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgY291bnRkb3duOiB7CiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSwKICAgICAgICAgICAgaXNSZXF1ZXN0ZWQ6IGZhbHNlLAogICAgICAgICAgICB0b2tlbjogMCwKICAgICAgICAgICAgb3ZlckxpbmVNZXNzYWdlVG9rZW46IDAsCiAgICAgICAgfSwKICAgIH0sCiAgICBmbGFnOiB7CiAgICAgICAgc3RhZ2U6IE92ZXJ0aW1lU3RhZ2UuTm9uZSwKICAgICAgICBhY3RpdmU6IGZhbHNlLAogICAgICAgIHRyYWNraW5nRW5hYmxlZDogZmFsc2UsCiAgICAgICAgdW5sb2NrUmVtaW5kZXJTZW50OiBmYWxzZSwKICAgICAgICBjb25maWdWYWxpZDogZmFsc2UsCiAgICAgICAgb3ZlcnJpZGVVc2VkVGhpc1JvdW5kOiBmYWxzZSwKICAgICAgICBjYW5kaWRhdGVab25lczogW10sCiAgICAgICAgYWN0aXZlQXJlYVRyaWdnZXJJZDogdW5kZWZpbmVkLAogICAgICAgIGFjdGl2ZUFyZWFUcmlnZ2VyOiB1bmRlZmluZWQsCiAgICAgICAgYWN0aXZlU2VjdG9ySWQ6IHVuZGVmaW5lZCwKICAgICAgICBhY3RpdmVTZWN0b3I6IHVuZGVmaW5lZCwKICAgICAgICBhY3RpdmVXb3JsZEljb25JZDogdW5kZWZpbmVkLAogICAgICAgIGFjdGl2ZVdvcmxkSWNvbjogdW5kZWZpbmVkLAogICAgICAgIGFjdGl2ZUNhcHR1cmVQb2ludElkOiB1bmRlZmluZWQsCiAgICAgICAgYWN0aXZlQ2FwdHVyZVBvaW50OiB1bmRlZmluZWQsCiAgICAgICAgYWN0aXZlQ2FuZGlkYXRlSW5kZXg6IHVuZGVmaW5lZCwKICAgICAgICBzZWxlY3RlZFpvbmVMZXR0ZXJLZXk6IHVuZGVmaW5lZCwKICAgICAgICBvd25lclRlYW06IDAsCiAgICAgICAgcHJvZ3Jlc3M6IDAuNSwKICAgICAgICB0MUNvdW50OiAwLAogICAgICAgIHQyQ291bnQ6IDAsCiAgICAgICAgcGxheWVyc0luWm9uZUJ5UGlkOiB7fSwKICAgICAgICB2ZWhpY2xlT2NjdXBhbnRzQnlWaWQ6IHt9LAogICAgICAgIHZlaGljbGVUZWFtQnlWaWQ6IHt9LAogICAgICAgIGxhc3RVaVNuYXBzaG90QnlQaWQ6IHt9LAogICAgICAgIGxhc3RHbG9iYWxQcm9ncmVzc1BlcmNlbnQ6IC0xLAogICAgICAgIGxhc3RNZW1iZXJzaGlwUHJ1bmVBdFNlY29uZHM6IDAsCiAgICAgICAgdWlCeVBpZDoge30sCiAgICAgICAgZ2xvYmFsVWlCeVBpZDoge30sCiAgICAgICAgdGlja1Rva2VuOiAwLAogICAgICAgIHRpY2tBY3RpdmU6IGZhbHNlLAogICAgfSwKICAgIHNjb3JlczogewogICAgICAgIHQxUm91bmRLaWxsczogMCwKICAgICAgICB0MlJvdW5kS2lsbHM6IDAsCiAgICAgICAgdDFUb3RhbEtpbGxzOiAwLAogICAgICAgIHQyVG90YWxLaWxsczogMCwKICAgIH0sCiAgICBtYXRjaDogewogICAgICAgIHdpbnNUMTogMCwKICAgICAgICB3aW5zVDI6IDAsCiAgICAgICAgbG9zc2VzVDE6IDAsCiAgICAgICAgbG9zc2VzVDI6IDAsCiAgICAgICAgdGllc1QxOiAwLAogICAgICAgIHRpZXNUMjogMCwKICAgICAgICBpc0VuZGVkOiBmYWxzZSwKICAgICAgICB2aWN0b3J5RGlhbG9nQWN0aXZlOiBmYWxzZSwKICAgICAgICB3aW5uZXJUZWFtOiB1bmRlZmluZWQsCiAgICAgICAgZW5kRWxhcHNlZFNlY29uZHNTbmFwc2hvdDogMCwKICAgICAgICB2aWN0b3J5U3RhcnRFbGFwc2VkU2Vjb25kc1NuYXBzaG90OiAwLAogICAgICAgIGZsb3c6IHsKICAgICAgICAgICAgbWF0Y2hFbmREZWxheVRva2VuOiAwLAogICAgICAgIH0sCiAgICB9LAogICAgYWRtaW46IHsKICAgICAgICBhY3Rpb25Db3VudDogMCwKICAgICAgICBkZWJ1Z0xvb3BBY3RpdmU6IGZhbHNlLAogICAgICAgIHRpZUJyZWFrZXJPdmVycmlkZUluZGV4OiB1bmRlZmluZWQsCiAgICAgICAgdGllQnJlYWtlck92ZXJyaWRlVXNlZDogZmFsc2UsCiAgICB9LAogICAgZGVidWc6IHsKICAgICAgICBoaWdobGlnaHRlZE1lc3NhZ2VDb3VudDogMCwKICAgICAgICBsYXN0SGlnaGxpZ2h0ZWRNZXNzYWdlQXRTZWNvbmRzOiAtMSwKICAgICAgICBsYXN0SGlnaGxpZ2h0ZWRNZXNzYWdlS2V5OiAtMSwKICAgIH0sCiAgICBwbGF5ZXJzOiB7CiAgICAgICAgdGVhbVN3aXRjaERhdGE6IHt9LAogICAgICAgIHJlYWR5QnlQaWQ6IHt9LAogICAgICAgIHJlYWR5TWVzc2FnZUNvb2xkb3duQnlQaWQ6IHt9LAogICAgICAgIGpvaW5Qcm9tcHRTaG93bkJ5UGlkOiB7fSwKICAgICAgICBqb2luUHJvbXB0TmV2ZXJTaG93QnlQaWRNYXA6IHt9LAogICAgICAgIGpvaW5Qcm9tcHRSZWFkeURpYWxvZ09wZW5lZEJ5UGlkOiB7fSwKICAgICAgICBqb2luUHJvbXB0VGlwSW5kZXhCeVBpZDoge30sCiAgICAgICAgam9pblByb21wdFRpcHNVbmxvY2tlZEJ5UGlkOiB7fSwKICAgICAgICBqb2luUHJvbXB0VHJpcGxlVGFwQXJtZWRCeVBpZDoge30sCiAgICAgICAgaW5NYWluQmFzZUJ5UGlkOiB7fSwKICAgICAgICBkZXBsb3llZEJ5UGlkOiB7fSwKICAgICAgICBkaXNjb25uZWN0ZWRCeVBpZDoge30sCiAgICAgICAgdWlJbnB1dEVuYWJsZWRCeVBpZDoge30sCiAgICAgICAgc3Bhd25EaXNhYmxlZFdhcm5pbmdWaXNpYmxlQnlQaWQ6IHt9LAogICAgfSwKICAgIHZlaGljbGVzOiB7CiAgICAgICAgc2xvdHM6IFtdLAogICAgICAgIHZlaGljbGVUb1Nsb3Q6IHt9LAogICAgICAgIHNwYXduU2VxdWVuY2VUb2tlbjogMCwKICAgICAgICBzcGF3blNlcXVlbmNlSW5Qcm9ncmVzczogZmFsc2UsCiAgICAgICAgYWN0aXZlU3Bhd25TbG90SW5kZXg6IHVuZGVmaW5lZCwKICAgICAgICBhY3RpdmVTcGF3blRva2VuOiB1bmRlZmluZWQsCiAgICAgICAgYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHM6IHVuZGVmaW5lZCwKICAgICAgICBjb25maWdSZWFkeTogZmFsc2UsCiAgICAgICAgc3RhcnR1cENsZWFudXBEb25lOiBmYWxzZSwKICAgIH0sCiAgICBodWRDYWNoZTogewogICAgICAgIGxhc3RIdWRTY29yZVQxOiB1bmRlZmluZWQsCiAgICAgICAgbGFzdEh1ZFNjb3JlVDI6IHVuZGVmaW5lZCwKICAgICAgICBsYXN0SHVkUm91bmRLaWxsc1QxOiB1bmRlZmluZWQsCiAgICAgICAgbGFzdEh1ZFJvdW5kS2lsbHNUMjogdW5kZWZpbmVkLAogICAgICAgIGh1ZEJ5UGlkOiB7fSwKICAgICAgICBjbG9ja1dpZGdldENhY2hlOiB7fSwKICAgICAgICBjb3VudGRvd25XaWRnZXRDYWNoZToge30sCiAgICAgICAgb3ZlckxpbmVUaXRsZVdpZGdldENhY2hlOiB7fSwKICAgICAgICBvdmVyTGluZVN1YnRpdGxlV2lkZ2V0Q2FjaGU6IHt9LAogICAgICAgIG92ZXJMaW5lVGl0bGVTaGFkb3dXaWRnZXRDYWNoZToge30sCiAgICAgICAgb3ZlckxpbmVTdWJ0aXRsZVNoYWRvd1dpZGdldENhY2hlOiB7fSwKICAgIH0sCn07CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gR2FtZSBTdGF0ZSBEZWZpbml0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgQ291bnRlciBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBzZXRDb3VudGVyVGV4dCh3aWRnZXQ6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCwgdmFsdWU6IG51bWJlcik6IHZvaWQgewogICAgaWYgKCF3aWRnZXQpIHJldHVybjsKICAgIHNhZmVTZXRVSVRleHRMYWJlbCh3aWRnZXQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsIE1hdGguZmxvb3IodmFsdWUpKSk7Cn0KCmZ1bmN0aW9uIHNldFJvdW5kUmVjb3JkVGV4dCh3aWRnZXQ6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCwgd2luczogbnVtYmVyLCBsb3NzZXM6IG51bWJlciwgdGllczogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoIXdpZGdldCkgcmV0dXJuOwogICAgc2FmZVNldFVJVGV4dExhYmVsKHdpZGdldCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZFJlY29yZEZvcm1hdCwgTWF0aC5mbG9vcih3aW5zKSwgTWF0aC5mbG9vcihsb3NzZXMpLCBNYXRoLmZsb29yKHRpZXMpKSk7Cn0KCmZ1bmN0aW9uIGdldFRyZW5kaW5nV2lubmVyVGVhbSgpOiBUZWFtSUQgfCAwIHsKICAgIGlmIChTdGF0ZS5tYXRjaC53aW5zVDEgPiBTdGF0ZS5tYXRjaC53aW5zVDIpIHJldHVybiBUZWFtSUQuVGVhbTE7CiAgICBpZiAoU3RhdGUubWF0Y2gud2luc1QyID4gU3RhdGUubWF0Y2gud2luc1QxKSByZXR1cm4gVGVhbUlELlRlYW0yOwogICAgcmV0dXJuIDA7Cn0KCmZ1bmN0aW9uIHNldFRyZW5kaW5nV2lubmVyQ3Jvd25Gb3JSZWZzKHJlZnM6IEh1ZFJlZnMgfCB1bmRlZmluZWQpOiB2b2lkIHsKICAgIGlmICghcmVmcykgcmV0dXJuOwogICAgY29uc3Qgd2lubmVyID0gZ2V0VHJlbmRpbmdXaW5uZXJUZWFtKCk7CiAgICBjb25zdCBzaG93TGVmdCA9IHdpbm5lciA9PT0gVGVhbUlELlRlYW0xOwogICAgY29uc3Qgc2hvd1JpZ2h0ID0gd2lubmVyID09PSBUZWFtSUQuVGVhbTI7CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHJlZnMubGVmdFRyZW5kaW5nV2lubmVyQ3Jvd24sIHNob3dMZWZ0KTsKICAgIHNhZmVTZXRVSVdpZGdldFZpc2libGUocmVmcy5yaWdodFRyZW5kaW5nV2lubmVyQ3Jvd24sIHNob3dSaWdodCk7Cn0KCmZ1bmN0aW9uIHNldFRyZW5kaW5nV2lubmVyQ3Jvd25Gb3JBbGxQbGF5ZXJzKCk6IHZvaWQgewogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCByZWZzID0gZW5zdXJlSHVkRm9yUGxheWVyKHApOwogICAgICAgIGlmICghcmVmcykgY29udGludWU7CiAgICAgICAgc2V0VHJlbmRpbmdXaW5uZXJDcm93bkZvclJlZnMocmVmcyk7CiAgICB9Cn0KCmZ1bmN0aW9uIHNldEFkbWluUGFuZWxBY3Rpb25Db3VudFRleHQod2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsIHZhbHVlOiBudW1iZXIpOiB2b2lkIHsKICAgIGlmICghd2lkZ2V0KSByZXR1cm47CiAgICBtb2QuU2V0VUlUZXh0TGFiZWwod2lkZ2V0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25Db3VudEZvcm1hdCwgTWF0aC5mbG9vcih2YWx1ZSkpKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEhVRCBDb3VudGVyIEhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBSb3VuZCBTdGF0ZSArIEhlbHAgVGV4dCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gc2V0Um91bmRTdGF0ZVRleHQod2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQpOiB2b2lkIHsKICAgIGlmICghd2lkZ2V0KSByZXR1cm47CgogICAgaWYgKFN0YXRlLnJvdW5kLnBoYXNlID09PSBSb3VuZFBoYXNlLkdhbWVPdmVyKSB7CiAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKHdpZGdldCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZFN0YXRlR2FtZU92ZXIpKTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3Iod2lkZ2V0LCBDT0xPUl9XQVJOSU5HX1lFTExPVyk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGlzTGl2ZSA9IGlzUm91bmRMaXZlKCk7CiAgICBjb25zdCBzdGF0ZUtleSA9IGlzTGl2ZSA/IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRTdGF0ZUxpdmUgOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLnJvdW5kU3RhdGVOb3RSZWFkeTsKCiAgICBtb2QuU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgd2lkZ2V0LAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRTdGF0ZUZvcm1hdCwgbW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZFRleHQsIE1hdGguZmxvb3IoU3RhdGUucm91bmQuY3VycmVudCksIHN0YXRlS2V5KQogICAgKTsKCiAgICAvLyBDb2xvcjogd2hpdGUgd2hlbiBMSVZFLCByZWQgd2hlbiBOT1QgUkVBRFkKICAgIG1vZC5TZXRVSVRleHRDb2xvcih3aWRnZXQsIGlzTGl2ZSA/IG1vZC5DcmVhdGVWZWN0b3IoMSwgMSwgMSkgOiBDT0xPUl9OT1RfUkVBRFlfUkVEKTsKfQoKZnVuY3Rpb24gc2V0Um91bmRMaXZlSGVscFRleHQoCiAgICByb290OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsCiAgICB0ZXh0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQKKTogdm9pZCB7CiAgICBpZiAoIXJvb3QgfHwgIXRleHQpIHJldHVybjsKCiAgICBjb25zdCBzaG93ID0gKCFTdGF0ZS5tYXRjaC5pc0VuZGVkKSAmJiAoaXNSb3VuZExpdmUoKSk7CiAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHJvb3QsIHNob3cpOwoKICAgIGlmICghc2hvdykgcmV0dXJuOwoKICAgIGNvbnN0IGxhYmVsID0gbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZExpdmVIZWxwRm9ybWF0LCBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0KSk7CiAgICBpZiAodGV4dCkgewogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh0ZXh0LCBsYWJlbCk7CiAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKHRleHQsIG1vZC5DcmVhdGVWZWN0b3IoMSwgMSwgMSkpOwogICAgfQp9CgpmdW5jdGlvbiBnZXRSb3VuZEtpbGxzTGFiZWxSb3VuZCgpOiBudW1iZXIgewogICAgaWYgKFN0YXRlLnJvdW5kLnBoYXNlID09PSBSb3VuZFBoYXNlLkxpdmUpIHJldHVybiBNYXRoLm1heCgxLCBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLmN1cnJlbnQpKTsKICAgIGlmIChTdGF0ZS5yb3VuZC5waGFzZSA9PT0gUm91bmRQaGFzZS5HYW1lT3ZlcikgcmV0dXJuIE1hdGgubWF4KDEsIE1hdGguZmxvb3IoU3RhdGUucm91bmQuY3VycmVudCkpOwogICAgcmV0dXJuIE1hdGgubWF4KDEsIE1hdGguZmxvb3IoU3RhdGUucm91bmQuY3VycmVudCAtIDEpKTsKfQoKZnVuY3Rpb24gc2V0Um91bmRLaWxsc0xhYmVsVGV4dEZvclJlZnMocmVmczogSHVkUmVmcyB8IHVuZGVmaW5lZCk6IHZvaWQgewogICAgaWYgKCFyZWZzKSByZXR1cm47CiAgICBjb25zdCBsYWJlbCA9IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnJvdW5kS2lsbHNXaXRoUm91bmRGb3JtYXQsIGdldFJvdW5kS2lsbHNMYWJlbFJvdW5kKCkpOwogICAgaWYgKHJlZnMubGVmdFJvdW5kS2lsbHNMYWJlbCkgbW9kLlNldFVJVGV4dExhYmVsKHJlZnMubGVmdFJvdW5kS2lsbHNMYWJlbCwgbGFiZWwpOwogICAgaWYgKHJlZnMucmlnaHRSb3VuZEtpbGxzTGFiZWwpIG1vZC5TZXRVSVRleHRMYWJlbChyZWZzLnJpZ2h0Um91bmRLaWxsc0xhYmVsLCBsYWJlbCk7Cn0KCmZ1bmN0aW9uIGdldENsb2NrVGltZVBhcnRzKHJlbWFpbmluZ1NlY29uZHM6IG51bWJlcik6IHsgbWludXRlczogbnVtYmVyOyBzZWNUZW5zOiBudW1iZXI7IHNlY09uZXM6IG51bWJlciB9IHsKICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHJlbWFpbmluZ1NlY29uZHMpKTsKICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGNsYW1wZWQgLyA2MCk7CiAgICBjb25zdCBzZWNvbmRzID0gY2xhbXBlZCAlIDYwOwogICAgY29uc3Qgc2VjVGVucyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDEwKTsKICAgIGNvbnN0IHNlY09uZXMgPSBzZWNvbmRzICUgMTA7CiAgICByZXR1cm4gewogICAgICAgIG1pbnV0ZXMsCiAgICAgICAgc2VjVGVucywKICAgICAgICBzZWNPbmVzLAogICAgfTsKfQoKLy8gVUkgaGFyZGVuaW5nIGhlbHBlcnMgc2tpcCB3b3JrIGlmIGEgd2lkZ2V0IGlzIG1pc3NpbmcgKFBhcnNlVUkgYW5kIHNhZmVGaW5kIGNhbiB5aWVsZCB1bmRlZmluZWQpLgovLyBUaGlzIHByZXZlbnRzIHJ1bnRpbWUgaXNzdWVzIGFuZCBhbHNvIGF2b2lkcyBUUyBlcnJvcnMgZnJvbSBwYXNzaW5nIFVJV2lkZ2V0IHwgdW5kZWZpbmVkIGludG8gbW9kLiogVUkgY2FsbHMuCmZ1bmN0aW9uIHNhZmVTZXRVSVdpZGdldFZpc2libGUod2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGlmICghd2lkZ2V0KSByZXR1cm47CiAgICB0cnkgewogICAgICAgIG1vZC5TZXRVSVdpZGdldFZpc2libGUod2lkZ2V0LCB2aXNpYmxlKTsKICAgIH0gY2F0Y2ggewogICAgICAgIHJldHVybjsKICAgIH0KfQoKZnVuY3Rpb24gc2FmZVNldFVJVGV4dExhYmVsKHdpZGdldDogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkLCBsYWJlbDogbW9kLk1lc3NhZ2UpOiB2b2lkIHsKICAgIGlmICghd2lkZ2V0KSByZXR1cm47CiAgICB0cnkgewogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh3aWRnZXQsIGxhYmVsKTsKICAgIH0gY2F0Y2ggewogICAgICAgIHJldHVybjsKICAgIH0KfQoKZnVuY3Rpb24gc2FmZVNldFVJVGV4dENvbG9yKHdpZGdldDogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkLCBjb2xvcjogbW9kLlZlY3Rvcik6IHZvaWQgewogICAgaWYgKCF3aWRnZXQpIHJldHVybjsKICAgIHRyeSB7CiAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKHdpZGdldCwgY29sb3IpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiBzYWZlU2V0VUlXaWRnZXREZXB0aCh3aWRnZXQ6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCwgZGVwdGg6IG1vZC5VSURlcHRoKTogdm9pZCB7CiAgICBpZiAoIXdpZGdldCkgcmV0dXJuOwogICAgdHJ5IHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXREZXB0aCh3aWRnZXQsIGRlcHRoKTsKICAgIH0gY2F0Y2ggewogICAgICAgIHJldHVybjsKICAgIH0KfQoKZnVuY3Rpb24gc2FmZUFkZFVJQ29udGFpbmVyKAogICAgbmFtZTogc3RyaW5nLAogICAgcG9zaXRpb246IG1vZC5WZWN0b3IsCiAgICBzaXplOiBtb2QuVmVjdG9yLAogICAgYW5jaG9yOiBtb2QuVUlBbmNob3IsCiAgICBwYXJlbnQ6IG1vZC5VSVdpZGdldCwKICAgIHZpc2libGU6IGJvb2xlYW4sCiAgICBwYWRkaW5nOiBudW1iZXIsCiAgICBjb2xvcjogbW9kLlZlY3RvciwKICAgIGFscGhhOiBudW1iZXIsCiAgICBmaWxsOiBtb2QuVUlCZ0ZpbGwsCiAgICBkZXB0aDogbW9kLlVJRGVwdGgsCiAgICBwbGF5ZXI6IG1vZC5QbGF5ZXIKKTogdm9pZCB7CiAgICB0cnkgewogICAgICAgIG1vZC5BZGRVSUNvbnRhaW5lcigKICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgcG9zaXRpb24sCiAgICAgICAgICAgIHNpemUsCiAgICAgICAgICAgIGFuY2hvciwKICAgICAgICAgICAgcGFyZW50LAogICAgICAgICAgICB2aXNpYmxlLAogICAgICAgICAgICBwYWRkaW5nLAogICAgICAgICAgICBjb2xvciwKICAgICAgICAgICAgYWxwaGEsCiAgICAgICAgICAgIGZpbGwsCiAgICAgICAgICAgIGRlcHRoLAogICAgICAgICAgICBwbGF5ZXIKICAgICAgICApOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiBzYWZlU2V0VUlXaWRnZXRTaXplKHdpZGdldDogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkLCBzaXplOiBtb2QuVmVjdG9yKTogdm9pZCB7CiAgICBpZiAoIXdpZGdldCkgcmV0dXJuOwogICAgdHJ5IHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRTaXplKHdpZGdldCwgc2l6ZSk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCmZ1bmN0aW9uIHNldFdpZGdldFZpc2libGUod2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGlmICghd2lkZ2V0KSByZXR1cm47CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHdpZGdldCwgdmlzaWJsZSk7Ci8vIFNldFVJVGV4dExhYmVsIG9ubHkgYWNjZXB0cyBtb2QuTWVzc2FnZTsgc3RyaW5nIGlucHV0cyBhcmUgdHJlYXRlZCBhcyBzdHJpbmcga2V5cyBhbmQgd3JhcHBlZCB3aXRoIG1vZC5NZXNzYWdlKGtleSkuCn0KCmZ1bmN0aW9uIHNldFdpZGdldFRleHQod2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsIGxhYmVsOiBzdHJpbmcgfCBtb2QuTWVzc2FnZSk6IHZvaWQgewogICAgaWYgKCF3aWRnZXQpIHJldHVybjsKICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHdpZGdldCwgbW9kLk1lc3NhZ2UobGFiZWwpKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBzYWZlU2V0VUlUZXh0TGFiZWwod2lkZ2V0LCBsYWJlbCk7Cn0KCmZ1bmN0aW9uIGVuc3VyZVRvcEh1ZFJvb3RGb3JQaWQocGlkOiBudW1iZXIsIHBsYXllcj86IG1vZC5QbGF5ZXIpOiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQgewogICAgY29uc3Qgcm9vdE5hbWUgPSBgVG9wSHVkUm9vdF8ke3BpZH1gOwogICAgbGV0IHJvb3QgPSBzYWZlRmluZChyb290TmFtZSk7CiAgICBpZiAoIXJvb3QgJiYgcGxheWVyKSB7CiAgICAgICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgICAgICByb290TmFtZSwKICAgICAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSwKICAgICAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihUT1BfSFVEX1JPT1RfV0lEVEgsIFRPUF9IVURfUk9PVF9IRUlHSFQsIDApLAogICAgICAgICAgICBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICBtb2QuR2V0VUlSb290KCksCiAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgIDAsCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgICAgIDAsCiAgICAgICAgICAgIG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICAgICAgcGxheWVyCiAgICAgICAgKTsKICAgICAgICByb290ID0gc2FmZUZpbmQocm9vdE5hbWUpOwogICAgfQoKICAgIGlmICghcm9vdCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIG1vZC5TZXRVSVdpZGdldERlcHRoKHJvb3QsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKCiAgICBjb25zdCByZXBhcmVudElkcyA9IFsKICAgICAgICAiQ29udGFpbmVyX1RvcE1pZGRsZV9Db3JlVUlfIiwKICAgICAgICAiQ29udGFpbmVyX1RvcExlZnRfQ29yZVVJXyIsCiAgICAgICAgIkNvbnRhaW5lcl9Ub3BSaWdodF9Db3JlVUlfIiwKICAgICAgICAiQ29udGFpbmVyX1RvcExlZnRfUm91bmRLaWxsc18iLAogICAgICAgICJDb250YWluZXJfVG9wUmlnaHRfUm91bmRLaWxsc18iLAogICAgICAgICJSb3VuZENvdW50ZXJDb250YWluZXJfIiwKICAgICAgICAiUm91bmRDb3VudGVyTWF4Q29udGFpbmVyXyIsCiAgICAgICAgIlRlYW1MZWZ0X1dpbnNfQ291bnRlcl8iLAogICAgICAgICJUZWFtUmlnaHRfV2luc19Db3VudGVyXyIsCiAgICAgICAgIlRlYW1MZWZ0X0tpbGxzX0NvdW50ZXJfIiwKICAgICAgICAiVGVhbVJpZ2h0X0tpbGxzX0NvdW50ZXJfIiwKICAgIF07CgogICAgZm9yIChjb25zdCBiYXNlIG9mIHJlcGFyZW50SWRzKSB7CiAgICAgICAgY29uc3Qgd2lkZ2V0ID0gc2FmZUZpbmQoYmFzZSArIHBpZCk7CiAgICAgICAgaWYgKCF3aWRnZXQpIGNvbnRpbnVlOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudCh3aWRnZXQsIHJvb3QpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldERlcHRoKHdpZGdldCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgfQoKICAgIGNvbnN0IHRvcEh1ZERlcHRoSWRzID0gWwogICAgICAgICJNYXRjaFRpbWVyUm9vdF8iLAogICAgICAgICJSb3VuZFN0YXRlUm9vdF8iLAogICAgXTsKICAgIGZvciAoY29uc3QgYmFzZSBvZiB0b3BIdWREZXB0aElkcykgewogICAgICAgIGNvbnN0IHdpZGdldCA9IHNhZmVGaW5kKGJhc2UgKyBwaWQpOwogICAgICAgIGlmICh3aWRnZXQpIG1vZC5TZXRVSVdpZGdldERlcHRoKHdpZGdldCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgfQoKICAgIHJldHVybiByb290Owp9CgpmdW5jdGlvbiBzZXRIdWRIZWxwRGVwdGhGb3JQaWQocGlkOiBudW1iZXIpOiB2b2lkIHsKICAgIGNvbnN0IGhlbHBJZHMgPSBbCiAgICAgICAgYENvbnRhaW5lcl9IZWxwVGV4dF8ke3BpZH1gLAogICAgICAgIGBIZWxwVGV4dF8ke3BpZH1gLAogICAgICAgIGBDb250YWluZXJfUmVhZHlTdGF0dXNfJHtwaWR9YCwKICAgICAgICBgUmVhZHlTdGF0dXNUZXh0XyR7cGlkfWAsCiAgICAgICAgYFBsYXllcnNSZWFkeVRleHRfJHtwaWR9YCwKICAgICAgICBgUm91bmRMaXZlSGVscFJvb3RfJHtwaWR9YCwKICAgICAgICBgUm91bmRMaXZlSGVscFRleHRfJHtwaWR9YCwKICAgIF07CiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgaGVscElkcykgewogICAgICAgIGNvbnN0IHdpZGdldCA9IHNhZmVGaW5kKG5hbWUpOwogICAgICAgIGlmICh3aWRnZXQpIG1vZC5TZXRVSVdpZGdldERlcHRoKHdpZGdldCwgbW9kLlVJRGVwdGguQmVsb3dHYW1lVUkpOwogICAgfQp9CgpmdW5jdGlvbiByZXBhcmVudFNwYXduRGlzYWJsZWRMaXZlVGV4dEZvclBpZChwaWQ6IG51bWJlciwgcGFyZW50T3ZlcnJpZGU/OiBtb2QuVUlXaWRnZXQpOiB2b2lkIHsKICAgIGNvbnN0IHdpZGdldCA9IHNhZmVGaW5kKGBTcGF3bkRpc2FibGVkTGl2ZVRleHRfJHtwaWR9YCk7CiAgICBpZiAoIXdpZGdldCkgcmV0dXJuOwogICAgY29uc3QgcGFyZW50ID0gcGFyZW50T3ZlcnJpZGUgPz8gc2FmZUZpbmQoam9pblByb21wdFJvb3ROYW1lKHBpZCkpID8/IG1vZC5HZXRVSVJvb3QoKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudCh3aWRnZXQsIHBhcmVudCk7CiAgICBtb2QuU2V0VUlXaWRnZXREZXB0aCh3aWRnZXQsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKfQoKZnVuY3Rpb24gZW5zdXJlU3Bhd25EaXNhYmxlZExpdmVUZXh0KHBsYXllcjogbW9kLlBsYXllcik6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCB7CiAgICBjb25zdCBwaWQgPSBnZXRPYmpJZChwbGF5ZXIpOwogICAgY29uc3QgZXhpc3RpbmcgPSBzYWZlRmluZChgU3Bhd25EaXNhYmxlZExpdmVUZXh0XyR7cGlkfWApOwogICAgaWYgKGV4aXN0aW5nKSB7CiAgICAgICAgcmVwYXJlbnRTcGF3bkRpc2FibGVkTGl2ZVRleHRGb3JQaWQocGlkKTsKICAgICAgICByZXR1cm4gZXhpc3Rpbmc7CiAgICB9CiAgICBjb25zdCBzcGF3bkRpc2FibGVkVGV4dCA9IG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiBgU3Bhd25EaXNhYmxlZExpdmVUZXh0XyR7cGlkfWAsCiAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICBwb3NpdGlvbjogWzAsIFNQQVdOX0RJU0FCTEVEX1RFWFRfUE9TX1ldLAogICAgICAgIHNpemU6IFtTUEFXTl9ESVNBQkxFRF9URVhUX1dJRFRILCBTUEFXTl9ESVNBQkxFRF9URVhUX0hFSUdIVF0sCiAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuQm90dG9tQ2VudGVyLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgYmdDb2xvcjogWzAsIDAsIDBdLAogICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgdGV4dExhYmVsOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLnNwYXduRGlzYWJsZWRMaXZlLAogICAgICAgIHRleHRDb2xvcjogU1BBV05fRElTQUJMRURfVEVYVF9DT0xPUl9SR0IsCiAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgIHRleHRTaXplOiBTUEFXTl9ESVNBQkxFRF9URVhUX1NJWkUsCiAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgIH0pOwogICAgaWYgKHNwYXduRGlzYWJsZWRUZXh0KSB7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0RGVwdGgoc3Bhd25EaXNhYmxlZFRleHQsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKICAgICAgICByZXBhcmVudFNwYXduRGlzYWJsZWRMaXZlVGV4dEZvclBpZChwaWQpOwogICAgfQogICAgcmV0dXJuIHNwYXduRGlzYWJsZWRUZXh0Owp9CgpmdW5jdGlvbiBzZXRTcGF3bkRpc2FibGVkTGl2ZVRleHRWaXNpYmxlRm9yUGxheWVyKHBsYXllcjogbW9kLlBsYXllciwgdmlzaWJsZTogYm9vbGVhbik6IHZvaWQgewogICAgY29uc3QgcmVmcyA9IGVuc3VyZUh1ZEZvclBsYXllcihwbGF5ZXIpOwogICAgaWYgKCFyZWZzIHx8ICFyZWZzLnNwYXduRGlzYWJsZWRMaXZlVGV4dCkgcmV0dXJuOwogICAgc2FmZVNldFVJV2lkZ2V0VmlzaWJsZShyZWZzLnNwYXduRGlzYWJsZWRMaXZlVGV4dCwgdmlzaWJsZSk7Cn0KCmZ1bmN0aW9uIHNldFNwYXduRGlzYWJsZWRMaXZlVGV4dFZpc2libGVGb3JBbGxQbGF5ZXJzKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgc2V0U3Bhd25EaXNhYmxlZExpdmVUZXh0VmlzaWJsZUZvclBsYXllcihwLCB2aXNpYmxlKTsKICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlU3Bhd25EaXNhYmxlZFdhcm5pbmdGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuOwogICAgY29uc3QgcGlkID0gZ2V0T2JqSWQocGxheWVyKTsKICAgIGNvbnN0IHNob3VsZFNob3cgPSBESVNBQkxFX1JFU1BBV05fRFVSSU5HX0xJVkVfUk9VTkQgJiYgaXNSb3VuZExpdmUoKSAmJiAhaXNQbGF5ZXJEZXBsb3llZChwbGF5ZXIpOwogICAgY29uc3QgbGFzdFZpc2libGUgPSBTdGF0ZS5wbGF5ZXJzLnNwYXduRGlzYWJsZWRXYXJuaW5nVmlzaWJsZUJ5UGlkW3BpZF0gPz8gZmFsc2U7CiAgICBpZiAoc2hvdWxkU2hvdyA9PT0gbGFzdFZpc2libGUpIHJldHVybjsKICAgIFN0YXRlLnBsYXllcnMuc3Bhd25EaXNhYmxlZFdhcm5pbmdWaXNpYmxlQnlQaWRbcGlkXSA9IHNob3VsZFNob3c7CiAgICBjb25zdCB3aWRnZXQgPSBlbnN1cmVTcGF3bkRpc2FibGVkTGl2ZVRleHQocGxheWVyKTsKICAgIHNhZmVTZXRVSVdpZGdldFZpc2libGUod2lkZ2V0LCBzaG91bGRTaG93KTsKfQoKLyoqCiAqIFNldHMgdGhlIHNoYXJlZCByb3VuZCBzdGF0ZSB0ZXh0IChlLmcuLCBOT1QgUkVBRFkgLyBMSVZFIC8gR0FNRSBPVkVSKSBmb3IgZXZlcnkgcGxheWVyJ3MgSFVELgogKiBUaGlzIGlzIGEgYnJvYWRjYXN0LXN0eWxlIFVJIHVwZGF0ZToKICogLSBJdCBkb2VzIG5vdCBtdXRhdGUgcm91bmQgc3RhdGU7IGl0IHJlZmxlY3RzIHdoYXRldmVyIGF1dGhvcml0YXRpdmUgc3RhdGUgYWxyZWFkeSBleGlzdHMuCiAqIC0gSXQgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciBhbnkgY2hhbmdlIHRoYXQgYWZmZWN0cyB0aGUgcm91bmQgcGhhc2Ugc28gSFVEcyByZW1haW4gY29uc2lzdGVudC4KICovCgpmdW5jdGlvbiBzZXRSb3VuZFN0YXRlVGV4dEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IGNhY2hlID0gZW5zdXJlQ2xvY2tVSUFuZEdldENhY2hlKHApOwogICAgICAgIGlmICghY2FjaGUpIGNvbnRpbnVlOwogICAgICAgIHNldFJvdW5kU3RhdGVUZXh0KGNhY2hlLnJvdW5kU3RhdGVUZXh0KTsKICAgICAgICBzZXRSb3VuZExpdmVIZWxwVGV4dChjYWNoZS5yb3VuZExpdmVIZWxwUm9vdCwgY2FjaGUucm91bmRMaXZlSGVscFRleHQpOwogICAgICAgIGNvbnN0IHJlZnMgPSBlbnN1cmVIdWRGb3JQbGF5ZXIocCk7CiAgICAgICAgaWYgKHJlZnMpIHNldFJvdW5kS2lsbHNMYWJlbFRleHRGb3JSZWZzKHJlZnMpOwogICAgfQogICAgLy8gS2VlcCB0aGUgcHJlLXJvdW5kIHJlYWR5IGNvdW50IGxpbmUgaW4gc3luYyB3aXRoIGFueSByb3VuZC1waGFzZSBIVUQgcmVmcmVzaC4KICAgIHVwZGF0ZVBsYXllcnNSZWFkeUh1ZFRleHRGb3JBbGxQbGF5ZXJzKCk7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBIVUQgUm91bmQgU3RhdGUgKyBIZWxwIFRleHQgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBSZWFkeSBDb3VudCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLyoqCiAqIFVwZGF0ZXMgdGhlIHllbGxvdyBIVUQgbGluZTogIlggLyBZIFBMQVlFUlMgUkVBRFkiIChwcmUtcm91bmQgb25seSkuCiAqIFZpc2liaWxpdHkgcnVsZXM6CiAqIC0gT25seSBzaG93biB3aGlsZSBwcmVwYXJpbmcgZm9yIGEgbmV3IHJvdW5kIChyb3VuZCBOT1QgbGl2ZSkuCiAqIC0gSGlkZGVuIGR1cmluZyBnYW1lLW92ZXIgLyB2aWN0b3J5IGRpYWxvZyBwaGFzZXMuCiAqIC0gUmVtYWlucyB2aXNpYmxlIHVudGlsIHRoZSByb3VuZCBpcyBhY3R1YWxseSBsaXZlIChpc1JvdW5kTGl2ZSgpID09PSB0cnVlKS4KICogSU1QT1JUQU5UOiBBbnkgY29kZSBwYXRoIHRoYXQgY2hhbmdlcyBTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWQgTVVTVCBhbHNvIHJlZnJlc2g6CiAqICAgLSB1cGRhdGVQbGF5ZXJzUmVhZHlIdWRUZXh0Rm9yQWxsUGxheWVycygpCiAqICAgLSByZW5kZXJSZWFkeURpYWxvZ0ZvckFsbFZpc2libGVWaWV3ZXJzKCkgKGlmIHRoZSBkaWFsb2cgY2FuIGJlIG9wZW4pCiAqIHRvIHByZXZlbnQgc3RhbGUgSFVEL3Jvc3RlciBzdGF0ZSAoZS5nLiwgYWZ0ZXIgc3dhcCB0ZWFtcyBvciBsZWF2aW5nIGJhc2UgZm9yY2VzIE5PVCBSRUFEWSkuCiAqLwpmdW5jdGlvbiB1cGRhdGVQbGF5ZXJzUmVhZHlIdWRUZXh0Rm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIC8vIENvbXB1dGUgY291bnRzIG9uY2UsIHRoZW4gYnJvYWRjYXN0IHRoZSBzYW1lIGxhYmVsIHRvIGFsbCB2aWV3ZXJzLgogICAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlUGxheWVycygpOwogICAgY29uc3QgdG90YWwgPSBhY3RpdmUuYWxsLmxlbmd0aDsKCiAgICBsZXQgcmVhZHlDb3VudCA9IDA7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQoYWN0aXZlLmFsbFtpXSk7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTsKICAgICAgICBpZiAoU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3BpZF0pIHJlYWR5Q291bnQrKzsKICAgIH0KCiAgICBjb25zdCBzaG91bGRTaG93ID0gIVN0YXRlLm1hdGNoLmlzRW5kZWQgJiYgIVN0YXRlLm1hdGNoLnZpY3RvcnlEaWFsb2dBY3RpdmU7CgogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCBjYWNoZSA9IGVuc3VyZUNsb2NrVUlBbmRHZXRDYWNoZShwKTsKICAgICAgICBpZiAoIWNhY2hlIHx8ICFjYWNoZS5wbGF5ZXJzUmVhZHlUZXh0KSBjb250aW51ZTsKCiAgICAgICAgLy8gVG9nZ2xlIHZpc2liaWxpdHkgZmlyc3Qgc28gd2UgY2FuIGF2b2lkIHVubmVjZXNzYXJ5IGxhYmVsIGNodXJuIHdoZW4gaGlkZGVuLgogICAgICAgIHNhZmVTZXRVSVdpZGdldFZpc2libGUoY2FjaGUucGxheWVyc1JlYWR5VGV4dCwgc2hvdWxkU2hvdyk7CiAgICAgICAgaWYgKCFzaG91bGRTaG93KSBjb250aW51ZTsKCiAgICAgICAgbGV0IGxhYmVsOiBtb2QuTWVzc2FnZTsKICAgICAgICBpZiAoaXNSb3VuZExpdmUoKSkgewogICAgICAgICAgICBjb25zdCBwcmVzZXQgPSBNQVRDSFVQX1BSRVNFVFNbU3RhdGUucm91bmQubWF0Y2h1cFByZXNldEluZGV4XTsKICAgICAgICAgICAgbGFiZWwgPSBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cubWF0Y2h1cEZvcm1hdCwgcHJlc2V0LmxlZnRQbGF5ZXJzLCBwcmVzZXQucmlnaHRQbGF5ZXJzKTsKICAgICAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKGNhY2hlLnBsYXllcnNSZWFkeVRleHQsIGxhYmVsKTsKICAgICAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKGNhY2hlLnBsYXllcnNSZWFkeVRleHQsIENPTE9SX05PUk1BTCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGFiZWwgPSBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLnBsYXllcnNSZWFkeUZvcm1hdCwgcmVhZHlDb3VudCwgdG90YWwpOwogICAgICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoY2FjaGUucGxheWVyc1JlYWR5VGV4dCwgbGFiZWwpOwogICAgICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IoY2FjaGUucGxheWVyc1JlYWR5VGV4dCwgQ09MT1JfV0FSTklOR19ZRUxMT1cpOwogICAgICAgIH0KICAgIH0KfQoKLy8gTGlnaHR3ZWlnaHQgaGVscGVyIGZvciByZWFkeS11cCBicm9hZGNhc3RzIChhdm9pZHMgcmVjb21wdXRpbmcgY291bnRzIGluIFVJIGhhbmRsZXJzKS4KZnVuY3Rpb24gZ2V0UmVhZHlDb3VudHNGb3JNZXNzYWdlKCk6IHsgcmVhZHlDb3VudDogbnVtYmVyOyB0b3RhbENvdW50OiBudW1iZXIgfSB7CiAgICBjb25zdCBhY3RpdmUgPSBnZXRBY3RpdmVQbGF5ZXJzKCk7CiAgICBjb25zdCB0b3RhbENvdW50ID0gYWN0aXZlLmFsbC5sZW5ndGg7CiAgICBsZXQgcmVhZHlDb3VudCA9IDA7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsQ291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChhY3RpdmUuYWxsW2ldKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIGNvbnRpbnVlOwogICAgICAgIGlmIChTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXSkgcmVhZHlDb3VudCsrOwogICAgfQogICAgcmV0dXJuIHsgcmVhZHlDb3VudCwgdG90YWxDb3VudCB9Owp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIFJlYWR5IENvdW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgVmljdG9yeSBEaWFsb2cgVXBkYXRlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gZ2V0RWxhcHNlZEhtc1BhcnRzKHRvdGFsU2Vjb25kczogbnVtYmVyKTogeyBob3VyczogbnVtYmVyOyBtaW51dGVzOiBudW1iZXI7IHNlY29uZHM6IG51bWJlciB9IHsKICAgIGNvbnN0IHNlYyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodG90YWxTZWNvbmRzKSk7CiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2VjIC8gMzYwMCk7CiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2VjICUgMzYwMCkgLyA2MCk7CiAgICBjb25zdCBzZWNvbmRzID0gc2VjICUgNjA7CiAgICByZXR1cm4geyBob3VycywgbWludXRlcywgc2Vjb25kcyB9Owp9CgpmdW5jdGlvbiBzZXRWaWN0b3J5V2lubmVyQ3Jvd25Gb3JSZWZzKHJlZnM6IEh1ZFJlZnMgfCB1bmRlZmluZWQpOiB2b2lkIHsKICAgIGlmICghcmVmcykgcmV0dXJuOwogICAgY29uc3Qgd2lubmVyID0gZ2V0VHJlbmRpbmdXaW5uZXJUZWFtKCk7CiAgICBjb25zdCBzaG93TGVmdCA9IHdpbm5lciA9PT0gVGVhbUlELlRlYW0xOwogICAgY29uc3Qgc2hvd1JpZ2h0ID0gd2lubmVyID09PSBUZWFtSUQuVGVhbTI7CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHJlZnMudmljdG9yeUxlZnRDcm93biwgc2hvd0xlZnQpOwogICAgc2FmZVNldFVJV2lkZ2V0VmlzaWJsZShyZWZzLnZpY3RvcnlSaWdodENyb3duLCBzaG93UmlnaHQpOwp9CgpmdW5jdGlvbiB1cGRhdGVWaWN0b3J5RGlhbG9nUm9zdGVyU2l6aW5nKHJlZnM6IEh1ZFJlZnMsIHJvc3RlclJvd3M6IG51bWJlcik6IHZvaWQgewogICAgY29uc3QgY2xhbXBlZFJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihURUFNX1JPU1RFUl9NQVhfUk9XUywgTWF0aC5mbG9vcihyb3N0ZXJSb3dzKSkpOwogICAgY29uc3Qgcm9zdGVySGVpZ2h0ID0gVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19QQURESU5HX1RPUCArIChjbGFtcGVkUm93cyAqIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfSEVJR0hUKSArIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfUEFERElOR19CT1RUT007CiAgICBjb25zdCBkaWFsb2dIZWlnaHQgPSBWSUNUT1JZX0RJQUxPR19ST1NURVJfUk9XX1kgKyByb3N0ZXJIZWlnaHQgKyBWSUNUT1JZX0RJQUxPR19CT1RUT01fUEFERElORzsKCiAgICBpZiAocmVmcy52aWN0b3J5Um9vdCkgewogICAgICAgIG1vZC5TZXRVSVdpZGdldFNpemUocmVmcy52aWN0b3J5Um9vdCwgbW9kLkNyZWF0ZVZlY3RvcihWSUNUT1JZX0RJQUxPR19XSURUSCwgZGlhbG9nSGVpZ2h0LCAwKSk7CiAgICB9CiAgICBpZiAocmVmcy52aWN0b3J5Um9zdGVyUm93KSB7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0U2l6ZShyZWZzLnZpY3RvcnlSb3N0ZXJSb3csIG1vZC5DcmVhdGVWZWN0b3IoVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19XSURUSCwgcm9zdGVySGVpZ2h0LCAwKSk7CiAgICB9CiAgICBpZiAocmVmcy52aWN0b3J5Um9zdGVyTGVmdENvbnRhaW5lcikgewogICAgICAgIG1vZC5TZXRVSVdpZGdldFNpemUocmVmcy52aWN0b3J5Um9zdGVyTGVmdENvbnRhaW5lciwgbW9kLkNyZWF0ZVZlY3RvcihWSUNUT1JZX0RJQUxPR19ST1NURVJfQ09OVEFJTkVSX1dJRFRILCByb3N0ZXJIZWlnaHQsIDApKTsKICAgIH0KICAgIGlmIChyZWZzLnZpY3RvcnlSb3N0ZXJSaWdodENvbnRhaW5lcikgewogICAgICAgIG1vZC5TZXRVSVdpZGdldFNpemUocmVmcy52aWN0b3J5Um9zdGVyUmlnaHRDb250YWluZXIsIG1vZC5DcmVhdGVWZWN0b3IoVklDVE9SWV9ESUFMT0dfUk9TVEVSX0NPTlRBSU5FUl9XSURUSCwgcm9zdGVySGVpZ2h0LCAwKSk7CiAgICB9Cn0KCmZ1bmN0aW9uIGNvbXB1dGVUZWFtT3V0Y29tZUtleSh0ZWFtTnVtOiBUZWFtSUQpOiBudW1iZXIgewogICAgaWYgKFN0YXRlLm1hdGNoLndpbm5lclRlYW0gPT09IHVuZGVmaW5lZCB8fCBTdGF0ZS5tYXRjaC53aW5uZXJUZWFtID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LmRyYXdzOwogICAgfQogICAgcmV0dXJuIFN0YXRlLm1hdGNoLndpbm5lclRlYW0gPT09IHRlYW1OdW0gPyBtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS53aW5zIDogbW9kLnN0cmluZ2tleXMudHdsLnZpY3RvcnkubG9zZXM7Cn0KCi8qKgogKiBVcGRhdGVzIHBlci1wbGF5ZXIgVmljdG9yeSBkaWFsb2cgd2lkZ2V0cyB0byByZWZsZWN0IGN1cnJlbnQgbWF0Y2gtZW5kIHN0YXRlLgogKiBOb3RlczoKICogLSBUaGlzIG9ubHkgdXBkYXRlcyBVSSB0ZXh0L3Zpc2liaWxpdHk7IGl0IGRvZXMgbm90IGRlY2lkZSB3aW5uZXJzLgogKiAtIENhbGxlciBtdXN0IGVuc3VyZSB0aGUgZGlhbG9nIGlzIGJ1aWx0IGJlZm9yZSB1cGRhdGluZy4KICogLSBSZW1haW5pbmcgc2Vjb25kcyBjYW4gd3JhcCBhdCAwIChlbmdpbmUgcXVpcmspOyB3ZSBjbGFtcCB0byAwIHRvIGF2b2lkIGh1Z2UgdmFsdWVzLgogKi8KZnVuY3Rpb24gdXBkYXRlVmljdG9yeURpYWxvZ0ZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIsIHJlbWFpbmluZ1NlY29uZHM6IG51bWJlcik6IHZvaWQgewogICAgLy8gUGVyLXBsYXllciB1cGRhdGUgZm9yIHRoZSBtYXRjaC1lbmQgdmljdG9yeSBtb2RhbDogd2lubmVyIGxhYmVsLCBzY29yZXMsIGFuZCByZXN0YXJ0L3JvdGF0ZSBjb3VudGRvd24uCiAgICAvLyBUaGlzIGlzIGNhbGxlZCBvbmNlIHBlciBzZWNvbmQgd2hpbGUgdGhlIHZpY3RvcnkgZGlhbG9nIGlzIGFjdGl2ZS4KICAgIC8vIERldGVybWluZSB0aGUgdGFyZ2V0IHBsYXllciBpZDsgZGlhbG9nIHdpZGdldHMgYXJlIGtleWVkIHBlci1wbGF5ZXIuCiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuOwogICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgcmV0dXJuOwogICAgLy8gTG9vayB1cCBjYWNoZWQgVUkgcmVmZXJlbmNlcyBmb3IgdGhpcyBwbGF5ZXIgKGlmIG1pc3NpbmcsIHRoaXMgdXBkYXRlIGJlY29tZXMgYSBuby1vcCkuCiAgICBjb25zdCByZWZzID0gU3RhdGUuaHVkQ2FjaGUuaHVkQnlQaWRbcGlkXTsKICAgIGlmICghcmVmcykgcmV0dXJuOwoKICAgIGlmIChyZWZzLnZpY3RvcnlSb290KSB7CiAgICAgICAgLy8gQXBwbHkgdmlzaWJpbGl0eSBydWxlcyBmb3IgdGhlIGRpYWxvZyBwYXJ0cyBiYXNlZCBvbiBtYXRjaC1lbmQgc3RhdGUuCiAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnZpY3RvcnlSb290LCBTdGF0ZS5tYXRjaC52aWN0b3J5RGlhbG9nQWN0aXZlKTsKICAgIH0KCiAgICBpZiAoIVN0YXRlLm1hdGNoLnZpY3RvcnlEaWFsb2dBY3RpdmUpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBpZiAocmVmcy52aWN0b3J5UmVzdGFydFRleHQpIHsKICAgICAgICAvLyBVcGRhdGUgc3RyaW5nLWtleSBsYWJlbHMgKFN0cmluZ3MuanNvbikgc28gdGhlIGRpYWxvZyByZWZsZWN0cyB0aGUgbGF0ZXN0IG91dGNvbWUvY291bnRkb3duLgogICAgICAgIC8vIFJlbWFpbmluZyBzZWNvbmRzIGNhbiB3cmFwL3JvbGwgb3ZlciBvbiBzb21lIGVuZ2luZSB0aW1lcnMgYXQgdGhlIG1vbWVudCBpdCBoaXRzIDAuCiAgICAgICAgLy8gVHJlYXQgYW55IG91dC1vZi1yYW5nZSB2YWx1ZSBhcyAwIHRvIGF2b2lkIGRpc3BsYXlpbmcgYSBodWdlIG51bWJlciBhdCB0aGUgZW5kLgogICAgICAgIGxldCBkaXNwbGF5U2Vjb25kcyA9IE1hdGguZmxvb3IocmVtYWluaW5nU2Vjb25kcyk7CiAgICAgICAgaWYgKGRpc3BsYXlTZWNvbmRzIDwgMCkgZGlzcGxheVNlY29uZHMgPSAwOwogICAgICAgIGlmIChkaXNwbGF5U2Vjb25kcyA+IE1BVENIX0VORF9ERUxBWV9TRUNPTkRTKSBkaXNwbGF5U2Vjb25kcyA9IDA7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeVJlc3RhcnRUZXh0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yZXN0YXJ0SW5Gb3JtYXQsIGRpc3BsYXlTZWNvbmRzKSk7CiAgICB9CiAgICBjb25zdCBwYXJ0cyA9IGdldEVsYXBzZWRIbXNQYXJ0cyhTdGF0ZS5tYXRjaC5lbmRFbGFwc2VkU2Vjb25kc1NuYXBzaG90KTsKICAgIGNvbnN0IGhvdXJzID0gTWF0aC5taW4oOTksIE1hdGgubWF4KDAsIE1hdGguZmxvb3IocGFydHMuaG91cnMpKSk7CiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5taW4oNTksIE1hdGgubWF4KDAsIE1hdGguZmxvb3IocGFydHMubWludXRlcykpKTsKICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLm1pbig1OSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihwYXJ0cy5zZWNvbmRzKSkpOwoKICAgIGNvbnN0IGhUID0gTWF0aC5mbG9vcihob3VycyAvIDEwKTsKICAgIGNvbnN0IGhPID0gaG91cnMgJSAxMDsKICAgIGNvbnN0IG1UID0gTWF0aC5mbG9vcihtaW51dGVzIC8gMTApOwogICAgY29uc3QgbU8gPSBtaW51dGVzICUgMTA7CiAgICBjb25zdCBzVCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDEwKTsKICAgIGNvbnN0IHNPID0gc2Vjb25kcyAlIDEwOwoKICAgIGlmIChyZWZzLnZpY3RvcnlUaW1lSG91cnNUZW5zKSBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5VGltZUhvdXJzVGVucywgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5kaWdpdCwgaFQpKTsKICAgIGlmIChyZWZzLnZpY3RvcnlUaW1lSG91cnNPbmVzKSBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5VGltZUhvdXJzT25lcywgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5kaWdpdCwgaE8pKTsKICAgIGlmIChyZWZzLnZpY3RvcnlUaW1lTWludXRlc1RlbnMpIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnZpY3RvcnlUaW1lTWludXRlc1RlbnMsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuY2xvY2suZGlnaXQsIG1UKSk7CiAgICBpZiAocmVmcy52aWN0b3J5VGltZU1pbnV0ZXNPbmVzKSBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5VGltZU1pbnV0ZXNPbmVzLCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCBtTykpOwogICAgaWYgKHJlZnMudmljdG9yeVRpbWVTZWNvbmRzVGVucykgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeVRpbWVTZWNvbmRzVGVucywgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5kaWdpdCwgc1QpKTsKICAgIGlmIChyZWZzLnZpY3RvcnlUaW1lU2Vjb25kc09uZXMpIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnZpY3RvcnlUaW1lU2Vjb25kc09uZXMsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuY2xvY2suZGlnaXQsIHNPKSk7CgogICAgaWYgKHJlZnMudmljdG9yeVJvdW5kc1N1bW1hcnlUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeVJvdW5kc1N1bW1hcnlUZXh0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZHNTdW1tYXJ5Rm9ybWF0LCBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLmN1cnJlbnQpLCBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLm1heCkpKTsKICAgIH0KICAgIGlmIChyZWZzLnZpY3RvcnlBZG1pbkFjdGlvbnNUZXh0KSB7CiAgICAgICAgY29uc3QgYWN0aW9uQ291bnQgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKFN0YXRlLmFkbWluLmFjdGlvbkNvdW50KSk7CiAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnZpY3RvcnlBZG1pbkFjdGlvbnNUZXh0LCBhY3Rpb25Db3VudCA+IDApOwogICAgICAgIGlmIChhY3Rpb25Db3VudCA+IDApIHsKICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGVVc2VkID0gU3RhdGUuYWRtaW4udGllQnJlYWtlck92ZXJyaWRlVXNlZDsgLy8gSGlnaGxpZ2h0IGlmIGFueSBvdmVycmlkZSB3YXMgdXNlZCB0aGlzIG1hdGNoLgogICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgICAgICByZWZzLnZpY3RvcnlBZG1pbkFjdGlvbnNUZXh0LAogICAgICAgICAgICAgICAgbW9kLk1lc3NhZ2UoCiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVVc2VkCiAgICAgICAgICAgICAgICAgICAgICAgID8gbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9uQ291bnRWaWN0b3J5Rm9ybWF0UmFuZG9tT3ZlcnJpZGUKICAgICAgICAgICAgICAgICAgICAgICAgOiBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25Db3VudFZpY3RvcnlGb3JtYXQsCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQ291bnQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKTsKICAgICAgICAgICAgc2FmZVNldFVJVGV4dENvbG9yKHJlZnMudmljdG9yeUFkbWluQWN0aW9uc1RleHQsIG92ZXJyaWRlVXNlZCA/IENPTE9SX1JFRCA6IENPTE9SX1dBUk5JTkdfWUVMTE9XKTsKICAgICAgICB9CiAgICB9CgogICAgY29uc3QgdDFPdXRjb21lS2V5ID0gY29tcHV0ZVRlYW1PdXRjb21lS2V5KFRlYW1JRC5UZWFtMSk7CiAgICBjb25zdCB0Mk91dGNvbWVLZXkgPSBjb21wdXRlVGVhbU91dGNvbWVLZXkoVGVhbUlELlRlYW0yKTsKCiAgICBpZiAocmVmcy52aWN0b3J5TGVmdE91dGNvbWVUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeUxlZnRPdXRjb21lVGV4dCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnZpY3RvcnkudGVhbU91dGNvbWVGb3JtYXQsIGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMSksIHQxT3V0Y29tZUtleSkpOwogICAgfQogICAgaWYgKHJlZnMudmljdG9yeVJpZ2h0T3V0Y29tZVRleHQpIHsKICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5UmlnaHRPdXRjb21lVGV4dCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnZpY3RvcnkudGVhbU91dGNvbWVGb3JtYXQsIGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMiksIHQyT3V0Y29tZUtleSkpOwogICAgfQogICAgc2V0VmljdG9yeVdpbm5lckNyb3duRm9yUmVmcyhyZWZzKTsKCiAgICBpZiAocmVmcy52aWN0b3J5TGVmdFJlY29yZFRleHQpIHsKICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5TGVmdFJlY29yZFRleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRSZWNvcmRGb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUubWF0Y2gud2luc1QxKSwgTWF0aC5mbG9vcihTdGF0ZS5tYXRjaC53aW5zVDIpLCBNYXRoLmZsb29yKFN0YXRlLm1hdGNoLnRpZXNUMSkpKTsKICAgIH0KICAgIGlmIChyZWZzLnZpY3RvcnlSaWdodFJlY29yZFRleHQpIHsKICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5UmlnaHRSZWNvcmRUZXh0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLnJvdW5kUmVjb3JkRm9ybWF0LCBNYXRoLmZsb29yKFN0YXRlLm1hdGNoLndpbnNUMiksIE1hdGguZmxvb3IoU3RhdGUubWF0Y2gud2luc1QxKSwgTWF0aC5mbG9vcihTdGF0ZS5tYXRjaC50aWVzVDIpKSk7CiAgICB9CgogICAgaWYgKHJlZnMudmljdG9yeUxlZnRSb3VuZFdpbnNUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeUxlZnRSb3VuZFdpbnNUZXh0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZFdpbnNGb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUubWF0Y2gud2luc1QxKSkpOwogICAgfQogICAgaWYgKHJlZnMudmljdG9yeVJpZ2h0Um91bmRXaW5zVGV4dCkgewogICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnZpY3RvcnlSaWdodFJvdW5kV2luc1RleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kV2luc0Zvcm1hdCwgTWF0aC5mbG9vcihTdGF0ZS5tYXRjaC53aW5zVDIpKSk7CiAgICB9CgogICAgY29uc3QgbG9zc2VzVDEgPSBTdGF0ZS5tYXRjaC5sb3NzZXNUMTsKICAgIGNvbnN0IGxvc3Nlc1QyID0gU3RhdGUubWF0Y2gubG9zc2VzVDI7CgogICAgaWYgKHJlZnMudmljdG9yeUxlZnRSb3VuZExvc3Nlc1RleHQpIHsKICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5TGVmdFJvdW5kTG9zc2VzVGV4dCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnZpY3Rvcnkucm91bmRMb3NzZXNGb3JtYXQsIE1hdGguZmxvb3IobG9zc2VzVDEpKSk7CiAgICB9CiAgICBpZiAocmVmcy52aWN0b3J5UmlnaHRSb3VuZExvc3Nlc1RleHQpIHsKICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy52aWN0b3J5UmlnaHRSb3VuZExvc3Nlc1RleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kTG9zc2VzRm9ybWF0LCBNYXRoLmZsb29yKGxvc3Nlc1QyKSkpOwogICAgfQogICAgaWYgKHJlZnMudmljdG9yeUxlZnRSb3VuZFRpZXNUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeUxlZnRSb3VuZFRpZXNUZXh0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZFRpZXNGb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUubWF0Y2gudGllc1QxKSkpOwogICAgfQogICAgaWYgKHJlZnMudmljdG9yeVJpZ2h0Um91bmRUaWVzVGV4dCkgewogICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnZpY3RvcnlSaWdodFJvdW5kVGllc1RleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kVGllc0Zvcm1hdCwgTWF0aC5mbG9vcihTdGF0ZS5tYXRjaC50aWVzVDIpKSk7CiAgICB9CgogICAgaWYgKHJlZnMudmljdG9yeUxlZnRUb3RhbEtpbGxzVGV4dCkgewogICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnZpY3RvcnlMZWZ0VG90YWxLaWxsc1RleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnRvdGFsS2lsbHNGb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUuc2NvcmVzLnQxVG90YWxLaWxscykpKTsKICAgIH0KICAgIGlmIChyZWZzLnZpY3RvcnlSaWdodFRvdGFsS2lsbHNUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMudmljdG9yeVJpZ2h0VG90YWxLaWxsc1RleHQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnRvdGFsS2lsbHNGb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUuc2NvcmVzLnQyVG90YWxLaWxscykpKTsKICAgIH0KCiAgICBpZiAocmVmcy52aWN0b3J5TGVmdFJvc3RlclRleHQgfHwgcmVmcy52aWN0b3J5UmlnaHRSb3N0ZXJUZXh0KSB7CiAgICAgICAgY29uc3Qgcm9zdGVyID0gZ2V0Um9zdGVyRGlzcGxheUVudHJpZXMoKTsKICAgICAgICB1cGRhdGVWaWN0b3J5RGlhbG9nUm9zdGVyU2l6aW5nKHJlZnMsIHJvc3Rlci5tYXhSb3dzKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFRFQU1fUk9TVEVSX01BWF9ST1dTOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgbGVmdFdpZGdldCA9IHJlZnMudmljdG9yeUxlZnRSb3N0ZXJUZXh0Py5baV07CiAgICAgICAgICAgIGlmIChsZWZ0V2lkZ2V0KSB7CiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0RW50cnkgPSByb3N0ZXIudGVhbTFbaV07CiAgICAgICAgICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKGxlZnRXaWRnZXQsICEhbGVmdEVudHJ5KTsKICAgICAgICAgICAgICAgIGlmIChsZWZ0RW50cnkpIHsKICAgICAgICAgICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwobGVmdFdpZGdldCwgZ2V0Um9zdGVyRW50cnlOYW1lTWVzc2FnZShsZWZ0RW50cnkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgcmlnaHRXaWRnZXQgPSByZWZzLnZpY3RvcnlSaWdodFJvc3RlclRleHQ/LltpXTsKICAgICAgICAgICAgaWYgKHJpZ2h0V2lkZ2V0KSB7CiAgICAgICAgICAgICAgICBjb25zdCByaWdodEVudHJ5ID0gcm9zdGVyLnRlYW0yW2ldOwogICAgICAgICAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyaWdodFdpZGdldCwgISFyaWdodEVudHJ5KTsKICAgICAgICAgICAgICAgIGlmIChyaWdodEVudHJ5KSB7CiAgICAgICAgICAgICAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJpZ2h0V2lkZ2V0LCBnZXRSb3N0ZXJFbnRyeU5hbWVNZXNzYWdlKHJpZ2h0RW50cnkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlVmljdG9yeURpYWxvZ0ZvckFsbFBsYXllcnMocmVtYWluaW5nU2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgdXBkYXRlVmljdG9yeURpYWxvZ0ZvclBsYXllcihwLCByZW1haW5pbmdTZWNvbmRzKTsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEhVRCBWaWN0b3J5IERpYWxvZyBVcGRhdGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgUm91bmQtRW5kIERpYWxvZyBVcGRhdGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBzZXRSb3VuZFdpbkNyb3duRm9yUmVmcyhyZWZzOiBIdWRSZWZzIHwgdW5kZWZpbmVkLCB3aW5uZXJUZWFtTnVtOiBUZWFtSUQgfCAwLCB2aXNpYmxlOiBib29sZWFuKTogdm9pZCB7CiAgICBpZiAoIXJlZnMpIHJldHVybjsKICAgIGNvbnN0IHNob3dMZWZ0ID0gdmlzaWJsZSAmJiB3aW5uZXJUZWFtTnVtID09PSBUZWFtSUQuVGVhbTE7CiAgICBjb25zdCBzaG93UmlnaHQgPSB2aXNpYmxlICYmIHdpbm5lclRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMjsKICAgIHNhZmVTZXRVSVdpZGdldFZpc2libGUocmVmcy5sZWZ0Um91bmRLaWxsc0Nyb3duLCBzaG93TGVmdCk7CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHJlZnMucmlnaHRSb3VuZEtpbGxzQ3Jvd24sIHNob3dSaWdodCk7Cn0KCmZ1bmN0aW9uIHNldFJvdW5kV2luQ3Jvd25Gb3JBbGxQbGF5ZXJzKHdpbm5lclRlYW1OdW06IFRlYW1JRCB8IDAsIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHApOwogICAgICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCB8fCBpc1BpZERpc2Nvbm5lY3RlZChwaWQpKSBjb250aW51ZTsKICAgICAgICBjb25zdCByZWZzID0gU3RhdGUuaHVkQ2FjaGUuaHVkQnlQaWRbcGlkXTsKICAgICAgICBpZiAoIXJlZnMpIGNvbnRpbnVlOwogICAgICAgIHNldFJvdW5kV2luQ3Jvd25Gb3JSZWZzKHJlZnMsIHdpbm5lclRlYW1OdW0sIHZpc2libGUpOwogICAgfQp9CgpmdW5jdGlvbiBzZXRSb3VuZEVuZERpYWxvZ1Zpc2libGVGb3JBbGxQbGF5ZXJzKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmREaWFsb2dWaXNpYmxlID0gdmlzaWJsZTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHApOwogICAgICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCB8fCBpc1BpZERpc2Nvbm5lY3RlZChwaWQpKSBjb250aW51ZTsKICAgICAgICBjb25zdCByZWZzID0gU3RhdGUuaHVkQ2FjaGUuaHVkQnlQaWRbcGlkXTsKICAgICAgICBpZiAoIXJlZnMpIGNvbnRpbnVlOwogICAgICAgIGlmIChyZWZzLnJvdW5kRW5kUm9vdCkgewogICAgICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMucm91bmRFbmRSb290LCB2aXNpYmxlKTsKICAgICAgICB9CiAgICB9CiAgICBzZXRSb3VuZFdpbkNyb3duRm9yQWxsUGxheWVycyhTdGF0ZS5yb3VuZC5sYXN0V2lubmVyVGVhbSwgdmlzaWJsZSk7CiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7Cn0KCi8vIFJvdW5kLWVuZCBVSSBsb2NrZG93bjogYXZvaWQgdG91Y2hpbmcgb3ZlcnRpbWUgSFVEIHdpZGdldHMgZHVyaW5nIHRlYXJkb3duIHRyYW5zaXRpb25zLgpmdW5jdGlvbiBpc1JvdW5kRW5kVWlMb2NrZG93bkFjdGl2ZSgpOiBib29sZWFuIHsKICAgIHJldHVybiBTdGF0ZS5yb3VuZC5mbG93LnJvdW5kRW5kVWlMb2NrZG93bgogICAgICAgIHx8IFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmREaWFsb2dWaXNpYmxlCiAgICAgICAgfHwgU3RhdGUucm91bmQuZmxvdy5jbGVhbnVwQWN0aXZlOwp9CgpmdW5jdGlvbiBpc1JvdW5kRW5kRGV0YWlsRHJhd1JlYXNvbihyZWFzb246IFJvdW5kRW5kRGV0YWlsUmVhc29uKTogYm9vbGVhbiB7CiAgICByZXR1cm4gcmVhc29uID09PSBSb3VuZEVuZERldGFpbFJlYXNvbi5UaW1lT3ZlckRyYXdFdmVuRWxpbXMKICAgICAgICB8fCByZWFzb24gPT09IFJvdW5kRW5kRGV0YWlsUmVhc29uLlRpbWVPdmVyRHJhd05vQWN0aW9uOwp9CgpmdW5jdGlvbiBnZXRSb3VuZEVuZERldGFpbEZvclZpZXdlcigKICAgIHZpZXdlclRlYW1OdW06IFRlYW1JRCB8IDAsCiAgICB3aW5uZXJUZWFtTnVtOiBUZWFtSUQgfCAwCik6IHsga2V5OiBudW1iZXI7IGNvbG9yOiBtb2QuVmVjdG9yOyB2YWx1ZT86IG51bWJlciB9IHwgdW5kZWZpbmVkIHsKICAgIGNvbnN0IHJlYXNvbiA9IFN0YXRlLnJvdW5kLmxhc3RFbmREZXRhaWxSZWFzb247CiAgICBpZiAocmVhc29uID09PSBSb3VuZEVuZERldGFpbFJlYXNvbi5Ob25lKSByZXR1cm4gdW5kZWZpbmVkOwoKICAgIGlmIChpc1JvdW5kRW5kRGV0YWlsRHJhd1JlYXNvbihyZWFzb24pIHx8IHdpbm5lclRlYW1OdW0gPT09IDApIHsKICAgICAgICBjb25zdCBkcmF3S2V5ID0gcmVhc29uID09PSBSb3VuZEVuZERldGFpbFJlYXNvbi5UaW1lT3ZlckRyYXdOb0FjdGlvbgogICAgICAgICAgICA/IFNUUl9ST1VORF9FTkRfREVUQUlMX0RSQVdfTk9fQUNUSU9OCiAgICAgICAgICAgIDogU1RSX1JPVU5EX0VORF9ERVRBSUxfRFJBV19FVkVOX0VMSU1TOwogICAgICAgIHJldHVybiB7IGtleTogZHJhd0tleSwgY29sb3I6IENPTE9SX1dISVRFIH07CiAgICB9CgogICAgY29uc3QgaXNWaWV3ZXJXaW5uZXIgPSB2aWV3ZXJUZWFtTnVtICE9PSAwICYmIHZpZXdlclRlYW1OdW0gPT09IHdpbm5lclRlYW1OdW07CiAgICBsZXQga2V5OiBudW1iZXI7CiAgICBsZXQgdmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZDsKICAgIHN3aXRjaCAocmVhc29uKSB7CiAgICAgICAgY2FzZSBSb3VuZEVuZERldGFpbFJlYXNvbi5FbGltaW5hdGlvbjoKICAgICAgICAgICAga2V5ID0gaXNWaWV3ZXJXaW5uZXIgPyBTVFJfUk9VTkRfRU5EX0RFVEFJTF9XSU5fRUxJTUlOQVRJT04gOiBTVFJfUk9VTkRfRU5EX0RFVEFJTF9MT1NFX0VMSU1JTkFUSU9OOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFJvdW5kRW5kRGV0YWlsUmVhc29uLk9iamVjdGl2ZUNhcHR1cmVkOgogICAgICAgICAgICBrZXkgPSBpc1ZpZXdlcldpbm5lciA/IFNUUl9ST1VORF9FTkRfREVUQUlMX1dJTl9PQkpFQ1RJVkVfQ0FQVFVSRUQgOiBTVFJfUk9VTkRfRU5EX0RFVEFJTF9MT1NFX09CSkVDVElWRV9DQVBUVVJFRDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBSb3VuZEVuZERldGFpbFJlYXNvbi5UaW1lT3Zlck9iamVjdGl2ZVByb2dyZXNzOgogICAgICAgICAgICBrZXkgPSBpc1ZpZXdlcldpbm5lciA/IFNUUl9ST1VORF9FTkRfREVUQUlMX1dJTl9PQkpFQ1RJVkVfUFJPR1JFU1MgOiBTVFJfUk9VTkRfRU5EX0RFVEFJTF9MT1NFX09CSkVDVElWRV9QUk9HUkVTUzsKICAgICAgICAgICAgY29uc3QgcGVyY2VudHMgPSBnZXRPdmVydGltZURpc3BsYXlQZXJjZW50cyhTdGF0ZS5yb3VuZC5sYXN0T2JqZWN0aXZlUHJvZ3Jlc3MpOwogICAgICAgICAgICB2YWx1ZSA9IHdpbm5lclRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMQogICAgICAgICAgICAgICAgPyBwZXJjZW50cy5sZWZ0CiAgICAgICAgICAgICAgICA6ICh3aW5uZXJUZWFtTnVtID09PSBUZWFtSUQuVGVhbTIgPyBwZXJjZW50cy5yaWdodCA6IDUwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBSb3VuZEVuZERldGFpbFJlYXNvbi5UaW1lT3ZlcktpbGxzOgogICAgICAgICAgICBrZXkgPSBpc1ZpZXdlcldpbm5lciA/IFNUUl9ST1VORF9FTkRfREVUQUlMX1dJTl9USU1FX09WRVJfS0lMTFMgOiBTVFJfUk9VTkRfRU5EX0RFVEFJTF9MT1NFX1RJTUVfT1ZFUl9LSUxMUzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICBjb25zdCB0ZWFtQ29sb3IgPSB3aW5uZXJUZWFtTnVtID09PSBUZWFtSUQuVGVhbTEKICAgICAgICA/IENPTE9SX0JMVUUKICAgICAgICA6ICh3aW5uZXJUZWFtTnVtID09PSBUZWFtSUQuVGVhbTIgPyBDT0xPUl9SRUQgOiBDT0xPUl9XSElURSk7CiAgICByZXR1cm4geyBrZXksIGNvbG9yOiB0ZWFtQ29sb3IsIHZhbHVlIH07Cn0KCmZ1bmN0aW9uIHVwZGF0ZVJvdW5kRW5kRGlhbG9nRm9yQWxsUGxheWVycyh3aW5uZXJUZWFtTnVtOiBUZWFtSUQgfCAwKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgdXBkYXRlUm91bmRFbmREaWFsb2dGb3JQbGF5ZXIocCwgd2lubmVyVGVhbU51bSk7CiAgICB9Cn0KCmZ1bmN0aW9uIHVwZGF0ZVJvdW5kRW5kRGlhbG9nRm9yUGxheWVyKHBsYXllcjogbW9kLlBsYXllciwgd2lubmVyVGVhbU51bTogVGVhbUlEIHwgMCk6IHZvaWQgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybjsKICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkIHx8IGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIHJldHVybjsKICAgIGNvbnN0IHJlZnMgPSBTdGF0ZS5odWRDYWNoZS5odWRCeVBpZFtwaWRdOwogICAgaWYgKCFyZWZzKSByZXR1cm47CgogICAgLy8gRW5zdXJlIGxhYmVscyBhcmUgYWx3YXlzIGF1dGhvcml0YXRpdmUgYXQgdGhlIHRpbWUgdGhlIGRpYWxvZyBpcyBzaG93bi4KICAgIGlmIChyZWZzLnJvdW5kRW5kUm91bmRUZXh0KSB7CiAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKAogICAgICAgICAgICByZWZzLnJvdW5kRW5kUm91bmRUZXh0LAogICAgICAgICAgICAvLyBSb3VuZEVuZF9Sb3VuZE51bWJlciBpcyBhIGRlZGljYXRlZCBmb3JtYXQga2V5ICgiUk9VTkQgezB9IikgdG8gYXZvaWQgcGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgaW50byBSb3VuZFN0YXRlX0Zvcm1hdCwKICAgICAgICAgICAgLy8gd2hpY2ggUG9ydGFsIHJlbmRlcnMgYXMgPHVua25vd24gc3RyaW5nPiB3aGVuIHRoZSBrZXkgY2Fubm90IGJlIHJlc29sdmVkLgogICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucm91bmRFbmQucm91bmROdW1iZXIsIFN0YXRlLnJvdW5kLmN1cnJlbnQpCiAgICAgICAgKTsKICAgIH0KCiAgICBpZiAocmVmcy5yb3VuZEVuZE91dGNvbWVUZXh0KSB7CiAgICAgICAgaWYgKHdpbm5lclRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMSkgewogICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgICAgICByZWZzLnJvdW5kRW5kT3V0Y29tZVRleHQsCiAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS50ZWFtT3V0Y29tZUZvcm1hdCwgZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0xKSwgbW9kLnN0cmluZ2tleXMudHdsLnZpY3Rvcnkud2lucykKICAgICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgaWYgKHdpbm5lclRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgICAgICByZWZzLnJvdW5kRW5kT3V0Y29tZVRleHQsCiAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS50ZWFtT3V0Y29tZUZvcm1hdCwgZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0yKSwgbW9kLnN0cmluZ2tleXMudHdsLnZpY3Rvcnkud2lucykKICAgICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZXRXaWRnZXRUZXh0KHJlZnMucm91bmRFbmRPdXRjb21lVGV4dCwgbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRyYXcpOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAocmVmcy5yb3VuZEVuZERldGFpbFRleHQpIHsKICAgICAgICBjb25zdCB2aWV3ZXJUZWFtTnVtID0gZ2V0VGVhbU51bWJlcihtb2QuR2V0VGVhbShwbGF5ZXIpKTsKICAgICAgICBjb25zdCBkZXRhaWwgPSBnZXRSb3VuZEVuZERldGFpbEZvclZpZXdlcih2aWV3ZXJUZWFtTnVtLCB3aW5uZXJUZWFtTnVtKTsKICAgICAgICBpZiAoZGV0YWlsKSB7CiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZGV0YWlsLnZhbHVlICE9PSB1bmRlZmluZWQKICAgICAgICAgICAgICAgID8gbW9kLk1lc3NhZ2UoZGV0YWlsLmtleSwgZGV0YWlsLnZhbHVlKQogICAgICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShkZXRhaWwua2V5KTsKICAgICAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMucm91bmRFbmREZXRhaWxUZXh0LCBsYWJlbCk7CiAgICAgICAgICAgIHNhZmVTZXRVSVRleHRDb2xvcihyZWZzLnJvdW5kRW5kRGV0YWlsVGV4dCwgZGV0YWlsLmNvbG9yKTsKICAgICAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnJvdW5kRW5kRGV0YWlsVGV4dCwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnJvdW5kRW5kRGV0YWlsVGV4dCwgZmFsc2UpOwogICAgICAgIH0KICAgIH0KCn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBIVUQgUm91bmQtRW5kIERpYWxvZyBVcGRhdGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgQnVpbGQvRW5zdXJlIC0gRGlhbG9nIE9wZW4gKyBIZWxwIFRleHQgVmlzaWJpbGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gaXNUZWFtU3dpdGNoRGlhbG9nT3BlbkZvclBpZChwaWQ6IG51bWJlcik6IGJvb2xlYW4gewogICAgLy8gV2l0aCBVSSBjYWNoaW5nLCB0aGUgZGlhbG9nIHJvb3Qgd2lkZ2V0IG1heSBjb250aW51ZSB0byBleGlzdCB3aGlsZSBoaWRkZW4uCiAgICAvLyBVc2UgdGhlIGV4cGxpY2l0IHBlci1wbGF5ZXIgc3RhdGUgZmxhZyBhcyB0aGUgc291cmNlIG9mIHRydXRoIGZvciAib3BlbiIuCiAgICByZXR1cm4gISFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BpZF0/LmRpYWxvZ1Zpc2libGU7Cn0KCi8qKgogKiBBcHBsaWVzIHRoZSBjdXJyZW50ICdoZWxwIHRleHQnIHZpc2liaWxpdHkgcnVsZXMgdG8gb25lIHNwZWNpZmljIHBsYXllciBpZC4KICogVGhpcyBpcyBpbnRlbnRpb25hbGx5IHBpZC1iYXNlZCAobm90IFBsYXllci1iYXNlZCkgc28gaXQgY2FuIGJlIHVzZWQgZHVyaW5nIGpvaW4vbGVhdmUgYW5kIFVJIHJlYnVpbGRzLgogKiBLZWVwIGluIG1pbmQ6CiAqIC0gVGhlIHBsYXllciBtYXkgbm90IGJlIHByZXNlbnQgYXQgdGhlIHRpbWUgb2YgdGhlIGNhbGw7IHRoaXMgZnVuY3Rpb24gc2hvdWxkIHRvbGVyYXRlIG1pc3NpbmcgVUkgcmVmcy4KICogLSBWaXNpYmlsaXR5IHJ1bGVzIHR5cGljYWxseSBkZXBlbmQgb24gcGVyLXBsYXllciBmbGFncyAoZS5nLiwgJ2RvbnQgc2hvdyBhZ2FpbicpIGFuZCBjdXJyZW50IHJvdW5kIHN0YXRlLgogKi8KCmZ1bmN0aW9uIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBpZChwaWQ6IG51bWJlcik6IHZvaWQgewogICAgLy8gRmV0Y2ggdGhpcyBwbGF5ZXIncyBIVUQvd2lkZ2V0IHJlZnM7IGlmIG1pc3NpbmcgKGUuZy4sIGR1cmluZyBqb2luKSwgYmFpbCBvdXQgc2FmZWx5LgogICAgY29uc3QgcmVmcyA9IFN0YXRlLmh1ZENhY2hlLmh1ZEJ5UGlkW3BpZF07CiAgICBpZiAoIXJlZnMpIHJldHVybjsKCiAgICBjb25zdCBpc0RpYWxvZ09wZW4gPSBpc1RlYW1Td2l0Y2hEaWFsb2dPcGVuRm9yUGlkKHBpZCk7CiAgICBjb25zdCBpc1JlYWR5ID0gISFTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXTsKICAgIGNvbnN0IGlzRGVwbG95ZWQgPSAhIVN0YXRlLnBsYXllcnMuZGVwbG95ZWRCeVBpZFtwaWRdOwogICAgY29uc3QgY2FuU2hvdyA9ICghU3RhdGUubWF0Y2guaXNFbmRlZCkKICAgICAgICAmJiAoIVN0YXRlLm1hdGNoLnZpY3RvcnlEaWFsb2dBY3RpdmUpCiAgICAgICAgJiYgKCFTdGF0ZS5yb3VuZC5mbG93LnJvdW5kRW5kRGlhbG9nVmlzaWJsZSkKICAgICAgICAmJiAoIVN0YXRlLnJvdW5kLmZsb3cuY2xlYW51cEFjdGl2ZSkKICAgICAgICAmJiAoaXNEZXBsb3llZCk7CiAgICBjb25zdCBzaG93SGVscCA9IGNhblNob3cgJiYgKCFpc1JvdW5kTGl2ZSgpKSAmJiAoIWlzUmVhZHkpICYmICghaXNEaWFsb2dPcGVuKTsKICAgIGNvbnN0IHNob3dSZWFkeSA9IGNhblNob3cgJiYgKCFpc1JvdW5kTGl2ZSgpKSAmJiAoaXNSZWFkeSkgJiYgKCFpc0RpYWxvZ09wZW4pOwoKICAgIGNvbnN0IGhlbHBDb250YWluZXIgPSByZWZzLmhlbHBUZXh0Q29udGFpbmVyID8/IHNhZmVGaW5kKGBDb250YWluZXJfSGVscFRleHRfJHtwaWR9YCk7CiAgICBpZiAoaGVscENvbnRhaW5lcikgewogICAgICAgIC8vIEFwcGx5IHRoZSBjb21wdXRlZCB2aXNpYmlsaXR5IHRvIHRoZSBoZWxwIHRleHQgd2lkZ2V0LgogICAgICAgIHNhZmVTZXRVSVdpZGdldFZpc2libGUoaGVscENvbnRhaW5lciwgc2hvd0hlbHApOwogICAgfQoKICAgIGNvbnN0IHJlYWR5Q29udGFpbmVyID0gcmVmcy5yZWFkeVN0YXR1c0NvbnRhaW5lciA/PyBzYWZlRmluZChgQ29udGFpbmVyX1JlYWR5U3RhdHVzXyR7cGlkfWApOwogICAgaWYgKHJlYWR5Q29udGFpbmVyKSB7CiAgICAgICAgc2FmZVNldFVJV2lkZ2V0VmlzaWJsZShyZWFkeUNvbnRhaW5lciwgc2hvd1JlYWR5KTsKICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yUGxheWVyKHBsYXllcjogbW9kLlBsYXllcik6IHZvaWQgewogICAgdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yUGlkKG1vZC5HZXRPYmpJZChwbGF5ZXIpKTsKfQoKZnVuY3Rpb24gdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yUGlkKG1vZC5HZXRPYmpJZChwKSk7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBIVUQgQnVpbGQvRW5zdXJlIC0gRGlhbG9nIE9wZW4gKyBIZWxwIFRleHQgVmlzaWJpbGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSBGdW5jdGlvbiBTdGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQ29kZSBDbGVhbnVwOiBUaGlzIGlzIGFuIGFic3VyZCBtZWdhLWZ1bmN0aW9uIC0gd2Ugc2hvdWxkIHJlZmFjdG9yIGFuZCBicmVhayBkb3duCi8vIEVuc3VyZXMgYWxsIHBlcnNpc3RlbnQgSFVEIHdpZGdldHMgZXhpc3QgZm9yIGEgcGxheWVyLgovLyBUaGlzIGZ1bmN0aW9uIGlzIGlkZW1wb3RlbnQgYW5kIHNhZmUgdG8gY2FsbCBvbiBqb2luLCByZXNwYXduLCBvciByZWNvbm5lY3QuCi8vIFdpZGdldCByZWZlcmVuY2VzIGNyZWF0ZWQgaGVyZSBhcmUgcmV1c2VkIGFuZCB1cGRhdGVkIGVsc2V3aGVyZS4KCmZ1bmN0aW9uIGVuc3VyZUh1ZEZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBIdWRSZWZzIHwgdW5kZWZpbmVkIHsKICAgIC8vIFBlci1wbGF5ZXIgSFVEIGxpZmVjeWNsZToKICAgIC8vIC0gSFVEIHdpZGdldHMgYXJlIGNyZWF0ZWQgb25jZSBwZXIgcGxheWVyIGFuZCB0aGVuIG9ubHkgdXBkYXRlZCAobmV2ZXIgcmVjcmVhdGVkKSBkdXJpbmcgdGhlIG1hdGNoLgogICAgLy8gLSBUaGlzIGZ1bmN0aW9uIGlzIHNhZmUgdG8gY2FsbCByZXBlYXRlZGx5IChqb2luLCByZXNwYXduLCByZWNvbm5lY3QsIGFkbWluIGFjdGlvbnMpLgogICAgLy8gLSBJZiBhIHdpZGdldCBpcyBtaXNzaW5nLCBjcmVhdGUgaXQgYW5kIHN0b3JlL2ZpbmQgaXQgdmlhIHRoZSBVSSByb290LgoKICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm4gdW5kZWZpbmVkOwoKICAgIGNvbnN0IHBpZCA9IGdldE9iaklkKHBsYXllcik7CgogICAgLy8gSWYgY2FjaGVkIGFuZCBzdGlsbCB2YWxpZCwgcmV0dXJuIGl0CiAgICBjb25zdCBjYWNoZWQgPSBTdGF0ZS5odWRDYWNoZS5odWRCeVBpZFtwaWRdOwogICAgaWYgKGNhY2hlZCAmJiBjYWNoZWQubGVmdEtpbGxzVGV4dCAmJiBjYWNoZWQucmlnaHRLaWxsc1RleHQpIHsKICAgICAgICBjYWNoZWQuc3Bhd25EaXNhYmxlZExpdmVUZXh0ID0gZW5zdXJlU3Bhd25EaXNhYmxlZExpdmVUZXh0KHBsYXllcik7CiAgICAgICAgY29uc3QgaGVscENvbnRhaW5lciA9IHNhZmVGaW5kKGBDb250YWluZXJfSGVscFRleHRfJHtwaWR9YCk7CiAgICAgICAgaWYgKGhlbHBDb250YWluZXIpIHsKICAgICAgICAgICAgbW9kLlNldFVJV2lkZ2V0UG9zaXRpb24oaGVscENvbnRhaW5lciwgbW9kLkNyZWF0ZVZlY3RvcigtMTY1LjUsIDc1LjI1LCAwKSk7IC8vLTExNi41LCA3NS4yNSwgMAogICAgICAgIH0KICAgICAgICBjb25zdCByZWFkeUNvbnRhaW5lciA9IHNhZmVGaW5kKGBDb250YWluZXJfUmVhZHlTdGF0dXNfJHtwaWR9YCk7CiAgICAgICAgaWYgKHJlYWR5Q29udGFpbmVyKSB7CiAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFBvc2l0aW9uKHJlYWR5Q29udGFpbmVyLCBtb2QuQ3JlYXRlVmVjdG9yKC0xNjUuNSwgNzUuMjUsIDApKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgYWRtaW5BY3Rpb25Db3VudGVyID0gc2FmZUZpbmQoYEFkbWluUGFuZWxBY3Rpb25Db3VudF8ke3BpZH1gKTsKICAgICAgICBpZiAoYWRtaW5BY3Rpb25Db3VudGVyKSB7CiAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFBvc2l0aW9uKGFkbWluQWN0aW9uQ291bnRlciwgbW9kLkNyZWF0ZVZlY3RvcigyMCwgMjIsIDApKTsKICAgICAgICB9CiAgICAgICAgZW5zdXJlVG9wSHVkUm9vdEZvclBpZChwaWQsIHBsYXllcik7CiAgICAgICAgc2V0SHVkSGVscERlcHRoRm9yUGlkKHBpZCk7CgogICAgICAgIHJldHVybiBjYWNoZWQ7CiAgICB9CgogICAgY29uc3QgcmVmczogSHVkUmVmcyA9IHsgcGlkLCByb290czogW10gfTsKCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSBGdW5jdGlvbiBTdGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBCdWlsZC9FbnN1cmUgLSBVcHBlci1MZWZ0IEhVRCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vIC0tLSBTdGF0aWMgSFVEOiBVcHBlci1sZWZ0IHNtYWxsIGJveCAtLS0KICAgIHsKICAgICAgICBjb25zdCByb290TmFtZSA9IGBVcHBlcl9MZWZ0X0NvbnRhaW5lcl8ke3BpZH1gOwogICAgICAgIGNvbnN0IHVwcGVyTGVmdCA9IG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICAgICAgbmFtZTogcm9vdE5hbWUsCiAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICBwbGF5ZXJJZDogcGxheWVyLAogICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICBwb3NpdGlvbjogWzUsIDUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgc2l6ZTogWzIwMCwgMzBdLAogICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBwYWRkaW5nOiAxLAogICAgICAgICAgICBiZ0NvbG9yOiBbMC4yNTEsIDAuMDk0MSwgMC4wNjY3XSwKICAgICAgICAgICAgYmdBbHBoYTogMC41NjI1LAogICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5CbHVyLAogICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFVwcGVyX0xlZnRfVGV4dF8ke3BpZH0KICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVXBwZXJfTGVmdF9UZXh0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFs1LCAtNS41XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbMjAwLCAxN10sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuODM1MywgMC45MjE2LCAwLjk3NjVdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuYnJhbmRpbmcudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMC42Nzg0LCAwLjk5MjIsIDAuNTI1NV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiA5LAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFVwcGVyX0xlZnRfVGV4dF8yXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBVcHBlcl9MZWZ0X1RleHRfMl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbNy4yNSwgMTIuNV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzIwMCwgMTYuNV0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuYnJhbmRpbmcuc3VidGl0bGUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMC42Nzg0LCAwLjk5MjIsIDAuNTI1NV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiA5LAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgIH0pOwogICAgICAgIGlmICh1cHBlckxlZnQpIHJlZnMucm9vdHMucHVzaCh1cHBlckxlZnQpOwogICAgfQoKICAgIC8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBIVUQgQnVpbGQvRW5zdXJlIC0gVXBwZXItTGVmdCBIVUQgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKICAgIC8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBIVUQgQnVpbGQvRW5zdXJlIC0gVG9wLUNlbnRlciBQYW5lbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAvLyAtLS0gU3RhdGljIEhVRDogVG9wLWNlbnRlciBwYW5lbHMgKFRlYW1MZWZ0IC8gTWlkZGxlIC8gVGVhbVJpZ2h0KSAtLS0KICAgIHsKICAgICAgICBjb25zdCBUT1BfUEFORUxfWSA9IDQ0Ljc1ICsgVE9QX0hVRF9PRkZTRVRfWTsKICAgICAgICBjb25zdCBQQU5FTF9XSURUSCA9IDExNC41OwogICAgICAgIGNvbnN0IFBBTkVMX0hFSUdIVCA9IDc0OwogICAgICAgIGNvbnN0IE1JRF9QQU5FTF9YID0gOTAyLjc1OwogICAgICAgIGNvbnN0IExFRlRfUEFORUxfWCA9IDc4My44NjsKICAgICAgICBjb25zdCBSSUdIVF9QQU5FTF9YID0gMTAyMS42NDsKICAgICAgICBjb25zdCBQQU5FTF9HQVAgPSBNSURfUEFORUxfWCAtIExFRlRfUEFORUxfWCAtIFBBTkVMX1dJRFRIOwogICAgICAgIGNvbnN0IFJPVU5EX0tJTExTX1BBTkVMX1NJWkUgPSBQQU5FTF9IRUlHSFQ7CiAgICAgICAgY29uc3QgUk9VTkRfS0lMTFNfTEVGVF9YID0gTEVGVF9QQU5FTF9YIC0gUk9VTkRfS0lMTFNfUEFORUxfU0laRSAtIFBBTkVMX0dBUDsKICAgICAgICBjb25zdCBST1VORF9LSUxMU19SSUdIVF9YID0gUklHSFRfUEFORUxfWCArIFBBTkVMX1dJRFRIICsgUEFORUxfR0FQOwogICAgICAgIGNvbnN0IFRSRU5ESU5HX0NST1dOX1NJWkUgPSAxODsKICAgICAgICBjb25zdCBUUkVORElOR19DUk9XTl9PRkZTRVRfWSA9IDQ7CiAgICAgICAgY29uc3QgVFJFTkRJTkdfQ1JPV05fTEVGVF9YID0gUEFORUxfV0lEVEggLSBUUkVORElOR19DUk9XTl9TSVpFIC0gMTA7CiAgICAgICAgY29uc3QgVFJFTkRJTkdfQ1JPV05fUklHSFRfWCA9IDEwOwoKICAgICAgICBjb25zdCBtaWQgPSBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IENvbnRhaW5lcl9Ub3BNaWRkbGVfQ29yZVVJXyR7cGlkfQogICAgICAgICAgICBuYW1lOiBgQ29udGFpbmVyX1RvcE1pZGRsZV9Db3JlVUlfJHtwaWR9YCwKICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgIHBvc2l0aW9uOiBbTUlEX1BBTkVMX1gsIFRPUF9QQU5FTF9ZXSwKICAgICAgICAgICAgc2l6ZTogW1BBTkVMX1dJRFRILCBQQU5FTF9IRUlHSFRdLAogICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICBiZ0NvbG9yOiBbMC4wMzE0LCAwLjA0MzEsIDAuMDQzMV0sCiAgICAgICAgICAgIGJnQWxwaGE6IDAuNzUsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLkJsdXIsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogUm91bmRUZXh0XyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBSb3VuZFRleHRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAuNSwgLTRdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFs3Mi41LCAyNF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRUZXh0LAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTYsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gSGVscC9pbnN0cnVjdGlvbnMgdGV4dCBzaG93biB3aGVuIGVuYWJsZWQgZm9yIHRoaXMgcGxheWVyCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYENvbnRhaW5lcl9IZWxwVGV4dF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstMTY1LjUsIDkyXSwgLy9bLTExNi41LCA5Ml0KICAgICAgICAgICAgICAgICAgICBzaXplOiBbNDUwLCAyMF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzEsIDAuOTg4MiwgMC42MTE4XSwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlbHAvaW5zdHJ1Y3Rpb25zIHRleHQgc2hvd24gd2hlbiBlbmFibGVkIGZvciB0aGlzIHBsYXllcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYEhlbHBUZXh0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAyXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFs0NTAsIDE0XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFswLjIsIDAuMiwgMC4yXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLmhlbHBUZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMC4yNTEsIDAuMDk0MSwgMC4wNjY3XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZHkgc3RhdHVzIHRleHQgc2hvd24gd2hlbiB0aGUgcGxheWVyIGlzIFJFQURZIGFuZCB0aGUgcm91bmQgaXMgbm90IGxpdmUKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgQ29udGFpbmVyX1JlYWR5U3RhdHVzXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWy0xNjUuNSwgOTJdLCAvL1stMTE2LjUsIDkyXQogICAgICAgICAgICAgICAgICAgIHNpemU6IFs0NTAsIDIwXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlYWR5IHN0YXR1cyB0ZXh0IHNob3duIHdoZW4gZW5hYmxlZCBmb3IgdGhpcyBwbGF5ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBSZWFkeVN0YXR1c1RleHRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDJdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzQ1MCwgMTRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucmVhZHlUZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMC42Nzg0LCAwLjk5MjIsIDAuNTI1NV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFNsYXNoXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBTbGFzaF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbNzEuNSArIFJPVU5EX1NMQVNIX09GRlNFVF9YLCAtMl0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzMxLCAyMV0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uc2xhc2gsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxNiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICB9KTsKICAgICAgICBpZiAobWlkKSByZWZzLnJvb3RzLnB1c2gobWlkKTsKCiAgICAgICAgY29uc3QgdDFQYW5lbCA9IG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogQ29udGFpbmVyX1RvcExlZnRfQ29yZVVJXyR7cGlkfQogICAgICAgICAgICBuYW1lOiBgQ29udGFpbmVyX1RvcExlZnRfQ29yZVVJXyR7cGlkfWAsCiAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICBwbGF5ZXJJZDogcGxheWVyLAogICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICBwb3NpdGlvbjogW0xFRlRfUEFORUxfWCwgVE9QX1BBTkVMX1ldLAogICAgICAgICAgICBzaXplOiBbUEFORUxfV0lEVEgsIFBBTkVMX0hFSUdIVF0sCiAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQ29sb3I6IFswLjQzOTIsIDAuOTIxNiwgMV0sCiAgICAgICAgICAgIGJnQWxwaGE6IDAuNzUsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLkJsdXIsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gVHJlbmRpbmcgd2lubmVyIGNyb3duIChzb2xpZCkgZm9yIFRlYW0gMQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9UcmVuZGluZ19Dcm93bl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJJbWFnZSIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW1RSRU5ESU5HX0NST1dOX0xFRlRfWCwgVFJFTkRJTkdfQ1JPV05fT0ZGU0VUX1ldLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtUUkVORElOR19DUk9XTl9TSVpFLCBUUkVORElOR19DUk9XTl9TSVpFXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIGltYWdlVHlwZTogbW9kLlVJSW1hZ2VUeXBlLkNyb3duU29saWQsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VDb2xvcjogWzEsIDI1MiAvIDI1NSwgMTU2IC8gMjU1XSwKICAgICAgICAgICAgICAgICAgICBpbWFnZUFscGhhOiAxLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBUZWFtIG5hbWUgbGFiZWwgZm9yIFRlYW0gMSAobGVmdCBzaWRlKQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9OYW1lXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFsyMy4yNSwgMF0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzY4LCAyOF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMSksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBUZWFtTGVmdF9SZWNvcmRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1MZWZ0X1JlY29yZF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMi4yNSwgMjJdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMTAsIDIwXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiBbMC4yLCAwLjIsIDAuMl0sCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZFJlY29yZEZvcm1hdCwgMCwgMCwgMCksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBEaXNwbGF5IHZhcmlhYmxlIGZvciByb3VuZCB3aW5zIG9uIFRlYW0gMSAobGVmdCBzaWRlKQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9XaW5zXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFszMSwgNDVdLCAvLzI2LjUsIDQ0CiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzcyLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnJvdW5kV2lucywKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIERpc3BsYXkgdmFyaWFibGUgZm9yIHRvdGFsIGtpbGxzIG9uIFRlYW0gMSAobGVmdCBzaWRlKQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9LaWxsc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMjYuNSwgNTldLCAvLzI2LjUsIDU4CiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzcyLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnRvdGFsS2lsbHMsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICB9KTsKICAgICAgICBpZiAodDFQYW5lbCkgcmVmcy5yb290cy5wdXNoKHQxUGFuZWwpOwoKICAgICAgICBjb25zdCB0MVJvdW5kS2lsbHNQYW5lbCA9IG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogQ29udGFpbmVyX1RvcExlZnRfUm91bmRLaWxsc18ke3BpZH0KICAgICAgICAgICAgbmFtZTogYENvbnRhaW5lcl9Ub3BMZWZ0X1JvdW5kS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgIHBvc2l0aW9uOiBbUk9VTkRfS0lMTFNfTEVGVF9YLCBUT1BfUEFORUxfWV0sCiAgICAgICAgICAgIHNpemU6IFtST1VORF9LSUxMU19QQU5FTF9TSVpFLCBST1VORF9LSUxMU19QQU5FTF9TSVpFXSwKICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgYmdDb2xvcjogWzAuNDM5MiwgMC45MjE2LCAxXSwKICAgICAgICAgICAgYmdBbHBoYTogMC43NSwKICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBDcm93biBpbmRpY2F0b3Igc2hvd24gZm9yIHJvdW5kIHdpbm5lciAoVGVhbSAxKQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9Sb3VuZEtpbGxzX0Nyb3duXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkltYWdlIiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgLTM1XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbNDUsIDQ1XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VUeXBlOiBtb2QuVUlJbWFnZVR5cGUuQ3Jvd25PdXRsaW5lLAogICAgICAgICAgICAgICAgICAgIGltYWdlQ29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICBpbWFnZUFscGhhOiAxLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBCaWcgcm91bmQta2lsbHMgY291bnRlciBmb3IgVGVhbSAxCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1MZWZ0X1JvdW5kS2lsbHNfQ291bnRlclRleHRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtST1VORF9LSUxMU19QQU5FTF9TSVpFLCA2MF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgMCksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBDT0xPUl9CTFVFLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogNjAsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gUm91bmQga2lsbHMgbGFiZWwgKGJvdHRvbSBvZiB0aGUgcGFuZWwpCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1MZWZ0X1JvdW5kS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDUzXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbUk9VTkRfS0lMTFNfUEFORUxfU0laRSwgMThdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnJvdW5kS2lsbHNXaXRoUm91bmRGb3JtYXQsIGdldFJvdW5kS2lsbHNMYWJlbFJvdW5kKCkpLAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTEsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXJlZCB2ZWhpY2xlcyBhbGl2ZSAobGl2ZSByb3VuZCBvbmx5KQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtTGVmdF9Sb3VuZEtpbGxzX1ZlaGljbGVzQWxpdmVfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDc2XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbUk9VTkRfS0lMTFNfUEFORUxfU0laRSwgMTJdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLnZlaGljbGVzQWxpdmVGb3JtYXQsIDApLAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTAsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHQxUm91bmRLaWxsc1BhbmVsKSByZWZzLnJvb3RzLnB1c2godDFSb3VuZEtpbGxzUGFuZWwpOwoKICAgICAgICBjb25zdCB0MlBhbmVsID0gbW9kbGliLlBhcnNlVUkoewogICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBDb250YWluZXJfVG9wUmlnaHRfQ29yZVVJXyR7cGlkfQogICAgICAgICAgICBuYW1lOiBgQ29udGFpbmVyX1RvcFJpZ2h0X0NvcmVVSV8ke3BpZH1gLAogICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgcG9zaXRpb246IFtSSUdIVF9QQU5FTF9YLCBUT1BfUEFORUxfWV0sCiAgICAgICAgICAgIHNpemU6IFtQQU5FTF9XSURUSCwgUEFORUxfSEVJR0hUXSwKICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgYmdDb2xvcjogWzEsIDAuNTEzNywgMC4zODA0XSwKICAgICAgICAgICAgYmdBbHBoYTogMC43NSwKICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBUcmVuZGluZyB3aW5uZXIgY3Jvd24gKHNvbGlkKSBmb3IgVGVhbSAyCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1SaWdodF9UcmVuZGluZ19Dcm93bl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJJbWFnZSIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW1RSRU5ESU5HX0NST1dOX1JJR0hUX1gsIFRSRU5ESU5HX0NST1dOX09GRlNFVF9ZXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbVFJFTkRJTkdfQ1JPV05fU0laRSwgVFJFTkRJTkdfQ1JPV05fU0laRV0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IG1vZC5VSUltYWdlVHlwZS5Dcm93blNvbGlkLAogICAgICAgICAgICAgICAgICAgIGltYWdlQ29sb3I6IFsxLCAyNTIgLyAyNTUsIDE1NiAvIDI1NV0sCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VBbHBoYTogMSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGVhbSBuYW1lIGxhYmVsIGZvciBUZWFtIDIgKHJpZ2h0IHNpZGUpCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1SaWdodF9OYW1lXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFsyMy4yNSwgMF0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzY4LCAyOF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMiksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBUZWFtUmlnaHRfUmVjb3JkXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtUmlnaHRfUmVjb3JkXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFsyLjI1LCAyMl0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzExMCwgMjBdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFswLjIsIDAuMiwgMC4yXSwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLnJvdW5kUmVjb3JkRm9ybWF0LCAwLCAwLCAwKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDE4LAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIERpc3BsYXkgdmFyaWFibGUgZm9yIHJvdW5kIHdpbnMgb24gVGVhbSAyIChyaWdodCBzaWRlKQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtUmlnaHRfV2luc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMzEsIDQ1XSwgLy8yNi41LCA0NAogICAgICAgICAgICAgICAgICAgIHNpemU6IFs3MiwgMTZdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFswLjIsIDAuMiwgMC4yXSwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLmxhYmVscy5yb3VuZFdpbnMsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBEaXNwbGF5IHZhcmlhYmxlIGZvciB0b3RhbCBraWxscyBvbiBUZWFtIDIgKHJpZ2h0IHNpZGUpCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFRlYW1SaWdodF9LaWxsc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMjYuNSwgNTldLCAvLzU4CiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzcyLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnRvdGFsS2lsbHMsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QgdDJSb3VuZEtpbGxzUGFuZWwgPSBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IENvbnRhaW5lcl9Ub3BSaWdodF9Sb3VuZEtpbGxzXyR7cGlkfQogICAgICAgICAgICBuYW1lOiBgQ29udGFpbmVyX1RvcFJpZ2h0X1JvdW5kS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgIHBvc2l0aW9uOiBbUk9VTkRfS0lMTFNfUklHSFRfWCwgVE9QX1BBTkVMX1ldLAogICAgICAgICAgICBzaXplOiBbUk9VTkRfS0lMTFNfUEFORUxfU0laRSwgUk9VTkRfS0lMTFNfUEFORUxfU0laRV0sCiAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQ29sb3I6IFsxLCAwLjUxMzcsIDAuMzgwNF0sCiAgICAgICAgICAgIGJnQWxwaGE6IDAuNzUsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLkJsdXIsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gQ3Jvd24gaW5kaWNhdG9yIHNob3duIGZvciByb3VuZCB3aW5uZXIgKFRlYW0gMikKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVGVhbVJpZ2h0X1JvdW5kS2lsbHNfQ3Jvd25fJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiSW1hZ2UiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAtMzVdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFs0NSwgNDVdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IG1vZC5VSUltYWdlVHlwZS5Dcm93bk91dGxpbmUsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIGltYWdlQWxwaGE6IDEsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIEJpZyByb3VuZC1raWxscyBjb3VudGVyIGZvciBUZWFtIDIKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVGVhbVJpZ2h0X1JvdW5kS2lsbHNfQ291bnRlclRleHRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtST1VORF9LSUxMU19QQU5FTF9TSVpFLCA2MF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgMCksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBDT0xPUl9SRUQsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiA2MCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCBraWxscyBsYWJlbCAoYm90dG9tIG9mIHRoZSBwYW5lbCkKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVGVhbVJpZ2h0X1JvdW5kS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDUzXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbUk9VTkRfS0lMTFNfUEFORUxfU0laRSwgMThdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQubGFiZWxzLnJvdW5kS2lsbHNXaXRoUm91bmRGb3JtYXQsIGdldFJvdW5kS2lsbHNMYWJlbFJvdW5kKCkpLAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTEsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXJlZCB2ZWhpY2xlcyBhbGl2ZSAobGl2ZSByb3VuZCBvbmx5KQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBUZWFtUmlnaHRfUm91bmRLaWxsc19WZWhpY2xlc0FsaXZlXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA3Nl0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW1JPVU5EX0tJTExTX1BBTkVMX1NJWkUsIDEyXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC52ZWhpY2xlc0FsaXZlRm9ybWF0LCAwKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEwLAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgIH0pOwogICAgICAgIGlmICh0MlJvdW5kS2lsbHNQYW5lbCkgcmVmcy5yb290cy5wdXNoKHQyUm91bmRLaWxsc1BhbmVsKTsKICAgIH0KCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIFRvcC1DZW50ZXIgUGFuZWxzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCiAgICAvLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIEFkbWluIEFjdGlvbiBDb3VudGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgewogICAgICAgIC8vIEFkbWluIGFjdGlvbiBhdWRpdCBjb3VudGVyICh0b3AtcmlnaHQpCiAgICAgICAgY29uc3QgYXVkaXRDb3VudGVyID0gbW9kbGliLlBhcnNlVUkoewogICAgICAgICAgICBuYW1lOiBgQWRtaW5QYW5lbEFjdGlvbkNvdW50XyR7cGlkfWAsCiAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGluY3JlYXNlIFggdG8gbW92ZSByaWdodCwgaW5jcmVhc2UgWSB0byBtb3ZlIGRvd24KICAgICAgICAgICAgcG9zaXRpb246IFsyMCwgMjJdLAogICAgICAgICAgICBzaXplOiBbNjAsIDEyXSwKICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9uQ291bnRGb3JtYXQsIDApLAogICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICB0ZXh0U2l6ZTogMTAsCiAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXJSaWdodCwKICAgICAgICB9KTsKICAgICAgICBpZiAoYXVkaXRDb3VudGVyKSByZWZzLnJvb3RzLnB1c2goYXVkaXRDb3VudGVyKTsKICAgIH0KCiAgICByZWZzLmxlZnRSZWNvcmRUZXh0ID0gc2FmZUZpbmQoYFRlYW1MZWZ0X1JlY29yZF8ke3BpZH1gKTsKICAgIHJlZnMucmlnaHRSZWNvcmRUZXh0ID0gc2FmZUZpbmQoYFRlYW1SaWdodF9SZWNvcmRfJHtwaWR9YCk7CiAgICByZWZzLmxlZnRSb3VuZEtpbGxzVGV4dCA9IHNhZmVGaW5kKGBUZWFtTGVmdF9Sb3VuZEtpbGxzX0NvdW50ZXJUZXh0XyR7cGlkfWApOwogICAgcmVmcy5yaWdodFJvdW5kS2lsbHNUZXh0ID0gc2FmZUZpbmQoYFRlYW1SaWdodF9Sb3VuZEtpbGxzX0NvdW50ZXJUZXh0XyR7cGlkfWApOwogICAgcmVmcy5sZWZ0Um91bmRLaWxsc0xhYmVsID0gc2FmZUZpbmQoYFRlYW1MZWZ0X1JvdW5kS2lsbHNfJHtwaWR9YCk7CiAgICByZWZzLnJpZ2h0Um91bmRLaWxsc0xhYmVsID0gc2FmZUZpbmQoYFRlYW1SaWdodF9Sb3VuZEtpbGxzXyR7cGlkfWApOwogICAgcmVmcy5sZWZ0VmVoaWNsZXNBbGl2ZVRleHQgPSBzYWZlRmluZChgVGVhbUxlZnRfUm91bmRLaWxsc19WZWhpY2xlc0FsaXZlXyR7cGlkfWApOwogICAgcmVmcy5yaWdodFZlaGljbGVzQWxpdmVUZXh0ID0gc2FmZUZpbmQoYFRlYW1SaWdodF9Sb3VuZEtpbGxzX1ZlaGljbGVzQWxpdmVfJHtwaWR9YCk7CiAgICByZWZzLmxlZnRSb3VuZEtpbGxzQ3Jvd24gPSBzYWZlRmluZChgVGVhbUxlZnRfUm91bmRLaWxsc19Dcm93bl8ke3BpZH1gKTsKICAgIHJlZnMucmlnaHRSb3VuZEtpbGxzQ3Jvd24gPSBzYWZlRmluZChgVGVhbVJpZ2h0X1JvdW5kS2lsbHNfQ3Jvd25fJHtwaWR9YCk7CiAgICByZWZzLmxlZnRUcmVuZGluZ1dpbm5lckNyb3duID0gc2FmZUZpbmQoYFRlYW1MZWZ0X1RyZW5kaW5nX0Nyb3duXyR7cGlkfWApOwogICAgcmVmcy5yaWdodFRyZW5kaW5nV2lubmVyQ3Jvd24gPSBzYWZlRmluZChgVGVhbVJpZ2h0X1RyZW5kaW5nX0Nyb3duXyR7cGlkfWApOwogICAgcmVmcy5hZG1pblBhbmVsQWN0aW9uQ291bnRUZXh0ID0gc2FmZUZpbmQoYEFkbWluUGFuZWxBY3Rpb25Db3VudF8ke3BpZH1gKTsKCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIEFkbWluIEFjdGlvbiBDb3VudGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCiAgICAvLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIENvdW50ZXIgV2lkZ2V0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vIC0tLSBDb3VudGVyIHdpZGdldHMgKGRpZ2l0cykgLS0tCiAgICB7CiAgICAgICAgY29uc3QgbWtDb3VudGVyID0gKAogICAgICAgICAgICBjb250YWluZXJOYW1lOiBzdHJpbmcsCiAgICAgICAgICAgIHRleHROYW1lOiBzdHJpbmcsCiAgICAgICAgICAgIHBvczogW251bWJlciwgbnVtYmVyXSwKICAgICAgICAgICAgc2l6ZTogW251bWJlciwgbnVtYmVyXSwKICAgICAgICAgICAgdGV4dFNpemU6IG51bWJlcgogICAgICAgICkgPT4gewogICAgICAgICAgICBjb25zdCByb290ID0gbW9kbGliLlBhcnNlVUkoewogICAgICAgICAgICAgICAgbmFtZTogY29udGFpbmVyTmFtZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsCiAgICAgICAgICAgICAgICBzaXplOiBzaXplLAogICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgYmdDb2xvcjogWzAuMiwgMC4yLCAwLjJdLAogICAgICAgICAgICAgICAgYmdBbHBoYTogMSwKICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGV4dE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogW3NpemVbMF0sIHNpemVbMV1dLAogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFswLjIsIDAuMiwgMC4yXSwKICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLmdlbmVyaWNDb3VudGVyLCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IHRleHRTaXplLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHJvb3QpIHJlZnMucm9vdHMucHVzaChyb290KTsKICAgICAgICAgICAgcmV0dXJuIHNhZmVGaW5kKHRleHROYW1lKTsKICAgICAgICB9OwoKICAgICAgICByZWZzLnJvdW5kQ3VyVGV4dCA9IG1rQ291bnRlcigKICAgICAgICAgICAgYFJvdW5kQ291bnRlckNvbnRhaW5lcl8ke3BpZH1gLAogICAgICAgICAgICBgUm91bmRDb3VudGVyVGV4dF8ke3BpZH1gLAogICAgICAgICAgICBbOTcwLjkzICsgUk9VTkRfQ09VTlRFUl9PRkZTRVRfWCwgNDQuMzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzEzLjk1LCAxOC4xNV0sCiAgICAgICAgICAgIDE2CiAgICAgICAgKTsKICAgICAgICByZWZzLnJvdW5kTWF4VGV4dCA9IG1rQ291bnRlcigKICAgICAgICAgICAgYFJvdW5kQ291bnRlck1heENvbnRhaW5lcl8ke3BpZH1gLAogICAgICAgICAgICBgUm91bmRDb3VudGVyTWF4VGV4dF8ke3BpZH1gLAogICAgICAgICAgICBbOTkzLjAzICsgUk9VTkRfQ09VTlRFUl9PRkZTRVRfWCwgNDQuMzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzEzLjk1LCAxOC4xNV0sCiAgICAgICAgICAgIDE2CiAgICAgICAgKTsKCiAgICAgICAgcmVmcy5sZWZ0V2luc1RleHQgPSBta0NvdW50ZXIoCiAgICAgICAgICAgIGBUZWFtTGVmdF9XaW5zX0NvdW50ZXJfJHtwaWR9YCwKICAgICAgICAgICAgYFRlYW1MZWZ0X1dpbnNfQ291bnRlclRleHRfJHtwaWR9YCwKICAgICAgICAgICAgWzgwMy4wMywgODQuNzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzIwLCAyNF0sCiAgICAgICAgICAgIDE1CiAgICAgICAgKTsKICAgICAgICByZWZzLnJpZ2h0V2luc1RleHQgPSBta0NvdW50ZXIoCiAgICAgICAgICAgIGBUZWFtUmlnaHRfV2luc19Db3VudGVyXyR7cGlkfWAsCiAgICAgICAgICAgIGBUZWFtUmlnaHRfV2luc19Db3VudGVyVGV4dF8ke3BpZH1gLAogICAgICAgICAgICBbMTAzOS43NiwgODQuNzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzIwLCAyNF0sCiAgICAgICAgICAgIDE1CiAgICAgICAgKTsKCiAgICAgICAgcmVmcy5sZWZ0S2lsbHNUZXh0ID0gbWtDb3VudGVyKAogICAgICAgICAgICBgVGVhbUxlZnRfS2lsbHNfQ291bnRlcl8ke3BpZH1gLAogICAgICAgICAgICBgVGVhbUxlZnRfS2lsbHNfQ291bnRlclRleHRfJHtwaWR9YCwKICAgICAgICAgICAgWzgwMy4wMywgOTguNzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzIwLCAyNF0sCiAgICAgICAgICAgIDE1CiAgICAgICAgKTsKICAgICAgICByZWZzLnJpZ2h0S2lsbHNUZXh0ID0gbWtDb3VudGVyKAogICAgICAgICAgICBgVGVhbVJpZ2h0X0tpbGxzX0NvdW50ZXJfJHtwaWR9YCwKICAgICAgICAgICAgYFRlYW1SaWdodF9LaWxsc19Db3VudGVyVGV4dF8ke3BpZH1gLAogICAgICAgICAgICBbMTAzOS43NiwgOTguNzUgKyBUT1BfSFVEX09GRlNFVF9ZXSwKICAgICAgICAgICAgWzIwLCAyNF0sCiAgICAgICAgICAgIDE1CiAgICAgICAgKTsKICAgIH0KCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIENvdW50ZXIgV2lkZ2V0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBCdWlsZC9FbnN1cmUgLSBSb3VuZC1FbmQgRGlhbG9nIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgewogICAgICAgIGNvbnN0IHNwYXduRGlzYWJsZWRUZXh0ID0gZW5zdXJlU3Bhd25EaXNhYmxlZExpdmVUZXh0KHBsYXllcik7CiAgICAgICAgaWYgKHNwYXduRGlzYWJsZWRUZXh0KSByZWZzLnJvb3RzLnB1c2goc3Bhd25EaXNhYmxlZFRleHQpOwogICAgfQoKICAgIC8vQ29kZSBDbGVhbnVwOiBOZWVkIHRvIHJlZHVjZSByZWR1bmRhbnQgY29tbWVudHMsIGFuZCB3aGVuIG1hbnVhbGx5IGFkanVzdGluZyBwb3NpdGlvbi9zaXplcyB1cGRhdGUgZGlyZWN0aW9ucyAoZS5nLiArWCBpcyByaWdodCBvciBsZWZ0KQogICAgewogICAgICAgIGNvbnN0IHJvdW5kRW5kTW9kYWwgPSBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFJvdW5kRW5kRGlhbG9nUm9vdF8ke3BpZH0KICAgICAgICAgICAgbmFtZTogYFJvdW5kRW5kRGlhbG9nUm9vdF8ke3BpZH1gLAogICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgcG9zaXRpb246IFswLCAxNTBdLAogICAgICAgICAgICBzaXplOiBbNTIwLCAxMTJdLAogICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICBiZ0NvbG9yOiBbVklDVE9SWV9CR19SR0JbMF0sIFZJQ1RPUllfQkdfUkdCWzFdLCBWSUNUT1JZX0JHX1JHQlsyXV0sCiAgICAgICAgICAgIGJnQWxwaGE6IDAuNzUsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFJvdW5kRW5kRGlhbG9nX1JvdW5kXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBSb3VuZEVuZERpYWxvZ19Sb3VuZF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMTZdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFszNDAsIDI0XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZEVuZC5yb3VuZE51bWJlciwgU3RhdGUucm91bmQuY3VycmVudCksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAyMCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBSb3VuZEVuZERpYWxvZ19PdXRjb21lXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBSb3VuZEVuZERpYWxvZ19PdXRjb21lXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA0Nl0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzM0MCwgMzBdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLnN0cmluZ2tleXMudHdsLnJvdW5kRW5kLmRyYXcsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAyNiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBSb3VuZEVuZERpYWxvZ19EZXRhaWxfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFJvdW5kRW5kRGlhbG9nX0RldGFpbF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgODZdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFs1MDAsIDE4XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5yb3VuZEVuZC5kcmF3LAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTQsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgfSk7CgogICAgICAgIHJlZnMucm91bmRFbmRSb290ID0gcm91bmRFbmRNb2RhbDsKICAgICAgICByZWZzLnJvdW5kRW5kUm91bmRUZXh0ID0gc2FmZUZpbmQoYFJvdW5kRW5kRGlhbG9nX1JvdW5kXyR7cGlkfWApOwogICAgICAgIHJlZnMucm91bmRFbmRPdXRjb21lVGV4dCA9IHNhZmVGaW5kKGBSb3VuZEVuZERpYWxvZ19PdXRjb21lXyR7cGlkfWApOwogICAgICAgIHJlZnMucm91bmRFbmREZXRhaWxUZXh0ID0gc2FmZUZpbmQoYFJvdW5kRW5kRGlhbG9nX0RldGFpbF8ke3BpZH1gKTsKICAgICAgICBpZiAocm91bmRFbmRNb2RhbCkgcmVmcy5yb290cy5wdXNoKHJvdW5kRW5kTW9kYWwpOwogICAgfQoKICAgIC8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBIVUQgQnVpbGQvRW5zdXJlIC0gUm91bmQtRW5kIERpYWxvZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBCdWlsZC9FbnN1cmUgLSBWaWN0b3J5IERpYWxvZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIHsKICAgICAgICBjb25zdCBtb2RhbCA9IG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ1Jvb3RfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nUm9vdF8ke3BpZH1gLAogICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgcG9zaXRpb246IFswLCAxMzVdLAogICAgICAgICAgICBzaXplOiBbVklDVE9SWV9ESUFMT0dfV0lEVEgsIFZJQ1RPUllfRElBTE9HX0hFSUdIVF0sCiAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQ29sb3I6IFtWSUNUT1JZX0JHX1JHQlswXSwgVklDVE9SWV9CR19SR0JbMV0sIFZJQ1RPUllfQkdfUkdCWzJdXSwKICAgICAgICAgICAgYmdBbHBoYTogMC45NSwKICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfSGVhZGVyMV8ke3BpZH0KICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfSGVhZGVyMV8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMTRdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFszNDAsIDIyXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuYnJhbmRpbmcudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX0hlYWRlcjJfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfSGVhZGVyMl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMzZdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFszNDAsIDIyXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuYnJhbmRpbmcuc3VidGl0bGUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1NjcmVlbnNob3RfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfU2NyZWVuc2hvdF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgNjJdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFszNDAsIDE2XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnNjcmVlbnNob3RQcm9tcHQsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMF0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1Jlc3RhcnRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfUmVzdGFydF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgODJdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFszNDAsIDE2XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJlc3RhcnRJbkZvcm1hdCwgTUFUQ0hfRU5EX0RFTEFZX1NFQ09ORFMpLAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19Ub3RhbFRpbWVSb3dfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVG90YWxUaW1lUm93XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDEwMl0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzM0MCwgMTZdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVG90YWxUaW1lTGFiZWxfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19Ub3RhbFRpbWVMYWJlbF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbLTQ1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMzAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnRvdGFsTWF0Y2hUaW1lTGFiZWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVG90YWxUaW1lRGlnaXRzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVG90YWxUaW1lRGlnaXRzXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzU1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMjAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19UaW1lSFRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1RpbWVIVF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbLTQ1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzEwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1RpbWVIT18ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVGltZUhPXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstMzUsIDBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuY2xvY2suZGlnaXQsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVGltZUMxXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19UaW1lQzFfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWy0yNSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMCwgMTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5jb2xvbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19UaW1lTVRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1RpbWVNVF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbLTE1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzEwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1RpbWVNT18ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVGltZU1PXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstNSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMCwgMTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5kaWdpdCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19UaW1lQzJfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1RpbWVDMl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbNSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxMCwgMTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5jb2xvbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19UaW1lU1RfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1RpbWVTVF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMTUsIDBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQuY2xvY2suZGlnaXQsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVGltZVNPXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19UaW1lU09fJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzI1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzEwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfUm91bmRzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1JvdW5kc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMTIyXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbMzQwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZHNTdW1tYXJ5Rm9ybWF0LCAwLCAwKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfQWRtaW5BY3Rpb25zXyR7cGlkfQogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX0FkbWluQWN0aW9uc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMTM4XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbMzQwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9uQ291bnRWaWN0b3J5Rm9ybWF0LCAwKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAwXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVGVhbXNSb3dfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVGVhbXNSb3dfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMTU0XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbMzQwLCA3MF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19UZWFtTGVmdF8ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1RlYW1MZWZ0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWy04NSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTYwLCAxMjJdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiBbVklDVE9SWV9URUFNMV9CR19SR0JbMF0sIFZJQ1RPUllfVEVBTTFfQkdfUkdCWzFdLCBWSUNUT1JZX1RFQU0xX0JHX1JHQlsyXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLjk1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19MZWZ0T3V0Y29tZV8ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfTGVmdE91dGNvbWVfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTUwLCAyMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS50ZWFtT3V0Y29tZUZvcm1hdCwgZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0xKSwgbW9kLnN0cmluZ2tleXMudHdsLnZpY3RvcnkubG9zZXMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbm5pbmcgY3Jvd24gKHNob3duIG9ubHkgZm9yIHRoZSB3aW5uaW5nIHRlYW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX0xlZnRDcm93bl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiSW1hZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW1ZJQ1RPUllfQ1JPV05fT0ZGU0VUX1hfTEVGVCwgVklDVE9SWV9DUk9XTl9PRkZTRVRfWV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFtWSUNUT1JZX0NST1dOX1NJWkUsIFZJQ1RPUllfQ1JPV05fU0laRV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVHlwZTogbW9kLlVJSW1hZ2VUeXBlLkNyb3duU29saWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlQ29sb3I6IFZJQ1RPUllfQ1JPV05fQ09MT1JfUkdCLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX0xlZnRSZWNvcmRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX0xlZnRSZWNvcmRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDMwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzE1MCwgMTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5yb3VuZFJlY29yZEZvcm1hdCwgMCwgMCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxOCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19MZWZ0Um91bmRXaW5zXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19MZWZ0Um91bmRXaW5zXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA1MF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kV2luc0Zvcm1hdCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19MZWZ0Um91bmRMb3NzZXNfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX0xlZnRSb3VuZExvc3Nlc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgNjhdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTUwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZExvc3Nlc0Zvcm1hdCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19MZWZ0Um91bmRUaWVzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19MZWZ0Um91bmRUaWVzXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA4Nl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kVGllc0Zvcm1hdCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19MZWZ0VG90YWxLaWxsc18ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfTGVmdFRvdGFsS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDEwNF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnRvdGFsS2lsbHNGb3JtYXQsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0xX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfVGVhbVJpZ2h0XyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfVGVhbVJpZ2h0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzg1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNjAsIDEyMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFtWSUNUT1JZX1RFQU0yX0JHX1JHQlswXSwgVklDVE9SWV9URUFNMl9CR19SR0JbMV0sIFZJQ1RPUllfVEVBTTJfQkdfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAuOTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1JpZ2h0T3V0Y29tZV8ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfUmlnaHRPdXRjb21lXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogWzE1MCwgMjJdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnZpY3RvcnkudGVhbU91dGNvbWVGb3JtYXQsIGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMiksIG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LndpbnMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbm5pbmcgY3Jvd24gKHNob3duIG9ubHkgZm9yIHRoZSB3aW5uaW5nIHRlYW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1JpZ2h0Q3Jvd25fJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIkltYWdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtWSUNUT1JZX0NST1dOX09GRlNFVF9YX1JJR0hULCBWSUNUT1JZX0NST1dOX09GRlNFVF9ZXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogW1ZJQ1RPUllfQ1JPV05fU0laRSwgVklDVE9SWV9DUk9XTl9TSVpFXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VUeXBlOiBtb2QuVUlJbWFnZVR5cGUuQ3Jvd25Tb2xpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDb2xvcjogVklDVE9SWV9DUk9XTl9DT0xPUl9SR0IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlQWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfUmlnaHRSZWNvcmRfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1JpZ2h0UmVjb3JkXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCAzMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRSZWNvcmRGb3JtYXQsIDAsIDAsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfUmlnaHRSb3VuZFdpbnNfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1JpZ2h0Um91bmRXaW5zXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA1MF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kV2luc0Zvcm1hdCwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTJfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTJfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTJfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19SaWdodFJvdW5kTG9zc2VzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19SaWdodFJvdW5kTG9zc2VzXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA2OF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnJvdW5kTG9zc2VzRm9ybWF0LCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbVklDVE9SWV9URUFNMl9URVhUX1JHQlswXSwgVklDVE9SWV9URUFNMl9URVhUX1JHQlsxXSwgVklDVE9SWV9URUFNMl9URVhUX1JHQlsyXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVSSBlbGVtZW50OiBWaWN0b3J5RGlhbG9nX1JpZ2h0Um91bmRUaWVzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19SaWdodFJvdW5kVGllc18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgODZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbMTUwLCAxNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudmljdG9yeS5yb3VuZFRpZXNGb3JtYXQsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVJIGVsZW1lbnQ6IFZpY3RvcnlEaWFsb2dfUmlnaHRUb3RhbEtpbGxzXyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19SaWdodFRvdGFsS2lsbHNfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDEwNF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFsxNTAsIDE2XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC52aWN0b3J5LnRvdGFsS2lsbHNGb3JtYXQsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFtWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzBdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzFdLCBWSUNUT1JZX1RFQU0yX1RFWFRfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19Sb3N0ZXJSb3dfJHtwaWR9CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfUm9zdGVyUm93XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfWV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW1ZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfV0lEVEgsIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfSEVJR0hUX01BWF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19Sb3N0ZXJMZWZ0XyR7cGlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfUm9zdGVyTGVmdF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstODUsIDBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogW1ZJQ1RPUllfRElBTE9HX1JPU1RFUl9DT05UQUlORVJfV0lEVEgsIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfSEVJR0hUX01BWF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IFtWSUNUT1JZX1RFQU0xX0JHX1JHQlswXSwgVklDVE9SWV9URUFNMV9CR19SR0JbMV0sIFZJQ1RPUllfVEVBTTFfQkdfUkdCWzJdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAuOTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvd3M6IGFueVtdID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBURUFNX1JPU1RFUl9NQVhfUk9XUzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgVmljdG9yeURpYWxvZ19MZWZ0Um9zdGVyXyR7cGlkfV8ke2l9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfUEFERElOR19UT1AgKyBpICogVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19IRUlHSFRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogW1ZJQ1RPUllfRElBTE9HX1JPU1RFUl9DT05UQUlORVJfV0lEVEgsIFZJQ1RPUllfRElBTE9HX1JPU1RFUl9ST1dfSEVJR0hUXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsICIiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogW1ZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMF0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMV0sIFZJQ1RPUllfVEVBTTFfVEVYVF9SR0JbMl1dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKSwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVUkgZWxlbWVudDogVmljdG9yeURpYWxvZ19Sb3N0ZXJSaWdodF8ke3BpZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGBWaWN0b3J5RGlhbG9nX1Jvc3RlclJpZ2h0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzg1LCAwXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFtWSUNUT1JZX0RJQUxPR19ST1NURVJfQ09OVEFJTkVSX1dJRFRILCBWSUNUT1JZX0RJQUxPR19ST1NURVJfUk9XX0hFSUdIVF9NQVhdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiBbVklDVE9SWV9URUFNMl9CR19SR0JbMF0sIFZJQ1RPUllfVEVBTTJfQkdfUkdCWzFdLCBWSUNUT1JZX1RFQU0yX0JHX1JHQlsyXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLjk1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dzOiBhbnlbXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVEVBTV9ST1NURVJfTUFYX1JPV1M7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYFZpY3RvcnlEaWFsb2dfUmlnaHRSb3N0ZXJfJHtwaWR9XyR7aX1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19QQURESU5HX1RPUCArIGkgKiBWSUNUT1JZX0RJQUxPR19ST1NURVJfUk9XX0hFSUdIVF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbVklDVE9SWV9ESUFMT0dfUk9TVEVSX0NPTlRBSU5FUl9XSURUSCwgVklDVE9SWV9ESUFMT0dfUk9TVEVSX1JPV19IRUlHSFRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgIiIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbVklDVE9SWV9URUFNMl9URVhUX1JHQlswXSwgVklDVE9SWV9URUFNMl9URVhUX1JHQlsxXSwgVklDVE9SWV9URUFNMl9URVhUX1JHQlsyXV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgIH0pOwoKICAgICAgICBpZiAobW9kYWwpIHJlZnMucm9vdHMucHVzaChtb2RhbCk7CgogICAgICAgIHJlZnMudmljdG9yeVJvb3QgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ1Jvb3RfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5UmVzdGFydFRleHQgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19SZXN0YXJ0XyR7cGlkfWApOwoKICAgICAgICByZWZzLnZpY3RvcnlUaW1lSG91cnNUZW5zID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfVGltZUhUXyR7cGlkfWApOwogICAgICAgIHJlZnMudmljdG9yeVRpbWVIb3Vyc09uZXMgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19UaW1lSE9fJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5VGltZU1pbnV0ZXNUZW5zID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfVGltZU1UXyR7cGlkfWApOwogICAgICAgIHJlZnMudmljdG9yeVRpbWVNaW51dGVzT25lcyA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX1RpbWVNT18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlUaW1lU2Vjb25kc1RlbnMgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19UaW1lU1RfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5VGltZVNlY29uZHNPbmVzID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfVGltZVNPXyR7cGlkfWApOwoKICAgICAgICByZWZzLnZpY3RvcnlSb3VuZHNTdW1tYXJ5VGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX1JvdW5kc18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlBZG1pbkFjdGlvbnNUZXh0ID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfQWRtaW5BY3Rpb25zXyR7cGlkfWApOwoKICAgICAgICByZWZzLnZpY3RvcnlMZWZ0T3V0Y29tZVRleHQgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19MZWZ0T3V0Y29tZV8ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlMZWZ0Um91bmRXaW5zVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX0xlZnRSb3VuZFdpbnNfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5TGVmdFJvdW5kTG9zc2VzVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX0xlZnRSb3VuZExvc3Nlc18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlMZWZ0Um91bmRUaWVzVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX0xlZnRSb3VuZFRpZXNfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5TGVmdFRvdGFsS2lsbHNUZXh0ID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfTGVmdFRvdGFsS2lsbHNfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5TGVmdENyb3duID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfTGVmdENyb3duXyR7cGlkfWApOwoKICAgICAgICByZWZzLnZpY3RvcnlSaWdodE91dGNvbWVUZXh0ID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfUmlnaHRPdXRjb21lXyR7cGlkfWApOwogICAgICAgIHJlZnMudmljdG9yeVJpZ2h0Um91bmRXaW5zVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX1JpZ2h0Um91bmRXaW5zXyR7cGlkfWApOwogICAgICAgIHJlZnMudmljdG9yeVJpZ2h0Um91bmRMb3NzZXNUZXh0ID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfUmlnaHRSb3VuZExvc3Nlc18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlSaWdodFJvdW5kVGllc1RleHQgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19SaWdodFJvdW5kVGllc18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlMZWZ0UmVjb3JkVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX0xlZnRSZWNvcmRfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5UmlnaHRSZWNvcmRUZXh0ID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfUmlnaHRSZWNvcmRfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5UmlnaHRUb3RhbEtpbGxzVGV4dCA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX1JpZ2h0VG90YWxLaWxsc18ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlSaWdodENyb3duID0gc2FmZUZpbmQoYFZpY3RvcnlEaWFsb2dfUmlnaHRDcm93bl8ke3BpZH1gKTsKICAgICAgICByZWZzLnZpY3RvcnlSb3N0ZXJSb3cgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19Sb3N0ZXJSb3dfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5Um9zdGVyTGVmdENvbnRhaW5lciA9IHNhZmVGaW5kKGBWaWN0b3J5RGlhbG9nX1Jvc3RlckxlZnRfJHtwaWR9YCk7CiAgICAgICAgcmVmcy52aWN0b3J5Um9zdGVyUmlnaHRDb250YWluZXIgPSBzYWZlRmluZChgVmljdG9yeURpYWxvZ19Sb3N0ZXJSaWdodF8ke3BpZH1gKTsKCiAgICAgICAgcmVmcy52aWN0b3J5TGVmdFJvc3RlclRleHQgPSBbXTsKICAgICAgICByZWZzLnZpY3RvcnlSaWdodFJvc3RlclRleHQgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFRFQU1fUk9TVEVSX01BWF9ST1dTOyBpKyspIHsKICAgICAgICAgICAgcmVmcy52aWN0b3J5TGVmdFJvc3RlclRleHQucHVzaChzYWZlRmluZChgVmljdG9yeURpYWxvZ19MZWZ0Um9zdGVyXyR7cGlkfV8ke2l9YCkpOwogICAgICAgICAgICByZWZzLnZpY3RvcnlSaWdodFJvc3RlclRleHQucHVzaChzYWZlRmluZChgVmljdG9yeURpYWxvZ19SaWdodFJvc3Rlcl8ke3BpZH1fJHtpfWApKTsKICAgICAgICB9CiAgICB9CgogICAgLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEhVRCBCdWlsZC9FbnN1cmUgLSBWaWN0b3J5IERpYWxvZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEhVRCBCdWlsZC9FbnN1cmUgLSBDYWNoZSBJbml0ICsgRGVmYXVsdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICByZWZzLmhlbHBUZXh0Q29udGFpbmVyID0gc2FmZUZpbmQoYENvbnRhaW5lcl9IZWxwVGV4dF8ke3BpZH1gKTsKICAgIHJlZnMucmVhZHlTdGF0dXNDb250YWluZXIgPSBzYWZlRmluZChgQ29udGFpbmVyX1JlYWR5U3RhdHVzXyR7cGlkfWApOwogICAgcmVmcy5zcGF3bkRpc2FibGVkTGl2ZVRleHQgPSBzYWZlRmluZChgU3Bhd25EaXNhYmxlZExpdmVUZXh0XyR7cGlkfWApOwogICAgU3RhdGUuaHVkQ2FjaGUuaHVkQnlQaWRbcGlkXSA9IHJlZnM7CgogICAgLy8gSW5pdGlhbGl6ZSB2aXNpYmxlIG51bWJlcnMgaW1tZWRpYXRlbHkKICAgIHNldENvdW50ZXJUZXh0KHJlZnMucm91bmRDdXJUZXh0LCBTdGF0ZS5yb3VuZC5jdXJyZW50KTsKICAgIHNldENvdW50ZXJUZXh0KHJlZnMucm91bmRNYXhUZXh0LCBTdGF0ZS5yb3VuZC5tYXgpOwogICAgc2V0Q291bnRlclRleHQocmVmcy5sZWZ0V2luc1RleHQsIFN0YXRlLm1hdGNoLndpbnNUMSk7CiAgICBzZXRDb3VudGVyVGV4dChyZWZzLnJpZ2h0V2luc1RleHQsIFN0YXRlLm1hdGNoLndpbnNUMik7CgogICAgc2V0Q291bnRlclRleHQocmVmcy5sZWZ0Um91bmRLaWxsc1RleHQsIFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMpOwogICAgc2V0Q291bnRlclRleHQocmVmcy5yaWdodFJvdW5kS2lsbHNUZXh0LCBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzKTsKICAgIHNldFJvdW5kS2lsbHNMYWJlbFRleHRGb3JSZWZzKHJlZnMpOwogICAgc2V0Um91bmRXaW5Dcm93bkZvclJlZnMocmVmcywgU3RhdGUucm91bmQubGFzdFdpbm5lclRlYW0sIFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmREaWFsb2dWaXNpYmxlKTsKICAgIHNldFRyZW5kaW5nV2lubmVyQ3Jvd25Gb3JSZWZzKHJlZnMpOwoKICAgIC8vIFRvdGFsIGtpbGxzIGFyZSB0cmFja2VkIHNlcGFyYXRlbHkgZnJvbSBHYW1lTW9kZVNjb3JlICh3aGljaCBpcyB1c2VkIGZvciBtYXRjaCB3aW5zKQogICAgc2V0Q291bnRlclRleHQocmVmcy5sZWZ0S2lsbHNUZXh0LCBTdGF0ZS5zY29yZXMudDFUb3RhbEtpbGxzKTsKICAgIHNldENvdW50ZXJUZXh0KHJlZnMucmlnaHRLaWxsc1RleHQsIFN0YXRlLnNjb3Jlcy50MlRvdGFsS2lsbHMpOwogICAgc2V0QWRtaW5QYW5lbEFjdGlvbkNvdW50VGV4dChyZWZzLmFkbWluUGFuZWxBY3Rpb25Db3VudFRleHQsIFN0YXRlLmFkbWluLmFjdGlvbkNvdW50KTsKCiAgICBlbnN1cmVUb3BIdWRSb290Rm9yUGlkKHBpZCwgcGxheWVyKTsKICAgIHNldEh1ZEhlbHBEZXB0aEZvclBpZChwaWQpOwoKICAgIHVwZGF0ZVZpY3RvcnlEaWFsb2dGb3JQbGF5ZXIocGxheWVyLCBnZXRSZW1haW5pbmdTZWNvbmRzKCkpOwoKICAgIHJldHVybiByZWZzOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIEJ1aWxkL0Vuc3VyZSAtIENhY2hlIEluaXQgKyBEZWZhdWx0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gSFVEIFVwZGF0ZSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBzZXRIdWRSb3VuZENvdW50ZXJzRm9yQWxsUGxheWVycyhjdXI6IG51bWJlciwgbWF4OiBudW1iZXIpOiB2b2lkIHsKICAgIC8vIFNldHMgYXV0aG9yaXRhdGl2ZSByb3VuZCBjdXJyZW50L21heCB2YWx1ZXMgYW5kIHN5bmNzIEhVRCArIFJlYWR5IGRpYWxvZyAiQmVzdCBvZiIuCiAgICBTdGF0ZS5yb3VuZC5jdXJyZW50ID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihjdXIpKTsKICAgIFN0YXRlLnJvdW5kLm1heCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobWF4KSk7CiAgICBpZiAoU3RhdGUucm91bmQubWF4IDwgU3RhdGUucm91bmQuY3VycmVudCkgewogICAgICAgIFN0YXRlLnJvdW5kLm1heCA9IFN0YXRlLnJvdW5kLmN1cnJlbnQ7CiAgICB9CgogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCByZWZzID0gZW5zdXJlSHVkRm9yUGxheWVyKHApOwogICAgICAgIGlmICghcmVmcykgY29udGludWU7CiAgICAgICAgc2V0Q291bnRlclRleHQocmVmcy5yb3VuZEN1clRleHQsIFN0YXRlLnJvdW5kLmN1cnJlbnQpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMucm91bmRNYXhUZXh0LCBTdGF0ZS5yb3VuZC5tYXgpOwogICAgfQoKICAgIHNldFJvdW5kU3RhdGVUZXh0Rm9yQWxsUGxheWVycygpOwogICAgLy8gS2VlcCBSZWFkeSBVcCBkaWFsb2cgIkJlc3Qgb2YiIGxhYmVsIGluIHN5bmMgd2l0aCBTdGF0ZS5yb3VuZC5tYXguCiAgICB1cGRhdGVCZXN0T2ZSb3VuZHNMYWJlbEZvckFsbFBsYXllcnMoKTsKfQoKZnVuY3Rpb24gc2V0SHVkV2luQ291bnRlcnNGb3JBbGxQbGF5ZXJzKHQxV2luczogbnVtYmVyLCB0MldpbnM6IG51bWJlcik6IHZvaWQgewogICAgLy8gVXBkYXRlcyBtYXRjaCB3aW4gY291bnRlcnMgaW4gc2NyaXB0IHN0YXRlIGFuZCBHYW1lTW9kZVNjb3JlLCB0aGVuIHJlZnJlc2hlcyBIVUQuCiAgICBjb25zdCBsdyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodDFXaW5zKSk7CiAgICBjb25zdCBydyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IodDJXaW5zKSk7CgogICAgLy8gTWF0Y2ggd2lucyBhcmUgYXV0aG9yaXRhdGl2ZSBpbiBzY3JpcHQgc3RhdGU7IEdhbWVNb2RlU2NvcmUgaXMgbWlycm9yZWQgZm9yIHNjb3JlYm9hcmQgZGlzcGxheS4KICAgIHNldE1hdGNoV2luc1RlYW0oVGVhbUlELlRlYW0xLCBsdyk7CiAgICBzZXRNYXRjaFdpbnNUZWFtKFRlYW1JRC5UZWFtMiwgcncpOwoKICAgIC8vIENhY2hlIGxvY2FsbHkgZm9yIGltbWVkaWF0ZSBVSSArIGxvZ2ljLgogICAgU3RhdGUubWF0Y2gud2luc1QxID0gbHc7CiAgICBTdGF0ZS5tYXRjaC53aW5zVDIgPSBydzsKCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHJlZnMgPSBlbnN1cmVIdWRGb3JQbGF5ZXIocCk7CiAgICAgICAgaWYgKCFyZWZzKSBjb250aW51ZTsKICAgICAgICBzZXRDb3VudGVyVGV4dChyZWZzLmxlZnRXaW5zVGV4dCwgbHcpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMucmlnaHRXaW5zVGV4dCwgcncpOwogICAgfQogICAgc2V0VHJlbmRpbmdXaW5uZXJDcm93bkZvckFsbFBsYXllcnMoKTsKCiAgICBzeW5jUm91bmRSZWNvcmRIdWRGb3JBbGxQbGF5ZXJzKCk7Cn0KCmZ1bmN0aW9uIHN5bmNSb3VuZFJlY29yZEh1ZEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICAvLyBEZXJpdmVzIGxvc3NlcyBmcm9tIHdpbnMvdGllcyBhbmQgc3luY3MgdGhlIFJvdW5kIFJlY29yZCBIVUQgZm9yIGJvdGggdGVhbXMuCiAgICAvLyBMb3NzZXMgYXJlIGRlcml2ZWQgZnJvbSB0aGUgb3Bwb25lbnQncyB3aW4gY291bnQgd2hlbiByb3VuZHMgZW5kIHdpdGggYSBzaW5nbGUgd2lubmVyLgogICAgU3RhdGUubWF0Y2gubG9zc2VzVDEgPSBTdGF0ZS5tYXRjaC53aW5zVDI7CiAgICBTdGF0ZS5tYXRjaC5sb3NzZXNUMiA9IFN0YXRlLm1hdGNoLndpbnNUMTsKCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHJlZnMgPSBlbnN1cmVIdWRGb3JQbGF5ZXIocCk7CiAgICAgICAgaWYgKCFyZWZzKSBjb250aW51ZTsKICAgICAgICBzZXRSb3VuZFJlY29yZFRleHQocmVmcy5sZWZ0UmVjb3JkVGV4dCwgU3RhdGUubWF0Y2gud2luc1QxLCBTdGF0ZS5tYXRjaC5sb3NzZXNUMSwgU3RhdGUubWF0Y2gudGllc1QxKTsKICAgICAgICBzZXRSb3VuZFJlY29yZFRleHQocmVmcy5yaWdodFJlY29yZFRleHQsIFN0YXRlLm1hdGNoLndpbnNUMiwgU3RhdGUubWF0Y2gubG9zc2VzVDIsIFN0YXRlLm1hdGNoLnRpZXNUMik7CiAgICB9Cn0KCmZ1bmN0aW9uIGFkanVzdE1hdGNoVGllc0ZvckJvdGhUZWFtcyhkZWx0YTogbnVtYmVyKTogdm9pZCB7CiAgICAvLyBBcHBsaWVzIGEgZGVsdGEgdG8gbWF0Y2ggdGllcyBmb3IgYm90aCB0ZWFtcyBhbmQgcmVmcmVzaGVzIHRoZSBSb3VuZCBSZWNvcmQgSFVELgogICAgY29uc3QgY3VycmVudCA9IE1hdGgubWluKFN0YXRlLm1hdGNoLnRpZXNUMSwgU3RhdGUubWF0Y2gudGllc1QyKTsKICAgIGNvbnN0IG5leHQgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGN1cnJlbnQgKyBkZWx0YSkpOwogICAgU3RhdGUubWF0Y2gudGllc1QxID0gbmV4dDsKICAgIFN0YXRlLm1hdGNoLnRpZXNUMiA9IG5leHQ7CiAgICBzeW5jUm91bmRSZWNvcmRIdWRGb3JBbGxQbGF5ZXJzKCk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZUFkbWluUGFuZWxBY3Rpb25Db3VudEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICAvLyBQdXNoZXMgdGhlIGFkbWluIGFjdGlvbiBjb3VudCB0byBldmVyeSBwbGF5ZXIncyBIVUQgd2lkZ2V0LgogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCByZWZzID0gZW5zdXJlSHVkRm9yUGxheWVyKHApOwogICAgICAgIGlmICghcmVmcykgY29udGludWU7CiAgICAgICAgc2V0QWRtaW5QYW5lbEFjdGlvbkNvdW50VGV4dChyZWZzLmFkbWluUGFuZWxBY3Rpb25Db3VudFRleHQsIFN0YXRlLmFkbWluLmFjdGlvbkNvdW50KTsKICAgIH0KfQoKZnVuY3Rpb24gaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllcjogbW9kLlBsYXllciwgYWN0aW9uS2V5OiBudW1iZXIpOiB2b2lkIHsKICAgIC8vIEluY3JlbWVudHMgdGhlIGFkbWluIGFjdGlvbiBjb3VudGVyIGFuZCBicm9hZGNhc3RzIHRoZSBhY3Rpb24gdG8gdGhlIHdvcmxkIGxvZy4KICAgIFN0YXRlLmFkbWluLmFjdGlvbkNvdW50ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihTdGF0ZS5hZG1pbi5hY3Rpb25Db3VudCkgKyAxKTsKICAgIHVwZGF0ZUFkbWluUGFuZWxBY3Rpb25Db3VudEZvckFsbFBsYXllcnMoKTsKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25QcmVzc2VkLCBldmVudFBsYXllciwgYWN0aW9uS2V5KSwKICAgICAgICB0cnVlLAogICAgICAgIHVuZGVmaW5lZCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25QcmVzc2VkCiAgICApOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gSFVEIFVwZGF0ZSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBMZWdhY3kgVUkgQ2xlYW51cCAob2xkIHNjb3JlX3Jvb3RfKiBjb250YWluZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQ29kZSBDbGVhbnVwOiBJcyB0aGlzIHN0aWxsIG5lZWRlZD8/PwpmdW5jdGlvbiBkZWxldGVMZWdhY3lTY29yZVJvb3RGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBjb25zdCBuYW1lID0gInNjb3JlX3Jvb3RfIiArIGdldE9iaklkKHBsYXllcik7CiAgICB0cnkgewogICAgICAgIG1vZC5EZWxldGVVSVdpZGdldChtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUobmFtZSkpOwogICAgfSBjYXRjaCB7IH0KfQoKZnVuY3Rpb24gZGVsZXRlTGVnYWN5U2NvcmVSb290c0ZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXApIGNvbnRpbnVlOwogICAgICAgIGlmICghbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGRlbGV0ZUxlZ2FjeVNjb3JlUm9vdEZvclBsYXllcihwKTsKICAgIH0KfQovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gTGVnYWN5IFVJIENsZWFudXAgKG9sZCBzY29yZV9yb290XyogY29udGFpbmVycykgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFBvcnRhbCBBcnJheSBIZWxwZXJzIChlbmdpbmUgYXJyYXlzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gYXJyYXlDb250YWluc1ZlaGljbGUoYXJyOiBhbnksIHZlaGljbGU6IG1vZC5WZWhpY2xlKTogYm9vbGVhbiB7CiAgICByZXR1cm4gbW9kbGliLklzVHJ1ZUZvckFueShhcnIsIChlbDogYW55KSA9PiBtb2QuRXF1YWxzKGVsLCB2ZWhpY2xlKSk7Cn0KCmZ1bmN0aW9uIGFycmF5UmVtb3ZlVmVoaWNsZShhcnI6IGFueSwgdmVoaWNsZTogbW9kLlZlaGljbGUpOiBhbnkgewogICAgLy8gRmlsdGVyZWRBcnJheSBtdXN0IHJlbWFpbiBzdGFibGUgYWNyb3NzIGVuZ2luZSB1cGRhdGVzOyByZWdpc3RyeSBjb3JyZWN0bmVzcyBkZXBlbmRzIG9uIGl0LgogICAgcmV0dXJuIG1vZGxpYi5GaWx0ZXJlZEFycmF5KGFyciwgKGVsOiBhbnkpID0+IG1vZC5Ob3RFcXVhbFRvKGVsLCB2ZWhpY2xlKSk7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBQb3J0YWwgQXJyYXkgSGVscGVycyAoZW5naW5lIGFycmF5cykgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlaGljbGUgT3duZXJzaGlwIFRyYWNraW5nICh2ZWhJZHMvdmVoT3duZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBWZWhpY2xlIG93bmVyIGNhY2hlIGxpZmVjeWNsZToKLy8gLSBzZXRMYXN0RHJpdmVyIG9uIGVudHJ5LCBwb3BMYXN0RHJpdmVyIG9uIGRlc3RydWN0aW9uLCBjbGVhckxhc3REcml2ZXJCeVZlaGljbGVPYmpJZCBvbiBzcGF3bi9yZXNwYXduLgoKZnVuY3Rpb24gZ2V0VmVoaWNsZUlkKHY6IG1vZC5WZWhpY2xlKTogbnVtYmVyIHsgcmV0dXJuIGdldE9iaklkKHYpOyB9CgpmdW5jdGlvbiBnZXRMYXN0RHJpdmVyKHZlaGljbGU6IG1vZC5WZWhpY2xlKTogbW9kLlBsYXllciB8IHVuZGVmaW5lZCB7CiAgICBjb25zdCB2aWQgPSBnZXRWZWhpY2xlSWQodmVoaWNsZSk7CiAgICAvLyBMaW5lYXIgc2NhbiBvZiB0aGUgY2FjaGVkIHZlaGljbGUtaWQgbGlzdCB0byBmaW5kIGl0cyBsYXN0IGtub3duIGRyaXZlci4KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVoSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gUGFyYWxsZWwgYXJyYXlzOiB2ZWhJZHNbaV0gbWFwcyB0byB2ZWhPd25lcnNbaV0uCiAgICAgICAgaWYgKHZlaElkc1tpXSA9PT0gdmlkKSByZXR1cm4gdmVoT3duZXJzW2ldOwogICAgfQogICAgLy8gTm8gY2FjaGVkIGVudHJ5IGZvdW5kLgogICAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gc2V0TGFzdERyaXZlcih2ZWhpY2xlOiBtb2QuVmVoaWNsZSwgcGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuOwogICAgY29uc3QgdmlkID0gZ2V0VmVoaWNsZUlkKHZlaGljbGUpOwogICAgLy8gVXBkYXRlIGV4aXN0aW5nIGVudHJ5IGlmIHRoaXMgdmVoaWNsZSBpcyBhbHJlYWR5IHRyYWNrZWQuCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaElkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh2ZWhJZHNbaV0gPT09IHZpZCkgewogICAgICAgICAgICB2ZWhPd25lcnNbaV0gPSBwbGF5ZXI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CiAgICAvLyBGaXJzdCB0aW1lIHdlIHNlZSB0aGlzIHZlaGljbGU6IGFwcGVuZCB0byB0aGUgcGFyYWxsZWwgYXJyYXlzLgogICAgdmVoSWRzLnB1c2godmlkKTsKICAgIHZlaE93bmVycy5wdXNoKHBsYXllcik7Cn0KCmZ1bmN0aW9uIHBvcExhc3REcml2ZXIodmVoaWNsZTogbW9kLlZlaGljbGUpOiBtb2QuUGxheWVyIHwgdW5kZWZpbmVkIHsKICAgIGNvbnN0IHZpZCA9IGdldFZlaGljbGVJZCh2ZWhpY2xlKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaElkcy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIEZpbmQgdGhlIHZlaGljbGUgZW50cnksIHJldHVybiBpdHMgb3duZXIsIHRoZW4gcmVtb3ZlIGl0IGZyb20gdGhlIGNhY2hlLgogICAgICAgIGlmICh2ZWhJZHNbaV0gPT09IHZpZCkgewogICAgICAgICAgICBjb25zdCBvd25lciA9IHZlaE93bmVyc1tpXTsKCiAgICAgICAgICAgIC8vIFN3YXAtcmVtb3ZlIHRvIGF2b2lkIHNoaWZ0aW5nIHRoZSBhcnJheXMuCiAgICAgICAgICAgIGNvbnN0IGxhc3RJZHggPSB2ZWhJZHMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdmVoSWRzW2ldID0gdmVoSWRzW2xhc3RJZHhdOwogICAgICAgICAgICB2ZWhPd25lcnNbaV0gPSB2ZWhPd25lcnNbbGFzdElkeF07CiAgICAgICAgICAgIHZlaElkcy5wb3AoKTsKICAgICAgICAgICAgdmVoT3duZXJzLnBvcCgpOwoKICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSByZW1vdmVkIG93bmVyIChjYWxsZXIgbWF5IHVzZSBmb3IgbWVzc2FnaW5nKS4KICAgICAgICAgICAgcmV0dXJuIG93bmVyOwogICAgICAgIH0KICAgIH0KICAgIC8vIE5vIGNhY2hlZCBlbnRyeSBmb3VuZC4KICAgIHJldHVybiB1bmRlZmluZWQ7Cn0KCmZ1bmN0aW9uIGNsZWFyTGFzdERyaXZlckJ5VmVoaWNsZU9iaklkKHZlaGljbGVPYmpJZDogbnVtYmVyKTogdm9pZCB7CiAgICAvLyBSZW1vdmUgdGhlIGxhc3QtZHJpdmVyIGVudHJ5IGZvciBhIHNwZWNpZmljIHZlaGljbGUgT2JqSWQgKGlmIGl0IGV4aXN0cykuCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaElkcy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIEZpbmQgdGhlIG1hdGNoaW5nIHZlaGljbGUgaWQgaW4gdGhlIHBhcmFsbGVsIGFycmF5cy4KICAgICAgICBpZiAodmVoSWRzW2ldID09PSB2ZWhpY2xlT2JqSWQpIHsKICAgICAgICAgICAgLy8gU3dhcC1yZW1vdmUgdG8ga2VlcCBhcnJheXMgY29tcGFjdCB3aXRob3V0IHByZXNlcnZpbmcgb3JkZXIuCiAgICAgICAgICAgIGNvbnN0IGxhc3RJZHggPSB2ZWhJZHMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdmVoSWRzW2ldID0gdmVoSWRzW2xhc3RJZHhdOwogICAgICAgICAgICB2ZWhPd25lcnNbaV0gPSB2ZWhPd25lcnNbbGFzdElkeF07CiAgICAgICAgICAgIHZlaElkcy5wb3AoKTsKICAgICAgICAgICAgdmVoT3duZXJzLnBvcCgpOwogICAgICAgICAgICAvLyBEb25lOiB0aGVyZSBpcyBubyBsb25nZXIgYSBjYWNoZWQgb3duZXIgZm9yIHRoaXMgdmVoaWNsZS4KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFZlaGljbGUgT3duZXJzaGlwIFRyYWNraW5nICh2ZWhJZHMvdmVoT3duZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gVmVoaWNsZSBSZWdpc3RyYXRpb24gKHRlYW0gYXJyYXlzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gUmVnaXN0ZXJzIHZlaGljbGUgb3duZXJzaGlwIHRvIGEgdGVhbSBmb3Iga2lsbCBhdHRyaWJ1dGlvbi4KLy8gSU1QT1JUQU5UOgovLyAtIFZlaGljbGUgSUQgYW5kIG93bmluZyB0ZWFtIG11c3Qgc3RheSBpbiBzeW5jCi8vIC0gUmVhc3NpZ25tZW50cyBtdXN0IG92ZXJ3cml0ZSBwcmV2aW91cyBvd25lcnNoaXAKCmZ1bmN0aW9uIHJlZ2lzdGVyVmVoaWNsZVRvVGVhbSh2ZWhpY2xlOiBtb2QuVmVoaWNsZSwgdGVhbU51bTogVGVhbUlEKTogdm9pZCB7CiAgICAvLyBFbnN1cmUgdGhlIHZlaGljbGUgZXhpc3RzIGluIGV4YWN0bHkgb25lIHJlZ2lzdHJ5IGJ5IHJlbW92aW5nIGl0IGZyb20gYm90aCBmaXJzdC4KICAgIG1vZC5TZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0xLCBhcnJheVJlbW92ZVZlaGljbGUobW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTEpLCB2ZWhpY2xlKSk7CiAgICBtb2QuU2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMiwgYXJyYXlSZW1vdmVWZWhpY2xlKG1vZC5HZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0yKSwgdmVoaWNsZSkpOwoKICAgIC8vIEFwcGVuZCB0aGUgdmVoaWNsZSB0byB0aGUgY2hvc2VuIHRlYW0ncyByZWdpc3RyeSBhcnJheS4KICAgIGlmICh0ZWFtTnVtID09PSBUZWFtSUQuVGVhbTEpIHsKICAgICAgICBtb2QuU2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMSwgbW9kLkFwcGVuZFRvQXJyYXkobW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTEpLCB2ZWhpY2xlKSk7CiAgICB9IGVsc2UgaWYgKHRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgIG1vZC5TZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0yLCBtb2QuQXBwZW5kVG9BcnJheShtb2QuR2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMiksIHZlaGljbGUpKTsKICAgIH0KfQoKZnVuY3Rpb24gY2xlYXJTcGF3bkJhc2VUZWFtQ2FjaGUoKTogdm9pZCB7CiAgICBmb3IgKGNvbnN0IGsgaW4gdmVoaWNsZVNwYXduQmFzZVRlYW1CeU9iaklkKSBkZWxldGUgdmVoaWNsZVNwYXduQmFzZVRlYW1CeU9iaklkW2sgYXMgYW55XTsKfQoKZnVuY3Rpb24gaW5mZXJCYXNlVGVhbUZyb21Qb3NpdGlvbihwb3M6IG1vZC5WZWN0b3IpOiBUZWFtSUQgfCAwIHsKICAgIGNvbnN0IGQxID0gbW9kLkRpc3RhbmNlQmV0d2Vlbihwb3MsIE1BSU5fQkFTRV9URUFNMV9QT1MpOyAvLyBEaXN0YW5jZSBmcm9tIHZlaGljbGUgdG8gVGVhbSAxIGJhc2UgYW5jaG9yLgogICAgY29uc3QgZDIgPSBtb2QuRGlzdGFuY2VCZXR3ZWVuKHBvcywgTUFJTl9CQVNFX1RFQU0yX1BPUyk7IC8vIERpc3RhbmNlIGZyb20gdmVoaWNsZSB0byBUZWFtIDIgYmFzZSBhbmNob3IuCiAgICBjb25zdCBiZXN0ID0gZDEgPD0gZDIgPyBUZWFtSUQuVGVhbTEgOiBUZWFtSUQuVGVhbTI7IC8vIFBpY2sgdGhlIG5lYXJlciBiYXNlIGFzIHRoZSBpbmZlcnJlZCB0ZWFtLgogICAgY29uc3QgYmVzdERpc3QgPSBkMSA8PSBkMiA/IGQxIDogZDI7IC8vIFRyYWNrIHRoZSBkaXN0YW5jZSB0byB0aGF0IG5lYXJlc3QgYmFzZS4KCiAgICBpZiAoYmVzdERpc3QgPiBNQUlOX0JBU0VfQklORF9SQURJVVNfTUVURVJTKSB7IC8vIE91dHNpZGUgYmluZCByYWRpdXM6IHRyZWF0IGFzIHVuYXNzaWduZWQuCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgcmV0dXJuIGJlc3Q7IC8vIFdpdGhpbiByYWRpdXM6IHJldHVybiB0aGUgaW5mZXJyZWQgdGVhbSBpZC4KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFZlaGljbGUgUmVnaXN0cmF0aW9uICh0ZWFtIGFycmF5cykgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlaGljbGUgU3Bhd25lciBTeXN0ZW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFZlaGljbGUgU3Bhd25lciBTeXN0ZW0gYXJjaGl0ZWN0dXJlOgovLyAtIFNsb3QgPSAodGVhbSwgc2xvdE51bWJlciwgc3Bhd25lciwgZGVzaXJlZCB2ZWhpY2xlIHR5cGUsIGxpdmUgc3RhdGUpLgovLyAtIEVuYWJsZW1lbnQgaXMgdGllZCB0byBtYXRjaHVwIHByZXNldHMgYW5kIG9ubHkgYXBwbGllcyB3aGVuIHRoZSByb3VuZCBpcyBOT1QgbGl2ZS4KLy8gLSBTcGF3bnMgYXJlIGZvcmNlZCBzZXF1ZW50aWFsbHkgdG8gYXZvaWQgY3Jvc3MtYmluZGluZyBiZXR3ZWVuIHNwYXduZXJzLgovLyAtIFNwYXduIGJpbmRpbmcgaXMgcG9zaXRpb24tYmFzZWQ6IHRoZSBmaXJzdCBleHBlY3Rpbmcgc2xvdCB3aXRoaW4gYmluZCBkaXN0YW5jZSBjbGFpbXMgdGhlIHZlaGljbGUuCi8vIC0gRGlzYWJsZWQgc2xvdHMgbmV2ZXIgcmVzcGF3bjsgZXhpc3RpbmcgdmVoaWNsZXMgYXJlIGxlZnQgYWxvbmUgdW50aWwgZGVzdHJveWVkLgovLyAtIEFsbCBkZWxheWVkIHdvcmsgaXMgdG9rZW4tZ2F0ZWQgc28gc3RhbGUgdGltZXJzL3NlcXVlbmNlcyBhYm9ydCB3aGVuIHNsb3RzIGNoYW5nZS4KCi8vIEVhY2ggc3Bhd25lciBpcyBjb25maWd1cmVkIG9uY2Ugb24gY3JlYXRpb24gd2l0aCBpdHMgdmVoaWNsZSB0eXBlIGFuZCBhYmFuZG9ubWVudC9yZXNwYXduIHBhcmFtZXRlcnMuCmZ1bmN0aW9uIGNvbmZpZ3VyZVZlaGljbGVTcGF3bmVyKHNwYXduZXI6IG1vZC5WZWhpY2xlU3Bhd25lciwgdmVoaWNsZVR5cGU6IG1vZC5WZWhpY2xlTGlzdCk6IHZvaWQgewogICAgLy8gU3Bhd25lciBzZXR0aW5ncyBhcmUgdHVuZWQgZm9yIGNvbnNpc3RlbnQgcmVzcGF3biBiZWhhdmlvcjsgYWRqdXN0IHdpdGggY2F1dGlvbi4KICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lclZlaGljbGVUeXBlKHNwYXduZXIsIHZlaGljbGVUeXBlKTsKICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lckF1dG9TcGF3bihzcGF3bmVyLCBmYWxzZSk7CiAgICBtb2QuU2V0VmVoaWNsZVNwYXduZXJSZXNwYXduVGltZShzcGF3bmVyLCBWRUhJQ0xFX1NQQVdORVJfUkVTUEFXTl9ERUxBWV9TRUNPTkRTKTsKICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lckFwcGx5RGFtYWdlVG9BYmFuZG9uVmVoaWNsZShzcGF3bmVyLCB0cnVlKTsKICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lckFiYW5kb25WZWhpY2xlc091dE9mQ29tYmF0QXJlYShzcGF3bmVyLCB0cnVlKTsKICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lclRpbWVVbnRpbEFiYW5kb24oc3Bhd25lciwgVkVISUNMRV9TUEFXTkVSX1RJTUVfVU5USUxfQUJBTkRPTl9TRUNPTkRTKTsKICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lcktlZXBBbGl2ZUFiYW5kb25SYWRpdXMoc3Bhd25lciwgVkVISUNMRV9TUEFXTkVSX0tFRVBfQUxJVkVfQUJBTkRPTl9SQURJVVMpOwogICAgbW9kLlNldFZlaGljbGVTcGF3bmVyS2VlcEFsaXZlU3Bhd25lclJhZGl1cyhzcGF3bmVyLCBWRUhJQ0xFX1NQQVdORVJfS0VFUF9BTElWRV9TUEFXTkVSX1JBRElVUyk7Cn0KCi8vIFBvbGwgaGVscGVyOiByZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGUgdmVoaWNsZSBubyBsb25nZXIgZXhpc3RzIChkZXN0cm95ZWQvdW5zcGF3bmVkL09PQikuCmZ1bmN0aW9uIGZpbmRWZWhpY2xlQnlJZCh2ZWhpY2xlSWQ6IG51bWJlcik6IG1vZC5WZWhpY2xlIHwgdW5kZWZpbmVkIHsKICAgIGNvbnN0IHZlaGljbGVzID0gbW9kLkFsbFZlaGljbGVzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHZlaGljbGVzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSBtb2QuVmFsdWVJbkFycmF5KHZlaGljbGVzLCBpKSBhcyBtb2QuVmVoaWNsZTsKICAgICAgICBpZiAobW9kLkdldE9iaklkKHYpID09PSB2ZWhpY2xlSWQpIHJldHVybiB2OwogICAgfQogICAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKLy8gQ3JlYXRlcyBhIHNwYXduZXIgb2JqZWN0LCBhcHBsaWVzIG1hcC1zcGVjaWZpYyB5YXcsIGNvbmZpZ3VyZXMgdmVoaWNsZSB0eXBlLCBhbmQgcmVnaXN0ZXJzIHRoZSBzbG90IHN0YXRlLgpmdW5jdGlvbiBhZGRWZWhpY2xlU3Bhd25lclNsb3QodGVhbUlkOiBUZWFtSUQsIHNsb3ROdW1iZXI6IG51bWJlciwgc3Bhd25Qb3M6IG1vZC5WZWN0b3IsIHNwYXduUm90OiBtb2QuVmVjdG9yLCB2ZWhpY2xlVHlwZTogbW9kLlZlaGljbGVMaXN0KTogbnVtYmVyIHsKICAgIGNvbnN0IHlhdyA9IG1vZC5ZQ29tcG9uZW50T2Yoc3Bhd25Sb3QpICsgVkVISUNMRV9TUEFXTl9ZQVdfT0ZGU0VUX0RFRzsKICAgIGNvbnN0IHNwYXduZXJSb3QgPSBtb2QuQ3JlYXRlVmVjdG9yKG1vZC5YQ29tcG9uZW50T2Yoc3Bhd25Sb3QpLCB5YXcsIG1vZC5aQ29tcG9uZW50T2Yoc3Bhd25Sb3QpKTsKICAgIGNvbnN0IHNwYXduZXIgPSBtb2QuU3Bhd25PYmplY3QoCiAgICAgICAgbW9kLlJ1bnRpbWVTcGF3bl9Db21tb24uVmVoaWNsZVNwYXduZXIsCiAgICAgICAgc3Bhd25Qb3MsCiAgICAgICAgc3Bhd25lclJvdAogICAgKSBhcyBtb2QuVmVoaWNsZVNwYXduZXI7CgogICAgLy8gRGlzYWJsZSBhdXRvcyByaWdodCBhd2F5IHRvIGF2b2lkIHRoZSBkZWZhdWx0IHZlaGljbGUgc3Bhd25pbmcgYmVmb3JlIHdlIGNvbmZpZ3VyZSB0aGUgc3Bhd25lci4KICAgIG1vZC5TZXRWZWhpY2xlU3Bhd25lckF1dG9TcGF3bihzcGF3bmVyLCBmYWxzZSk7CgogICAgY29uZmlndXJlVmVoaWNsZVNwYXduZXIoc3Bhd25lciwgdmVoaWNsZVR5cGUpOwoKICAgIGNvbnN0IHNsb3Q6IFZlaGljbGVTcGF3bmVyU2xvdCA9IHsKICAgICAgICB0ZWFtSWQsCiAgICAgICAgc2xvdE51bWJlciwKICAgICAgICBzcGF3bmVyLAogICAgICAgIHNwYXduZXJPYmpJZDogZ2V0T2JqSWQoc3Bhd25lciksCiAgICAgICAgc3Bhd25Qb3MsCiAgICAgICAgc3Bhd25Sb3Q6IHNwYXduZXJSb3QsCiAgICAgICAgdmVoaWNsZVR5cGUsCiAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlVG9rZW46IDAsCiAgICAgICAgc3Bhd25SZXF1ZXN0VG9rZW46IDAsCiAgICAgICAgc3Bhd25SZXF1ZXN0QXRTZWNvbmRzOiAtMSwKICAgICAgICBleHBlY3RpbmdTcGF3bjogZmFsc2UsCiAgICAgICAgdmVoaWNsZUlkOiAtMSwKICAgICAgICByZXNwYXduUnVubmluZzogZmFsc2UsCiAgICAgICAgc3Bhd25SZXRyeVNjaGVkdWxlZDogZmFsc2UsCiAgICB9OwoKICAgIFN0YXRlLnZlaGljbGVzLnNsb3RzLnB1c2goc2xvdCk7CiAgICByZXR1cm4gU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoIC0gMTsKfQoKZnVuY3Rpb24gZ2V0RGVzaXJlZFNwYXduZXJDb3VudHNGb3JQcmVzZXQocHJlc2V0SW5kZXg6IG51bWJlcik6IHsgdGVhbTE6IG51bWJlcjsgdGVhbTI6IG51bWJlciB9IHsKICAgIGNvbnN0IHByZXNldCA9IE1BVENIVVBfUFJFU0VUU1twcmVzZXRJbmRleF0gPz8gTUFUQ0hVUF9QUkVTRVRTWzBdOwogICAgLy8gUnVsZTogMXYwIHN0aWxsIHNwYXducyAxIHZlaGljbGUgcGVyIHNpZGUgKHByYWN0aWNlICsgdG9vbGluZyBjb25zaXN0ZW5jeSkuCiAgICBjb25zdCBkZXNpcmVkVGVhbTEgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHByZXNldC5sZWZ0UGxheWVycykpOwogICAgY29uc3QgZGVzaXJlZFRlYW0yID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihwcmVzZXQucmlnaHRQbGF5ZXJzKSk7CiAgICByZXR1cm4geyB0ZWFtMTogZGVzaXJlZFRlYW0xLCB0ZWFtMjogZGVzaXJlZFRlYW0yIH07Cn0KCi8vIFRvZ2dsZXMgc2xvdCBlbmFibGVkIHN0YXRlOyBidW1wcyB0b2tlbiB0byBjYW5jZWwgcGVuZGluZyB3YWl0cy4KLy8gUmV0dXJucyB0cnVlIG9ubHkgd2hlbiBlbmFibGluZyBhIHNsb3QgdGhhdCBoYXMgbm8gdHJhY2tlZCB2ZWhpY2xlIChuZWVkcyBzcGF3bikuCmZ1bmN0aW9uIHNldFNwYXduZXJTbG90RW5hYmxlZChzbG90SW5kZXg6IG51bWJlciwgZW5hYmxlZDogYm9vbGVhbik6IGJvb2xlYW4gewogICAgY29uc3Qgc2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW3Nsb3RJbmRleF07CiAgICBpZiAoc2xvdC5lbmFibGVkID09PSBlbmFibGVkKSByZXR1cm4gZmFsc2U7CiAgICBzbG90LmVuYWJsZWQgPSBlbmFibGVkOwogICAgc2xvdC5lbmFibGVUb2tlbiArPSAxOwogICAgc2xvdC5leHBlY3RpbmdTcGF3biA9IGZhbHNlOwogICAgaWYgKCFlbmFibGVkKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gc2xvdC52ZWhpY2xlSWQgPT09IC0xOwp9CgovLyBBcHBsaWVzIG1hdGNodXAgLT4gZGVzaXJlZCBzbG90IGNvdW50cywgaW4gc2xvdE51bWJlciBvcmRlciwgYW5kIHF1ZXVlcyBzZXF1ZW50aWFsIHNwYXducyBmb3IgbmV3IHNsb3RzLgpmdW5jdGlvbiBhcHBseVNwYXduZXJFbmFibGVtZW50Rm9yTWF0Y2h1cChwcmVzZXRJbmRleDogbnVtYmVyLCBzcGF3bk9uRW5hYmxlOiBib29sZWFuKTogdm9pZCB7CiAgICBpZiAoaXNSb3VuZExpdmUoKSkgcmV0dXJuOwoKICAgIGNvbnN0IGRlc2lyZWQgPSBnZXREZXNpcmVkU3Bhd25lckNvdW50c0ZvclByZXNldChwcmVzZXRJbmRleCk7CiAgICBjb25zdCB0ZWFtMVNsb3RJbmRpY2VzOiBudW1iZXJbXSA9IFtdOwogICAgY29uc3QgdGVhbTJTbG90SW5kaWNlczogbnVtYmVyW10gPSBbXTsKICAgIGNvbnN0IHNwYXduUXVldWU6IG51bWJlcltdID0gW107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTdGF0ZS52ZWhpY2xlcy5zbG90cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tpXTsKICAgICAgICBpZiAoc2xvdC50ZWFtSWQgPT09IFRlYW1JRC5UZWFtMSkgdGVhbTFTbG90SW5kaWNlcy5wdXNoKGkpOwogICAgICAgIGVsc2UgaWYgKHNsb3QudGVhbUlkID09PSBUZWFtSUQuVGVhbTIpIHRlYW0yU2xvdEluZGljZXMucHVzaChpKTsKICAgIH0KCiAgICAvLyBFbmFibGVtZW50IG9yZGVyIGlzIGRyaXZlbiBieSBzbG90TnVtYmVyLCBub3QgYXJyYXkgb3JkZXIuCiAgICB0ZWFtMVNsb3RJbmRpY2VzLnNvcnQoKGEsIGIpID0+IFN0YXRlLnZlaGljbGVzLnNsb3RzW2FdLnNsb3ROdW1iZXIgLSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tiXS5zbG90TnVtYmVyKTsKICAgIHRlYW0yU2xvdEluZGljZXMuc29ydCgoYSwgYikgPT4gU3RhdGUudmVoaWNsZXMuc2xvdHNbYV0uc2xvdE51bWJlciAtIFN0YXRlLnZlaGljbGVzLnNsb3RzW2JdLnNsb3ROdW1iZXIpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbTFTbG90SW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHRlYW0xU2xvdEluZGljZXNbaV07CiAgICAgICAgY29uc3Qgc2hvdWxkRW5hYmxlID0gaSA8IGRlc2lyZWQudGVhbTE7CiAgICAgICAgY29uc3Qgc2hvdWxkU3Bhd24gPSBzZXRTcGF3bmVyU2xvdEVuYWJsZWQoc2xvdEluZGV4LCBzaG91bGRFbmFibGUpOwogICAgICAgIGlmIChzcGF3bk9uRW5hYmxlICYmIHNob3VsZFNwYXduKSBzcGF3blF1ZXVlLnB1c2goc2xvdEluZGV4KTsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlYW0yU2xvdEluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBzbG90SW5kZXggPSB0ZWFtMlNsb3RJbmRpY2VzW2ldOwogICAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IGkgPCBkZXNpcmVkLnRlYW0yOwogICAgICAgIGNvbnN0IHNob3VsZFNwYXduID0gc2V0U3Bhd25lclNsb3RFbmFibGVkKHNsb3RJbmRleCwgc2hvdWxkRW5hYmxlKTsKICAgICAgICBpZiAoc3Bhd25PbkVuYWJsZSAmJiBzaG91bGRTcGF3bikgc3Bhd25RdWV1ZS5wdXNoKHNsb3RJbmRleCk7CiAgICB9CgogICAgaWYgKHNwYXduT25FbmFibGUpIHsKICAgICAgICAvLyBSZS1xdWV1ZSBhbnkgZW5hYmxlZCBidXQgZW1wdHkgc2xvdHMgdG8gY292ZXIgcmFwaWQgcHJlc2V0IGNoYW5nZXMuCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTdGF0ZS52ZWhpY2xlcy5zbG90cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbaV07CiAgICAgICAgICAgIGlmICghc2xvdC5lbmFibGVkKSBjb250aW51ZTsKICAgICAgICAgICAgaWYgKHNsb3QudmVoaWNsZUlkICE9PSAtMSkgY29udGludWU7CiAgICAgICAgICAgIGlmIChzbG90LmV4cGVjdGluZ1NwYXduKSBjb250aW51ZTsKICAgICAgICAgICAgc3Bhd25RdWV1ZS5wdXNoKGkpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBDYW5ub3Qgc3Bhd24gaW4gcGFyYWxsZWwgLSBzcGF3biBzZXF1ZW50aWFsbHkgdG8gYXZvaWQgY3Jvc3MtYmluZGluZyB3aGVuIG11bHRpcGxlIHNwYXduZXJzIGZpcmUgYXQgb25jZS4KICAgIGlmIChzcGF3bk9uRW5hYmxlICYmIHNwYXduUXVldWUubGVuZ3RoID4gMCkgewogICAgICAgIHF1ZXVlU2VxdWVudGlhbFNwYXducyhzcGF3blF1ZXVlKTsKICAgIH0KfQoKZnVuY3Rpb24gcXVldWVTZXF1ZW50aWFsU3Bhd25zKHNsb3RJbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQgewogICAgaWYgKHNsb3RJbmRpY2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgLy8gVG9rZW4gY2FuY2VscyBhbnkgcHJpb3Igc3Bhd24gc2VxdWVuY2UgaWYgYSBuZXcgb25lIGlzIHF1ZXVlZC4KICAgIC8vIENvbnNpZGVyIGhhcmRlbmluZzogSWYgYSBzcGF3biBzZXF1ZW5jZSBzdGFsbHMsIHNwYXduU2VxdWVuY2VJblByb2dyZXNzIGNhbiByZW1haW4gdHJ1ZSBhbmQgYmxvY2sgbWF0Y2h1cCBjaGFuZ2VzLgogICAgU3RhdGUudmVoaWNsZXMuc3Bhd25TZXF1ZW5jZVRva2VuICs9IDE7CiAgICBjb25zdCB0b2tlbiA9IFN0YXRlLnZlaGljbGVzLnNwYXduU2VxdWVuY2VUb2tlbjsKICAgIFN0YXRlLnZlaGljbGVzLnNwYXduU2VxdWVuY2VJblByb2dyZXNzID0gdHJ1ZTsKICAgIHZvaWQgcnVuU2VxdWVudGlhbFNwYXducyhzbG90SW5kaWNlcywgdG9rZW4pOwp9CgovLyBTcGF3bnMgZWFjaCBzbG90IG9uZS1hdC1hLXRpbWUgdG8gYXZvaWQgc2ltdWx0YW5lb3VzIHNwYXduIGNyb3NzLWJpbmRpbmcuCi8vIEV4aXRzIGVhcmx5IGlmIGEgbmV3IHNlcXVlbmNlIHN1cGVyc2VkZXMgdGhpcyBvbmUgKHRva2VuIG1pc21hdGNoKS4KYXN5bmMgZnVuY3Rpb24gcnVuU2VxdWVudGlhbFNwYXducyhzbG90SW5kaWNlczogbnVtYmVyW10sIHRva2VuOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHsKICAgIC8vIENvbnNpZGVyIGhhcmRlbmluZzogVGlnaHQgbWFwcyBhcmUgdnVsbmVyYWJsZSBpZiBhIGRlbGF5ZWQgc3Bhd24gYXJyaXZlcyBhZnRlciB0aGUgdG9rZW4gd2luZG93OyBmYWxsYmFjayBiaW5kaW5nIG1heSBtaXMtYmluZC4KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdEluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoU3RhdGUudmVoaWNsZXMuc3Bhd25TZXF1ZW5jZVRva2VuICE9PSB0b2tlbikgcmV0dXJuOwogICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHNsb3RJbmRpY2VzW2ldOwogICAgICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tzbG90SW5kZXhdOwogICAgICAgIGlmICghc2xvdCB8fCAhc2xvdC5lbmFibGVkIHx8IHNsb3QudmVoaWNsZUlkICE9PSAtMSkgY29udGludWU7CiAgICAgICAgYXdhaXQgZm9yY2VTcGF3bldpdGhSZXRyeShzbG90SW5kZXgpOwogICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuMyk7CiAgICB9CgogICAgaWYgKFN0YXRlLnZlaGljbGVzLnNwYXduU2VxdWVuY2VUb2tlbiA9PT0gdG9rZW4pIHsKICAgICAgICBTdGF0ZS52ZWhpY2xlcy5zcGF3blNlcXVlbmNlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgfQp9CgovLyBGb3JjZXMgYSBzcGF3biBmb3IgYSBzbG90LCBwb2xsaW5nIHVudGlsIGEgdmVoaWNsZSBiaW5kcyBvciBhdHRlbXB0cyBhcmUgZXhoYXVzdGVkLgovLyBBYm9ydHMgaWYgc2xvdCBpcyBkaXNhYmxlZCBvciB0b2tlbiBjaGFuZ2VzIG1pZC1hdHRlbXB0Lgphc3luYyBmdW5jdGlvbiBmb3JjZVNwYXduV2l0aFJldHJ5KHNsb3RJbmRleDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7CiAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbc2xvdEluZGV4XTsKICAgIGlmICghc2xvdC5lbmFibGVkKSByZXR1cm4gZmFsc2U7CiAgICBjb25zdCB0b2tlbiA9IHNsb3QuZW5hYmxlVG9rZW47CiAgICBzbG90LmV4cGVjdGluZ1NwYXduID0gdHJ1ZTsKICAgIHNsb3Quc3Bhd25SZXF1ZXN0VG9rZW4gKz0gMTsKICAgIHNsb3Quc3Bhd25SZXF1ZXN0QXRTZWNvbmRzID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKTsKICAgIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduU2xvdEluZGV4ID0gc2xvdEluZGV4OwogICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbiA9IHNsb3Quc3Bhd25SZXF1ZXN0VG9rZW47CiAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blJlcXVlc3RlZEF0U2Vjb25kcyA9IHNsb3Quc3Bhd25SZXF1ZXN0QXRTZWNvbmRzOwoKICAgIC8vIFJlLWFwcGx5IGNvbmZpZyBiZWZvcmUgZm9yY2luZyBzcGF3biB0byBhdm9pZCB0aGUgZGVmYXVsdCB2ZWhpY2xlIHR5cGUuCiAgICBjb25maWd1cmVWZWhpY2xlU3Bhd25lcihzbG90LnNwYXduZXIsIHNsb3QudmVoaWNsZVR5cGUpOwogICAgYXdhaXQgbW9kLldhaXQoMCk7CgogICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCAyMDsgYXR0ZW1wdCsrKSB7CiAgICAgICAgaWYgKCFzbG90LmVuYWJsZWQgfHwgc2xvdC5lbmFibGVUb2tlbiAhPT0gdG9rZW4pIHsKICAgICAgICAgICAgc2xvdC5leHBlY3RpbmdTcGF3biA9IGZhbHNlOwogICAgICAgICAgICBpZiAoU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25TbG90SW5kZXggPT09IHNsb3RJbmRleCAmJiBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blRva2VuID09PSBzbG90LnNwYXduUmVxdWVzdFRva2VuKSB7CiAgICAgICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduVG9rZW4gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blJlcXVlc3RlZEF0U2Vjb25kcyA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIG1vZC5Gb3JjZVZlaGljbGVTcGF3bmVyU3Bhd24oc2xvdC5zcGF3bmVyKTsKCiAgICAgICAgaWYgKCFzbG90LmV4cGVjdGluZ1NwYXduICYmIHNsb3QudmVoaWNsZUlkICE9PSAtMSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuMjUpOwogICAgfQoKICAgIHNsb3QuZXhwZWN0aW5nU3Bhd24gPSBmYWxzZTsKICAgIGlmIChTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleCA9PT0gc2xvdEluZGV4ICYmIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduVG9rZW4gPT09IHNsb3Quc3Bhd25SZXF1ZXN0VG9rZW4pIHsKICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleCA9IHVuZGVmaW5lZDsKICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blRva2VuID0gdW5kZWZpbmVkOwogICAgICAgIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduUmVxdWVzdGVkQXRTZWNvbmRzID0gdW5kZWZpbmVkOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwp9CgovLyBTY2hlZHVsZXMgYSBkZWxheWVkIHJldHJ5IHdoZW4gc3Bhd24gaXMgYmxvY2tlZDsgcmVjaGVja3Mgc2xvdC90b2tlbiBiZWZvcmUgcmV0cnkuCmFzeW5jIGZ1bmN0aW9uIHNjaGVkdWxlQmxvY2tlZFNwYXduUmV0cnkoc2xvdEluZGV4OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHsKICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tzbG90SW5kZXhdOwogICAgaWYgKCFzbG90LmVuYWJsZWQpIHJldHVybjsKICAgIGlmIChzbG90LnNwYXduUmV0cnlTY2hlZHVsZWQpIHJldHVybjsKICAgIHNsb3Quc3Bhd25SZXRyeVNjaGVkdWxlZCA9IHRydWU7CiAgICBjb25zdCB0b2tlbiA9IHNsb3QuZW5hYmxlVG9rZW47CgogICAgYXdhaXQgbW9kLldhaXQoVkVISUNMRV9TUEFXTkVSX1JFU1BBV05fREVMQVlfU0VDT05EUyk7CiAgICBzbG90LnNwYXduUmV0cnlTY2hlZHVsZWQgPSBmYWxzZTsKCiAgICBpZiAoIXNsb3QuZW5hYmxlZCB8fCBzbG90LmVuYWJsZVRva2VuICE9PSB0b2tlbikgcmV0dXJuOwogICAgaWYgKHNsb3QudmVoaWNsZUlkICE9PSAtMSkgcmV0dXJuOwoKICAgIGNvbnN0IHRlYW1OYW1lS2V5ID0gZ2V0VGVhbU5hbWVLZXkoc2xvdC50ZWFtSWQpOwogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgIG1vZC5NZXNzYWdlKFNUUl9WRUhJQ0xFX1NQQVdOX1JFVFJZLCB0ZWFtTmFtZUtleSwgVkVISUNMRV9TUEFXTkVSX1JFU1BBV05fREVMQVlfU0VDT05EUyksCiAgICAgICAgdHJ1ZSwKICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgU1RSX1ZFSElDTEVfU1BBV05fUkVUUlkKICAgICk7CgogICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGZvcmNlU3Bhd25XaXRoUmV0cnkoc2xvdEluZGV4KTsKICAgIGlmICghc3VjY2VzcykgewogICAgICAgIHZvaWQgc2NoZWR1bGVCbG9ja2VkU3Bhd25SZXRyeShzbG90SW5kZXgpOwogICAgfQp9CgovLyBXYWl0cyB0aGUgcmVzcGF3biBkZWxheSwgY2xlYXJzIG9sZCB2ZWhpY2xlIG1hcHBpbmcsIHRoZW4gc3Bhd25zIGEgcmVwbGFjZW1lbnQuCi8vIFRva2VuLWd1YXJkZWQgdG8gcHJldmVudCByZXNwYXducyBhZnRlciBkaXNhYmxlL3JldHVuZS4KYXN5bmMgZnVuY3Rpb24gc2NoZWR1bGVSZXNwYXduKHNsb3RJbmRleDogbnVtYmVyLCBsYXN0VmVoaWNsZUlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHsKICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tzbG90SW5kZXhdOwogICAgLy8gTGl2ZSByb3VuZHMgbmV2ZXIgcmVzcGF3biB0YW5rczsgcm91bmQtZW5kIGNsZWFudXAgb3ducyB0aGUgcmVmaWxsLgogICAgaWYgKGlzUm91bmRMaXZlKCkpIHsKICAgICAgICBkZWxldGUgU3RhdGUudmVoaWNsZXMudmVoaWNsZVRvU2xvdFtsYXN0VmVoaWNsZUlkXTsKICAgICAgICBpZiAoc2xvdC52ZWhpY2xlSWQgPT09IGxhc3RWZWhpY2xlSWQpIHsKICAgICAgICAgICAgc2xvdC52ZWhpY2xlSWQgPSAtMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCFzbG90LmVuYWJsZWQpIHsKICAgICAgICBkZWxldGUgU3RhdGUudmVoaWNsZXMudmVoaWNsZVRvU2xvdFtsYXN0VmVoaWNsZUlkXTsKICAgICAgICBpZiAoc2xvdC52ZWhpY2xlSWQgPT09IGxhc3RWZWhpY2xlSWQpIHsKICAgICAgICAgICAgc2xvdC52ZWhpY2xlSWQgPSAtMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgLy8gR3VhcmQgYWdhaW5zdCBvdmVybGFwcGluZyByZXNwYXduIHRpbWVycyBmb3IgdGhlIHNhbWUgc2xvdC4KICAgIGlmIChzbG90LnJlc3Bhd25SdW5uaW5nKSByZXR1cm47CgogICAgc2xvdC5yZXNwYXduUnVubmluZyA9IHRydWU7CiAgICBjb25zdCB0b2tlbiA9IHNsb3QuZW5hYmxlVG9rZW47CiAgICBhd2FpdCBtb2QuV2FpdChWRUhJQ0xFX1NQQVdORVJfUkVTUEFXTl9ERUxBWV9TRUNPTkRTKTsKCiAgICBpZiAoIXNsb3QuZW5hYmxlZCB8fCBzbG90LmVuYWJsZVRva2VuICE9PSB0b2tlbikgewogICAgICAgIHNsb3QucmVzcGF3blJ1bm5pbmcgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZGVsZXRlIFN0YXRlLnZlaGljbGVzLnZlaGljbGVUb1Nsb3RbbGFzdFZlaGljbGVJZF07CiAgICBzbG90LnZlaGljbGVJZCA9IC0xOwoKICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBmb3JjZVNwYXduV2l0aFJldHJ5KHNsb3RJbmRleCk7CiAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICB2b2lkIHNjaGVkdWxlQmxvY2tlZFNwYXduUmV0cnkoc2xvdEluZGV4KTsKICAgIH0KICAgIHNsb3QucmVzcGF3blJ1bm5pbmcgPSBmYWxzZTsKfQoKLy8gUGVyaW9kaWNhbGx5IHZlcmlmaWVzIHRyYWNrZWQgdmVoaWNsZXMgc3RpbGwgZXhpc3Q7IGlmIG1pc3NpbmcsIHRyaWdnZXJzIHJlc3Bhd24uCmFzeW5jIGZ1bmN0aW9uIHBvbGxWZWhpY2xlU3Bhd25lclNsb3RzKCk6IFByb21pc2U8dm9pZD4gewogICAgd2hpbGUgKHRydWUpIHsKICAgICAgICBhd2FpdCBtb2QuV2FpdChWRUhJQ0xFX1NQQVdORVJfUE9MTF9JTlRFUlZBTF9TRUNPTkRTKTsKICAgICAgICAvLyBQYXVzZSBzcGF3bmVyIG1haW50ZW5hbmNlIGR1cmluZyBjbGVhbnVwIHRvIGF2b2lkIGxhdGUgcmVzcGF3bnMvYmluZHMuCiAgICAgICAgaWYgKFN0YXRlLnJvdW5kLmZsb3cuY2xlYW51cEFjdGl2ZSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgc2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW2ldOwogICAgICAgICAgICBpZiAoc2xvdC52ZWhpY2xlSWQgPT09IC0xKSBjb250aW51ZTsKCiAgICAgICAgICAgIGNvbnN0IHZlaGljbGUgPSBmaW5kVmVoaWNsZUJ5SWQoc2xvdC52ZWhpY2xlSWQpOwogICAgICAgICAgICBpZiAoIXZlaGljbGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG9sZElkID0gc2xvdC52ZWhpY2xlSWQ7CiAgICAgICAgICAgICAgICBzbG90LnZlaGljbGVJZCA9IC0xOwogICAgICAgICAgICAgICAgLy8gU2xvdCB0cmFja2luZyBpcyBmb3IgcmVzcGF3bi9iaW5kaW5nIG9ubHk7IHNjb3JpbmcgdXNlcyB0aGUgcmVnaXN0cnkgYXJyYXlzLgogICAgICAgICAgICAgICAgLy8gVmVoaWNsZSBtaXNzaW5nIG1lYW5zIGRlc3Ryb3llZC91bnNwYXduZWQ7IHNjaGVkdWxlIGEgcmVzcGF3biB3aGVuIG5vdCBsaXZlLgogICAgICAgICAgICAgICAgaWYgKCFpc1JvdW5kTGl2ZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXNwYXduKGksIG9sZElkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBhcHBseVNwYXduWWF3VG9WZWhpY2xlKGV2ZW50VmVoaWNsZTogbW9kLlZlaGljbGUsIHNsb3Q6IFZlaGljbGVTcGF3bmVyU2xvdCk6IFByb21pc2U8dm9pZD4gewogICAgLy8gRW5mb3JjZSB0aGUgZGVzaXJlZCBzcGF3biB5YXcgb24gdGhlIHZlaGljbGUgYWZ0ZXIgaXQgZXhpc3RzIChtYXAtc3BlY2lmaWMgc3Bhd25lciB5YXcgY2FuIGRyaWZ0KS4KICAgIGNvbnN0IHBvcyA9IHNsb3Quc3Bhd25Qb3M7CiAgICBjb25zdCB5YXdEZWcgPSBtb2QuWUNvbXBvbmVudE9mKHNsb3Quc3Bhd25Sb3QpOwogICAgY29uc3QgeWF3UmFkID0geWF3RGVnICogTWF0aC5QSSAvIDE4MDsKICAgIG1vZC5UZWxlcG9ydChldmVudFZlaGljbGUsIHBvcywgeWF3UmFkKTsKICAgIGF3YWl0IG1vZC5XYWl0KDApOwogICAgbW9kLlRlbGVwb3J0KGV2ZW50VmVoaWNsZSwgcG9zLCB5YXdSYWQpOwp9CgovLyBCaW5kaW5nIHVzZXMgb2JqZWN0IHBvc2l0aW9uIChub3QgdmVoaWNsZSBzdGF0ZSkgYmVjYXVzZSBpdCBpcyBzdGFibGUgYXQgc3Bhd24gdGltZS4KLy8gRmFsbGJhY2sgYmluZGluZyBjYW4gbWlzLWFzc2lnbiBvbiB0aWdodCBtYXBzIGlmIGEgc3Bhd24gYXJyaXZlcyBvdXRzaWRlIHRoZSB0b2tlbiB3aW5kb3cuCmZ1bmN0aW9uIGJpbmRTcGF3bmVkVmVoaWNsZVRvU2xvdChldmVudFZlaGljbGU6IG1vZC5WZWhpY2xlLCB2ZWhpY2xlUG9zOiBtb2QuVmVjdG9yKTogVGVhbUlEIHwgMCB7CiAgICBjb25zdCB2ZWhpY2xlT2JqSWQgPSBnZXRPYmpJZChldmVudFZlaGljbGUpOwoKICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25TbG90SW5kZXg7CiAgICBjb25zdCBhY3RpdmVUb2tlbiA9IFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduVG9rZW47CiAgICBjb25zdCBhY3RpdmVBdCA9IFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduUmVxdWVzdGVkQXRTZWNvbmRzOwogICAgaWYgKGFjdGl2ZUluZGV4ICE9PSB1bmRlZmluZWQgJiYgYWN0aXZlVG9rZW4gIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVBdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKTsKICAgICAgICBjb25zdCBleHBpcmVkID0gKG5vdyAtIGFjdGl2ZUF0KSA+IFZFSElDTEVfU1BBV05FUl9CSU5EX1RJTUVPVVRfU0VDT05EUzsKICAgICAgICBpZiAoIWV4cGlyZWQpIHsKICAgICAgICAgICAgY29uc3QgYWN0aXZlU2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW2FjdGl2ZUluZGV4XTsKICAgICAgICAgICAgaWYgKGFjdGl2ZVNsb3QgJiYgYWN0aXZlU2xvdC5lbmFibGVkICYmIGFjdGl2ZVNsb3QuZXhwZWN0aW5nU3Bhd24gJiYgYWN0aXZlU2xvdC5zcGF3blJlcXVlc3RUb2tlbiA9PT0gYWN0aXZlVG9rZW4pIHsKICAgICAgICAgICAgICAgIGFjdGl2ZVNsb3QuZXhwZWN0aW5nU3Bhd24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIGFjdGl2ZVNsb3QudmVoaWNsZUlkID0gdmVoaWNsZU9iaklkOwogICAgICAgICAgICAgICAgYWN0aXZlU2xvdC5yZXNwYXduUnVubmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgYWN0aXZlU2xvdC5zcGF3blJldHJ5U2NoZWR1bGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy52ZWhpY2xlVG9TbG90W3ZlaGljbGVPYmpJZF0gPSBhY3RpdmVJbmRleDsKICAgICAgICAgICAgICAgIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduU2xvdEluZGV4ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbiA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIFN0YXRlLnZlaGljbGVzLmFjdGl2ZVNwYXduUmVxdWVzdGVkQXRTZWNvbmRzID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgdm9pZCBhcHBseVNwYXduWWF3VG9WZWhpY2xlKGV2ZW50VmVoaWNsZSwgYWN0aXZlU2xvdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xvdC50ZWFtSWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbiA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHMgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgfQoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbaV07CiAgICAgICAgaWYgKCFzbG90LmV4cGVjdGluZ1NwYXduKSBjb250aW51ZTsKCiAgICAgICAgY29uc3Qgc3Bhd25lclBvcyA9IG1vZC5HZXRPYmplY3RQb3NpdGlvbihzbG90LnNwYXduZXIpOwogICAgICAgIGNvbnN0IGQgPSBtb2QuRGlzdGFuY2VCZXR3ZWVuKHZlaGljbGVQb3MsIHNwYXduZXJQb3MpOwogICAgICAgIGlmIChkIDw9IFZFSElDTEVfU1BBV05FUl9CSU5EX0RJU1RBTkNFX01FVEVSUykgewogICAgICAgICAgICBzbG90LmV4cGVjdGluZ1NwYXduID0gZmFsc2U7CiAgICAgICAgICAgIHNsb3QudmVoaWNsZUlkID0gdmVoaWNsZU9iaklkOwogICAgICAgICAgICBzbG90LnJlc3Bhd25SdW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHNsb3Quc3Bhd25SZXRyeVNjaGVkdWxlZCA9IGZhbHNlOwogICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy52ZWhpY2xlVG9TbG90W3ZlaGljbGVPYmpJZF0gPSBpOwogICAgICAgICAgICBpZiAoU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25TbG90SW5kZXggPT09IGkgJiYgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbiA9PT0gc2xvdC5zcGF3blJlcXVlc3RUb2tlbikgewogICAgICAgICAgICAgICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25TbG90SW5kZXggPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blRva2VuID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHMgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdm9pZCBhcHBseVNwYXduWWF3VG9WZWhpY2xlKGV2ZW50VmVoaWNsZSwgc2xvdCk7CiAgICAgICAgICAgIHJldHVybiBzbG90LnRlYW1JZDsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDA7Cn0KCi8vIExvY2F0ZXMgdGhlIGZpcnN0ICJleHBlY3RpbmdTcGF3biIgc2xvdCB3aXRoaW4gYmluZCBkaXN0YW5jZSBvZiB0aGUgdmVoaWNsZSBwb3NpdGlvbi4KZnVuY3Rpb24gZmluZFNwYXduZXJTbG90QnlQb3NpdGlvbihzcGF3blBvczogbW9kLlZlY3Rvcik6IG51bWJlciB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFN0YXRlLnZlaGljbGVzLnNsb3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW2ldOwogICAgICAgIGNvbnN0IHNwYXduZXJQb3MgPSBtb2QuR2V0T2JqZWN0UG9zaXRpb24oc2xvdC5zcGF3bmVyKTsKICAgICAgICBpZiAobW9kLkRpc3RhbmNlQmV0d2VlbihzcGF3blBvcywgc3Bhd25lclBvcykgPD0gVkVISUNMRV9TUEFXTkVSX0JJTkRfRElTVEFOQ0VfTUVURVJTKSB7CiAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAtMTsKfQoKLy8gQm9vdHN0cmFwcyBzcGF3bmVycyArIHNsb3RzLCBhcHBsaWVzIGN1cnJlbnQgbWF0Y2h1cCBlbmFibGVtZW50LCBhbmQgc3RhcnRzIHRoZSBwb2xsaW5nIGxvb3AuCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0VmVoaWNsZVNwYXduZXJTeXN0ZW0oKTogUHJvbWlzZTx2b2lkPiB7CiAgICAvLyBXQVJOSU5HOiBUaGlzIHNob3VsZCBydW4gb25jZSBwZXIgbWF0Y2g7IGR1cGxpY2F0ZSBydW5zIGNhbiBjcmVhdGUgZXh0cmEgc3Bhd25lcnMvc2xvdHMuCiAgICAvLyBFbnN1cmUgbWFwIGNvbmZpZyBpcyBhcHBsaWVkIGJlZm9yZSBhbnkgc3Bhd25lcnMgYXJlIGNyZWF0ZWQgb3IgZm9yY2VkIHRvIHNwYXduLgogICAgd2hpbGUgKCFTdGF0ZS52ZWhpY2xlcy5jb25maWdSZWFkeSkgewogICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuMSk7CiAgICB9CiAgICBhd2FpdCBtb2QuV2FpdChWRUhJQ0xFX1NQQVdORVJfU1RBUlRfREVMQVlfU0VDT05EUyk7CgogICAgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoID0gMDsKICAgIFN0YXRlLnZlaGljbGVzLnZlaGljbGVUb1Nsb3QgPSB7fTsKICAgIFN0YXRlLnZlaGljbGVzLnNwYXduU2VxdWVuY2VJblByb2dyZXNzID0gZmFsc2U7CgogICAgY29uc3QgdGVhbTFTcGVjcyA9IFsuLi5URUFNMV9WRUhJQ0xFX1NQQVdOX1NQRUNTXS5zb3J0KChhLCBiKSA9PiBhLnNsb3ROdW1iZXIgLSBiLnNsb3ROdW1iZXIpOwogICAgY29uc3QgdGVhbTJTcGVjcyA9IFsuLi5URUFNMl9WRUhJQ0xFX1NQQVdOX1NQRUNTXS5zb3J0KChhLCBiKSA9PiBhLnNsb3ROdW1iZXIgLSBiLnNsb3ROdW1iZXIpOwoKICAgIGZvciAoY29uc3Qgc3BlYyBvZiB0ZWFtMVNwZWNzKSB7CiAgICAgICAgYWRkVmVoaWNsZVNwYXduZXJTbG90KFRlYW1JRC5UZWFtMSwgc3BlYy5zbG90TnVtYmVyLCBzcGVjLnBvcywgc3BlYy5yb3QsIHNwZWMudmVoaWNsZSk7CiAgICB9CiAgICBmb3IgKGNvbnN0IHNwZWMgb2YgdGVhbTJTcGVjcykgewogICAgICAgIGFkZFZlaGljbGVTcGF3bmVyU2xvdChUZWFtSUQuVGVhbTIsIHNwZWMuc2xvdE51bWJlciwgc3BlYy5wb3MsIHNwZWMucm90LCBzcGVjLnZlaGljbGUpOwogICAgfQoKICAgIC8vIE9uZS10aW1lIGNsZWFudXA6IHJlbW92ZSBhbnkgZGVmYXVsdCB2ZWhpY2xlcyBzaXR0aW5nIG9uIG9yIG5lYXIgc3Bhd24gcGFkcyBiZWZvcmUgZmlyc3QgZm9yY2VkIHNwYXducy4KICAgIC8vIFRoaXMgcHJldmVudHMgYSBkZWZhdWx0IEFicmFtcyBmcm9tIHBlcnNpc3RpbmcgaWYgaXQgc3Bhd25lZCBiZWZvcmUgb3VyIHNwYXduZXJzIHdlcmUgY29uZmlndXJlZC4KICAgIC8vIEtlZXAgdGhpcyBvbmUtc2hvdCBhbmQgcHJlLXJvdW5kIHRvIGF2b2lkIGRlbGV0aW5nIHBsYXllciB2ZWhpY2xlcyBsYXRlciBpbiB0aGUgbWF0Y2guCiAgICAvLyBDb25zaWRlciBIYXJkZW5pbmcgd2l0aCBhIHNlY29uZCBjbGVhbnVwIHBhc3MgYmVmb3JlIGZpcnN0IGZvcmNlZCBzcGF3bnMgaWYgZGVmYXVsdCBzcGF3bnMgcmVhcHBlYXIgYWZ0ZXIgY2xlYW51cAogICAgaWYgKCFpc1JvdW5kTGl2ZSgpICYmICFTdGF0ZS52ZWhpY2xlcy5zdGFydHVwQ2xlYW51cERvbmUpIHsKICAgICAgICBjb25zdCB2ZWhpY2xlcyA9IG1vZC5BbGxWZWhpY2xlcygpOwogICAgICAgIGNvbnN0IHZDb3VudCA9IG1vZC5Db3VudE9mKHZlaGljbGVzKTsKICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHZDb3VudDsgdisrKSB7CiAgICAgICAgICAgIGNvbnN0IHZlaGljbGUgPSBtb2QuVmFsdWVJbkFycmF5KHZlaGljbGVzLCB2KSBhcyBtb2QuVmVoaWNsZTsKICAgICAgICAgICAgaWYgKCF2ZWhpY2xlKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgcG9zID0gbW9kLkdldE9iamVjdFBvc2l0aW9uKHZlaGljbGUpOwogICAgICAgICAgICBsZXQgbmVhclNwYXduID0gZmFsc2U7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tpXTsKICAgICAgICAgICAgICAgIGlmIChtb2QuRGlzdGFuY2VCZXR3ZWVuKHBvcywgc2xvdC5zcGF3blBvcykgPD0gVkVISUNMRV9TUEFXTkVSX1NUQVJUVVBfQ0xFQU5VUF9SQURJVVNfTUVURVJTKSB7CiAgICAgICAgICAgICAgICAgICAgbmVhclNwYXduID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmVhclNwYXduKSB7CiAgICAgICAgICAgICAgICBtb2QuVW5zcGF3bk9iamVjdCh2ZWhpY2xlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBTdGF0ZS52ZWhpY2xlcy5zdGFydHVwQ2xlYW51cERvbmUgPSB0cnVlOwogICAgfQoKCiAgICAvLyBFeHRyYSBzaG9ydCB3YWl0IHJlZHVjZXMgdGhlIGNoYW5jZSBvZiBhIGRlZmF1bHQgc3Bhd24gYXBwZWFyaW5nIGFmdGVyIGNsZWFudXAuCiAgICBhd2FpdCBtb2QuV2FpdCgwLjEpOwogICAgLy8gQXBwbHkgZW5hYmxlbWVudCBiZWZvcmUgc3Bhd25pbmcgc28gb25seSB0aGUgZGVzaXJlZCBzbG90cyBjYW4gc3Bhd24uCiAgICBhcHBseVNwYXduZXJFbmFibGVtZW50Rm9yTWF0Y2h1cChTdGF0ZS5yb3VuZC5tYXRjaHVwUHJlc2V0SW5kZXgsIGZhbHNlKTsKCiAgICAvLyBLaWNrIGluaXRpYWwgc3Bhd25zIHNvIGVhY2ggc2xvdCBoYXMgYSB2ZWhpY2xlIGJvdW5kIGJlZm9yZSB0aGUgcG9sbCBsb29wIHN0YXJ0cy4KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIVN0YXRlLnZlaGljbGVzLnNsb3RzW2ldLmVuYWJsZWQpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBmb3JjZVNwYXduV2l0aFJldHJ5KGkpOwogICAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgICAgICB2b2lkIHNjaGVkdWxlQmxvY2tlZFNwYXduUmV0cnkoaSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuNSk7CiAgICB9CgogICAgLy8gTG9uZy1ydW5uaW5nIHBvbGwgbG9vcCB0byBkZXRlY3QgbWlzc2luZyB2ZWhpY2xlcyBhbmQgcmVzcGF3bi4KICAgIHZvaWQgcG9sbFZlaGljbGVTcGF3bmVyU2xvdHMoKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFZlaGljbGUgU3Bhd25lciBTeXN0ZW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEtpbGxzIEhVRCBTeW5jIChHYW1lTW9kZVNjb3JlIC0+IEhVRCkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZ1bmN0aW9uIHN5bmNLaWxsc0h1ZEZyb21UcmFja2VkVG90YWxzKF9mb3JjZTogYm9vbGVhbik6IHZvaWQgewogICAgLy8gVG90YWwga2lsbHMgYXJlIHRyYWNrZWQgaW4gc2NyaXB0IHZhcmlhYmxlczsgR2FtZU1vZGVTY29yZSBpcyByZXNlcnZlZCBmb3IgbWF0Y2ggd2lucy4KICAgIC8vIEF2b2lkIEhVRCBjcmVhdGlvbi9yZXBvc2l0aW9uIGhlcmU7IG9ubHkgdXBkYXRlIGNhY2hlZCByZWZzIHRvIHByZXZlbnQga2lsbC10aW1lIGNyYXNoZXMuCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHBpZCA9IGdldE9iaklkKHApOwogICAgICAgIGNvbnN0IHJlZnMgPSBTdGF0ZS5odWRDYWNoZS5odWRCeVBpZFtwaWRdOwogICAgICAgIGlmICghcmVmcykgY29udGludWU7CiAgICAgICAgc2V0Q291bnRlclRleHQocmVmcy5sZWZ0S2lsbHNUZXh0LCBTdGF0ZS5zY29yZXMudDFUb3RhbEtpbGxzKTsKICAgICAgICBzZXRDb3VudGVyVGV4dChyZWZzLnJpZ2h0S2lsbHNUZXh0LCBTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzKTsKICAgIH0KfQoKLy8gUm91bmQga2lsbHMgSFVEIFN5bmMgKFJvdW5kS2lsbHMgLT4gSFVEKQpmdW5jdGlvbiBzeW5jUm91bmRLaWxsc0h1ZChmb3JjZTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7CiAgICBpZiAoIWZvcmNlICYmIFN0YXRlLmh1ZENhY2hlLmxhc3RIdWRSb3VuZEtpbGxzVDEgPT09IFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMgJiYgU3RhdGUuaHVkQ2FjaGUubGFzdEh1ZFJvdW5kS2lsbHNUMiA9PT0gU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxscykgcmV0dXJuOwoKICAgIFN0YXRlLmh1ZENhY2hlLmxhc3RIdWRSb3VuZEtpbGxzVDEgPSBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzOwogICAgU3RhdGUuaHVkQ2FjaGUubGFzdEh1ZFJvdW5kS2lsbHNUMiA9IFN0YXRlLnNjb3Jlcy50MlJvdW5kS2lsbHM7CgogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gZ2V0T2JqSWQocCk7CiAgICAgICAgY29uc3QgcmVmcyA9IFN0YXRlLmh1ZENhY2hlLmh1ZEJ5UGlkW3BpZF07CiAgICAgICAgaWYgKCFyZWZzKSBjb250aW51ZTsKCiAgICAgICAgc2V0Q291bnRlclRleHQocmVmcy5sZWZ0Um91bmRLaWxsc1RleHQsIFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMucmlnaHRSb3VuZEtpbGxzVGV4dCwgU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxscyk7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBLaWxscyBIVUQgU3luYyAoR2FtZU1vZGVTY29yZSAtPiBIVUQpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBab25lIENvbmZpZyArIFByZXZpZXcgSWNvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gSGlnaC1sZXZlbCBmbG93OgovLyAtIE1hcCBjb25maWcgcHJvdmlkZXMgY2FuZGlkYXRlIHpvbmVzIChBcmVhVHJpZ2dlciBPYmpJZCArIFNlY3RvciBJZCArIFdvcmxkSWNvbiBPYmpJZCArIENhcHR1cmVQb2ludCBPYmpJZCkuCi8vIC0gQXQgaGFsZi10aW1lIHJlbWFpbmluZywgcGljayBvbmUgcmFuZG9tIHpvbmUgYW5kIG1ha2UgaXQgdmlzaWJsZSAobG9ja2VkKS4KLy8gLSBBdCAxOjAwIHJlbWFpbmluZywgYWN0aXZhdGUgY2FwdHVyZSwgc3RhcnQgdGhlIHRpY2sgbG9vcCwgYW5kIHNob3cgSFVELgovLyAtIEZ1bGwgY2FwdHVyZSBlbmRzIHRoZSByb3VuZCBpbW1lZGlhdGVseTsgYXQgY2xvY2sgZXhwaXJ5LCBwcm9ncmVzcyBkZWNpZGVzIHVubGVzcyBuZXV0cmFsICgwLjUpLgovLyBQcm9ncmVzcyBtb2RlbDoKLy8gLSBwcm9ncmVzcyBpbiBbMC4uMV06IDAgPSBUZWFtMiBvd25zLCAxID0gVGVhbTEgb3ducywgMC41ID0gbmV1dHJhbCBzdGFydC4KLy8gLSBjb3VudHMgYXJlIHVuaXF1ZSB2ZWhpY2xlcyBpbiB6b25lIChub3QgcGxheWVyIGNvdW50KS4KLy8gLSBwbGF5ZXIgbWVtYmVyc2hpcCBpcyB0cmFja2VkIHRvIGRyaXZlIFVJICsgdmVoaWNsZSBzZWF0IHJlY29uY2lsaWF0aW9uLgoKZnVuY3Rpb24gcmVmcmVzaE92ZXJ0aW1lWm9uZXNGcm9tTWFwQ29uZmlnKCk6IHZvaWQgewogICAgLy8gU3luYyBwZXItbWFwIHpvbmUgbGlzdCBpbnRvIHN0YXRlOyB6b25lIG9yZGVyIGRlZmluZXMgQS9CL0MuLi4gbGV0dGVycy4KICAgIFN0YXRlLmZsYWcuY2FuZGlkYXRlWm9uZXMgPSBBQ1RJVkVfT1ZFUlRJTUVfWk9ORVMubWFwKCh6b25lKSA9PiAoewogICAgICAgIGFyZWFUcmlnZ2VyT2JqSWQ6IHpvbmUuYXJlYVRyaWdnZXJPYmpJZCwKICAgICAgICBzZWN0b3JJZDogem9uZS5zZWN0b3JJZCwKICAgICAgICB3b3JsZEljb25PYmpJZDogem9uZS53b3JsZEljb25PYmpJZCwKICAgICAgICBjYXB0dXJlUG9pbnRPYmpJZDogem9uZS5jYXB0dXJlUG9pbnRPYmpJZCwKICAgIH0pKTsKICAgIFN0YXRlLmZsYWcuY29uZmlnVmFsaWQgPSB2YWxpZGF0ZU92ZXJ0aW1lWm9uZVNwZWNzKFN0YXRlLmZsYWcuY2FuZGlkYXRlWm9uZXMpOwogICAgc2V0T3ZlcnRpbWVTZWN0b3JzRm9yU2VsZWN0ZWQodW5kZWZpbmVkKTsKICAgIHNldE92ZXJ0aW1lQ2FwdHVyZVBvaW50c0ZvclNlbGVjdGVkKHVuZGVmaW5lZCk7CiAgICBjb25maWd1cmVPdmVydGltZUNhcHR1cmVQb2ludFRpbWVzKCk7Cn0KCmZ1bmN0aW9uIHZhbGlkYXRlT3ZlcnRpbWVab25lU3BlY3Moem9uZXM6IE92ZXJ0aW1lWm9uZVNwZWNbXSk6IGJvb2xlYW4gewogICAgLy8gUmVqZWN0IGVtcHR5IGxpc3RzIG9yIGR1cGxpY2F0ZSBpZHMgdG8gYXZvaWQgcmFuZG9taXphdGlvbiBhbWJpZ3VpdHkuCiAgICBpZiAoIXpvbmVzIHx8IHpvbmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlOwogICAgY29uc3Qgc2VlblRyaWdnZXJzOiBSZWNvcmQ8bnVtYmVyLCBib29sZWFuPiA9IHt9OwogICAgY29uc3Qgc2VlblNlY3RvcnM6IFJlY29yZDxudW1iZXIsIGJvb2xlYW4+ID0ge307CiAgICBjb25zdCBzZWVuV29ybGRJY29uczogUmVjb3JkPG51bWJlciwgYm9vbGVhbj4gPSB7fTsKICAgIGNvbnN0IHNlZW5DYXB0dXJlUG9pbnRzOiBSZWNvcmQ8bnVtYmVyLCBib29sZWFuPiA9IHt9OwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6b25lcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHRyaWdnZXJJZCA9IE1hdGguZmxvb3Ioem9uZXNbaV0uYXJlYVRyaWdnZXJPYmpJZCk7CiAgICAgICAgY29uc3Qgc2VjdG9ySWQgPSBNYXRoLmZsb29yKHpvbmVzW2ldLnNlY3RvcklkKTsKICAgICAgICBjb25zdCB3b3JsZEljb25JZCA9IE1hdGguZmxvb3Ioem9uZXNbaV0ud29ybGRJY29uT2JqSWQpOwogICAgICAgIGNvbnN0IGNhcHR1cmVQb2ludElkID0gTWF0aC5mbG9vcih6b25lc1tpXS5jYXB0dXJlUG9pbnRPYmpJZCk7CiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodHJpZ2dlcklkKSB8fCAhTnVtYmVyLmlzRmluaXRlKHNlY3RvcklkKSB8fCAhTnVtYmVyLmlzRmluaXRlKHdvcmxkSWNvbklkKSB8fCAhTnVtYmVyLmlzRmluaXRlKGNhcHR1cmVQb2ludElkKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChzZWVuVHJpZ2dlcnNbdHJpZ2dlcklkXSB8fCBzZWVuU2VjdG9yc1tzZWN0b3JJZF0gfHwgc2VlbldvcmxkSWNvbnNbd29ybGRJY29uSWRdIHx8IHNlZW5DYXB0dXJlUG9pbnRzW2NhcHR1cmVQb2ludElkXSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHNlZW5UcmlnZ2Vyc1t0cmlnZ2VySWRdID0gdHJ1ZTsKICAgICAgICBzZWVuU2VjdG9yc1tzZWN0b3JJZF0gPSB0cnVlOwogICAgICAgIHNlZW5Xb3JsZEljb25zW3dvcmxkSWNvbklkXSA9IHRydWU7CiAgICAgICAgc2VlbkNhcHR1cmVQb2ludHNbY2FwdHVyZVBvaW50SWRdID0gdHJ1ZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBidWlsZFBvcnRhbE51bWJlckFycmF5KHZhbHVlczogbnVtYmVyW10pOiBhbnkgewogICAgLy8gbW9kLlJhbmRvbVZhbHVlSW5BcnJheSByZXF1aXJlcyBhIFBvcnRhbCBhcnJheSwgbm90IGEgSlMgbnVtYmVyW10uCiAgICBsZXQgYXJyID0gbW9kLkVtcHR5QXJyYXkoKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYXJyID0gbW9kLkFwcGVuZFRvQXJyYXkoYXJyLCB2YWx1ZXNbaV0pOwogICAgfQogICAgcmV0dXJuIGFycjsKfQoKZnVuY3Rpb24gZ2V0T3ZlcnRpbWVGbGFnTGV0dGVyS2V5Rm9ySW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7CiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IFNUUl9GTEFHX0xFVFRFUl9LRVlTLmxlbmd0aCkgcmV0dXJuIFNUUl9GTEFHX0xFVFRFUl9VTktOT1dOOwogICAgcmV0dXJuIFNUUl9GTEFHX0xFVFRFUl9LRVlTW2luZGV4XTsKfQoKZnVuY3Rpb24gZ2V0QWN0aXZlT3ZlcnRpbWVGbGFnTGV0dGVyS2V5KCk6IG51bWJlciB7CiAgICBpZiAoU3RhdGUuZmxhZy5zZWxlY3RlZFpvbmVMZXR0ZXJLZXkgIT09IHVuZGVmaW5lZCkgcmV0dXJuIFN0YXRlLmZsYWcuc2VsZWN0ZWRab25lTGV0dGVyS2V5OwogICAgaWYgKFN0YXRlLmZsYWcuYWN0aXZlQ2FuZGlkYXRlSW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIFNUUl9GTEFHX0xFVFRFUl9VTktOT1dOOwogICAgcmV0dXJuIGdldE92ZXJ0aW1lRmxhZ0xldHRlcktleUZvckluZGV4KFN0YXRlLmZsYWcuYWN0aXZlQ2FuZGlkYXRlSW5kZXgpOwp9CgpmdW5jdGlvbiBnZXRPdmVydGltZUZsYWdMZXR0ZXJUZXh0Rm9ySW5kZXgoaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCk6IHN0cmluZyB7CiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCB8fCBpbmRleCA8IDAgfHwgaW5kZXggPj0gU1RSX0ZMQUdfTEVUVEVSX0tFWVMubGVuZ3RoKSByZXR1cm4gIj8iOwogICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCk7Cn0KCmZ1bmN0aW9uIGdldEFjdGl2ZU92ZXJ0aW1lRmxhZ0xldHRlclRleHQoKTogc3RyaW5nIHsKICAgIGlmIChTdGF0ZS5mbGFnLmFjdGl2ZUNhbmRpZGF0ZUluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybiAiPyI7CiAgICByZXR1cm4gZ2V0T3ZlcnRpbWVGbGFnTGV0dGVyVGV4dEZvckluZGV4KFN0YXRlLmZsYWcuYWN0aXZlQ2FuZGlkYXRlSW5kZXgpOwp9CgpmdW5jdGlvbiBoaWRlT3ZlcnRpbWVGbGFnUHJldmlld0ljb24oKTogdm9pZCB7CiAgICBjb25zdCB6b25lcyA9IFN0YXRlLmZsYWcuY2FuZGlkYXRlWm9uZXM7CiAgICBpZiAoIXpvbmVzIHx8IHpvbmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgLy8gRGlzYWJsZSBhbGwgb3ZlcnRpbWUgd29ybGQgaWNvbnMgc28gb25seSB0aGUgYWN0aXZlIHpvbmUgY2FuIGJlIHNob3duLgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6b25lcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGljb24gPSBtb2QuR2V0V29ybGRJY29uKHpvbmVzW2ldLndvcmxkSWNvbk9iaklkKTsKICAgICAgICAgICAgaWYgKCFpY29uKSBjb250aW51ZTsKICAgICAgICAgICAgbW9kLkVuYWJsZVdvcmxkSWNvbkltYWdlKGljb24sIGZhbHNlKTsKICAgICAgICAgICAgbW9kLkVuYWJsZVdvcmxkSWNvblRleHQoaWNvbiwgZmFsc2UpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICB9Cn0KCi8vIFRPRE8oMS4wKTogVW51c2VkOyByZW1vdmUgYmVmb3JlIGZpbmFsIDEuMCByZWxlYXNlLgpmdW5jdGlvbiBnZXRBY3RpdmVPdmVydGltZUFyZWFUcmlnZ2VyKCk6IG1vZC5BcmVhVHJpZ2dlciB8IHVuZGVmaW5lZCB7CiAgICBpZiAoU3RhdGUuZmxhZy5hY3RpdmVBcmVhVHJpZ2dlcikgcmV0dXJuIFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXI7CiAgICBpZiAoU3RhdGUuZmxhZy5hY3RpdmVBcmVhVHJpZ2dlcklkID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7CiAgICBjb25zdCB0cmlnZ2VyID0gbW9kLkdldEFyZWFUcmlnZ2VyKFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCk7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUFyZWFUcmlnZ2VyID0gdHJpZ2dlcjsKICAgIHJldHVybiB0cmlnZ2VyOwp9CgpmdW5jdGlvbiBnZXRBY3RpdmVPdmVydGltZVdvcmxkSWNvbigpOiBtb2QuV29ybGRJY29uIHwgdW5kZWZpbmVkIHsKICAgIGlmIChTdGF0ZS5mbGFnLmFjdGl2ZVdvcmxkSWNvbikgcmV0dXJuIFN0YXRlLmZsYWcuYWN0aXZlV29ybGRJY29uOwogICAgaWYgKFN0YXRlLmZsYWcuYWN0aXZlV29ybGRJY29uSWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGNvbnN0IGljb24gPSBtb2QuR2V0V29ybGRJY29uKFN0YXRlLmZsYWcuYWN0aXZlV29ybGRJY29uSWQpOwogICAgU3RhdGUuZmxhZy5hY3RpdmVXb3JsZEljb24gPSBpY29uOwogICAgcmV0dXJuIGljb247Cn0KCmZ1bmN0aW9uIHNob3dPdmVydGltZUZsYWdQcmV2aWV3SWNvbihpc0xvY2tlZDogYm9vbGVhbik6IHZvaWQgewogICAgY29uc3QgaWNvbiA9IGdldEFjdGl2ZU92ZXJ0aW1lV29ybGRJY29uKCk7CiAgICBpZiAoIWljb24pIHJldHVybjsKCiAgICAvLyBMb2NrZWQgcHJldmlldyB1c2VzIHRoZSBzZWxlY3RlZCB6b25lIGxldHRlciBmb3IgY2xhcml0eS4KICAgIGNvbnN0IGxldHRlcktleSA9IGdldEFjdGl2ZU92ZXJ0aW1lRmxhZ0xldHRlcktleSgpOwogICAgY29uc3QgbGFiZWxLZXkgPSBpc0xvY2tlZCA/IFNUUl9GTEFHX1RJVExFX0xPQ0tFRF9GT1JNQVQgOiBTVFJfRkxBR19QUkVWSUVXX0FDVElWRTsKCiAgICAvLyBFbnN1cmUgb25seSB0aGUgc2VsZWN0ZWQgem9uZSBpY29uIGlzIHZpc2libGUuCiAgICBoaWRlT3ZlcnRpbWVGbGFnUHJldmlld0ljb24oKTsKCiAgICAvLyBXb3JsZEljb24gb2JqZWN0cyBhcmUgcG9zaXRpb25lZCBpbiB0aGUgc3BhdGlhbCBkYXRhOyB3ZSBvbmx5IHRvZ2dsZSB2aXNpYmlsaXR5ICsgdGV4dC4KICAgIHRyeSB7CiAgICAgICAgbW9kLlNldFdvcmxkSWNvbkltYWdlKGljb24sIG1vZC5Xb3JsZEljb25JbWFnZXMuRmxhZyk7CiAgICAgICAgbW9kLlNldFdvcmxkSWNvbkNvbG9yKGljb24sIE9WRVJUSU1FX0ZMQUdfSUNPTl9DT0xPUik7CiAgICAgICAgLy8gTk9URTogTG9ja2VkIHByZXZpZXcgdXNlcyB0aGUgc2FtZSB0aXRsZSBmb3JtYXQgYXMgdGhlIEhVRCBmb3IgY29uc2lzdGVuY3kuCiAgICAgICAgY29uc3QgbGFiZWxNZXNzYWdlID0gaXNMb2NrZWQKICAgICAgICAgICAgPyBtb2QuTWVzc2FnZShsYWJlbEtleSwgbGV0dGVyS2V5LCBnZXRPdmVydGltZVVubG9ja1NlY29uZHMoKSkKICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShsYWJlbEtleSk7CiAgICAgICAgbW9kLlNldFdvcmxkSWNvblRleHQoaWNvbiwgbGFiZWxNZXNzYWdlKTsKICAgICAgICBtb2QuRW5hYmxlV29ybGRJY29uSW1hZ2UoaWNvbiwgdHJ1ZSk7CiAgICAgICAgbW9kLkVuYWJsZVdvcmxkSWNvblRleHQoaWNvbiwgdHJ1ZSk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBab25lIENvbmZpZyArIFByZXZpZXcgSWNvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gTWFya2VyIFZpc2liaWxpdHkgKyBTdXBwcmVzc2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gZ2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRJZHMoKTogbnVtYmVyW10gewogICAgY29uc3Qgem9uZXMgPSBTdGF0ZS5mbGFnLmNhbmRpZGF0ZVpvbmVzOwogICAgaWYgKCF6b25lcyB8fCB6b25lcy5sZW5ndGggPT09IDApIHJldHVybiBbXTsKICAgIGNvbnN0IGlkczogbnVtYmVyW10gPSBbXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgem9uZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZHMucHVzaCh6b25lc1tpXS5jYXB0dXJlUG9pbnRPYmpJZCk7CiAgICB9CiAgICByZXR1cm4gaWRzOwp9CgpmdW5jdGlvbiBhcHBseU92ZXJ0aW1lQ2FwdHVyZVBvaW50U3VwcHJlc3Npb24oY3A6IG1vZC5DYXB0dXJlUG9pbnQpOiB2b2lkIHsKICAgIC8vIEtlZXAgQ2FwdHVyZVBvaW50cyBtYXJrZXItb25seTogbm8gb3duZXJzaGlwIGNoYW5nZSwgbm8gZGVwbG95LCBubyBwcm9ncmVzcy4KICAgIG1vZC5TZXRDYXB0dXJlUG9pbnRDYXB0dXJpbmdUaW1lKGNwLCBPVkVSVElNRV9DQVBUVVJFX1RJTUVfRElTQUJMRV9TRUNPTkRTKTsKICAgIG1vZC5TZXRDYXB0dXJlUG9pbnROZXV0cmFsaXphdGlvblRpbWUoY3AsIE9WRVJUSU1FX05FVVRSQUxJWkVfVElNRV9ESVNBQkxFX1NFQ09ORFMpOwogICAgbW9kLlNldE1heENhcHR1cmVNdWx0aXBsaWVyKGNwLCBPVkVSVElNRV9FTkdJTkVfQ0FQVFVSRV9NQVhfTVVMVElQTElFUik7CiAgICBtb2QuRW5hYmxlQ2FwdHVyZVBvaW50RGVwbG95aW5nKGNwLCBmYWxzZSk7Cn0KCmZ1bmN0aW9uIHNldE92ZXJ0aW1lQ2FwdHVyZVBvaW50T3duZXIoY3A6IG1vZC5DYXB0dXJlUG9pbnQsIHRlYW1JZDogVGVhbUlEIHwgMCk6IHZvaWQgewogICAgbW9kLlNldENhcHR1cmVQb2ludE93bmVyKGNwLCBtb2QuR2V0VGVhbSh0ZWFtSWQpKTsKfQoKZnVuY3Rpb24gaGFyZFJlc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRzKGlkczogbnVtYmVyW10pOiB2b2lkIHsKICAgIC8vIEZvcmNlLWNsZWFyIGVuZ2luZSBDUCBzdGF0ZSBzbyBubyBwcm9ncmVzcyBwZXJzaXN0cyBhY3Jvc3Mgcm91bmRzLgogICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbG9nQ2FwdHVyZVBvaW50VmlzaWJpbGl0eURlYnVnKFNUUl9ERUJVR19DUF9WSVNfSEFSRF9SRVNFVCk7CiAgICB9CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGNwID0gbW9kLkdldENhcHR1cmVQb2ludChpZHNbaV0pOwogICAgICAgICAgICBpZiAoIWNwKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3Qgc3BhdGlhbCA9IG1vZC5HZXRTcGF0aWFsT2JqZWN0KGlkc1tpXSk7CiAgICAgICAgICAgIGlmICghc3BhdGlhbCkgY29udGludWU7CiAgICAgICAgICAgIG1vZC5FbmFibGVHYW1lTW9kZU9iamVjdGl2ZShjcCwgdHJ1ZSk7CiAgICAgICAgICAgIGFwcGx5T3ZlcnRpbWVDYXB0dXJlUG9pbnRTdXBwcmVzc2lvbihjcCk7CiAgICAgICAgICAgIHNldE92ZXJ0aW1lQ2FwdHVyZVBvaW50T3duZXIoY3AsIDApOwogICAgICAgICAgICBtb2QuRW5hYmxlR2FtZU1vZGVPYmplY3RpdmUoY3AsIGZhbHNlKTsKICAgICAgICAgICAgbW9kLkVuYWJsZVNwYXRpYWxPYmplY3Qoc3BhdGlhbCwgZmFsc2UpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIGNvbmZpZ3VyZU92ZXJ0aW1lQ2FwdHVyZVBvaW50VGltZXMoKTogdm9pZCB7CiAgICAvLyBSZS1hcHBseSBzdXBwcmVzc2lvbiBmb3IgZXZlcnkgY2FuZGlkYXRlIHNvIGVuZ2luZSBjYXB0dXJlIG5ldmVyIGFkdmFuY2VzLgogICAgY29uc3QgaWRzID0gZ2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRJZHMoKTsKICAgIGlmIChpZHMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGNwID0gbW9kLkdldENhcHR1cmVQb2ludChpZHNbaV0pOwogICAgICAgICAgICBpZiAoIWNwKSBjb250aW51ZTsKICAgICAgICAgICAgYXBwbHlPdmVydGltZUNhcHR1cmVQb2ludFN1cHByZXNzaW9uKGNwKTsKICAgICAgICAgICAgc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRPd25lcihjcCwgMCk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRNYXJrZXJWaXNpYmxlKGNhcHR1cmVQb2ludE9iaklkOiBudW1iZXIsIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgY3AgPSBtb2QuR2V0Q2FwdHVyZVBvaW50KGNhcHR1cmVQb2ludE9iaklkKTsKICAgICAgICBpZiAoIWNwKSByZXR1cm47CiAgICAgICAgY29uc3Qgc3BhdGlhbCA9IG1vZC5HZXRTcGF0aWFsT2JqZWN0KGNhcHR1cmVQb2ludE9iaklkKTsKICAgICAgICBpZiAoIXNwYXRpYWwpIHJldHVybjsKICAgICAgICAvLyBBcHBseSBDUCBzdGF0ZSBiZWZvcmUgdGhlIGZpbmFsIGVuYWJsZS9kaXNhYmxlOyBzZXR0ZXJzIGNhbiByZS1yZWdpc3RlciB0aGUgb2JqZWN0aXZlLgogICAgICAgIGFwcGx5T3ZlcnRpbWVDYXB0dXJlUG9pbnRTdXBwcmVzc2lvbihjcCk7CiAgICAgICAgc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRPd25lcihjcCwgMCk7CiAgICAgICAgLy8gVG9nZ2xlIGJvdGggb2JqZWN0aXZlIHZpc2liaWxpdHkgYW5kIHRoZSBzcGF0aWFsIG9iamVjdCB1c2luZyB0aGUgY29ycmVjdCBydW50aW1lIGhhbmRsZS4KICAgICAgICBtb2QuRW5hYmxlR2FtZU1vZGVPYmplY3RpdmUoY3AsIHZpc2libGUpOwogICAgICAgIG1vZC5FbmFibGVTcGF0aWFsT2JqZWN0KHNwYXRpYWwsIHZpc2libGUpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiBzZXRPdmVydGltZUNhcHR1cmVQb2ludHNGb3JTZWxlY3RlZChzZWxlY3RlZElkPzogbnVtYmVyKTogdm9pZCB7CiAgICAvLyBFbmFibGUgb25seSB0aGUgc2VsZWN0ZWQgQ2FwdHVyZVBvaW50IGZvciBtaW5pbWFwL3dvcmxkIG1hcmtlciBkaXNwbGF5LgogICAgY29uc3QgaWRzID0gZ2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRJZHMoKTsKICAgIGlmIChpZHMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGVuYWJsZSA9IHNlbGVjdGVkSWQgIT09IHVuZGVmaW5lZCAmJiBpZHNbaV0gPT09IHNlbGVjdGVkSWQ7CiAgICAgICAgc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRNYXJrZXJWaXNpYmxlKGlkc1tpXSwgZW5hYmxlKTsKICAgIH0KfQoKZnVuY3Rpb24gc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRzRm9yQWxsVmlzaWJsZSgpOiB2b2lkIHsKICAgIGNvbnN0IGlkcyA9IGdldE92ZXJ0aW1lQ2FwdHVyZVBvaW50SWRzKCk7CiAgICBpZiAoaWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzZXRPdmVydGltZUNhcHR1cmVQb2ludE1hcmtlclZpc2libGUoaWRzW2ldLCB0cnVlKTsKICAgIH0KfQoKZnVuY3Rpb24gc2V0T3ZlcnRpbWVTZWN0b3JzRm9yQWxsVmlzaWJsZSgpOiB2b2lkIHsKICAgIGNvbnN0IHpvbmVzID0gU3RhdGUuZmxhZy5jYW5kaWRhdGVab25lczsKICAgIGlmICghem9uZXMgfHwgem9uZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHpvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3Qgc2VjdG9yID0gbW9kLkdldFNlY3Rvcih6b25lc1tpXS5zZWN0b3JJZCk7CiAgICAgICAgICAgIGlmICghc2VjdG9yKSBjb250aW51ZTsKICAgICAgICAgICAgbW9kLkVuYWJsZUdhbWVNb2RlT2JqZWN0aXZlKHNlY3RvciwgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gc2V0T3ZlcnRpbWVBbGxGbGFnVmlzaWJpbGl0eSh2aXNpYmxlOiBib29sZWFuKTogdm9pZCB7CiAgICBpZiAodmlzaWJsZSkgewogICAgICAgIHNldE92ZXJ0aW1lU2VjdG9yc0ZvckFsbFZpc2libGUoKTsKICAgICAgICBzZXRPdmVydGltZUNhcHR1cmVQb2ludHNGb3JBbGxWaXNpYmxlKCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgc2V0T3ZlcnRpbWVTZWN0b3JzRm9yU2VsZWN0ZWQodW5kZWZpbmVkKTsKICAgIHNldE92ZXJ0aW1lQ2FwdHVyZVBvaW50c0ZvclNlbGVjdGVkKHVuZGVmaW5lZCk7Cn0KCmZ1bmN0aW9uIGdldEFjdGl2ZU92ZXJ0aW1lQ2FwdHVyZVBvaW50KCk6IG1vZC5DYXB0dXJlUG9pbnQgfCB1bmRlZmluZWQgewogICAgaWYgKFN0YXRlLmZsYWcuYWN0aXZlQ2FwdHVyZVBvaW50KSByZXR1cm4gU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnQ7CiAgICBpZiAoU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnRJZCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkOwogICAgY29uc3QgY3AgPSBtb2QuR2V0Q2FwdHVyZVBvaW50KFN0YXRlLmZsYWcuYWN0aXZlQ2FwdHVyZVBvaW50SWQpOwogICAgU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnQgPSBjcDsKICAgIHJldHVybiBjcDsKfQoKZnVuY3Rpb24gaXNBY3RpdmVPdmVydGltZUNhcHR1cmVQb2ludChjcDogbW9kLkNhcHR1cmVQb2ludCk6IGJvb2xlYW4gewogICAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlT3ZlcnRpbWVDYXB0dXJlUG9pbnQoKTsKICAgIGlmICghYWN0aXZlKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gbW9kLkVxdWFscyhjcCwgYWN0aXZlKTsKfQoKZnVuY3Rpb24gc2V0T3ZlcnRpbWVTZWN0b3JzRm9yU2VsZWN0ZWQoc2VsZWN0ZWRJZD86IG51bWJlcik6IHZvaWQgewogICAgLy8gU2VjdG9yIG9iamVjdGl2ZXMgZHJpdmUgdGhlIG1pbmltYXAgcmFkaXVzIHdpdGhvdXQgZW5hYmxpbmcgY2FwdHVyZSBsb2dpYy4KICAgIGNvbnN0IHpvbmVzID0gU3RhdGUuZmxhZy5jYW5kaWRhdGVab25lczsKICAgIGlmICghem9uZXMgfHwgem9uZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHpvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3Qgc2VjdG9yID0gbW9kLkdldFNlY3Rvcih6b25lc1tpXS5zZWN0b3JJZCk7CiAgICAgICAgICAgIGlmICghc2VjdG9yKSBjb250aW51ZTsKICAgICAgICAgICAgY29uc3QgZW5hYmxlID0gc2VsZWN0ZWRJZCAhPT0gdW5kZWZpbmVkICYmIHpvbmVzW2ldLnNlY3RvcklkID09PSBzZWxlY3RlZElkOwogICAgICAgICAgICBtb2QuRW5hYmxlR2FtZU1vZGVPYmplY3RpdmUoc2VjdG9yLCBlbmFibGUpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBNYXJrZXIgVmlzaWJpbGl0eSArIFN1cHByZXNzaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBTZWxlY3Rpb24gKyBPdmVycmlkZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZ1bmN0aW9uIHJlc2V0T3ZlcnRpbWVTZWxlY3Rpb25Gb3JPdmVycmlkZSgpOiB2b2lkIHsKICAgIC8vIENsZWFycyB0aGUgYWN0aXZlIG92ZXJ0aW1lIHNlbGVjdGlvbiB3aXRob3V0IHRvdWNoaW5nIHN0YWdlL2FjdGl2ZSBmbGFncy4KICAgIC8vIFVzZWQgZm9yIGFkbWluIG92ZXJyaWRlcyBiZWZvcmUgdGhlIHJldmVhbCBzdGFnZS4KICAgIGhpZGVPdmVydGltZUZsYWdQcmV2aWV3SWNvbigpOwogICAgU3RhdGUuZmxhZy5hY3RpdmVBcmVhVHJpZ2dlcklkID0gdW5kZWZpbmVkOwogICAgU3RhdGUuZmxhZy5hY3RpdmVBcmVhVHJpZ2dlciA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcuYWN0aXZlU2VjdG9ySWQgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVNlY3RvciA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcuYWN0aXZlV29ybGRJY29uSWQgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVdvcmxkSWNvbiA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcuYWN0aXZlQ2FwdHVyZVBvaW50SWQgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUNhcHR1cmVQb2ludCA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcuYWN0aXZlQ2FuZGlkYXRlSW5kZXggPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLnNlbGVjdGVkWm9uZUxldHRlcktleSA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcub3duZXJUZWFtID0gMDsKICAgIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPSAwLjU7CiAgICBTdGF0ZS5mbGFnLnQxQ291bnQgPSAwOwogICAgU3RhdGUuZmxhZy50MkNvdW50ID0gMDsKICAgIFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkID0ge307CiAgICBTdGF0ZS5mbGFnLnZlaGljbGVPY2N1cGFudHNCeVZpZCA9IHt9OwogICAgU3RhdGUuZmxhZy52ZWhpY2xlVGVhbUJ5VmlkID0ge307CiAgICBTdGF0ZS5mbGFnLmxhc3RVaVNuYXBzaG90QnlQaWQgPSB7fTsKICAgIFN0YXRlLmZsYWcubGFzdEdsb2JhbFByb2dyZXNzUGVyY2VudCA9IC0xOwogICAgU3RhdGUuZmxhZy5sYXN0TWVtYmVyc2hpcFBydW5lQXRTZWNvbmRzID0gMDsKfQoKZnVuY3Rpb24gc2VsZWN0T3ZlcnRpbWVab25lRm9yUm91bmQoKTogYm9vbGVhbiB7CiAgICAvLyBTZWxlY3Qgb25jZSBwZXIgcm91bmQ7IHpvbmUgb3JkZXIgZGVmaW5lcyBBL0IvQy4uLiBsZXR0ZXJzLgogICAgaWYgKCFTdGF0ZS5mbGFnLmNvbmZpZ1ZhbGlkKSByZXR1cm4gZmFsc2U7CiAgICBjb25zdCB6b25lcyA9IFN0YXRlLmZsYWcuY2FuZGlkYXRlWm9uZXM7CiAgICBpZiAoem9uZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7CiAgICBjb25zdCBjYW5PdmVycmlkZSA9IFN0YXRlLmZsYWcuc3RhZ2UgPCBPdmVydGltZVN0YWdlLlZpc2libGU7CiAgICBjb25zdCBoYXNBY3RpdmVTZWxlY3Rpb24gPSBTdGF0ZS5mbGFnLmFjdGl2ZUFyZWFUcmlnZ2VySWQgIT09IHVuZGVmaW5lZDsKCiAgICBjb25zdCB2YWxpZEluZGljZXM6IG51bWJlcltdID0gW107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHpvbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgdHJpZ2dlciA9IG1vZC5HZXRBcmVhVHJpZ2dlcih6b25lc1tpXS5hcmVhVHJpZ2dlck9iaklkKTsKICAgICAgICBjb25zdCBzZWN0b3IgPSBtb2QuR2V0U2VjdG9yKHpvbmVzW2ldLnNlY3RvcklkKTsKICAgICAgICBjb25zdCBpY29uID0gbW9kLkdldFdvcmxkSWNvbih6b25lc1tpXS53b3JsZEljb25PYmpJZCk7CiAgICAgICAgY29uc3QgY3AgPSBtb2QuR2V0Q2FwdHVyZVBvaW50KHpvbmVzW2ldLmNhcHR1cmVQb2ludE9iaklkKTsKICAgICAgICBpZiAoIXRyaWdnZXIgfHwgIXNlY3RvciB8fCAhaWNvbiB8fCAhY3ApIGNvbnRpbnVlOwogICAgICAgIHZhbGlkSW5kaWNlcy5wdXNoKGkpOwogICAgfQoKICAgIGlmICh2YWxpZEluZGljZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8gSWYgbm8gdmFsaWQgem9uZXMgY2FuIGJlIHJlc29sdmVkLCBkaXNhYmxlIG92ZXJ0aW1lIGZvciB0aGlzIHJvdW5kLgogICAgICAgIFN0YXRlLmZsYWcuY29uZmlnVmFsaWQgPSBmYWxzZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgbGV0IG92ZXJyaWRlSW5kZXggPSBjYW5PdmVycmlkZSA/IFN0YXRlLmFkbWluLnRpZUJyZWFrZXJPdmVycmlkZUluZGV4IDogdW5kZWZpbmVkOwogICAgaWYgKG92ZXJyaWRlSW5kZXggIT09IHVuZGVmaW5lZCAmJiB2YWxpZEluZGljZXMuaW5kZXhPZihvdmVycmlkZUluZGV4KSA9PT0gLTEpIHsKICAgICAgICBTdGF0ZS5hZG1pbi50aWVCcmVha2VyT3ZlcnJpZGVJbmRleCA9IHVuZGVmaW5lZDsKICAgICAgICBvdmVycmlkZUluZGV4ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChoYXNBY3RpdmVTZWxlY3Rpb24gJiYgb3ZlcnJpZGVJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTsKCiAgICBjb25zdCBwb3J0YWxBcnJheSA9IGJ1aWxkUG9ydGFsTnVtYmVyQXJyYXkodmFsaWRJbmRpY2VzKTsKICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBvdmVycmlkZUluZGV4ICE9PSB1bmRlZmluZWQgPyBvdmVycmlkZUluZGV4IDogKG1vZC5SYW5kb21WYWx1ZUluQXJyYXkocG9ydGFsQXJyYXkpIGFzIG51bWJlcik7CiAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7CiAgICBjb25zdCBzZWxlY3RlZFpvbmUgPSB6b25lc1tzZWxlY3RlZEluZGV4XTsKCiAgICBpZiAoaGFzQWN0aXZlU2VsZWN0aW9uICYmIG92ZXJyaWRlSW5kZXggIT09IHVuZGVmaW5lZCAmJiBTdGF0ZS5mbGFnLmFjdGl2ZUNhbmRpZGF0ZUluZGV4ICE9PSBzZWxlY3RlZEluZGV4KSB7CiAgICAgICAgcmVzZXRPdmVydGltZVNlbGVjdGlvbkZvck92ZXJyaWRlKCk7CiAgICB9CgogICAgU3RhdGUuZmxhZy5hY3RpdmVDYW5kaWRhdGVJbmRleCA9IHNlbGVjdGVkSW5kZXg7CiAgICBTdGF0ZS5mbGFnLnNlbGVjdGVkWm9uZUxldHRlcktleSA9IGdldE92ZXJ0aW1lRmxhZ0xldHRlcktleUZvckluZGV4KHNlbGVjdGVkSW5kZXgpOwogICAgU3RhdGUuZmxhZy5hY3RpdmVBcmVhVHJpZ2dlcklkID0gc2VsZWN0ZWRab25lLmFyZWFUcmlnZ2VyT2JqSWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUFyZWFUcmlnZ2VyID0gbW9kLkdldEFyZWFUcmlnZ2VyKHNlbGVjdGVkWm9uZS5hcmVhVHJpZ2dlck9iaklkKTsKICAgIFN0YXRlLmZsYWcuYWN0aXZlU2VjdG9ySWQgPSBzZWxlY3RlZFpvbmUuc2VjdG9ySWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVNlY3RvciA9IG1vZC5HZXRTZWN0b3Ioc2VsZWN0ZWRab25lLnNlY3RvcklkKTsKICAgIFN0YXRlLmZsYWcuYWN0aXZlV29ybGRJY29uSWQgPSBzZWxlY3RlZFpvbmUud29ybGRJY29uT2JqSWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVdvcmxkSWNvbiA9IG1vZC5HZXRXb3JsZEljb24oc2VsZWN0ZWRab25lLndvcmxkSWNvbk9iaklkKTsKICAgIFN0YXRlLmZsYWcuYWN0aXZlQ2FwdHVyZVBvaW50SWQgPSBzZWxlY3RlZFpvbmUuY2FwdHVyZVBvaW50T2JqSWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUNhcHR1cmVQb2ludCA9IG1vZC5HZXRDYXB0dXJlUG9pbnQoc2VsZWN0ZWRab25lLmNhcHR1cmVQb2ludE9iaklkKTsKCiAgICBpZiAoIVN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXIgfHwgIVN0YXRlLmZsYWcuYWN0aXZlU2VjdG9yIHx8ICFTdGF0ZS5mbGFnLmFjdGl2ZVdvcmxkSWNvbiB8fCAhU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnQpIHsKICAgICAgICBTdGF0ZS5mbGFnLmNvbmZpZ1ZhbGlkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIFRyYWNrIG92ZXJyaWRlIHVzYWdlIG9ubHkgd2hlbiBpdCBhY3R1YWxseSBkaWN0YXRlcyB0aGUgc2VsZWN0aW9uLgogICAgaWYgKG92ZXJyaWRlSW5kZXggIT09IHVuZGVmaW5lZCkgewogICAgICAgIFN0YXRlLmZsYWcub3ZlcnJpZGVVc2VkVGhpc1JvdW5kID0gdHJ1ZTsKICAgICAgICBTdGF0ZS5hZG1pbi50aWVCcmVha2VyT3ZlcnJpZGVVc2VkID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAob3ZlcnJpZGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgU3RhdGUuYWRtaW4udGllQnJlYWtlck92ZXJyaWRlSW5kZXggPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCAhPT0gdW5kZWZpbmVkOwp9CgovLyBUT0RPKDEuMCk6IFVudXNlZDsgcmVtb3ZlIGJlZm9yZSBmaW5hbCAxLjAgcmVsZWFzZS4KZnVuY3Rpb24gZ2V0QWN0aXZlT3ZlcnRpbWVTZWN0b3IoKTogbW9kLlNlY3RvciB8IHVuZGVmaW5lZCB7CiAgICBpZiAoU3RhdGUuZmxhZy5hY3RpdmVTZWN0b3IpIHJldHVybiBTdGF0ZS5mbGFnLmFjdGl2ZVNlY3RvcjsKICAgIGlmIChTdGF0ZS5mbGFnLmFjdGl2ZVNlY3RvcklkID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7CiAgICBjb25zdCBzZWN0b3IgPSBtb2QuR2V0U2VjdG9yKFN0YXRlLmZsYWcuYWN0aXZlU2VjdG9ySWQpOwogICAgU3RhdGUuZmxhZy5hY3RpdmVTZWN0b3IgPSBzZWN0b3I7CiAgICByZXR1cm4gc2VjdG9yOwp9CgpmdW5jdGlvbiBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKHNlbGVjdGVkSW5kZXg6IG51bWJlcik6IHZvaWQgewogICAgaWYgKCFTdGF0ZS5mbGFnLmNvbmZpZ1ZhbGlkKSByZXR1cm47CiAgICBpZiAoU3RhdGUuZmxhZy5zdGFnZSA+PSBPdmVydGltZVN0YWdlLlZpc2libGUpIHJldHVybjsKICAgIFN0YXRlLmFkbWluLnRpZUJyZWFrZXJPdmVycmlkZUluZGV4ID0gc2VsZWN0ZWRJbmRleDsKICAgIGlmICghaXNSb3VuZExpdmUoKSkgcmV0dXJuOwogICAgY29uc3Qgc2VsZWN0ZWQgPSBzZWxlY3RPdmVydGltZVpvbmVGb3JSb3VuZCgpOwogICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgU3RhdGUuZmxhZy50cmFja2luZ0VuYWJsZWQgPSB0cnVlOwogICAgfQp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gU2VsZWN0aW9uICsgT3ZlcnJpZGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBSZXNldCArIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiByZXNldE92ZXJ0aW1lRmxhZ1N0YXRlKCk6IHZvaWQgewogICAgLy8gQ2xlYXJzIGFsbCBvdmVydGltZSBzdGF0ZSBhbmQgaGlkZXMgVUkuIFNhZmUgdG8gY2FsbCBvbiByb3VuZCByZXNldC9lbmQuCiAgICAvLyBQcm9ncmVzcyByZXNldHMgdG8gbmV1dHJhbCAoMC41KSBhbmQgdmVoaWNsZSBjb3VudHMgYXJlIGNsZWFyZWQuCiAgICBoaWRlT3ZlcnRpbWVGbGFnUHJldmlld0ljb24oKTsKICAgIHN0b3BPdmVydGltZUNhcHR1cmVMb29wKCk7CiAgICBTdGF0ZS5mbGFnLnN0YWdlID0gT3ZlcnRpbWVTdGFnZS5Ob25lOwogICAgU3RhdGUuZmxhZy5hY3RpdmUgPSBmYWxzZTsKICAgIFN0YXRlLmZsYWcudHJhY2tpbmdFbmFibGVkID0gZmFsc2U7CiAgICBTdGF0ZS5mbGFnLnVubG9ja1JlbWluZGVyU2VudCA9IGZhbHNlOwogICAgU3RhdGUuZmxhZy5vdmVycmlkZVVzZWRUaGlzUm91bmQgPSBmYWxzZTsKICAgIFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXIgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVNlY3RvcklkID0gdW5kZWZpbmVkOwogICAgU3RhdGUuZmxhZy5hY3RpdmVTZWN0b3IgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZVdvcmxkSWNvbklkID0gdW5kZWZpbmVkOwogICAgU3RhdGUuZmxhZy5hY3RpdmVXb3JsZEljb24gPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUNhcHR1cmVQb2ludElkID0gdW5kZWZpbmVkOwogICAgU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnQgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZUNhbmRpZGF0ZUluZGV4ID0gdW5kZWZpbmVkOwogICAgU3RhdGUuZmxhZy5zZWxlY3RlZFpvbmVMZXR0ZXJLZXkgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5mbGFnLm93bmVyVGVhbSA9IDA7CiAgICBTdGF0ZS5mbGFnLnByb2dyZXNzID0gMC41OwogICAgU3RhdGUuZmxhZy50MUNvdW50ID0gMDsKICAgIFN0YXRlLmZsYWcudDJDb3VudCA9IDA7CiAgICBTdGF0ZS5mbGFnLnBsYXllcnNJblpvbmVCeVBpZCA9IHt9OwogICAgU3RhdGUuZmxhZy52ZWhpY2xlT2NjdXBhbnRzQnlWaWQgPSB7fTsKICAgIFN0YXRlLmZsYWcudmVoaWNsZVRlYW1CeVZpZCA9IHt9OwogICAgU3RhdGUuZmxhZy5sYXN0VWlTbmFwc2hvdEJ5UGlkID0ge307CiAgICBTdGF0ZS5mbGFnLmxhc3RHbG9iYWxQcm9ncmVzc1BlcmNlbnQgPSAtMTsKICAgIFN0YXRlLmZsYWcubGFzdE1lbWJlcnNoaXBQcnVuZUF0U2Vjb25kcyA9IDA7CiAgICBoaWRlT3ZlcnRpbWVVaUZvckFsbFBsYXllcnMoKTsKICAgIGxvZ0NhcHR1cmVQb2ludFZpc2liaWxpdHlEZWJ1ZyhTVFJfREVCVUdfQ1BfVklTX1JFU0VUKTsKICAgIHNldE92ZXJ0aW1lU2VjdG9yc0ZvclNlbGVjdGVkKHVuZGVmaW5lZCk7CiAgICBzZXRPdmVydGltZUNhcHR1cmVQb2ludHNGb3JTZWxlY3RlZCh1bmRlZmluZWQpOwogICAgaGFyZFJlc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRzKGdldE92ZXJ0aW1lQ2FwdHVyZVBvaW50SWRzKCkpOwogICAgY29uZmlndXJlT3ZlcnRpbWVDYXB0dXJlUG9pbnRUaW1lcygpOwp9CgpmdW5jdGlvbiBpc1JvdW5kS2lsbFRhcmdldFJlYWNoZWQoKTogYm9vbGVhbiB7CiAgICAvLyBVc2VkIHRvIHByZXZlbnQgZG91YmxlLWVuZCB3aGVuIGNhcHR1cmUgY29tcGxldGVzIGFmdGVyIGEga2lsbC10YXJnZXQgd2luLgogICAgcmV0dXJuIFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMgPj0gU3RhdGUucm91bmQua2lsbHNUYXJnZXQgfHwgU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxscyA+PSBTdGF0ZS5yb3VuZC5raWxsc1RhcmdldDsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE92ZXJ0aW1lIEZsYWcgQ2FwdHVyZSAtIFJlc2V0ICsgU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE92ZXJ0aW1lIEZsYWcgQ2FwdHVyZSAtIFZlaGljbGUgKyBab25lIE1lbWJlcnNoaXAgVHJhY2tpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFZlaGljbGUgY291bnRzIGRyaXZlIGNhcHR1cmUgc3BlZWQ7IG9uZSB2ZWhpY2xlID0gb25lIGNhcHR1cmUgdW5pdC4KZnVuY3Rpb24gaW5jcmVtZW50T3ZlcnRpbWVUZWFtVmVoaWNsZUNvdW50KHRlYW1JZDogVGVhbUlEIHwgMCk6IHZvaWQgewogICAgaWYgKHRlYW1JZCA9PT0gVGVhbUlELlRlYW0xKSB7CiAgICAgICAgU3RhdGUuZmxhZy50MUNvdW50ID0gTWF0aC5tYXgoMCwgU3RhdGUuZmxhZy50MUNvdW50ICsgMSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHRlYW1JZCA9PT0gVGVhbUlELlRlYW0yKSB7CiAgICAgICAgU3RhdGUuZmxhZy50MkNvdW50ID0gTWF0aC5tYXgoMCwgU3RhdGUuZmxhZy50MkNvdW50ICsgMSk7CiAgICB9Cn0KCmZ1bmN0aW9uIGRlY3JlbWVudE92ZXJ0aW1lVGVhbVZlaGljbGVDb3VudCh0ZWFtSWQ6IFRlYW1JRCB8IDApOiB2b2lkIHsKICAgIGlmICh0ZWFtSWQgPT09IFRlYW1JRC5UZWFtMSkgewogICAgICAgIFN0YXRlLmZsYWcudDFDb3VudCA9IE1hdGgubWF4KDAsIFN0YXRlLmZsYWcudDFDb3VudCAtIDEpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0ZWFtSWQgPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgIFN0YXRlLmZsYWcudDJDb3VudCA9IE1hdGgubWF4KDAsIFN0YXRlLmZsYWcudDJDb3VudCAtIDEpOwogICAgfQp9CgpmdW5jdGlvbiBhZGRPdmVydGltZVZlaGljbGVPY2N1cGFudCh0ZWFtSWQ6IFRlYW1JRCB8IDAsIHZlaGljbGVPYmpJZDogbnVtYmVyKTogdm9pZCB7CiAgICAvLyBPbmUgdmVoaWNsZSA9IG9uZSBjYXB0dXJlIHVuaXQsIHJlZ2FyZGxlc3Mgb2YgaG93IG1hbnkgb2NjdXBhbnRzLgogICAgaWYgKHRlYW1JZCAhPT0gVGVhbUlELlRlYW0xICYmIHRlYW1JZCAhPT0gVGVhbUlELlRlYW0yKSByZXR1cm47CiAgICBjb25zdCBjdXJyZW50ID0gU3RhdGUuZmxhZy52ZWhpY2xlT2NjdXBhbnRzQnlWaWRbdmVoaWNsZU9iaklkXSA/PyAwOwogICAgY29uc3QgcHJpb3JUZWFtID0gU3RhdGUuZmxhZy52ZWhpY2xlVGVhbUJ5VmlkW3ZlaGljbGVPYmpJZF07CiAgICBTdGF0ZS5mbGFnLnZlaGljbGVPY2N1cGFudHNCeVZpZFt2ZWhpY2xlT2JqSWRdID0gY3VycmVudCArIDE7CiAgICBpZiAoY3VycmVudCA9PT0gMCkgewogICAgICAgIFN0YXRlLmZsYWcudmVoaWNsZVRlYW1CeVZpZFt2ZWhpY2xlT2JqSWRdID0gdGVhbUlkOwogICAgICAgIGluY3JlbWVudE92ZXJ0aW1lVGVhbVZlaGljbGVDb3VudCh0ZWFtSWQpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChwcmlvclRlYW0gJiYgcHJpb3JUZWFtICE9PSB0ZWFtSWQpIHsKICAgICAgICBkZWNyZW1lbnRPdmVydGltZVRlYW1WZWhpY2xlQ291bnQocHJpb3JUZWFtKTsKICAgICAgICBpbmNyZW1lbnRPdmVydGltZVRlYW1WZWhpY2xlQ291bnQodGVhbUlkKTsKICAgICAgICBTdGF0ZS5mbGFnLnZlaGljbGVUZWFtQnlWaWRbdmVoaWNsZU9iaklkXSA9IHRlYW1JZDsKICAgIH0KfQoKZnVuY3Rpb24gcmVtb3ZlT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQodmVoaWNsZU9iaklkOiBudW1iZXIpOiB2b2lkIHsKICAgIC8vIFJlbW92ZSB0aGUgdmVoaWNsZSBmcm9tIHRoZSB0ZWFtIHNldCB3aGVuIHRoZSBsYXN0IG9jY3VwYW50IGxlYXZlcy4KICAgIGNvbnN0IGN1cnJlbnQgPSBTdGF0ZS5mbGFnLnZlaGljbGVPY2N1cGFudHNCeVZpZFt2ZWhpY2xlT2JqSWRdOwogICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgY29uc3QgbmV4dCA9IE1hdGgubWF4KDAsIGN1cnJlbnQgLSAxKTsKICAgIGlmIChuZXh0IDw9IDApIHsKICAgICAgICBkZWxldGUgU3RhdGUuZmxhZy52ZWhpY2xlT2NjdXBhbnRzQnlWaWRbdmVoaWNsZU9iaklkXTsKICAgICAgICBjb25zdCB0ZWFtSWQgPSBTdGF0ZS5mbGFnLnZlaGljbGVUZWFtQnlWaWRbdmVoaWNsZU9iaklkXTsKICAgICAgICBkZWxldGUgU3RhdGUuZmxhZy52ZWhpY2xlVGVhbUJ5VmlkW3ZlaGljbGVPYmpJZF07CiAgICAgICAgZGVjcmVtZW50T3ZlcnRpbWVUZWFtVmVoaWNsZUNvdW50KHRlYW1JZCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgU3RhdGUuZmxhZy52ZWhpY2xlT2NjdXBhbnRzQnlWaWRbdmVoaWNsZU9iaklkXSA9IG5leHQ7Cn0KCmZ1bmN0aW9uIHN5bmNPdmVydGltZVBsYXllclZlaGljbGVTdGF0ZShwbGF5ZXI6IG1vZC5QbGF5ZXIsIGVudHJ5OiBPdmVydGltZUZsYWdQbGF5ZXJab25lU3RhdGUpOiB2b2lkIHsKICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm47CiAgICAvLyBLZWVwIHZlaGljbGUgbWVtYmVyc2hpcCBhY2N1cmF0ZSBmb3IgaW4tem9uZSBwbGF5ZXJzIHdobyBlbnRlci9leGl0IHZlaGljbGVzLgogICAgLy8gQ2FsbGVycyBvbmx5IGludm9rZSB0aGlzIGZvciBwbGF5ZXJzIGN1cnJlbnRseSB0cmFja2VkIGFzIGluLXpvbmUuCiAgICBjb25zdCBpblZlaGljbGUgPSBzYWZlR2V0U29sZGllclN0YXRlQm9vbChwbGF5ZXIsIG1vZC5Tb2xkaWVyU3RhdGVCb29sLklzSW5WZWhpY2xlKTsKICAgIGlmICghaW5WZWhpY2xlKSB7CiAgICAgICAgaWYgKGVudHJ5LnZlaGljbGVPYmpJZCkgewogICAgICAgICAgICByZW1vdmVPdmVydGltZVZlaGljbGVPY2N1cGFudChlbnRyeS52ZWhpY2xlT2JqSWQpOwogICAgICAgICAgICBlbnRyeS52ZWhpY2xlT2JqSWQgPSAwOwogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgdmVoaWNsZTogbW9kLlZlaGljbGUgfCB1bmRlZmluZWQ7CiAgICB0cnkgewogICAgICAgIHZlaGljbGUgPSBtb2QuR2V0VmVoaWNsZUZyb21QbGF5ZXIocGxheWVyKTsKICAgIH0gY2F0Y2ggewogICAgICAgIHZlaGljbGUgPSB1bmRlZmluZWQ7CiAgICB9CiAgICBpZiAoIXZlaGljbGUpIHsKICAgICAgICBpZiAoZW50cnkudmVoaWNsZU9iaklkKSB7CiAgICAgICAgICAgIHJlbW92ZU92ZXJ0aW1lVmVoaWNsZU9jY3VwYW50KGVudHJ5LnZlaGljbGVPYmpJZCk7CiAgICAgICAgICAgIGVudHJ5LnZlaGljbGVPYmpJZCA9IDA7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IHZpZCA9IHNhZmVHZXRPYmpJZCh2ZWhpY2xlKTsKICAgIGlmICh2aWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChlbnRyeS52ZWhpY2xlT2JqSWQpIHsKICAgICAgICAgICAgcmVtb3ZlT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQoZW50cnkudmVoaWNsZU9iaklkKTsKICAgICAgICAgICAgZW50cnkudmVoaWNsZU9iaklkID0gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKGVudHJ5LnZlaGljbGVPYmpJZCAmJiBlbnRyeS52ZWhpY2xlT2JqSWQgIT09IHZpZCkgewogICAgICAgIHJlbW92ZU92ZXJ0aW1lVmVoaWNsZU9jY3VwYW50KGVudHJ5LnZlaGljbGVPYmpJZCk7CiAgICB9CiAgICBpZiAoZW50cnkudmVoaWNsZU9iaklkICE9PSB2aWQpIHsKICAgICAgICBlbnRyeS52ZWhpY2xlT2JqSWQgPSB2aWQ7CiAgICAgICAgYWRkT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQoZW50cnkudGVhbUlkLCB2aWQpOwogICAgfQp9CgpmdW5jdGlvbiBoYW5kbGVPdmVydGltZVBsYXllckVudGVyWm9uZShldmVudFBsYXllcjogbW9kLlBsYXllcik6IHZvaWQgewogICAgdHJ5IHsKICAgICAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKICAgICAgICAvLyBBcmVhVHJpZ2dlciBlbnRlciBpcyBzb2xkaWVyLWJhc2VkOyB3ZSBzdGlsbCBnYXRlIGNhcHR1cmUgYnkgdmVoaWNsZSBvY2N1cGFuY3kuCiAgICAgICAgLy8gVHJhY2sgb24tZm9vdCBwbGF5ZXJzIHRvbyBzbyBVSSBjYW4gc2hvdyAidmVoaWNsZSByZXF1aXJlZCIuCiAgICAgICAgaWYgKCFTdGF0ZS5mbGFnLmNvbmZpZ1ZhbGlkKSByZXR1cm47CiAgICAgICAgaWYgKCFpc092ZXJ0aW1lWm9uZVRyYWNraW5nRW5hYmxlZCgpKSByZXR1cm47CiAgICAgICAgaWYgKFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKGV2ZW50UGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgcmV0dXJuOwogICAgICAgIGNvbnN0IHRlYW1JZCA9IHNhZmVHZXRUZWFtTnVtYmVyRnJvbVBsYXllcihldmVudFBsYXllcik7CiAgICAgICAgY29uc3QgZW50cnkgPSBTdGF0ZS5mbGFnLnBsYXllcnNJblpvbmVCeVBpZFtwaWRdID8/IHsgcGxheWVyT2JqSWQ6IHBpZCwgdGVhbUlkLCB2ZWhpY2xlT2JqSWQ6IDAgfTsKICAgICAgICBlbnRyeS5wbGF5ZXJPYmpJZCA9IHBpZDsKICAgICAgICBlbnRyeS50ZWFtSWQgPSB0ZWFtSWQ7CiAgICAgICAgU3RhdGUuZmxhZy5wbGF5ZXJzSW5ab25lQnlQaWRbcGlkXSA9IGVudHJ5OwogICAgICAgIHN5bmNPdmVydGltZVBsYXllclZlaGljbGVTdGF0ZShldmVudFBsYXllciwgZW50cnkpOwogICAgICAgIHJlZnJlc2hPdmVydGltZVVpVmlzaWJpbGl0eUZvclBsYXllcihldmVudFBsYXllcik7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCmZ1bmN0aW9uIGhhbmRsZU92ZXJ0aW1lUGxheWVyRXhpdFpvbmUoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpOiB2b2lkIHsKICAgIHRyeSB7CiAgICAgICAgaWYgKCFldmVudFBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQoZXZlbnRQbGF5ZXIpKSByZXR1cm47CiAgICAgICAgLy8gRHJvcCBtZW1iZXJzaGlwIGFuZCB2ZWhpY2xlIGNvdW50cyB3aGVuIGxlYXZpbmcgdGhlIGNhcHR1cmUgem9uZS4KICAgICAgICAvLyBDbGVhciBzbmFwc2hvdHMgc28gVUkgY2FuIHJlYnVpbGQgY2xlYW5seSBpZiB0aGV5IHJlLWVudGVyLgogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChldmVudFBsYXllcik7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkIHx8IGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIHJldHVybjsKICAgICAgICBjb25zdCBlbnRyeSA9IFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BpZF07CiAgICAgICAgaWYgKCFlbnRyeSkgcmV0dXJuOwogICAgICAgIGlmIChlbnRyeS52ZWhpY2xlT2JqSWQpIHsKICAgICAgICAgICAgcmVtb3ZlT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQoZW50cnkudmVoaWNsZU9iaklkKTsKICAgICAgICB9CiAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BpZF07CiAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcubGFzdFVpU25hcHNob3RCeVBpZFtwaWRdOwogICAgICAgIHJlZnJlc2hPdmVydGltZVVpVmlzaWJpbGl0eUZvclBsYXllcihldmVudFBsYXllcik7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCmZ1bmN0aW9uIGhhbmRsZU92ZXJ0aW1lUGxheWVyTGVhdmVCeUlkKHBsYXllcklkOiBudW1iZXIsIGFsbG93SGFyZERlbGV0ZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHsKICAgIC8vIERpc2Nvbm5lY3QgY2xlYW51cCB1c2VzIHBsYXllciBpZCAoZXZlbnROdW1iZXIpLCBub3QgUGxheWVyIG9iamVjdC4KICAgIGNvbnN0IGVudHJ5ID0gU3RhdGUuZmxhZy5wbGF5ZXJzSW5ab25lQnlQaWRbcGxheWVySWRdOwogICAgaWYgKGVudHJ5Py52ZWhpY2xlT2JqSWQpIHsKICAgICAgICByZW1vdmVPdmVydGltZVZlaGljbGVPY2N1cGFudChlbnRyeS52ZWhpY2xlT2JqSWQpOwogICAgfQogICAgZGVsZXRlIFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BsYXllcklkXTsKICAgIGRlbGV0ZSBTdGF0ZS5mbGFnLmxhc3RVaVNuYXBzaG90QnlQaWRbcGxheWVySWRdOwoKICAgIGlmICghYWxsb3dIYXJkRGVsZXRlKSB7CiAgICAgICAgLy8gVW5kZXBsb3kvZGVhdGggY2xlYW51cDogZG8gTk9UIGRlbGV0ZSB3aWRnZXRzIG1pZC1yb3VuZCB0byBhdm9pZCBlbmdpbmUgaW5zdGFiaWxpdHkuCiAgICAgICAgLy8gSGlkZSArIGRyb3AgcmVmcyBzbyBIVUQgY2FuIGJlIHNhZmVseSByZWJ1aWx0IG9uIG5leHQgcm91bmQvcmVjb25uZWN0LgogICAgICAgIGNvbnN0IHJlZnMgPSBTdGF0ZS5mbGFnLnVpQnlQaWRbcGxheWVySWRdOwogICAgICAgIGlmIChyZWZzPy5yb290KSBzZXRXaWRnZXRWaXNpYmxlKHJlZnMucm9vdCwgZmFsc2UpOwogICAgICAgIGNvbnN0IGdsb2JhbFJlZnMgPSBTdGF0ZS5mbGFnLmdsb2JhbFVpQnlQaWRbcGxheWVySWRdOwogICAgICAgIGlmIChnbG9iYWxSZWZzPy5yb290KSBzZXRXaWRnZXRWaXNpYmxlKGdsb2JhbFJlZnMucm9vdCwgZmFsc2UpOwogICAgICAgIGRyb3BPdmVydGltZVVpUmVmc0ZvclBsYXllcklkKHBsYXllcklkKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGlzUGlkRGlzY29ubmVjdGVkKHBsYXllcklkKSAmJiBzaG91bGREZWZlckRpc2Nvbm5lY3RVaURlbGV0ZXMoKSkgewogICAgICAgIGRyb3BPdmVydGltZVVpUmVmc0ZvclBsYXllcklkKHBsYXllcklkKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBkZWxldGVPdmVydGltZVVpRm9yUGxheWVySWQocGxheWVySWQpOwp9CgpmdW5jdGlvbiBoYW5kbGVPdmVydGltZVBsYXllckVudGVyVmVoaWNsZShldmVudFBsYXllcjogbW9kLlBsYXllciwgZXZlbnRWZWhpY2xlOiBtb2QuVmVoaWNsZSk6IHZvaWQgewogICAgdHJ5IHsKICAgICAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKICAgICAgICAvLyBTZWF0IGNoYW5nZXMgaW5zaWRlIHRoZSB6b25lIG11c3QgdXBkYXRlIHZlaGljbGUgb2NjdXBhbmN5LgogICAgICAgIC8vIE5vLW9wIGZvciBwbGF5ZXJzIG5vdCBjdXJyZW50bHkgdHJhY2tlZCBhcyBpbi16b25lLgogICAgICAgIGlmICghU3RhdGUuZmxhZy5jb25maWdWYWxpZCkgcmV0dXJuOwogICAgICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChldmVudFBsYXllcik7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkIHx8IGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIHJldHVybjsKICAgICAgICBjb25zdCBlbnRyeSA9IFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BpZF07CiAgICAgICAgaWYgKCFlbnRyeSkgcmV0dXJuOwogICAgICAgIGNvbnN0IHRlYW1JZCA9IHNhZmVHZXRUZWFtTnVtYmVyRnJvbVBsYXllcihldmVudFBsYXllcik7CiAgICAgICAgZW50cnkudGVhbUlkID0gdGVhbUlkOwogICAgICAgIGNvbnN0IHZpZCA9IHNhZmVHZXRPYmpJZChldmVudFZlaGljbGUpOwogICAgICAgIGlmICh2aWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIGlmIChlbnRyeS52ZWhpY2xlT2JqSWQgJiYgZW50cnkudmVoaWNsZU9iaklkICE9PSB2aWQpIHsKICAgICAgICAgICAgcmVtb3ZlT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQoZW50cnkudmVoaWNsZU9iaklkKTsKICAgICAgICB9CiAgICAgICAgaWYgKGVudHJ5LnZlaGljbGVPYmpJZCAhPT0gdmlkKSB7CiAgICAgICAgICAgIGVudHJ5LnZlaGljbGVPYmpJZCA9IHZpZDsKICAgICAgICAgICAgYWRkT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQodGVhbUlkLCB2aWQpOwogICAgICAgIH0KICAgICAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiBoYW5kbGVPdmVydGltZVBsYXllckV4aXRWZWhpY2xlKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLCBldmVudFZlaGljbGU6IG1vZC5WZWhpY2xlKTogdm9pZCB7CiAgICB0cnkgewogICAgICAgIGlmICghZXZlbnRQbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKGV2ZW50UGxheWVyKSkgcmV0dXJuOwogICAgICAgIC8vIEV4aXRpbmcgYSB2ZWhpY2xlIGluc2lkZSB0aGUgem9uZSByZW1vdmVzIHRoYXQgdmVoaWNsZSBmcm9tIGNhcHR1cmUgY291bnRzLgogICAgICAgIC8vIFRoZSBwZXItcGxheWVyIFVJIHdpbGwgc3dpdGNoIHRvIHRoZSAidmVoaWNsZSByZXF1aXJlZCIgaGludC4KICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQoZXZlbnRQbGF5ZXIpOwogICAgICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCB8fCBpc1BpZERpc2Nvbm5lY3RlZChwaWQpKSByZXR1cm47CiAgICAgICAgY29uc3QgZW50cnkgPSBTdGF0ZS5mbGFnLnBsYXllcnNJblpvbmVCeVBpZFtwaWRdOwogICAgICAgIGlmICghZW50cnkpIHJldHVybjsKICAgICAgICBjb25zdCB2aWQgPSBzYWZlR2V0T2JqSWQoZXZlbnRWZWhpY2xlKTsKICAgICAgICBpZiAodmlkID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgICBpZiAoZW50cnkudmVoaWNsZU9iaklkID09PSB2aWQpIHsKICAgICAgICAgICAgcmVtb3ZlT3ZlcnRpbWVWZWhpY2xlT2NjdXBhbnQodmlkKTsKICAgICAgICAgICAgZW50cnkudmVoaWNsZU9iaklkID0gMDsKICAgICAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcubGFzdFVpU25hcHNob3RCeVBpZFtwaWRdOwogICAgICAgIH0KICAgICAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiBoYW5kbGVPdmVydGltZVZlaGljbGVEZXN0cm95ZWQoZXZlbnRWZWhpY2xlOiBtb2QuVmVoaWNsZSk6IHZvaWQgewogICAgdHJ5IHsKICAgICAgICAvLyBFbnN1cmUgZGVzdHJveWVkIHZlaGljbGVzIGFyZSByZW1vdmVkIGZyb20gY2FwdHVyZSBjb3VudHMgdG8gYXZvaWQgZ2hvc3QgY2FwdHVyZS4KICAgICAgICBjb25zdCB2aWQgPSBzYWZlR2V0T2JqSWQoZXZlbnRWZWhpY2xlKTsKICAgICAgICBpZiAodmlkID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgICBpZiAoU3RhdGUuZmxhZy52ZWhpY2xlT2NjdXBhbnRzQnlWaWRbdmlkXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcudmVoaWNsZU9jY3VwYW50c0J5VmlkW3ZpZF07CiAgICAgICAgY29uc3QgdGVhbUlkID0gU3RhdGUuZmxhZy52ZWhpY2xlVGVhbUJ5VmlkW3ZpZF07CiAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcudmVoaWNsZVRlYW1CeVZpZFt2aWRdOwogICAgICAgIGRlY3JlbWVudE92ZXJ0aW1lVGVhbVZlaGljbGVDb3VudCh0ZWFtSWQpOwogICAgICAgIGNvbnN0IHBpZHMgPSBPYmplY3Qua2V5cyhTdGF0ZS5mbGFnLnBsYXllcnNJblpvbmVCeVBpZCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHBpZCA9IE51bWJlcihwaWRzW2ldKTsKICAgICAgICAgICAgY29uc3QgZW50cnkgPSBTdGF0ZS5mbGFnLnBsYXllcnNJblpvbmVCeVBpZFtwaWRdOwogICAgICAgICAgICBpZiAoZW50cnk/LnZlaGljbGVPYmpJZCA9PT0gdmlkKSB7CiAgICAgICAgICAgICAgICBlbnRyeS52ZWhpY2xlT2JqSWQgPSAwOwogICAgICAgICAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcubGFzdFVpU25hcHNob3RCeVBpZFtwaWRdOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gVmVoaWNsZSArIFpvbmUgTWVtYmVyc2hpcCBUcmFja2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gQ2FwdHVyZSBMb29wICsgUHJvZ3Jlc3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZ1bmN0aW9uIHN0b3BPdmVydGltZUNhcHR1cmVMb29wKCk6IHZvaWQgewogICAgaWYgKCFTdGF0ZS5mbGFnLnRpY2tBY3RpdmUpIHJldHVybjsKICAgIC8vIEludmFsaWRhdGUgdGhlIHRva2VuIHNvIGFueSBydW5uaW5nIGxvb3AgZXhpdHMgb24gdGhlIG5leHQgdGljay4KICAgIFN0YXRlLmZsYWcudGlja0FjdGl2ZSA9IGZhbHNlOwogICAgU3RhdGUuZmxhZy50aWNrVG9rZW4gPSAoU3RhdGUuZmxhZy50aWNrVG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7Cn0KCmZ1bmN0aW9uIHN0YXJ0T3ZlcnRpbWVDYXB0dXJlTG9vcCgpOiB2b2lkIHsKICAgIC8vIFRva2VuIGd1YXJkcyBhZ2FpbnN0IG11bHRpcGxlIGxvb3BzIHJ1bm5pbmcgYXQgb25jZS4KICAgIGlmIChTdGF0ZS5mbGFnLnRpY2tBY3RpdmUpIHJldHVybjsKICAgIFN0YXRlLmZsYWcudGlja0FjdGl2ZSA9IHRydWU7CiAgICBTdGF0ZS5mbGFnLnRpY2tUb2tlbiA9IChTdGF0ZS5mbGFnLnRpY2tUb2tlbiArIDEpICUgMTAwMDAwMDAwMDsKICAgIGNvbnN0IHRva2VuID0gU3RhdGUuZmxhZy50aWNrVG9rZW47CiAgICB2b2lkIHJ1bk92ZXJ0aW1lQ2FwdHVyZUxvb3AodG9rZW4pOwp9Cgphc3luYyBmdW5jdGlvbiBydW5PdmVydGltZUNhcHR1cmVMb29wKGV4cGVjdGVkVG9rZW46IG51bWJlcik6IFByb21pc2U8dm9pZD4gewogICAgLy8gVGljayBsb29wOiB1cGRhdGUgY2FwdHVyZSBzdGF0ZSArIEhVRCwgdGhlbiB3YWl0LgogICAgd2hpbGUgKFN0YXRlLmZsYWcudGlja0FjdGl2ZSAmJiBTdGF0ZS5mbGFnLnRpY2tUb2tlbiA9PT0gZXhwZWN0ZWRUb2tlbikgewogICAgICAgIGlmICghU3RhdGUuZmxhZy5hY3RpdmUgfHwgIWlzUm91bmRMaXZlKCkpIHsKICAgICAgICAgICAgc3RvcE92ZXJ0aW1lQ2FwdHVyZUxvb3AoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNSb3VuZEVuZFVpTG9ja2Rvd25BY3RpdmUoKSkgewogICAgICAgICAgICAvLyBSb3VuZC1lbmQgdHJhbnNpdGlvbjogc3RvcCBjYXB0dXJlIHRpY2tzIGJlZm9yZSBhbnkgVUkgdXBkYXRlcy4KICAgICAgICAgICAgc3RvcE92ZXJ0aW1lQ2FwdHVyZUxvb3AoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBwcnVuZU92ZXJ0aW1lWm9uZU1lbWJlcnNoaXAoKTsKICAgICAgICAgICAgcHJ1bmVPdmVydGltZVVpQ2FjaGVzKCk7CiAgICAgICAgICAgIHVwZGF0ZU92ZXJ0aW1lQ2FwdHVyZVByb2dyZXNzKCk7CiAgICAgICAgICAgIHVwZGF0ZU92ZXJ0aW1lSHVkRm9yQWxsUGxheWVycygpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICAvLyBEZWZlbnNpdmU6IHNraXAgYSBiYWQgdGljayBpZiBhIGRpc2Nvbm5lY3QgaW52YWxpZGF0ZXMgc3RhdGUgbWlkLWxvb3AuCiAgICAgICAgfQogICAgICAgIGF3YWl0IG1vZC5XYWl0KE9WRVJUSU1FX1RJQ0tfU0VDT05EUyk7CiAgICB9Cn0KCmZ1bmN0aW9uIHBydW5lT3ZlcnRpbWVab25lTWVtYmVyc2hpcCgpOiB2b2lkIHsKICAgIC8vIFJvdW5kLWVuZCB0ZWFyZG93bjogc2tpcCBvdmVydGltZSBtZW1iZXJzaGlwIGNodXJuLgogICAgaWYgKGlzUm91bmRFbmRVaUxvY2tkb3duQWN0aXZlKCkpIHJldHVybjsKICAgIGlmICghaXNPdmVydGltZVpvbmVUcmFja2luZ0VuYWJsZWQoKSkgcmV0dXJuOwogICAgY29uc3Qgbm93ID0gbW9kLkdldE1hdGNoVGltZUVsYXBzZWQoKTsKICAgIGlmIChub3cgLSBTdGF0ZS5mbGFnLmxhc3RNZW1iZXJzaGlwUHJ1bmVBdFNlY29uZHMgPCBPVkVSVElNRV9NRU1CRVJTSElQX1BSVU5FX0lOVEVSVkFMX1NFQ09ORFMpIHJldHVybjsKICAgIFN0YXRlLmZsYWcubGFzdE1lbWJlcnNoaXBQcnVuZUF0U2Vjb25kcyA9IG5vdzsKCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBjb25zdCB2YWxpZFBsYXllcnNCeVBpZDogUmVjb3JkPG51bWJlciwgbW9kLlBsYXllcj4gPSB7fTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHBsYXllciA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTsKICAgICAgICB2YWxpZFBsYXllcnNCeVBpZFtwaWRdID0gcGxheWVyOwogICAgfQoKICAgIGNvbnN0IHRyYWNrZWRQaWRzID0gT2JqZWN0LmtleXMoU3RhdGUuZmxhZy5wbGF5ZXJzSW5ab25lQnlQaWQpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFja2VkUGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHBpZCA9IE51bWJlcih0cmFja2VkUGlkc1tpXSk7CiAgICAgICAgaWYgKGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIHsKICAgICAgICAgICAgaGFuZGxlT3ZlcnRpbWVQbGF5ZXJMZWF2ZUJ5SWQocGlkLCB0cnVlKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHBsYXllciA9IHZhbGlkUGxheWVyc0J5UGlkW3BpZF07CiAgICAgICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHsKICAgICAgICAgICAgLy8gQmVzdC1lZmZvcnQgY2xlYW51cCBmb3IgbWlzc2VkIEFyZWFUcmlnZ2VyIGV4aXRzLgogICAgICAgICAgICBoYW5kbGVPdmVydGltZVBsYXllckxlYXZlQnlJZChwaWQsIGZhbHNlKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChwbGF5ZXIpKSB7CiAgICAgICAgICAgIGhhbmRsZU92ZXJ0aW1lUGxheWVyRXhpdFpvbmUocGxheWVyKTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHBydW5lT3ZlcnRpbWVVaUNhY2hlcygpOiB2b2lkIHsKICAgIC8vIFJvdW5kLWVuZCB0ZWFyZG93bjogYXZvaWQgdG91Y2hpbmcgb3ZlcnRpbWUgVUkgY2FjaGVzLgogICAgaWYgKGlzUm91bmRFbmRVaUxvY2tkb3duQWN0aXZlKCkpIHJldHVybjsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGNvbnN0IHZhbGlkUGlkczogUmVjb3JkPG51bWJlciwgdHJ1ZT4gPSB7fTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHBsYXllciA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIGNvbnRpbnVlOwogICAgICAgIHZhbGlkUGlkc1twaWRdID0gdHJ1ZTsKICAgIH0KCiAgICBjb25zdCB6b25lUGlkcyA9IE9iamVjdC5rZXlzKFN0YXRlLmZsYWcudWlCeVBpZCk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHpvbmVQaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGlkID0gTnVtYmVyKHpvbmVQaWRzW2ldKTsKICAgICAgICBpZiAodmFsaWRQaWRzW3BpZF0pIGNvbnRpbnVlOwogICAgICAgIGNvbnN0IHJlZnMgPSBTdGF0ZS5mbGFnLnVpQnlQaWRbcGlkXTsKICAgICAgICBpZiAocmVmcz8ucm9vdCkgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnJvb3QsIGZhbHNlKTsKICAgICAgICBkZWxldGUgU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF07CiAgICAgICAgZGVsZXRlIFN0YXRlLmZsYWcubGFzdFVpU25hcHNob3RCeVBpZFtwaWRdOwogICAgfQoKICAgIGNvbnN0IGdsb2JhbFBpZHMgPSBPYmplY3Qua2V5cyhTdGF0ZS5mbGFnLmdsb2JhbFVpQnlQaWQpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iYWxQaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGlkID0gTnVtYmVyKGdsb2JhbFBpZHNbaV0pOwogICAgICAgIGlmICh2YWxpZFBpZHNbcGlkXSkgY29udGludWU7CiAgICAgICAgY29uc3QgcmVmcyA9IFN0YXRlLmZsYWcuZ2xvYmFsVWlCeVBpZFtwaWRdOwogICAgICAgIGlmIChyZWZzPy5yb290KSBzZXRXaWRnZXRWaXNpYmxlKHJlZnMucm9vdCwgZmFsc2UpOwogICAgICAgIGRlbGV0ZSBTdGF0ZS5mbGFnLmdsb2JhbFVpQnlQaWRbcGlkXTsKICAgIH0KfQoKZnVuY3Rpb24gZ2V0T3ZlcnRpbWVDYXB0dXJlTXVsdGlwbGllcihkZWx0YUFiczogbnVtYmVyKTogbnVtYmVyIHsKICAgIGlmIChkZWx0YUFicyA+PSA0KSByZXR1cm4gT1ZFUlRJTUVfQ0FQVFVSRV9NVUxUSVBMSUVSXzRYOwogICAgaWYgKGRlbHRhQWJzID09PSAzKSByZXR1cm4gT1ZFUlRJTUVfQ0FQVFVSRV9NVUxUSVBMSUVSXzNYOwogICAgaWYgKGRlbHRhQWJzID09PSAyKSByZXR1cm4gT1ZFUlRJTUVfQ0FQVFVSRV9NVUxUSVBMSUVSXzJYOwogICAgcmV0dXJuIDE7Cn0KCmZ1bmN0aW9uIHVwZGF0ZU92ZXJ0aW1lQ2FwdHVyZVByb2dyZXNzKCk6IHZvaWQgewogICAgaWYgKCFTdGF0ZS5mbGFnLmFjdGl2ZSB8fCAhaXNSb3VuZExpdmUoKSkgcmV0dXJuOwoKICAgIC8vIFByb2dyZXNzIHJ1bnMgdG93YXJkIHRoZSB0ZWFtIHdpdGggdmVoaWNsZSBtYWpvcml0eTsgbmV1dHJhbCBpcyAwLjUuCiAgICAvLyBEZWNheSBydW5zIG9ubHkgd2hlbiB0aGUgem9uZSBpcyBlbXB0eSBhbmQgcHJvZ3Jlc3MgaXMgbm90IGZ1bGx5IG93bmVkLgogICAgY29uc3QgdDFDb3VudCA9IFN0YXRlLmZsYWcudDFDb3VudDsKICAgIGNvbnN0IHQyQ291bnQgPSBTdGF0ZS5mbGFnLnQyQ291bnQ7CiAgICBjb25zdCBkZWx0YSA9IHQxQ291bnQgLSB0MkNvdW50OwogICAgaWYgKGRlbHRhICE9PSAwKSB7CiAgICAgICAgLy8gQmFzZSBzdGVwIHVzZXMgMC41IGRpc3RhbmNlIChuZXV0cmFsIC0+IGZ1bGwpIGFuZCBzY2FsZXMgYnkgbWFqb3JpdHkuCiAgICAgICAgY29uc3QgYmFzZVN0ZXAgPSAoT1ZFUlRJTUVfVElDS19TRUNPTkRTIC8gT1ZFUlRJTUVfQ0FQVFVSRV9TRUNPTkRTX1RPX0ZVTEwpICogMC41OwogICAgICAgIGNvbnN0IHNjYWxlZCA9IGdldE92ZXJ0aW1lQ2FwdHVyZU11bHRpcGxpZXIoTWF0aC5hYnMoZGVsdGEpKTsKICAgICAgICBjb25zdCBzb2xvVGVhbTEgPSB0MUNvdW50ID4gMCAmJiB0MkNvdW50ID09PSAwOwogICAgICAgIGNvbnN0IHNvbG9UZWFtMiA9IHQyQ291bnQgPiAwICYmIHQxQ291bnQgPT09IDA7CiAgICAgICAgY29uc3QgdGVhbTFDYXRjaGluZ1VwID0gc29sb1RlYW0xICYmIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPCAwLjU7CiAgICAgICAgY29uc3QgdGVhbTJDYXRjaGluZ1VwID0gc29sb1RlYW0yICYmIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPiAwLjU7CiAgICAgICAgY29uc3QgY2F0Y2h1cEJvb3N0ID0gKHRlYW0xQ2F0Y2hpbmdVcCB8fCB0ZWFtMkNhdGNoaW5nVXApID8gT1ZFUlRJTUVfTkVVVFJBTF9BQ0NFTEVSQVRJT05fTVVMVElQTElFUiA6IDE7CiAgICAgICAgY29uc3Qgc3RlcCA9IGJhc2VTdGVwICogc2NhbGVkICogY2F0Y2h1cEJvb3N0OwogICAgICAgIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPSBTdGF0ZS5mbGFnLnByb2dyZXNzICsgKGRlbHRhID4gMCA/IHN0ZXAgOiAtc3RlcCk7CiAgICAgICAgaWYgKHRlYW0xQ2F0Y2hpbmdVcCAmJiBTdGF0ZS5mbGFnLnByb2dyZXNzID4gMC41KSB7CiAgICAgICAgICAgIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPSAwLjU7CiAgICAgICAgfQogICAgICAgIGlmICh0ZWFtMkNhdGNoaW5nVXAgJiYgU3RhdGUuZmxhZy5wcm9ncmVzcyA8IDAuNSkgewogICAgICAgICAgICBTdGF0ZS5mbGFnLnByb2dyZXNzID0gMC41OwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAodDFDb3VudCA9PT0gMCAmJiB0MkNvdW50ID09PSAwKSB7CiAgICAgICAgaWYgKFN0YXRlLmZsYWcucHJvZ3Jlc3MgIT09IDAgJiYgU3RhdGUuZmxhZy5wcm9ncmVzcyAhPT0gMSkgewogICAgICAgICAgICBjb25zdCBkZWNheVN0ZXAgPSAoT1ZFUlRJTUVfVElDS19TRUNPTkRTIC8gT1ZFUlRJTUVfREVDQVlfU0VDT05EU19UT19UQVJHRVQpICogMC41OwogICAgICAgICAgICBjb25zdCBuZXV0cmFsU3RlcCA9IChTdGF0ZS5mbGFnLm93bmVyVGVhbSA9PT0gMCkgPyAoZGVjYXlTdGVwICogT1ZFUlRJTUVfTkVVVFJBTF9BQ0NFTEVSQVRJT05fTVVMVElQTElFUikgOiBkZWNheVN0ZXA7CiAgICAgICAgICAgIGlmIChTdGF0ZS5mbGFnLm93bmVyVGVhbSA9PT0gVGVhbUlELlRlYW0xKSB7CiAgICAgICAgICAgICAgICBTdGF0ZS5mbGFnLnByb2dyZXNzID0gTWF0aC5taW4oMSwgU3RhdGUuZmxhZy5wcm9ncmVzcyArIGRlY2F5U3RlcCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RhdGUuZmxhZy5vd25lclRlYW0gPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgICAgICAgICAgU3RhdGUuZmxhZy5wcm9ncmVzcyA9IE1hdGgubWF4KDAsIFN0YXRlLmZsYWcucHJvZ3Jlc3MgLSBkZWNheVN0ZXApOwogICAgICAgICAgICB9IGVsc2UgaWYgKFN0YXRlLmZsYWcucHJvZ3Jlc3MgPiAwLjUpIHsKICAgICAgICAgICAgICAgIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPSBNYXRoLm1heCgwLjUsIFN0YXRlLmZsYWcucHJvZ3Jlc3MgLSBuZXV0cmFsU3RlcCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RhdGUuZmxhZy5wcm9ncmVzcyA8IDAuNSkgewogICAgICAgICAgICAgICAgU3RhdGUuZmxhZy5wcm9ncmVzcyA9IE1hdGgubWluKDAuNSwgU3RhdGUuZmxhZy5wcm9ncmVzcyArIG5ldXRyYWxTdGVwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBTdGF0ZS5mbGFnLnByb2dyZXNzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgU3RhdGUuZmxhZy5wcm9ncmVzcykpOwoKICAgIGlmIChTdGF0ZS5mbGFnLnByb2dyZXNzIDw9IDApIHsKICAgICAgICBTdGF0ZS5mbGFnLnByb2dyZXNzID0gMDsKICAgICAgICBTdGF0ZS5mbGFnLm93bmVyVGVhbSA9IFRlYW1JRC5UZWFtMjsKICAgICAgICAvLyBGdWxsIGNhcHR1cmUgZW5kcyB0aGUgcm91bmQgaW1tZWRpYXRlbHkgKHVubGVzcyBhIGtpbGwtdGFyZ2V0IGFscmVhZHkgZW5kZWQgaXQpLgogICAgICAgIGlmIChpc1JvdW5kTGl2ZSgpICYmICFpc1JvdW5kS2lsbFRhcmdldFJlYWNoZWQoKSkgewogICAgICAgICAgICBTdGF0ZS5mbGFnLmFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICBzdG9wT3ZlcnRpbWVDYXB0dXJlTG9vcCgpOwogICAgICAgICAgICBlbmRSb3VuZCh1bmRlZmluZWQsIGdldFJlbWFpbmluZ1NlY29uZHMoKSwgVGVhbUlELlRlYW0yKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKFN0YXRlLmZsYWcucHJvZ3Jlc3MgPj0gMSkgewogICAgICAgIFN0YXRlLmZsYWcucHJvZ3Jlc3MgPSAxOwogICAgICAgIFN0YXRlLmZsYWcub3duZXJUZWFtID0gVGVhbUlELlRlYW0xOwogICAgICAgIC8vIEZ1bGwgY2FwdHVyZSBlbmRzIHRoZSByb3VuZCBpbW1lZGlhdGVseSAodW5sZXNzIGEga2lsbC10YXJnZXQgYWxyZWFkeSBlbmRlZCBpdCkuCiAgICAgICAgaWYgKGlzUm91bmRMaXZlKCkgJiYgIWlzUm91bmRLaWxsVGFyZ2V0UmVhY2hlZCgpKSB7CiAgICAgICAgICAgIFN0YXRlLmZsYWcuYWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIHN0b3BPdmVydGltZUNhcHR1cmVMb29wKCk7CiAgICAgICAgICAgIGVuZFJvdW5kKHVuZGVmaW5lZCwgZ2V0UmVtYWluaW5nU2Vjb25kcygpLCBUZWFtSUQuVGVhbTEpOwogICAgICAgIH0KICAgIH0KfQoKLy8gVE9ETygxLjApOiBVbnVzZWQ7IHJlbW92ZSBiZWZvcmUgZmluYWwgMS4wIHJlbGVhc2UuCmZ1bmN0aW9uIGdldE92ZXJ0aW1lUHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7CiAgICAvLyBQZXJjZW50IGlzIGZsb29yZWQgZm9yIHN0YWJsZSBVSSB1cGRhdGVzLgogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgTWF0aC5mbG9vcihTdGF0ZS5mbGFnLnByb2dyZXNzICogMTAwKSkpOwp9CgpmdW5jdGlvbiBnZXRPdmVydGltZURpc3BsYXlQZXJjZW50cyhwcm9ncmVzczogbnVtYmVyKTogeyBsZWZ0OiBudW1iZXI7IHJpZ2h0OiBudW1iZXIgfSB7CiAgICAvLyBCaWFzZWQgd2hvbGUtbnVtYmVyIHJvdW5kaW5nIHNvIHRoZSBkaXNwbGF5ZWQgd2lubmVyIG1hdGNoZXMgdGhlIGNhcHR1cmUgd2lubmVyLgogICAgY29uc3QgY2xhbXBlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHByb2dyZXNzKSk7CiAgICBpZiAoY2xhbXBlZCA9PT0gMC41KSByZXR1cm4geyBsZWZ0OiA1MCwgcmlnaHQ6IDUwIH07CiAgICBpZiAoY2xhbXBlZCA+IDAuNSkgewogICAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGguY2VpbChjbGFtcGVkICogMTAwKSkpOwogICAgICAgIHJldHVybiB7IGxlZnQsIHJpZ2h0OiAxMDAgLSBsZWZ0IH07CiAgICB9CiAgICBjb25zdCBsZWZ0ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGNsYW1wZWQgKiAxMDApKSk7CiAgICByZXR1cm4geyBsZWZ0LCByaWdodDogMTAwIC0gbGVmdCB9Owp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gQ2FwdHVyZSBMb29wICsgUHJvZ3Jlc3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE92ZXJ0aW1lIEZsYWcgQ2FwdHVyZSAtIEhVRCBVcGRhdGUgKyBWaXNpYmlsaXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBpc092ZXJ0aW1lWm9uZVRyYWNraW5nRW5hYmxlZCgpOiBib29sZWFuIHsKICAgIHJldHVybiBpc1JvdW5kTGl2ZSgpICYmIFN0YXRlLmZsYWcudHJhY2tpbmdFbmFibGVkOwp9CgpmdW5jdGlvbiBzaG91bGREZWZlckRpc2Nvbm5lY3RVaURlbGV0ZXMoKTogYm9vbGVhbiB7CiAgICAvLyBBdm9pZCBoYXJkIFVJIGRlbGV0ZXMgZHVyaW5nIGFjdGl2ZSBvdmVydGltZSBjYXB0dXJlIHRvIHJlZHVjZSBjcmFzaCByaXNrIG9uIGRpc2Nvbm5lY3RzLgogICAgcmV0dXJuIGlzUm91bmRMaXZlKCkgJiYgU3RhdGUuZmxhZy5zdGFnZSA+PSBPdmVydGltZVN0YWdlLlZpc2libGU7Cn0KCmZ1bmN0aW9uIHVwZGF0ZU92ZXJ0aW1lSHVkRm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIGlmICghaXNSb3VuZExpdmUoKSkgcmV0dXJuOwogICAgLy8gUm91bmQtZW5kIHRlYXJkb3duOiBzdG9wIGxpdmUgSFVEIHVwZGF0ZXMuCiAgICBpZiAoaXNSb3VuZEVuZFVpTG9ja2Rvd25BY3RpdmUoKSkgcmV0dXJuOwogICAgaWYgKFN0YXRlLmZsYWcuc3RhZ2UgPCBPdmVydGltZVN0YWdlLlZpc2libGUpIHJldHVybjsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHBsYXllciA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkIHx8IGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIGNvbnRpbnVlOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHVwZGF0ZU92ZXJ0aW1lSHVkRm9yUGxheWVyKHBsYXllcik7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlT3ZlcnRpbWVIdWRGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuOwogICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIGlmIChpc1BpZERpc2Nvbm5lY3RlZChwaWQpKSByZXR1cm47CiAgICAvLyBSb3VuZC1lbmQgdGVhcmRvd246IHNraXAgcGVyLXBsYXllciBIVUQgdXBkYXRlcy4KICAgIGlmIChpc1JvdW5kRW5kVWlMb2NrZG93bkFjdGl2ZSgpKSByZXR1cm47CiAgICBjb25zdCBlbnRyeSA9IFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BpZF07CiAgICBjb25zdCBpblpvbmUgPSAhIWVudHJ5OwogICAgY29uc3QgcmVmcyA9IFN0YXRlLmZsYWcudWlCeVBpZFtwaWRdOwogICAgaWYgKCFyZWZzIHx8ICFyZWZzLnJvb3QpIHJldHVybjsKCiAgICBjb25zdCBzdGFnZSA9IFN0YXRlLmZsYWcuc3RhZ2U7CiAgICBjb25zdCBpc0FjdGl2ZSA9IHN0YWdlID49IE92ZXJ0aW1lU3RhZ2UuQWN0aXZlOwogICAgY29uc3QgbGV0dGVyS2V5ID0gZ2V0QWN0aXZlT3ZlcnRpbWVGbGFnTGV0dGVyS2V5KCk7CiAgICBjb25zdCBsZXR0ZXJUZXh0ID0gZ2V0QWN0aXZlT3ZlcnRpbWVGbGFnTGV0dGVyVGV4dCgpOwogICAgY29uc3QgdGVhbUlkID0gZW50cnk/LnRlYW1JZCA/PyBzYWZlR2V0VGVhbU51bWJlckZyb21QbGF5ZXIocGxheWVyKTsKCiAgICAvLyBUaXRsZSArIHN0YXR1cyByb3V0aW5nIGJ5IHN0YWdlIGFuZCB6b25lIHByZXNlbmNlLgogICAgbGV0IHRpdGxlS2V5ID0gU1RSX0ZMQUdfVElUTEVfQUNUSVZFX0ZPUk1BVDsKICAgIGxldCB0aXRsZVZhbHVlID0gbGV0dGVyS2V5OwogICAgbGV0IHN0YXR1c0tleSA9IFNUUl9GTEFHX1NUQVRVU19TVEFMTEVEOwogICAgbGV0IHN0YXR1c1ZhbHVlID0gLTE7CiAgICBsZXQgc3RhdHVzVmlzaWJsZSA9IHRydWU7CiAgICBsZXQgdW5sb2NrU2Vjb25kcyA9IC0xOwoKICAgIGlmICghaXNBY3RpdmUpIHsKICAgICAgICB0aXRsZUtleSA9IFNUUl9GTEFHX1RJVExFX0xPQ0tFRF9GT1JNQVQ7CiAgICAgICAgdGl0bGVWYWx1ZSA9IGxldHRlcktleTsKICAgICAgICB1bmxvY2tTZWNvbmRzID0gZ2V0T3ZlcnRpbWVVbmxvY2tTZWNvbmRzKCk7CiAgICAgICAgaWYgKGluWm9uZSkgewogICAgICAgICAgICBzdGF0dXNLZXkgPSBTVFJfRkxBR19BQ1RJVkFURVNfSU5fRk9STUFUOwogICAgICAgICAgICBzdGF0dXNWYWx1ZSA9IHVubG9ja1NlY29uZHM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RhdHVzVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgdGl0bGVLZXkgPSBTVFJfRkxBR19USVRMRV9BQ1RJVkVfRk9STUFUOwogICAgICAgIHRpdGxlVmFsdWUgPSBsZXR0ZXJLZXk7CiAgICAgICAgLy8gQWN0aXZlIHN0YWdlOiBzdGF0dXMgcmVmbGVjdHMgd2hpY2ggdGVhbSBpcyB3aW5uaW5nIHRoZSBjYXB0dXJlLgogICAgICAgIGNvbnN0IGRlbHRhID0gU3RhdGUuZmxhZy50MUNvdW50IC0gU3RhdGUuZmxhZy50MkNvdW50OwogICAgICAgIGlmIChkZWx0YSAhPT0gMCkgewogICAgICAgICAgICBpZiAodGVhbUlkID09PSBUZWFtSUQuVGVhbTEpIHsKICAgICAgICAgICAgICAgIHN0YXR1c0tleSA9IGRlbHRhID4gMCA/IFNUUl9GTEFHX1NUQVRVU19DQVBUVVJJTkcgOiBTVFJfRkxBR19TVEFUVVNfTE9TSU5HOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRlYW1JZCA9PT0gVGVhbUlELlRlYW0yKSB7CiAgICAgICAgICAgICAgICBzdGF0dXNLZXkgPSBkZWx0YSA8IDAgPyBTVFJfRkxBR19TVEFUVVNfQ0FQVFVSSU5HIDogU1RSX0ZMQUdfU1RBVFVTX0xPU0lORzsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoU3RhdGUuZmxhZy50MUNvdW50ID4gMCAmJiBTdGF0ZS5mbGFnLnQyQ291bnQgPiAwKSB7CiAgICAgICAgICAgIHN0YXR1c0tleSA9IFNUUl9GTEFHX1NUQVRVU19TVEFMTEVEOwogICAgICAgIH0gZWxzZSBpZiAoU3RhdGUuZmxhZy50MUNvdW50ID09PSAwICYmIFN0YXRlLmZsYWcudDJDb3VudCA9PT0gMCkgewogICAgICAgICAgICBjb25zdCBpc1Jlc2V0dGluZyA9IE1hdGguYWJzKFN0YXRlLmZsYWcucHJvZ3Jlc3MgLSAwLjUpID4gMC4wMDAxOwogICAgICAgICAgICBpZiAoaXNSZXNldHRpbmcpIHsKICAgICAgICAgICAgICAgIHN0YXR1c0tleSA9IFNUUl9GTEFHX1NUQVRVU19SRVNFVFRJTkc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdGF0dXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgY29uc3QgcHJlQWN0aXZlSW5ab25lID0gIWlzQWN0aXZlICYmIHN0YWdlID49IE92ZXJ0aW1lU3RhZ2UuVmlzaWJsZSAmJiBpblpvbmU7CiAgICBjb25zdCBjb3VudHNWaXNpYmxlID0gaXNBY3RpdmUgfHwgcHJlQWN0aXZlSW5ab25lOwogICAgY29uc3QgY291bnRzVXNlWCA9IHByZUFjdGl2ZUluWm9uZTsKICAgIGNvbnN0IGxlZnRCb3JkZXJWaXNpYmxlID0gaXNBY3RpdmUgJiYgU3RhdGUuZmxhZy50MUNvdW50ID4gMDsKICAgIGNvbnN0IHJpZ2h0Qm9yZGVyVmlzaWJsZSA9IGlzQWN0aXZlICYmIFN0YXRlLmZsYWcudDJDb3VudCA+IDA7CiAgICBjb25zdCB2ZWhpY2xlUmVxdWlyZWRWaXNpYmxlID0gc3RhZ2UgPj0gT3ZlcnRpbWVTdGFnZS5WaXNpYmxlICYmIGluWm9uZSAmJiBlbnRyeT8udmVoaWNsZU9iaklkID09PSAwOwogICAgY29uc3QgcHJvZ3Jlc3MgPSBpc0FjdGl2ZSA/IFN0YXRlLmZsYWcucHJvZ3Jlc3MgOiAwLjU7CiAgICBjb25zdCBwcm9ncmVzc1BlcmNlbnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIE1hdGguZmxvb3IocHJvZ3Jlc3MgKiAxMDApKSk7CiAgICBjb25zdCBkaXNwbGF5UGVyY2VudHMgPSBnZXRPdmVydGltZURpc3BsYXlQZXJjZW50cyhwcm9ncmVzcyk7CiAgICBjb25zdCBsZWZ0UGVyY2VudCA9IE1hdGgubWluKDk5LCBkaXNwbGF5UGVyY2VudHMubGVmdCk7CiAgICBjb25zdCByaWdodFBlcmNlbnQgPSBNYXRoLm1pbig5OSwgZGlzcGxheVBlcmNlbnRzLnJpZ2h0KTsKICAgIGNvbnN0IHQxV2lkdGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihPVkVSVElNRV9CQVJfV0lEVEgsIE1hdGgucm91bmQoT1ZFUlRJTUVfQkFSX1dJRFRIICogcHJvZ3Jlc3MpKSk7CiAgICBjb25zdCB0MldpZHRoID0gTWF0aC5tYXgoMCwgT1ZFUlRJTUVfQkFSX1dJRFRIIC0gdDFXaWR0aCk7CgogICAgLy8gQWx3YXlzIHJlZnJlc2ggdGhlIHRpdGxlIHNvIGxvY2tlZC9hY3RpdmUgdGV4dCBzdGF5cyB2aXNpYmxlIGV2ZW4gd2hlbiBzbmFwc2hvdCBnYXRpbmcgc2tpcHMgb3RoZXIgdXBkYXRlcy4KICAgIGNvbnN0IHRpdGxlV2lkZ2V0ID0gcmVmcy50aXRsZSA/PyBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1RpdGxlXyR7cGlkfWApOwogICAgY29uc3QgdGl0bGVTaGFkb3dXaWRnZXQgPSByZWZzLnRpdGxlU2hhZG93ID8/IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfVGl0bGVTaGFkb3dfJHtwaWR9YCk7CiAgICBpZiAodGl0bGVXaWRnZXQgfHwgdGl0bGVTaGFkb3dXaWRnZXQpIHsKICAgICAgICBjb25zdCB0aXRsZUxhYmVsID0gIWlzQWN0aXZlCiAgICAgICAgICAgID8gbW9kLk1lc3NhZ2UodGl0bGVLZXksIGxldHRlclRleHQsIHVubG9ja1NlY29uZHMpCiAgICAgICAgICAgIDogbW9kLk1lc3NhZ2UodGl0bGVLZXksIGxldHRlclRleHQpOwogICAgICAgIGlmICh0aXRsZVdpZGdldCkgewogICAgICAgICAgICByZWZzLnRpdGxlID0gdGl0bGVXaWRnZXQ7CiAgICAgICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbCh0aXRsZVdpZGdldCwgdGl0bGVMYWJlbCk7CiAgICAgICAgICAgIHNldFdpZGdldFZpc2libGUodGl0bGVXaWRnZXQsIHRydWUpOwogICAgICAgIH0KICAgICAgICBpZiAodGl0bGVTaGFkb3dXaWRnZXQpIHsKICAgICAgICAgICAgcmVmcy50aXRsZVNoYWRvdyA9IHRpdGxlU2hhZG93V2lkZ2V0OwogICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwodGl0bGVTaGFkb3dXaWRnZXQsIHRpdGxlTGFiZWwpOwogICAgICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHRpdGxlU2hhZG93V2lkZ2V0LCB0cnVlKTsKICAgICAgICB9CiAgICB9CgogICAgY29uc3Qgc25hcHNob3QgPSBTdGF0ZS5mbGFnLmxhc3RVaVNuYXBzaG90QnlQaWRbcGlkXTsKICAgIC8vIEF2b2lkIHRvdWNoaW5nIFVJIGlmIG5vdGhpbmcgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCB0aWNrLgogICAgaWYgKAogICAgICAgIHNuYXBzaG90CiAgICAgICAgJiYgc25hcHNob3QucHJvZ3Jlc3NQZXJjZW50ID09PSBwcm9ncmVzc1BlcmNlbnQKICAgICAgICAmJiBzbmFwc2hvdC5sZWZ0UGVyY2VudCA9PT0gbGVmdFBlcmNlbnQKICAgICAgICAmJiBzbmFwc2hvdC5yaWdodFBlcmNlbnQgPT09IHJpZ2h0UGVyY2VudAogICAgICAgICYmIHNuYXBzaG90LmJhckZpbGxUMVdpZHRoID09PSB0MVdpZHRoCiAgICAgICAgJiYgc25hcHNob3QuYmFyRmlsbFQyV2lkdGggPT09IHQyV2lkdGgKICAgICAgICAmJiBzbmFwc2hvdC50MUNvdW50ID09PSBTdGF0ZS5mbGFnLnQxQ291bnQKICAgICAgICAmJiBzbmFwc2hvdC50MkNvdW50ID09PSBTdGF0ZS5mbGFnLnQyQ291bnQKICAgICAgICAmJiBzbmFwc2hvdC5zdGF0dXNLZXkgPT09IHN0YXR1c0tleQogICAgICAgICYmIHNuYXBzaG90LnN0YXR1c1ZhbHVlID09PSBzdGF0dXNWYWx1ZQogICAgICAgICYmIHNuYXBzaG90LnN0YXR1c1Zpc2libGUgPT09IHN0YXR1c1Zpc2libGUKICAgICAgICAmJiBzbmFwc2hvdC50aXRsZUtleSA9PT0gdGl0bGVLZXkKICAgICAgICAmJiBzbmFwc2hvdC50aXRsZVZhbHVlID09PSB0aXRsZVZhbHVlCiAgICAgICAgJiYgc25hcHNob3QuY291bnRzVmlzaWJsZSA9PT0gY291bnRzVmlzaWJsZQogICAgICAgICYmIHNuYXBzaG90LmNvdW50c1VzZVggPT09IGNvdW50c1VzZVgKICAgICAgICAmJiBzbmFwc2hvdC5sZWZ0Qm9yZGVyVmlzaWJsZSA9PT0gbGVmdEJvcmRlclZpc2libGUKICAgICAgICAmJiBzbmFwc2hvdC5yaWdodEJvcmRlclZpc2libGUgPT09IHJpZ2h0Qm9yZGVyVmlzaWJsZQogICAgICAgICYmIHNuYXBzaG90LnZlaGljbGVSZXF1aXJlZFZpc2libGUgPT09IHZlaGljbGVSZXF1aXJlZFZpc2libGUKICAgICkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBTdGF0ZS5mbGFnLmxhc3RVaVNuYXBzaG90QnlQaWRbcGlkXSA9IHsKICAgICAgICBwcm9ncmVzc1BlcmNlbnQsCiAgICAgICAgbGVmdFBlcmNlbnQsCiAgICAgICAgcmlnaHRQZXJjZW50LAogICAgICAgIGJhckZpbGxUMVdpZHRoOiB0MVdpZHRoLAogICAgICAgIGJhckZpbGxUMldpZHRoOiB0MldpZHRoLAogICAgICAgIHQxQ291bnQ6IFN0YXRlLmZsYWcudDFDb3VudCwKICAgICAgICB0MkNvdW50OiBTdGF0ZS5mbGFnLnQyQ291bnQsCiAgICAgICAgc3RhdHVzS2V5LAogICAgICAgIHN0YXR1c1ZhbHVlLAogICAgICAgIHN0YXR1c1Zpc2libGUsCiAgICAgICAgdGl0bGVLZXksCiAgICAgICAgdGl0bGVWYWx1ZSwKICAgICAgICBjb3VudHNWaXNpYmxlLAogICAgICAgIGNvdW50c1VzZVgsCiAgICAgICAgbGVmdEJvcmRlclZpc2libGUsCiAgICAgICAgcmlnaHRCb3JkZXJWaXNpYmxlLAogICAgICAgIHZlaGljbGVSZXF1aXJlZFZpc2libGUsCiAgICB9OwoKICAgIGlmIChyZWZzLnN0YXR1cyB8fCByZWZzLnN0YXR1c1NoYWRvdykgewogICAgICAgIGlmIChzdGF0dXNWaXNpYmxlKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0xhYmVsID0gc3RhdHVzVmFsdWUgPj0gMCA/IG1vZC5NZXNzYWdlKHN0YXR1c0tleSwgc3RhdHVzVmFsdWUpIDogbW9kLk1lc3NhZ2Uoc3RhdHVzS2V5KTsKICAgICAgICAgICAgaWYgKHJlZnMuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy5zdGF0dXMsIHN0YXR1c0xhYmVsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocmVmcy5zdGF0dXNTaGFkb3cpIHsKICAgICAgICAgICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnN0YXR1c1NoYWRvdywgc3RhdHVzTGFiZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyZWZzLnN0YXR1cykgewogICAgICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuc3RhdHVzLCBzdGF0dXNWaXNpYmxlKTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlZnMuc3RhdHVzU2hhZG93KSB7CiAgICAgICAgICAgIHNldFdpZGdldFZpc2libGUocmVmcy5zdGF0dXNTaGFkb3csIHN0YXR1c1Zpc2libGUpOwogICAgICAgIH0KICAgIH0KCiAgICBpZiAocmVmcy5jb3VudHNMZWZ0KSB7CiAgICAgICAgaWYgKGNvdW50c1Zpc2libGUpIHsKICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBjb3VudHNVc2VYCiAgICAgICAgICAgICAgICA/IG1vZC5NZXNzYWdlKFNUUl9GTEFHX0NPVU5UU19MRUZUX0ZPUk1BVCwgU1RSX1VJX1gpCiAgICAgICAgICAgICAgICA6IG1vZC5NZXNzYWdlKFNUUl9GTEFHX0NPVU5UU19MRUZUX0ZPUk1BVCwgU3RhdGUuZmxhZy50MUNvdW50KTsKICAgICAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMuY291bnRzTGVmdCwgbGFiZWwpOwogICAgICAgIH0KICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuY291bnRzTGVmdCwgY291bnRzVmlzaWJsZSk7CiAgICB9CiAgICBpZiAocmVmcy5jb3VudHNMZWZ0Qm9yZGVyKSB7CiAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLmNvdW50c0xlZnRCb3JkZXIsIGxlZnRCb3JkZXJWaXNpYmxlKTsKICAgIH0KICAgIGlmIChyZWZzLmNvdW50c1JpZ2h0KSB7CiAgICAgICAgaWYgKGNvdW50c1Zpc2libGUpIHsKICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBjb3VudHNVc2VYCiAgICAgICAgICAgICAgICA/IG1vZC5NZXNzYWdlKFNUUl9GTEFHX0NPVU5UU19SSUdIVF9GT1JNQVQsIFNUUl9VSV9YKQogICAgICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShTVFJfRkxBR19DT1VOVFNfUklHSFRfRk9STUFULCBTdGF0ZS5mbGFnLnQyQ291bnQpOwogICAgICAgICAgICBzYWZlU2V0VUlUZXh0TGFiZWwocmVmcy5jb3VudHNSaWdodCwgbGFiZWwpOwogICAgICAgIH0KICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuY291bnRzUmlnaHQsIGNvdW50c1Zpc2libGUpOwogICAgfQogICAgaWYgKHJlZnMuY291bnRzUmlnaHRCb3JkZXIpIHsKICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuY291bnRzUmlnaHRCb3JkZXIsIHJpZ2h0Qm9yZGVyVmlzaWJsZSk7CiAgICB9CiAgICBpZiAocmVmcy5wZXJjZW50TGVmdCkgewogICAgICAgIGlmIChjb3VudHNWaXNpYmxlKSB7CiAgICAgICAgICAgIHNhZmVTZXRVSVRleHRMYWJlbChyZWZzLnBlcmNlbnRMZWZ0LCBtb2QuTWVzc2FnZShTVFJfRkxBR19QUk9HUkVTU19GT1JNQVQsIGxlZnRQZXJjZW50KSk7CiAgICAgICAgfQogICAgICAgIHNldFdpZGdldFZpc2libGUocmVmcy5wZXJjZW50TGVmdCwgY291bnRzVmlzaWJsZSk7CiAgICB9CiAgICBpZiAocmVmcy5wZXJjZW50TGVmdEJnKSB7CiAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnBlcmNlbnRMZWZ0QmcsIGNvdW50c1Zpc2libGUpOwogICAgfQogICAgaWYgKHJlZnMucGVyY2VudFJpZ2h0KSB7CiAgICAgICAgaWYgKGNvdW50c1Zpc2libGUpIHsKICAgICAgICAgICAgc2FmZVNldFVJVGV4dExhYmVsKHJlZnMucGVyY2VudFJpZ2h0LCBtb2QuTWVzc2FnZShTVFJfRkxBR19QUk9HUkVTU19GT1JNQVQsIHJpZ2h0UGVyY2VudCkpOwogICAgICAgIH0KICAgICAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMucGVyY2VudFJpZ2h0LCBjb3VudHNWaXNpYmxlKTsKICAgIH0KICAgIGlmIChyZWZzLnBlcmNlbnRSaWdodEJnKSB7CiAgICAgICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLnBlcmNlbnRSaWdodEJnLCBjb3VudHNWaXNpYmxlKTsKICAgIH0KCiAgICBjb25zdCBwcm9ncmVzc0RlbHRhID0gcHJvZ3Jlc3MgLSAwLjU7CiAgICBjb25zdCBwcm9ncmVzc0Vwc2lsb24gPSAwLjAwMDE7CiAgICBjb25zdCBzaG93TGVmdENyb3duID0gY291bnRzVmlzaWJsZSAmJiBwcm9ncmVzc0RlbHRhID4gcHJvZ3Jlc3NFcHNpbG9uOwogICAgY29uc3Qgc2hvd1JpZ2h0Q3Jvd24gPSBjb3VudHNWaXNpYmxlICYmIHByb2dyZXNzRGVsdGEgPCAtcHJvZ3Jlc3NFcHNpbG9uOwogICAgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLmNvdW50c0xlZnRDcm93biwgc2hvd0xlZnRDcm93bik7CiAgICBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuY291bnRzUmlnaHRDcm93biwgc2hvd1JpZ2h0Q3Jvd24pOwoKICAgIHNldFdpZGdldFZpc2libGUocmVmcy52ZWhpY2xlUmVxdWlyZWQsIHZlaGljbGVSZXF1aXJlZFZpc2libGUpOwoKICAgIC8vIEJhciBmaWxsIGlzIHNwbGl0IGJldHdlZW4gdGhlIHR3byB0ZWFtcyBhcm91bmQgbmV1dHJhbC4KICAgIGlmIChyZWZzLmJhckJnKSBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuYmFyQmcsIHRydWUpOwogICAgaWYgKHJlZnMuYmFyRmlsbFQxKSBzZXRXaWRnZXRWaXNpYmxlKHJlZnMuYmFyRmlsbFQxLCB0cnVlKTsKICAgIGlmIChyZWZzLmJhckZpbGxUMikgc2V0V2lkZ2V0VmlzaWJsZShyZWZzLmJhckZpbGxUMiwgdHJ1ZSk7CiAgICBpZiAocmVmcy5iYXJGaWxsVDEpIHNhZmVTZXRVSVdpZGdldFNpemUocmVmcy5iYXJGaWxsVDEsIG1vZC5DcmVhdGVWZWN0b3IodDFXaWR0aCwgT1ZFUlRJTUVfQkFSX0hFSUdIVCwgMCkpOwogICAgaWYgKHJlZnMuYmFyRmlsbFQyKSBzYWZlU2V0VUlXaWRnZXRTaXplKHJlZnMuYmFyRmlsbFQyLCBtb2QuQ3JlYXRlVmVjdG9yKHQyV2lkdGgsIE9WRVJUSU1FX0JBUl9IRUlHSFQsIDApKTsKfQoKLy8gVE9ETygxLjApOiBVbnVzZWQ7IHJlbW92ZSBiZWZvcmUgZmluYWwgMS4wIHJlbGVhc2UuCmZ1bmN0aW9uIHVwZGF0ZU92ZXJ0aW1lR2xvYmFsSHVkRm9yQWxsUGxheWVycyhmb3JjZTogYm9vbGVhbik6IHZvaWQgewogICAgLy8gRGVwcmVjYXRlZDogZ2xvYmFsIEhVRCByZXBsYWNlZCBieSB1bmlmaWVkIGluLXpvbmUgSFVELgogICAgaWYgKCFmb3JjZSkgcmV0dXJuOwogICAgLy8gUm91bmQtZW5kIHRlYXJkb3duOiBhdm9pZCBmb3JjZWQgSFVEIHJlZnJlc2guCiAgICBpZiAoaXNSb3VuZEVuZFVpTG9ja2Rvd25BY3RpdmUoKSkgcmV0dXJuOwogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGxheWVyID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcmVmcyA9IFN0YXRlLmZsYWcuZ2xvYmFsVWlCeVBpZFtwaWRdOwogICAgICAgIGlmIChyZWZzPy5yb290KSBzZXRXaWRnZXRWaXNpYmxlKHJlZnMucm9vdCwgZmFsc2UpOwogICAgfQp9CgpmdW5jdGlvbiByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk6IHZvaWQgewogICAgLy8gVXNlZCBhZnRlciBzdGFnZSB0cmFuc2l0aW9ucyBvciBnbG9iYWwgc3RhdGUgY2hhbmdlcy4KICAgIC8vIFJvdW5kLWVuZCB0ZWFyZG93bjogZG8gbm90IHRvZ2dsZSBvdmVydGltZSBIVUQgdmlzaWJpbGl0eS4KICAgIGlmIChpc1JvdW5kRW5kVWlMb2NrZG93bkFjdGl2ZSgpKSByZXR1cm47CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwbGF5ZXIgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIGNvbnRpbnVlOwogICAgICAgIHJlZnJlc2hPdmVydGltZVVpVmlzaWJpbGl0eUZvclBsYXllcihwbGF5ZXIpOwogICAgfQp9CgpmdW5jdGlvbiByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuOwogICAgLy8gU2luZ2xlIEhVRCBmb3IgYWxsIHBsYXllcnMgb25jZSB2aXNpYmxlOyBnbG9iYWwgSFVEIGlzIGRlcHJlY2F0ZWQuCiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgaWYgKGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIHJldHVybjsKICAgIC8vIFJvdW5kLWVuZCB0ZWFyZG93bjogc2tpcCBwZXItcGxheWVyIHZpc2liaWxpdHkgY2hhbmdlcy4KICAgIGlmIChpc1JvdW5kRW5kVWlMb2NrZG93bkFjdGl2ZSgpKSByZXR1cm47CiAgICBjb25zdCBpc0xpdmUgPSBpc1JvdW5kTGl2ZSgpOwogICAgY29uc3Qgc2hvdWxkU2hvdyA9IGlzTGl2ZSAmJiBTdGF0ZS5mbGFnLnN0YWdlID49IE92ZXJ0aW1lU3RhZ2UuVmlzaWJsZTsKICAgIGxldCByZWZzOiBPdmVydGltZUZsYWdIdWRSZWZzIHwgdW5kZWZpbmVkID0gU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF07CiAgICBpZiAoIXJlZnMgJiYgc2hvdWxkU2hvdykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJlZnMgPSBlbnN1cmVPdmVydGltZUh1ZEZvclBsYXllcihwbGF5ZXIpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgaWYgKHJlZnM/LnJvb3QpIHNldFdpZGdldFZpc2libGUocmVmcy5yb290LCBzaG91bGRTaG93KTsKICAgIGlmIChzaG91bGRTaG93ICYmIHJlZnM/LnJvb3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICB1cGRhdGVPdmVydGltZUh1ZEZvclBsYXllcihwbGF5ZXIpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgY29uc3QgZ2xvYmFsUmVmcyA9IFN0YXRlLmZsYWcuZ2xvYmFsVWlCeVBpZFtwaWRdOwogICAgaWYgKGdsb2JhbFJlZnM/LnJvb3QpIHNldFdpZGdldFZpc2libGUoZ2xvYmFsUmVmcy5yb290LCBmYWxzZSk7Cn0KCmZ1bmN0aW9uIHJlYnVpbGRPdmVydGltZVVpRm9yUGxheWVyKHBsYXllcjogbW9kLlBsYXllcik6IHZvaWQgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybjsKICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgLy8gSGlkZSBhbnkgbGluZ2VyaW5nIG92ZXJ0aW1lIEhVRCByb290cyBhbmQgZHJvcCBjYWNoZWQgcmVmcy9zbmFwc2hvdHMuCiAgICBjb25zdCB6b25lUm9vdCA9IHNhZmVGaW5kKGBPdmVydGltZUZsYWdSb290XyR7cGlkfWApOwogICAgaWYgKHpvbmVSb290KSBzZXRXaWRnZXRWaXNpYmxlKHpvbmVSb290LCBmYWxzZSk7CiAgICBjb25zdCBnbG9iYWxSb290ID0gc2FmZUZpbmQoYE92ZXJ0aW1lR2xvYmFsUm9vdF8ke3BpZH1gKTsKICAgIGlmIChnbG9iYWxSb290KSBzZXRXaWRnZXRWaXNpYmxlKGdsb2JhbFJvb3QsIGZhbHNlKTsKCiAgICBkcm9wT3ZlcnRpbWVVaVJlZnNGb3JQbGF5ZXJJZChwaWQpOwoKICAgIC8vIFJlYnVpbGQgb25seSB3aGVuIHRoZSByb3VuZCBpcyBpbiBhIHNhZmUgc3RhdGUgZm9yIG92ZXJ0aW1lIFVJIHVwZGF0ZXMuCiAgICBpZiAoaXNSb3VuZEVuZFVpTG9ja2Rvd25BY3RpdmUoKSkgcmV0dXJuOwogICAgcmVmcmVzaE92ZXJ0aW1lVWlWaXNpYmlsaXR5Rm9yUGxheWVyKHBsYXllcik7Cn0KCmZ1bmN0aW9uIHByZXdhcm1PdmVydGltZUh1ZEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICAvLyBSb3VuZC1lbmQgdGVhcmRvd246IHNraXAgcHJld2FybSBpZiB0ZWFyZG93biBpcyBhY3RpdmUuCiAgICBpZiAoaXNSb3VuZEVuZFVpTG9ja2Rvd25BY3RpdmUoKSkgcmV0dXJuOwogICAgaWYgKCFpc1JvdW5kTGl2ZSgpKSByZXR1cm47CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwbGF5ZXIgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICAgICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkIHx8IGlzUGlkRGlzY29ubmVjdGVkKHBpZCkpIGNvbnRpbnVlOwogICAgICAgIGxldCByZWZzOiBPdmVydGltZUZsYWdIdWRSZWZzIHwgdW5kZWZpbmVkOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJlZnMgPSBlbnN1cmVPdmVydGltZUh1ZEZvclBsYXllcihwbGF5ZXIpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlZnM/LnJvb3QpIHNldFdpZGdldFZpc2libGUocmVmcy5yb290LCBmYWxzZSk7CiAgICAgICAgY29uc3QgZ2xvYmFsUmVmcyA9IFN0YXRlLmZsYWcuZ2xvYmFsVWlCeVBpZFtwaWRdOwogICAgICAgIGlmIChnbG9iYWxSZWZzPy5yb290KSBzZXRXaWRnZXRWaXNpYmxlKGdsb2JhbFJlZnMucm9vdCwgZmFsc2UpOwogICAgfQp9CgpmdW5jdGlvbiBoaWRlT3ZlcnRpbWVVaUZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICAvLyBIaWRlIGJvdGggaW4tem9uZSBhbmQgb3V0LW9mLXpvbmUgSFVEIHJvb3RzLgogICAgLy8gUm91bmQtZW5kIHRlYXJkb3duOiBhdm9pZCB0b3VjaGluZyB3aWRnZXQgdmlzaWJpbGl0eS4KICAgIGlmIChpc1JvdW5kRW5kVWlMb2NrZG93bkFjdGl2ZSgpKSByZXR1cm47CiAgICBjb25zdCB6b25lUGlkcyA9IE9iamVjdC5rZXlzKFN0YXRlLmZsYWcudWlCeVBpZCk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHpvbmVQaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGlkID0gTnVtYmVyKHpvbmVQaWRzW2ldKTsKICAgICAgICBjb25zdCByZWZzID0gU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF07CiAgICAgICAgaWYgKHJlZnM/LnJvb3QpIHNldFdpZGdldFZpc2libGUocmVmcy5yb290LCBmYWxzZSk7CiAgICB9CiAgICBjb25zdCBnbG9iYWxQaWRzID0gT2JqZWN0LmtleXMoU3RhdGUuZmxhZy5nbG9iYWxVaUJ5UGlkKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYmFsUGlkcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHBpZCA9IE51bWJlcihnbG9iYWxQaWRzW2ldKTsKICAgICAgICBjb25zdCByZWZzID0gU3RhdGUuZmxhZy5nbG9iYWxVaUJ5UGlkW3BpZF07CiAgICAgICAgaWYgKHJlZnM/LnJvb3QpIHNldFdpZGdldFZpc2libGUocmVmcy5yb290LCBmYWxzZSk7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBIVUQgVXBkYXRlICsgVmlzaWJpbGl0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gSFVEIEJ1aWxkICsgQ2FjaGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmZ1bmN0aW9uIHNhZmVEZWxldGVVaVdpZGdldCh3aWRnZXQ6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCk6IHZvaWQgewogICAgaWYgKCF3aWRnZXQpIHJldHVybjsKICAgIHRyeSB7CiAgICAgICAgbW9kLkRlbGV0ZVVJV2lkZ2V0KHdpZGdldCk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCmZ1bmN0aW9uIGRyb3BPdmVydGltZVVpUmVmc0ZvclBsYXllcklkKHBpZDogbnVtYmVyKTogdm9pZCB7CiAgICBkZWxldGUgU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF07CiAgICBkZWxldGUgU3RhdGUuZmxhZy5nbG9iYWxVaUJ5UGlkW3BpZF07CiAgICBkZWxldGUgU3RhdGUuZmxhZy5sYXN0VWlTbmFwc2hvdEJ5UGlkW3BpZF07Cn0KCmZ1bmN0aW9uIGRlbGV0ZU92ZXJ0aW1lVWlGb3JQbGF5ZXJJZChwaWQ6IG51bWJlcik6IHZvaWQgewogICAgLy8gUm91bmQtZW5kIHRlYXJkb3duOiBkcm9wIHJlZnMgd2l0aG91dCBkZWxldGluZyB3aWRnZXRzLgogICAgaWYgKGlzUm91bmRFbmRVaUxvY2tkb3duQWN0aXZlKCkpIHsKICAgICAgICBkcm9wT3ZlcnRpbWVVaVJlZnNGb3JQbGF5ZXJJZChwaWQpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIC8vIEhhcmQgZGVsZXRlIHdpZGdldHMgZm9yIGRpc2Nvbm5lY3QgY2xlYW51cC4KICAgIGNvbnN0IHJlZnMgPSBTdGF0ZS5mbGFnLnVpQnlQaWRbcGlkXTsKICAgIGlmIChyZWZzKSB7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMucm9vdCk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMuYmFyQmcpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLmJhckZpbGxUMSk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMuYmFyRmlsbFQyKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQocmVmcy50aXRsZSk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMudGl0bGVTaGFkb3cpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLnN0YXR1cyk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMuY291bnRzTGVmdCk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMuY291bnRzUmlnaHQpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLmNvdW50c0xlZnRCb3JkZXIpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLmNvdW50c1JpZ2h0Qm9yZGVyKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQocmVmcy5wZXJjZW50TGVmdEJnKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQocmVmcy5wZXJjZW50UmlnaHRCZyk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMucGVyY2VudExlZnQpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLnBlcmNlbnRSaWdodCk7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KHJlZnMuY291bnRzTGVmdENyb3duKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQocmVmcy5jb3VudHNSaWdodENyb3duKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQocmVmcy5zdGF0dXNTaGFkb3cpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChyZWZzLnZlaGljbGVSZXF1aXJlZCk7CiAgICB9CiAgICBjb25zdCBnbG9iYWxSZWZzID0gU3RhdGUuZmxhZy5nbG9iYWxVaUJ5UGlkW3BpZF07CiAgICBpZiAoZ2xvYmFsUmVmcykgewogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChnbG9iYWxSZWZzLnJvb3QpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChnbG9iYWxSZWZzLmJhckJnKTsKICAgICAgICBzYWZlRGVsZXRlVWlXaWRnZXQoZ2xvYmFsUmVmcy5iYXJGaWxsVDEpOwogICAgICAgIHNhZmVEZWxldGVVaVdpZGdldChnbG9iYWxSZWZzLmJhckZpbGxUMik7CiAgICAgICAgc2FmZURlbGV0ZVVpV2lkZ2V0KGdsb2JhbFJlZnMudGl0bGUpOwogICAgfQogICAgZGVsZXRlIFN0YXRlLmZsYWcudWlCeVBpZFtwaWRdOwogICAgZGVsZXRlIFN0YXRlLmZsYWcuZ2xvYmFsVWlCeVBpZFtwaWRdOwogICAgZGVsZXRlIFN0YXRlLmZsYWcubGFzdFVpU25hcHNob3RCeVBpZFtwaWRdOwp9CgpmdW5jdGlvbiBlbnN1cmVPdmVydGltZUh1ZEZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBPdmVydGltZUZsYWdIdWRSZWZzIHwgdW5kZWZpbmVkIHsKICAgIC8vIEluLXpvbmUgSFVEOiBzdGF0dXMsIGNvdW50cywgYW5kIGNhcHR1cmUgYmFyLgogICAgLy8gVGV4dCB3aWRnZXRzIGFyZSBidWlsdCB2aWEgbW9kbGliLlBhcnNlVUk7IHRoZSBiYXIgdXNlcyBBZGRVSUNvbnRhaW5lciBmb3IgZHluYW1pYyB3aWR0aCB1cGRhdGVzLgogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiB1bmRlZmluZWQ7CiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGlmIChpc1BpZERpc2Nvbm5lY3RlZChwaWQpKSByZXR1cm4gdW5kZWZpbmVkOwogICAgY29uc3Qgcm9vdE5hbWUgPSBgT3ZlcnRpbWVGbGFnUm9vdF8ke3BpZH1gOwogICAgY29uc3QgY2FjaGVkID0gU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF07CiAgICBjb25zdCBleGlzdGluZ1Jvb3QgPSBzYWZlRmluZChyb290TmFtZSk7CiAgICBpZiAoY2FjaGVkICYmIGNhY2hlZC5yb290ICYmIGV4aXN0aW5nUm9vdCkgcmV0dXJuIGNhY2hlZDsKICAgIGlmIChleGlzdGluZ1Jvb3QpIHsKICAgICAgICAvLyBSZWh5ZHJhdGUgcmVmcyBpZiB3aWRnZXRzIGFscmVhZHkgZXhpc3QgKGUuZy4sIHJlY29ubmVjdCBvciBjYWNoZWQgVUkgcmVtbmFudHMpLgogICAgICAgIGNvbnN0IHJlZnM6IE92ZXJ0aW1lRmxhZ0h1ZFJlZnMgPSB7CiAgICAgICAgICAgIHJvb3Q6IGV4aXN0aW5nUm9vdCwKICAgICAgICAgICAgdGl0bGU6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfVGl0bGVfJHtwaWR9YCksCiAgICAgICAgICAgIHRpdGxlU2hhZG93OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1RpdGxlU2hhZG93XyR7cGlkfWApLAogICAgICAgICAgICBjb3VudHNMZWZ0OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX0NvdW50c0xlZnRfJHtwaWR9YCksCiAgICAgICAgICAgIGNvdW50c1JpZ2h0OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX0NvdW50c1JpZ2h0XyR7cGlkfWApLAogICAgICAgICAgICBjb3VudHNMZWZ0Qm9yZGVyOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX0NvdW50c0xlZnRfQm9yZGVyXyR7cGlkfWApLAogICAgICAgICAgICBjb3VudHNSaWdodEJvcmRlcjogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19Db3VudHNSaWdodF9Cb3JkZXJfJHtwaWR9YCksCiAgICAgICAgICAgIHBlcmNlbnRMZWZ0Qmc6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfUGVyY2VudExlZnRfJHtwaWR9YCksCiAgICAgICAgICAgIHBlcmNlbnRSaWdodEJnOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1BlcmNlbnRSaWdodF8ke3BpZH1gKSwKICAgICAgICAgICAgcGVyY2VudExlZnQ6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfUGVyY2VudExlZnRfVGV4dF8ke3BpZH1gKSwKICAgICAgICAgICAgcGVyY2VudFJpZ2h0OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1BlcmNlbnRSaWdodF9UZXh0XyR7cGlkfWApLAogICAgICAgICAgICBjb3VudHNMZWZ0Q3Jvd246IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfQ291bnRzTGVmdF9Dcm93bl8ke3BpZH1gKSwKICAgICAgICAgICAgY291bnRzUmlnaHRDcm93bjogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19Db3VudHNSaWdodF9Dcm93bl8ke3BpZH1gKSwKICAgICAgICAgICAgc3RhdHVzOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1N0YXR1c18ke3BpZH1gKSwKICAgICAgICAgICAgc3RhdHVzU2hhZG93OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1N0YXR1c1NoYWRvd18ke3BpZH1gKSwKICAgICAgICAgICAgdmVoaWNsZVJlcXVpcmVkOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1ZlaGljbGVSZXF1aXJlZF8ke3BpZH1gKSwKICAgICAgICAgICAgYmFyQmc6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfQmFyQmdfJHtwaWR9YCksCiAgICAgICAgICAgIGJhckZpbGxUMTogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19CYXJGaWxsVDFfJHtwaWR9YCksCiAgICAgICAgICAgIGJhckZpbGxUMjogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19CYXJGaWxsVDJfJHtwaWR9YCksCiAgICAgICAgfTsKICAgICAgICBTdGF0ZS5mbGFnLnVpQnlQaWRbcGlkXSA9IHJlZnM7CiAgICAgICAgcmV0dXJuIHJlZnM7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgICAgIG5hbWU6IHJvb3ROYW1lLAogICAgICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICBwb3NpdGlvbjogW09WRVJUSU1FX1VJX09GRlNFVF9YLCBPVkVSVElNRV9VSV9PRkZTRVRfWV0sCiAgICAgICAgICAgIHNpemU6IFtPVkVSVElNRV9VSV9XSURUSCwgT1ZFUlRJTUVfVUlfSEVJR0hUXSwKICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYE92ZXJ0aW1lRmxhZ19UaXRsZVNoYWRvd18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW0hVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgMTggKyBIVURfVEVYVF9TSEFET1dfT0ZGU0VUX1ldLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtPVkVSVElNRV9VSV9XSURUSCwgMThdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogU1RSX0ZMQUdfVElUTEUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMCwgMCwgMF0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxNiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1RpdGxlXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMThdLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtPVkVSVElNRV9VSV9XSURUSCwgMThdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogU1RSX0ZMQUdfVElUTEUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxNiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX0NvdW50c0xlZnRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstT1ZFUlRJTUVfQ09VTlRfT0ZGU0VUX1gsIE9WRVJUSU1FX0NPVU5UX09GRlNFVF9ZXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfQ09VTlRfVEVYVF9XSURUSCwgT1ZFUlRJTUVfQ09VTlRfVEVYVF9IRUlHSFRdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogT1ZFUlRJTUVfQ09VTlRfVDFfUkdCLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IE9WRVJUSU1FX0NPVU5UX0JHX0FMUEhBLAogICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLkJsdXIsCiAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShTVFJfRkxBR19DT1VOVFNfTEVGVF9GT1JNQVQsIDApLAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogT1ZFUlRJTUVfQ09VTlRfVEVYVF9SR0IsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiBPVkVSVElNRV9DT1VOVF9URVhUX1NJWkUsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYE92ZXJ0aW1lRmxhZ19Db3VudHNSaWdodF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW09WRVJUSU1FX0NPVU5UX09GRlNFVF9YLCBPVkVSVElNRV9DT1VOVF9PRkZTRVRfWV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX0NPVU5UX1RFWFRfV0lEVEgsIE9WRVJUSU1FX0NPVU5UX1RFWFRfSEVJR0hUXSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6IE9WRVJUSU1FX0NPVU5UX1QyX1JHQiwKICAgICAgICAgICAgICAgICAgICBiZ0FscGhhOiBPVkVSVElNRV9DT1VOVF9CR19BTFBIQSwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5CbHVyLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UoU1RSX0ZMQUdfQ09VTlRTX1JJR0hUX0ZPUk1BVCwgMCksCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBPVkVSVElNRV9DT1VOVF9URVhUX1JHQiwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IE9WRVJUSU1FX0NPVU5UX1RFWFRfU0laRSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1BlcmNlbnRMZWZ0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWCwgT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX1BFUkNFTlRfVEVYVF9XSURUSCwgT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX0hFSUdIVF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiBPVkVSVElNRV9DT1VOVF9UMV9SR0IsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogT1ZFUlRJTUVfQ09VTlRfQkdfQUxQSEEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1BlcmNlbnRMZWZ0X1RleHRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbLU9WRVJUSU1FX1BFUkNFTlRfVEVYVF9OVURHRSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX1dJRFRILCBPVkVSVElNRV9QRVJDRU5UX1RFWFRfSEVJR0hUXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKFNUUl9GTEFHX1BST0dSRVNTX0ZPUk1BVCwgNTApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBPVkVSVElNRV9DT1VOVF9URVhUX1JHQiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiBPVkVSVElNRV9QRVJDRU5UX1RFWFRfU0laRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXJSaWdodCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1BlcmNlbnRSaWdodF8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWCwgT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX1BFUkNFTlRfVEVYVF9XSURUSCwgT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX0hFSUdIVF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiBPVkVSVElNRV9DT1VOVF9UMl9SR0IsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogT1ZFUlRJTUVfQ09VTlRfQkdfQUxQSEEsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1BlcmNlbnRSaWdodF9UZXh0XyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW09WRVJUSU1FX1BFUkNFTlRfVEVYVF9OVURHRSwgMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfUEVSQ0VOVF9URVhUX1dJRFRILCBPVkVSVElNRV9QRVJDRU5UX1RFWFRfSEVJR0hUXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKFNUUl9GTEFHX1BST0dSRVNTX0ZPUk1BVCwgNTApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBPVkVSVElNRV9DT1VOVF9URVhUX1JHQiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiBPVkVSVElNRV9QRVJDRU5UX1RFWFRfU0laRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXJMZWZ0LAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGBPdmVydGltZUZsYWdfQ291bnRzTGVmdF9Dcm93bl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJJbWFnZSIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFstT1ZFUlRJTUVfUEVSQ0VOVF9PRkZTRVRfWCwgT1ZFUlRJTUVfUEVSQ0VOVF9DUk9XTl9PRkZTRVRfWV0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX0NPVU5UX0NST1dOX1NJWkUsIE9WRVJUSU1FX0NPVU5UX0NST1dOX1NJWkVdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IG1vZC5VSUltYWdlVHlwZS5Dcm93blNvbGlkLAogICAgICAgICAgICAgICAgICAgIGltYWdlQ29sb3I6IE9WRVJUSU1FX0NPVU5UX0NST1dOX1JHQiwKICAgICAgICAgICAgICAgICAgICBpbWFnZUFscGhhOiBPVkVSVElNRV9DT1VOVF9DUk9XTl9BTFBIQSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYE92ZXJ0aW1lRmxhZ19Db3VudHNSaWdodF9Dcm93bl8ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJJbWFnZSIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtPVkVSVElNRV9QRVJDRU5UX09GRlNFVF9YLCBPVkVSVElNRV9QRVJDRU5UX0NST1dOX09GRlNFVF9ZXSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfQ09VTlRfQ1JPV05fU0laRSwgT1ZFUlRJTUVfQ09VTlRfQ1JPV05fU0laRV0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIGltYWdlVHlwZTogbW9kLlVJSW1hZ2VUeXBlLkNyb3duU29saWQsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VDb2xvcjogT1ZFUlRJTUVfQ09VTlRfQ1JPV05fUkdCLAogICAgICAgICAgICAgICAgICAgIGltYWdlQWxwaGE6IE9WRVJUSU1FX0NPVU5UX0NST1dOX0FMUEhBLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1N0YXR1c1NoYWRvd18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW0hVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgNTQgKyBIVURfVEVYVF9TSEFET1dfT0ZGU0VUX1ldLAogICAgICAgICAgICAgICAgICAgIHNpemU6IFtPVkVSVElNRV9VSV9XSURUSCwgMTZdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogU1RSX0ZMQUdfU1RBVFVTX1NUQUxMRUQsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMCwgMCwgMF0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxNCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBgT3ZlcnRpbWVGbGFnX1N0YXR1c18ke3BpZH1gLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDU0XSwKICAgICAgICAgICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfVUlfV0lEVEgsIDE2XSwKICAgICAgICAgICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IFNUUl9GTEFHX1NUQVRVU19TVEFMTEVELAogICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTQsCiAgICAgICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYE92ZXJ0aW1lRmxhZ19WZWhpY2xlUmVxdWlyZWRfJHtwaWR9YCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFswLCA3MF0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX1VJX1dJRFRILCAxNF0sCiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogU1RSX0ZMQUdfVkVISUNMRV9SRVFVSVJFRCwKICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgIH0pOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICBjb25zdCByb290ID0gc2FmZUZpbmQocm9vdE5hbWUpOwogICAgaWYgKCFyb290KSByZXR1cm4gdW5kZWZpbmVkOwogICAgc2FmZVNldFVJV2lkZ2V0RGVwdGgocm9vdCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwoKICAgIGNvbnN0IGNvdW50c0xlZnQgPSBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX0NvdW50c0xlZnRfJHtwaWR9YCk7CiAgICBjb25zdCBjb3VudHNSaWdodCA9IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfQ291bnRzUmlnaHRfJHtwaWR9YCk7CgogICAgY29uc3QgY291bnRzTGVmdEJvcmRlcklkID0gYE92ZXJ0aW1lRmxhZ19Db3VudHNMZWZ0X0JvcmRlcl8ke3BpZH1gOwogICAgc2FmZUFkZFVJQ29udGFpbmVyKAogICAgICAgIGNvdW50c0xlZnRCb3JkZXJJZCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKC1PVkVSVElNRV9DT1VOVF9PRkZTRVRfWCwgT1ZFUlRJTUVfQ09VTlRfT0ZGU0VUX1kgLSBPVkVSVElNRV9DT1VOVF9CT1JERVJfR1JPVywgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigKICAgICAgICAgICAgT1ZFUlRJTUVfQ09VTlRfVEVYVF9XSURUSCArIChPVkVSVElNRV9DT1VOVF9CT1JERVJfR1JPVyAqIDIpLAogICAgICAgICAgICBPVkVSVElNRV9DT1VOVF9URVhUX0hFSUdIVCArIChPVkVSVElNRV9DT1VOVF9CT1JERVJfR1JPVyAqIDIpLAogICAgICAgICAgICAwCiAgICAgICAgKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgIHJvb3QsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIENPTE9SX0JMVUUsCiAgICAgICAgT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0FMUEhBLAogICAgICAgIG1vZC5VSUJnRmlsbC5PdXRsaW5lVGhpbiwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBwbGF5ZXIKICAgICk7CiAgICBjb25zdCBjb3VudHNMZWZ0Qm9yZGVyID0gc2FmZUZpbmQoY291bnRzTGVmdEJvcmRlcklkKTsKCiAgICBjb25zdCBjb3VudHNSaWdodEJvcmRlcklkID0gYE92ZXJ0aW1lRmxhZ19Db3VudHNSaWdodF9Cb3JkZXJfJHtwaWR9YDsKICAgIHNhZmVBZGRVSUNvbnRhaW5lcigKICAgICAgICBjb3VudHNSaWdodEJvcmRlcklkLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoT1ZFUlRJTUVfQ09VTlRfT0ZGU0VUX1gsIE9WRVJUSU1FX0NPVU5UX09GRlNFVF9ZIC0gT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0dST1csIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoCiAgICAgICAgICAgIE9WRVJUSU1FX0NPVU5UX1RFWFRfV0lEVEggKyAoT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0dST1cgKiAyKSwKICAgICAgICAgICAgT1ZFUlRJTUVfQ09VTlRfVEVYVF9IRUlHSFQgKyAoT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0dST1cgKiAyKSwKICAgICAgICAgICAgMAogICAgICAgICksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICByb290LAogICAgICAgIHRydWUsCiAgICAgICAgMCwKICAgICAgICBDT0xPUl9SRUQsCiAgICAgICAgT1ZFUlRJTUVfQ09VTlRfQk9SREVSX0FMUEhBLAogICAgICAgIG1vZC5VSUJnRmlsbC5PdXRsaW5lVGhpbiwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBwbGF5ZXIKICAgICk7CiAgICBjb25zdCBjb3VudHNSaWdodEJvcmRlciA9IHNhZmVGaW5kKGNvdW50c1JpZ2h0Qm9yZGVySWQpOwoKICAgIGNvbnN0IGJhckJnSWQgPSBgT3ZlcnRpbWVGbGFnX0JhckJnXyR7cGlkfWA7CiAgICBzYWZlQWRkVUlDb250YWluZXIoCiAgICAgICAgYmFyQmdJZCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIE9WRVJUSU1FX0JBUl9PRkZTRVRfWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihPVkVSVElNRV9CQVJfV0lEVEgsIE9WRVJUSU1FX0JBUl9IRUlHSFQsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgcm9vdCwKICAgICAgICB0cnVlLAogICAgICAgIDAsCiAgICAgICAgQ09MT1JfQkxVRV9EQVJLLAogICAgICAgIE9WRVJUSU1FX0JBUl9CR19BTFBIQSwKICAgICAgICBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgcGxheWVyCiAgICApOwogICAgY29uc3QgYmFyQmcgPSBzYWZlRmluZChiYXJCZ0lkKTsKICAgIGlmIChiYXJCZykgewogICAgICAgIGNvbnN0IGZpbGxUMUlkID0gYE92ZXJ0aW1lRmxhZ19CYXJGaWxsVDFfJHtwaWR9YDsKICAgICAgICBzYWZlQWRkVUlDb250YWluZXIoCiAgICAgICAgICAgIGZpbGxUMUlkLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKE9WRVJUSU1FX0JBUl9XSURUSCwgT1ZFUlRJTUVfQkFSX0hFSUdIVCwgMCksCiAgICAgICAgICAgIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgICAgICBiYXJCZywKICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgQ09MT1JfQkxVRSwKICAgICAgICAgICAgT1ZFUlRJTUVfQkFSX0ZJTExfQUxQSEEsCiAgICAgICAgICAgIG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgICAgIHBsYXllcgogICAgICAgICk7CgogICAgICAgIGNvbnN0IGZpbGxUMklkID0gYE92ZXJ0aW1lRmxhZ19CYXJGaWxsVDJfJHtwaWR9YDsKICAgICAgICBzYWZlQWRkVUlDb250YWluZXIoCiAgICAgICAgICAgIGZpbGxUMklkLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKE9WRVJUSU1FX0JBUl9XSURUSCwgT1ZFUlRJTUVfQkFSX0hFSUdIVCwgMCksCiAgICAgICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICAgICAgYmFyQmcsCiAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgIDAsCiAgICAgICAgICAgIENPTE9SX1JFRCwKICAgICAgICAgICAgT1ZFUlRJTUVfQkFSX0ZJTExfQUxQSEEsCiAgICAgICAgICAgIG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgICAgIHBsYXllcgogICAgICAgICk7CiAgICB9CgogICAgY29uc3QgcmVmczogT3ZlcnRpbWVGbGFnSHVkUmVmcyA9IHsKICAgICAgICByb290LAogICAgICAgIHRpdGxlOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1RpdGxlXyR7cGlkfWApLAogICAgICAgIHRpdGxlU2hhZG93OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1RpdGxlU2hhZG93XyR7cGlkfWApLAogICAgICAgIGNvdW50c0xlZnQsCiAgICAgICAgY291bnRzUmlnaHQsCiAgICAgICAgY291bnRzTGVmdEJvcmRlciwKICAgICAgICBjb3VudHNSaWdodEJvcmRlciwKICAgICAgICBwZXJjZW50TGVmdEJnOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1BlcmNlbnRMZWZ0XyR7cGlkfWApLAogICAgICAgIHBlcmNlbnRSaWdodEJnOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1BlcmNlbnRSaWdodF8ke3BpZH1gKSwKICAgICAgICBwZXJjZW50TGVmdDogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19QZXJjZW50TGVmdF9UZXh0XyR7cGlkfWApLAogICAgICAgIHBlcmNlbnRSaWdodDogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19QZXJjZW50UmlnaHRfVGV4dF8ke3BpZH1gKSwKICAgICAgICBjb3VudHNMZWZ0Q3Jvd246IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfQ291bnRzTGVmdF9Dcm93bl8ke3BpZH1gKSwKICAgICAgICBjb3VudHNSaWdodENyb3duOiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX0NvdW50c1JpZ2h0X0Nyb3duXyR7cGlkfWApLAogICAgICAgIHN0YXR1czogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19TdGF0dXNfJHtwaWR9YCksCiAgICAgICAgc3RhdHVzU2hhZG93OiBzYWZlRmluZChgT3ZlcnRpbWVGbGFnX1N0YXR1c1NoYWRvd18ke3BpZH1gKSwKICAgICAgICB2ZWhpY2xlUmVxdWlyZWQ6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfVmVoaWNsZVJlcXVpcmVkXyR7cGlkfWApLAogICAgICAgIGJhckJnOiBiYXJCZywKICAgICAgICBiYXJGaWxsVDE6IHNhZmVGaW5kKGBPdmVydGltZUZsYWdfQmFyRmlsbFQxXyR7cGlkfWApLAogICAgICAgIGJhckZpbGxUMjogc2FmZUZpbmQoYE92ZXJ0aW1lRmxhZ19CYXJGaWxsVDJfJHtwaWR9YCksCiAgICB9OwogICAgU3RhdGUuZmxhZy51aUJ5UGlkW3BpZF0gPSByZWZzOwogICAgcmV0dXJuIHJlZnM7Cn0KCi8vIFRPRE8oMS4wKTogVW51c2VkOyByZW1vdmUgYmVmb3JlIGZpbmFsIDEuMCByZWxlYXNlLgpmdW5jdGlvbiBlbnN1cmVPdmVydGltZUdsb2JhbEh1ZEZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBPdmVydGltZUZsYWdHbG9iYWxIdWRSZWZzIHwgdW5kZWZpbmVkIHsKICAgIC8vIEdsb2JhbCBIVUQ6IGNvbXBhY3QgbGFiZWwgKyBwcm9ncmVzcyBiYXIgZm9yIG91dC1vZi16b25lIHBsYXllcnMuCiAgICAvLyBUaGlzIHN0YXlzIGxpZ2h0d2VpZ2h0IHNvIGl0IGNhbiBiZSBzaG93biB0byBhbGwgb3V0LW9mLXpvbmUgcGxheWVycy4KICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm4gdW5kZWZpbmVkOwogICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7CiAgICBpZiAoaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGNvbnN0IHJvb3ROYW1lID0gYE92ZXJ0aW1lR2xvYmFsUm9vdF8ke3BpZH1gOwogICAgY29uc3QgY2FjaGVkID0gU3RhdGUuZmxhZy5nbG9iYWxVaUJ5UGlkW3BpZF07CiAgICBpZiAoY2FjaGVkICYmIGNhY2hlZC5yb290ICYmIHNhZmVGaW5kKHJvb3ROYW1lKSkgcmV0dXJuIGNhY2hlZDsKCiAgICB0cnkgewogICAgICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICAgICAgbmFtZTogcm9vdE5hbWUsCiAgICAgICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgICAgICBwbGF5ZXJJZDogcGxheWVyLAogICAgICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgICAgIHBvc2l0aW9uOiBbT1ZFUlRJTUVfR0xPQkFMX1VJX09GRlNFVF9YLCBPVkVSVElNRV9HTE9CQUxfVUlfT0ZGU0VUX1ldLAogICAgICAgICAgICBzaXplOiBbT1ZFUlRJTUVfR0xPQkFMX1VJX1dJRFRILCBPVkVSVElNRV9HTE9CQUxfVUlfSEVJR0hUXSwKICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogYE92ZXJ0aW1lR2xvYmFsX1RpdGxlXyR7cGlkfWAsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgNF0sCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogW09WRVJUSU1FX0dMT0JBTF9VSV9XSURUSCwgMTZdLAogICAgICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbDogU1RSX0ZMQUdfVElUTEUsCiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAxNCwKICAgICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICB9KTsKICAgIH0gY2F0Y2ggewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgY29uc3Qgcm9vdCA9IHNhZmVGaW5kKHJvb3ROYW1lKTsKICAgIGlmICghcm9vdCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIHNhZmVTZXRVSVdpZGdldERlcHRoKHJvb3QsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKCiAgICBjb25zdCBiYXJCZ0lkID0gYE92ZXJ0aW1lR2xvYmFsX0JhckJnXyR7cGlkfWA7CiAgICBzYWZlQWRkVUlDb250YWluZXIoCiAgICAgICAgYmFyQmdJZCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIE9WRVJUSU1FX0dMT0JBTF9CQVJfT0ZGU0VUX1ksIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoT1ZFUlRJTUVfR0xPQkFMX0JBUl9XSURUSCwgT1ZFUlRJTUVfR0xPQkFMX0JBUl9IRUlHSFQsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgcm9vdCwKICAgICAgICB0cnVlLAogICAgICAgIDAsCiAgICAgICAgQ09MT1JfQkxVRV9EQVJLLAogICAgICAgIE9WRVJUSU1FX0JBUl9CR19BTFBIQSwKICAgICAgICBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgcGxheWVyCiAgICApOwogICAgY29uc3QgYmFyQmcgPSBzYWZlRmluZChiYXJCZ0lkKTsKICAgIGlmIChiYXJCZykgewogICAgICAgIGNvbnN0IGZpbGxUMUlkID0gYE92ZXJ0aW1lR2xvYmFsX0JhckZpbGxUMV8ke3BpZH1gOwogICAgICAgIHNhZmVBZGRVSUNvbnRhaW5lcigKICAgICAgICAgICAgZmlsbFQxSWQsCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoT1ZFUlRJTUVfR0xPQkFMX0JBUl9XSURUSCwgT1ZFUlRJTUVfR0xPQkFMX0JBUl9IRUlHSFQsIDApLAogICAgICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICAgICAgYmFyQmcsCiAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgIDAsCiAgICAgICAgICAgIENPTE9SX0JMVUUsCiAgICAgICAgICAgIE9WRVJUSU1FX0JBUl9GSUxMX0FMUEhBLAogICAgICAgICAgICBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgICAgICBwbGF5ZXIKICAgICAgICApOwoKICAgICAgICBjb25zdCBmaWxsVDJJZCA9IGBPdmVydGltZUdsb2JhbF9CYXJGaWxsVDJfJHtwaWR9YDsKICAgICAgICBzYWZlQWRkVUlDb250YWluZXIoCiAgICAgICAgICAgIGZpbGxUMklkLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKE9WRVJUSU1FX0dMT0JBTF9CQVJfV0lEVEgsIE9WRVJUSU1FX0dMT0JBTF9CQVJfSEVJR0hULCAwKSwKICAgICAgICAgICAgbW9kLlVJQW5jaG9yLlRvcFJpZ2h0LAogICAgICAgICAgICBiYXJCZywKICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgQ09MT1JfUkVELAogICAgICAgICAgICBPVkVSVElNRV9CQVJfRklMTF9BTFBIQSwKICAgICAgICAgICAgbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICAgICAgcGxheWVyCiAgICAgICAgKTsKICAgIH0KCiAgICBjb25zdCByZWZzOiBPdmVydGltZUZsYWdHbG9iYWxIdWRSZWZzID0gewogICAgICAgIHJvb3QsCiAgICAgICAgdGl0bGU6IHNhZmVGaW5kKGBPdmVydGltZUdsb2JhbF9UaXRsZV8ke3BpZH1gKSwKICAgICAgICBiYXJCZzogYmFyQmcsCiAgICAgICAgYmFyRmlsbFQxOiBzYWZlRmluZChgT3ZlcnRpbWVHbG9iYWxfQmFyRmlsbFQxXyR7cGlkfWApLAogICAgICAgIGJhckZpbGxUMjogc2FmZUZpbmQoYE92ZXJ0aW1lR2xvYmFsX0JhckZpbGxUMl8ke3BpZH1gKSwKICAgIH07CiAgICBTdGF0ZS5mbGFnLmdsb2JhbFVpQnlQaWRbcGlkXSA9IHJlZnM7CiAgICByZXR1cm4gcmVmczsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE92ZXJ0aW1lIEZsYWcgQ2FwdHVyZSAtIEhVRCBCdWlsZCArIENhY2hlIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBPdmVydGltZSBGbGFnIENhcHR1cmUgLSBTdGFnZSBUcmFuc2l0aW9ucyArIE1lc3NhZ2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gdXBkYXRlT3ZlcnRpbWVTdGFnZSgpOiB2b2lkIHsKICAgIC8vIFN0YWdlIHRyYW5zaXRpb25zIGFyZSBkcml2ZW4gYnkgdGhlIHJvdW5kIGNsb2NrLgogICAgLy8gQ2hlY2tzIHJ1biBmcm9tIGxhdGVzdCB0byBlYXJsaWVzdCB0byB0b2xlcmF0ZSBhZG1pbiB0aW1lIGp1bXBzLgogICAgaWYgKCFpc1JvdW5kTGl2ZSgpKSB7CiAgICAgICAgaWYgKFN0YXRlLmZsYWcuc3RhZ2UgIT09IE92ZXJ0aW1lU3RhZ2UuTm9uZSkgewogICAgICAgICAgICByZXNldE92ZXJ0aW1lRmxhZ1N0YXRlKCk7CiAgICAgICAgICAgIC8vIFByZWdhbWUgc3RhdGU6IHNob3cgYWxsIGZsYWcgbWFya2VycyBmb3IgcGxhbm5pbmcgKHZpc2liaWxpdHkgb25seSkuCiAgICAgICAgICAgIHNldE92ZXJ0aW1lQWxsRmxhZ1Zpc2liaWxpdHkodHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoIVN0YXRlLmZsYWcuY29uZmlnVmFsaWQpIHJldHVybjsKCiAgICBjb25zdCByZW1haW5pbmcgPSBnZXRSZW1haW5pbmdTZWNvbmRzKCk7CiAgICBjb25zdCB2aXNpYmxlVGhyZXNob2xkID0gZ2V0T3ZlcnRpbWVWaXNpYmxlU2Vjb25kcygpOwoKICAgIGlmIChyZW1haW5pbmcgPD0gT1ZFUlRJTUVfU1RBR0VfQUNUSVZFX1NFQ09ORFMpIHsKICAgICAgICBpZiAoU3RhdGUuZmxhZy5zdGFnZSA8IE92ZXJ0aW1lU3RhZ2UuVmlzaWJsZSkgewogICAgICAgICAgICBlbnRlck92ZXJ0aW1lVmlzaWJsZVN0YWdlKHJlbWFpbmluZyk7CiAgICAgICAgfQogICAgICAgIGlmIChTdGF0ZS5mbGFnLnN0YWdlIDwgT3ZlcnRpbWVTdGFnZS5BY3RpdmUpIHsKICAgICAgICAgICAgZW50ZXJPdmVydGltZUFjdGl2ZVN0YWdlKHJlbWFpbmluZyk7CiAgICAgICAgfQogICAgICAgIHVwZGF0ZU92ZXJ0aW1lQWN0aXZlUHJldmlld0ljb25UZXh0KCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHJlbWFpbmluZyA8PSB2aXNpYmxlVGhyZXNob2xkKSB7CiAgICAgICAgaWYgKFN0YXRlLmZsYWcuc3RhZ2UgPCBPdmVydGltZVN0YWdlLlZpc2libGUpIHsKICAgICAgICAgICAgZW50ZXJPdmVydGltZVZpc2libGVTdGFnZShyZW1haW5pbmcpOwogICAgICAgIH0KICAgICAgICB1cGRhdGVPdmVydGltZUxvY2tlZFByZXZpZXdJY29uVGV4dChyZW1haW5pbmcpOwogICAgICAgIG1heWJlU2VuZE92ZXJ0aW1lVW5sb2NrUmVtaW5kZXIocmVtYWluaW5nKTsKICAgICAgICAvLyBLZWVwIGxvY2tlZC1zdGFnZSBjb3VudGRvd24gdGV4dCBpbiBzeW5jIHdoaWxlIHZpc2libGUgYnV0IGluYWN0aXZlLgogICAgICAgIHVwZGF0ZU92ZXJ0aW1lSHVkRm9yQWxsUGxheWVycygpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChyZW1haW5pbmcgPD0gT1ZFUlRJTUVfU1RBR0VfTk9USUNFX1NFQ09ORFMpIHsKICAgICAgICBpZiAoU3RhdGUuZmxhZy5zdGFnZSA8IE92ZXJ0aW1lU3RhZ2UuTm90aWNlKSB7CiAgICAgICAgICAgIGVudGVyT3ZlcnRpbWVOb3RpY2VTdGFnZShyZW1haW5pbmcpOwogICAgICAgIH0KICAgIH0KCn0KCmZ1bmN0aW9uIGdldE92ZXJ0aW1lVmlzaWJsZVNlY29uZHMoKTogbnVtYmVyIHsKICAgIGNvbnN0IHJvdW5kTGVuZ3RoID0gU3RhdGUucm91bmQuY2xvY2sucm91bmRMZW5ndGhTZWNvbmRzOwogICAgY29uc3QgZHVyYXRpb24gPSAocm91bmRMZW5ndGggIT09IHVuZGVmaW5lZCAmJiByb3VuZExlbmd0aCA+IDApCiAgICAgICAgPyByb3VuZExlbmd0aAogICAgICAgIDogKFN0YXRlLnJvdW5kLmNsb2NrLmR1cmF0aW9uU2Vjb25kcyA/PyBST1VORF9TVEFSVF9TRUNPTkRTKTsKICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGR1cmF0aW9uIC8gMikpOwp9CgovLyBUT0RPKDEuMCk6IFVudXNlZDsgcmVtb3ZlIGJlZm9yZSBmaW5hbCAxLjAgcmVsZWFzZS4KZnVuY3Rpb24gYnVpbGRSZW1haW5pbmdUaW1lTWVzc2FnZShtZXNzYWdlS2V5OiBudW1iZXIsIHJlbWFpbmluZ1NlY29uZHM6IG51bWJlcik6IG1vZC5NZXNzYWdlIHsKICAgIGNvbnN0IHRpbWUgPSBnZXRDbG9ja1RpbWVQYXJ0cyhyZW1haW5pbmdTZWNvbmRzKTsKICAgIHJldHVybiBtb2QuTWVzc2FnZShtZXNzYWdlS2V5LCB0aW1lLm1pbnV0ZXMsIHRpbWUuc2VjVGVucywgdGltZS5zZWNPbmVzKTsKfQoKZnVuY3Rpb24gZ2V0T3ZlcnRpbWVVbmxvY2tTZWNvbmRzKHJlbWFpbmluZ1NlY29uZHM/OiBudW1iZXIpOiBudW1iZXIgewogICAgY29uc3QgcmVtYWluaW5nID0gcmVtYWluaW5nU2Vjb25kcyAhPT0gdW5kZWZpbmVkID8gcmVtYWluaW5nU2Vjb25kcyA6IGdldFJlbWFpbmluZ1NlY29uZHMoKTsKICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHJlbWFpbmluZyAtIE9WRVJUSU1FX1NUQUdFX0FDVElWRV9TRUNPTkRTKSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZU92ZXJ0aW1lTG9ja2VkUHJldmlld0ljb25UZXh0KHJlbWFpbmluZ1NlY29uZHM/OiBudW1iZXIpOiB2b2lkIHsKICAgIGlmIChTdGF0ZS5mbGFnLnN0YWdlIDwgT3ZlcnRpbWVTdGFnZS5WaXNpYmxlIHx8IFN0YXRlLmZsYWcuc3RhZ2UgPj0gT3ZlcnRpbWVTdGFnZS5BY3RpdmUpIHJldHVybjsKICAgIGNvbnN0IGljb24gPSBnZXRBY3RpdmVPdmVydGltZVdvcmxkSWNvbigpOwogICAgaWYgKCFpY29uKSByZXR1cm47CiAgICBjb25zdCBsZXR0ZXJLZXkgPSBnZXRBY3RpdmVPdmVydGltZUZsYWdMZXR0ZXJLZXkoKTsKICAgIGNvbnN0IHVubG9ja1NlY29uZHMgPSBnZXRPdmVydGltZVVubG9ja1NlY29uZHMocmVtYWluaW5nU2Vjb25kcyk7CiAgICB0cnkgewogICAgICAgIG1vZC5TZXRXb3JsZEljb25UZXh0KGljb24sIG1vZC5NZXNzYWdlKFNUUl9GTEFHX1RJVExFX0xPQ0tFRF9GT1JNQVQsIGxldHRlcktleSwgdW5sb2NrU2Vjb25kcykpOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpmdW5jdGlvbiB1cGRhdGVPdmVydGltZUFjdGl2ZVByZXZpZXdJY29uVGV4dCgpOiB2b2lkIHsKICAgIGlmIChTdGF0ZS5mbGFnLnN0YWdlIDwgT3ZlcnRpbWVTdGFnZS5BY3RpdmUpIHJldHVybjsKICAgIGNvbnN0IGljb24gPSBnZXRBY3RpdmVPdmVydGltZVdvcmxkSWNvbigpOwogICAgaWYgKCFpY29uKSByZXR1cm47CiAgICB0cnkgewogICAgICAgIG1vZC5TZXRXb3JsZEljb25UZXh0KGljb24sIG1vZC5NZXNzYWdlKFNUUl9GTEFHX1BSRVZJRVdfQUNUSVZFKSk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCi8vIFRPRE8oMS4wKTogVW51c2VkOyByZW1vdmUgYmVmb3JlIGZpbmFsIDEuMCByZWxlYXNlLgpmdW5jdGlvbiBzaG91bGRTaG93T3ZlcnRpbWVVbmxvY2tNZXNzYWdlRm9yUGxheWVyKHBsYXllcjogbW9kLlBsYXllcik6IGJvb2xlYW4gewogICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHBsYXllcik7CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIFN0YXRlLmZsYWcucGxheWVyc0luWm9uZUJ5UGlkW3BpZF0gPT09IHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gZW50ZXJPdmVydGltZU5vdGljZVN0YWdlKHJlbWFpbmluZ1NlY29uZHM6IG51bWJlcik6IHZvaWQgewogICAgU3RhdGUuZmxhZy5zdGFnZSA9IE92ZXJ0aW1lU3RhZ2UuTm90aWNlOwogICAgLy8gTk9URTogMjozMCBub3RpY2UgbWVzc2FnZSBkaXNhYmxlZCAodmlzaWJpbGl0eSBub3cgaGFuZGxlZCBhdCBoYWxmIHRpbWUpLgogICAgLy8gdm9pZCBzaG93RHluYW1pY0dsb2JhbFRpdGxlU3VidGl0bGVNZXNzYWdlRm9yQWxsUGxheWVycygKICAgIC8vICAgICB1bmRlZmluZWQsCiAgICAvLyAgICAgKHJlbWFpbmluZykgPT4gYnVpbGRSZW1haW5pbmdUaW1lTWVzc2FnZShTVFJfT1ZFUlRJTUVfU1VCX05PVElDRSwgcmVtYWluaW5nKSwKICAgIC8vICAgICBDT0xPUl9XSElURSwKICAgIC8vICAgICBDT0xPUl9XSElURSwKICAgIC8vICAgICBCSUdfTUVTU0FHRV9EVVJBVElPTl9TRUNPTkRTLAogICAgLy8gICAgIDEsCiAgICAvLyAgICAgU01BTExfTUVTU0FHRV9MQVlPVVQKICAgIC8vICk7Cn0KCmZ1bmN0aW9uIGVudGVyT3ZlcnRpbWVWaXNpYmxlU3RhZ2UocmVtYWluaW5nU2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoIXNlbGVjdE92ZXJ0aW1lWm9uZUZvclJvdW5kKCkpIHJldHVybjsKICAgIFN0YXRlLmZsYWcuc3RhZ2UgPSBPdmVydGltZVN0YWdlLlZpc2libGU7CiAgICBTdGF0ZS5mbGFnLmFjdGl2ZSA9IGZhbHNlOwogICAgLy8gTG9ja2VkIHN0YWdlOiB1c2Ugc2VjdG9yIHJhZGl1cyArIHByZXZpZXcgaWNvbjsgdHJhY2tpbmcgc3RheXMgb24gYnV0IGNhcHR1cmUgcmVtYWlucyBpbmFjdGl2ZS4KICAgIHNldE92ZXJ0aW1lU2VjdG9yc0ZvclNlbGVjdGVkKFN0YXRlLmZsYWcuYWN0aXZlU2VjdG9ySWQpOwogICAgc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRzRm9yU2VsZWN0ZWQoU3RhdGUuZmxhZy5hY3RpdmVDYXB0dXJlUG9pbnRJZCk7CiAgICBzaG93T3ZlcnRpbWVGbGFnUHJldmlld0ljb24odHJ1ZSk7CiAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICB1cGRhdGVPdmVydGltZUh1ZEZvckFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGxldHRlcktleSA9IGdldEFjdGl2ZU92ZXJ0aW1lRmxhZ0xldHRlcktleSgpOwogICAgY29uc3Qgb3ZlcnJpZGVVc2VkID0gU3RhdGUuZmxhZy5vdmVycmlkZVVzZWRUaGlzUm91bmQ7IC8vIEFkbWluIG92ZXJyaWRlIHVzZXMgdGhlIHJlZCBjYWxsb3V0ICsgdGV4dC4KICAgIHZvaWQgc2hvd0dsb2JhbFRpdGxlU3VidGl0bGVNZXNzYWdlRm9yQWxsUGxheWVycygKICAgICAgICBtb2QuTWVzc2FnZShvdmVycmlkZVVzZWQgPyBTVFJfT1ZFUlRJTUVfVElUTEVfVklTSUJMRV9BRE1JTiA6IFNUUl9PVkVSVElNRV9USVRMRV9WSVNJQkxFLCBsZXR0ZXJLZXkpLAogICAgICAgIHVuZGVmaW5lZCwKICAgICAgICBvdmVycmlkZVVzZWQgPyBDT0xPUl9SRUQgOiBDT0xPUl9XSElURSwKICAgICAgICBvdmVycmlkZVVzZWQgPyBDT0xPUl9SRUQgOiBDT0xPUl9XSElURSwKICAgICAgICBCSUdfTUVTU0FHRV9EVVJBVElPTl9TRUNPTkRTLAogICAgICAgIFNNQUxMX01FU1NBR0VfTEFZT1VUCiAgICApOwp9CgpmdW5jdGlvbiBlbnRlck92ZXJ0aW1lQWN0aXZlU3RhZ2UocmVtYWluaW5nU2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoIXNlbGVjdE92ZXJ0aW1lWm9uZUZvclJvdW5kKCkpIHJldHVybjsKICAgIFN0YXRlLmZsYWcuc3RhZ2UgPSBPdmVydGltZVN0YWdlLkFjdGl2ZTsKICAgIFN0YXRlLmZsYWcuYWN0aXZlID0gdHJ1ZTsKICAgIC8vIEFjdGl2ZSBzdGFnZTogY2FwdHVyZSBsb2dpYyArIEhVRCBlbmFibGVkIChBcmVhVHJpZ2dlciBldmVudHMgYXJlIGF1dGhvcml0YXRpdmUpLgogICAgc2V0T3ZlcnRpbWVTZWN0b3JzRm9yU2VsZWN0ZWQoU3RhdGUuZmxhZy5hY3RpdmVTZWN0b3JJZCk7CiAgICBzZXRPdmVydGltZUNhcHR1cmVQb2ludHNGb3JTZWxlY3RlZChTdGF0ZS5mbGFnLmFjdGl2ZUNhcHR1cmVQb2ludElkKTsKICAgIHNob3dPdmVydGltZUZsYWdQcmV2aWV3SWNvbihmYWxzZSk7CiAgICAvLyBGYWlsc2FmZTogcmVmcmVzaCB3b3JsZC1pY29uIHRleHQgb24gYWN0aXZhdGlvbi4KICAgIHVwZGF0ZU92ZXJ0aW1lQWN0aXZlUHJldmlld0ljb25UZXh0KCk7CiAgICBjb25zdCBsZXR0ZXJLZXkgPSBnZXRBY3RpdmVPdmVydGltZUZsYWdMZXR0ZXJLZXkoKTsKICAgIHZvaWQgc2hvd0dsb2JhbFRpdGxlU3VidGl0bGVNZXNzYWdlRm9yQWxsUGxheWVycygKICAgICAgICBtb2QuTWVzc2FnZShTVFJfT1ZFUlRJTUVfU1VCX1VOTE9DS1NfTk9XLCBsZXR0ZXJLZXkpLAogICAgICAgIHVuZGVmaW5lZCwKICAgICAgICBDT0xPUl9XSElURSwKICAgICAgICBDT0xPUl9XSElURSwKICAgICAgICBCSUdfTUVTU0FHRV9EVVJBVElPTl9TRUNPTkRTLAogICAgICAgIFNNQUxMX01FU1NBR0VfTEFZT1VUCiAgICApOwogICAgc3RhcnRPdmVydGltZUNhcHR1cmVMb29wKCk7CiAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7Cn0KCmZ1bmN0aW9uIG1heWJlU2VuZE92ZXJ0aW1lVW5sb2NrUmVtaW5kZXIocmVtYWluaW5nU2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICAvLyBEaXNhYmxlZDogdW5sb2NrIHJlbWluZGVyIHN1YnRpdGxlIG1lc3NhZ2VzIGFyZSBjdXJyZW50bHkgaGlkZGVuLgogICAgcmV0dXJuOwogICAgaWYgKFN0YXRlLmZsYWcudW5sb2NrUmVtaW5kZXJTZW50KSByZXR1cm47CiAgICBjb25zdCB0aHJlc2hvbGQgPSBPVkVSVElNRV9TVEFHRV9BQ1RJVkVfU0VDT05EUyArIE9WRVJUSU1FX1VOTE9DS19SRU1JTkRFUl9TRUNPTkRTOwogICAgaWYgKHJlbWFpbmluZ1NlY29uZHMgPD0gdGhyZXNob2xkKSB7CiAgICAgICAgU3RhdGUuZmxhZy51bmxvY2tSZW1pbmRlclNlbnQgPSB0cnVlOwogICAgICAgIGNvbnN0IGxldHRlcktleSA9IGdldEFjdGl2ZU92ZXJ0aW1lRmxhZ0xldHRlcktleSgpOwogICAgICAgIHZvaWQgc2hvd0R5bmFtaWNHbG9iYWxUaXRsZVN1YnRpdGxlTWVzc2FnZUZvckFsbFBsYXllcnMoCiAgICAgICAgICAgIHVuZGVmaW5lZCwKICAgICAgICAgICAgKHJlbWFpbmluZykgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdW5sb2NrU2Vjb25kcyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IocmVtYWluaW5nIC0gT1ZFUlRJTUVfU1RBR0VfQUNUSVZFX1NFQ09ORFMpKTsKICAgICAgICAgICAgICAgIHJldHVybiBtb2QuTWVzc2FnZShTVFJfT1ZFUlRJTUVfU1VCX1VOTE9DS1NfSU4sIGxldHRlcktleSwgdW5sb2NrU2Vjb25kcyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIENPTE9SX1dISVRFLAogICAgICAgICAgICBDT0xPUl9XSElURSwKICAgICAgICAgICAgQklHX01FU1NBR0VfRFVSQVRJT05fU0VDT05EUywKICAgICAgICAgICAgMSwKICAgICAgICAgICAgU01BTExfTUVTU0FHRV9MQVlPVVQsCiAgICAgICAgICAgIHNob3VsZFNob3dPdmVydGltZVVubG9ja01lc3NhZ2VGb3JQbGF5ZXIKICAgICAgICApOwogICAgfQp9CgpmdW5jdGlvbiByZXNvbHZlT3ZlcnRpbWVXaW5uZXJBdENsb2NrRXhwaXJ5KCk6IFRlYW1JRCB8IDAgfCB1bmRlZmluZWQgewogICAgLy8gQXQgZXhwaXJ5LCBjYXB0dXJlIHByb2dyZXNzIGRlY2lkZXMgdW5sZXNzIGV4YWN0bHkgbmV1dHJhbCAoMC41KSwgd2hpY2ggZmFsbHMgYmFjayB0byBraWxscy4KICAgIGlmICghU3RhdGUuZmxhZy5jb25maWdWYWxpZCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGlmIChTdGF0ZS5mbGFnLnByb2dyZXNzID4gMC41KSByZXR1cm4gVGVhbUlELlRlYW0xOwogICAgaWYgKFN0YXRlLmZsYWcucHJvZ3Jlc3MgPCAwLjUpIHJldHVybiBUZWFtSUQuVGVhbTI7CiAgICByZXR1cm4gdW5kZWZpbmVkOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3ZlcnRpbWUgRmxhZyBDYXB0dXJlIC0gU3RhZ2UgVHJhbnNpdGlvbnMgKyBNZXNzYWdpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE1hdGNoIENsb2NrIC0gVXBkYXRlICsgU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIENsb2NrV2lkZ2V0Q2FjaGVFbnRyeToKLy8gQ2FjaGVzIGFsbCBVSSB3aWRnZXQgcmVmZXJlbmNlcyByZXF1aXJlZCB0byByZW5kZXIgdGhlIHJvdW5kIGNsb2NrIGZvciBvbmUgcGxheWVyLgovLyBUaGlzIHByZXZlbnRzIHJlcGVhdGVkIEZpbmRVSVdpZGdldCBjYWxscyBkdXJpbmcgY2xvY2sgdXBkYXRlcyAocGVyZm9ybWFuY2UgY3JpdGljYWwpLgovLyBMaWZlY3ljbGU6Ci8vIC0gQ3JlYXRlZCBvbmNlIHBlciBwbGF5ZXIgYnkgZW5zdXJlQ2xvY2tVSUFuZEdldENhY2hlLgovLyAtIFJldXNlZCBvbiBldmVyeSBjbG9jayB0aWNrLgovLyAtIFNhZmUgdG8gZGlzY2FyZCBpZiBIVUQgaXMgcmVidWlsdCAod2lsbCBiZSByZWNyZWF0ZWQpLgppbnRlcmZhY2UgQ2xvY2tXaWRnZXRDYWNoZUVudHJ5IHsKICAgIHJvb3ROYW1lOiBzdHJpbmc7CiAgICByb3VuZFN0YXRlUm9vdE5hbWU6IHN0cmluZzsKICAgIHJvdW5kTGl2ZUhlbHBSb290TmFtZTogc3RyaW5nOwogICAgcm91bmRTdGF0ZVRleHQ/OiBtb2QuVUlXaWRnZXQ7CiAgICBwbGF5ZXJzUmVhZHlUZXh0PzogbW9kLlVJV2lkZ2V0OwogICAgcm91bmRMaXZlSGVscFJvb3Q/OiBtb2QuVUlXaWRnZXQ7CiAgICByb3VuZExpdmVIZWxwVGV4dD86IG1vZC5VSVdpZGdldDsKICAgIG1pblRlbnM6IG1vZC5VSVdpZGdldDsKICAgIG1pbk9uZXM6IG1vZC5VSVdpZGdldDsKICAgIGNvbG9uOiBtb2QuVUlXaWRnZXQ7CiAgICBzZWNUZW5zOiBtb2QuVUlXaWRnZXQ7CiAgICBzZWNPbmVzOiBtb2QuVUlXaWRnZXQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBSZXNldFJvdW5kQ2xvY2soc2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCBjbGFtcGVkU2Vjb25kcyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3Ioc2Vjb25kcykpOwogICAgU3RhdGUucm91bmQuY2xvY2suZHVyYXRpb25TZWNvbmRzID0gY2xhbXBlZFNlY29uZHM7CiAgICBTdGF0ZS5yb3VuZC5jbG9jay5yb3VuZExlbmd0aFNlY29uZHMgPSBjbGFtcGVkU2Vjb25kczsKICAgIFN0YXRlLnJvdW5kLmNsb2NrLm1hdGNoU3RhcnRFbGFwc2VkU2Vjb25kcyA9IE1hdGguZmxvb3IobW9kLkdldE1hdGNoVGltZUVsYXBzZWQoKSk7CgogICAgU3RhdGUucm91bmQuY2xvY2suaXNQYXVzZWQgPSBmYWxzZTsKICAgIFN0YXRlLnJvdW5kLmNsb2NrLnBhdXNlZFJlbWFpbmluZ1NlY29uZHMgPSB1bmRlZmluZWQ7CgogICAgU3RhdGUucm91bmQuY2xvY2suZXhwaXJ5RmlyZWQgPSBmYWxzZTsKICAgIFN0YXRlLnJvdW5kLmNsb2NrLmxhc3REaXNwbGF5ZWRTZWNvbmRzID0gdW5kZWZpbmVkOwogICAgU3RhdGUucm91bmQuY2xvY2subGFzdExvd1RpbWVTdGF0ZSA9IHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gZ2V0UmVtYWluaW5nU2Vjb25kcygpOiBudW1iZXIgewogICAgaWYgKFN0YXRlLnJvdW5kLmNsb2NrLmlzUGF1c2VkKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIFN0YXRlLnJvdW5kLmNsb2NrLnBhdXNlZFJlbWFpbmluZ1NlY29uZHMgIT09IHVuZGVmaW5lZCA/IFN0YXRlLnJvdW5kLmNsb2NrLnBhdXNlZFJlbWFpbmluZ1NlY29uZHMgOiAwKTsKICAgIH0KCiAgICBpZiAoU3RhdGUucm91bmQuY2xvY2subWF0Y2hTdGFydEVsYXBzZWRTZWNvbmRzID09PSB1bmRlZmluZWQpIHJldHVybiAwOwoKICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpIC0gU3RhdGUucm91bmQuY2xvY2subWF0Y2hTdGFydEVsYXBzZWRTZWNvbmRzOwogICAgcmV0dXJuIE1hdGgubWF4KDAsIFN0YXRlLnJvdW5kLmNsb2NrLmR1cmF0aW9uU2Vjb25kcyAtIGVsYXBzZWQpOwp9CgpmdW5jdGlvbiBhZGp1c3RSb3VuZENsb2NrQnlTZWNvbmRzKGRlbHRhU2Vjb25kczogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCBkZWx0YSA9IE1hdGguZmxvb3IoZGVsdGFTZWNvbmRzKTsKCiAgICBpZiAoU3RhdGUucm91bmQuY2xvY2suaXNQYXVzZWQpIHsKICAgICAgICBjb25zdCBjdXJyZW50ID0gU3RhdGUucm91bmQuY2xvY2sucGF1c2VkUmVtYWluaW5nU2Vjb25kcyAhPT0gdW5kZWZpbmVkID8gU3RhdGUucm91bmQuY2xvY2sucGF1c2VkUmVtYWluaW5nU2Vjb25kcyA6IDA7CiAgICAgICAgU3RhdGUucm91bmQuY2xvY2sucGF1c2VkUmVtYWluaW5nU2Vjb25kcyA9IE1hdGgubWF4KDAsIGN1cnJlbnQgKyBkZWx0YSk7CiAgICAgICAgU3RhdGUucm91bmQuY2xvY2suZHVyYXRpb25TZWNvbmRzID0gTWF0aC5tYXgoMCwgU3RhdGUucm91bmQuY2xvY2suZHVyYXRpb25TZWNvbmRzICsgZGVsdGEpOwogICAgfSBlbHNlIHsKICAgICAgICBTdGF0ZS5yb3VuZC5jbG9jay5kdXJhdGlvblNlY29uZHMgPSBNYXRoLm1heCgwLCBTdGF0ZS5yb3VuZC5jbG9jay5kdXJhdGlvblNlY29uZHMgKyBkZWx0YSk7CiAgICB9CgogICAgaWYgKGRlbHRhID4gMCkgewogICAgICAgIFN0YXRlLnJvdW5kLmNsb2NrLmV4cGlyeUZpcmVkID0gZmFsc2U7CiAgICB9CgogICAgU3RhdGUucm91bmQuY2xvY2subGFzdERpc3BsYXllZFNlY29uZHMgPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS5yb3VuZC5jbG9jay5sYXN0TG93VGltZVN0YXRlID0gdW5kZWZpbmVkOwp9CgpmdW5jdGlvbiByZXNldFJvdW5kQ2xvY2tUb0RlZmF1bHQoKTogdm9pZCB7CiAgICBSZXNldFJvdW5kQ2xvY2soUk9VTkRfU1RBUlRfU0VDT05EUyk7Cn0KCi8vIE5PVEU6IFRoaXMgY291bnRzIHJlZ2lzdGVyZWQvc2NvcmluZyB2ZWhpY2xlcywgbm90IGV2ZXJ5IHNwYXduZWQgdmVoaWNsZSBpbiB0aGUgd29ybGQuCmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRWZWhpY2xlQ291bnQodGVhbU51bTogVGVhbUlEKTogbnVtYmVyIHsKICAgIGNvbnN0IGFyciA9IHRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMQogICAgICAgID8gbW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTEpCiAgICAgICAgOiBtb2QuR2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMik7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihtb2QuQ291bnRPZihhcnIpKSk7Cn0KCi8vIFB1c2hlcyB0aGUgY3VycmVudCByb3VuZCBjbG9jayBzdGF0ZSB0byBhbGwgcGxheWVycycgSFVEcy4KLy8gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYW55IG1hbnVhbCBhZG1pbiBhZGp1c3RtZW50IG9yIHJlc2V0IG9mIHRoZSBjbG9jay4KCi8qKgogKiBSZWZyZXNoZXMgdGhlIHZpc2libGUgcm91bmQgY2xvY2sgZm9yIGFsbCBwbGF5ZXJzLgogKiBFeHBlY3RlZCB1c2FnZToKICogLSBDYWxsZWQgd2hlbiB0aGUgYXV0aG9yaXRhdGl2ZSBjbG9jayBzZWNvbmRzIGNoYW5nZSAodGljaykgb3Igd2hlbiBjbG9jayBzdHlsZSBjaGFuZ2VzIChsb3cgdGltZSkuCiAqIFBlcmZvcm1hbmNlIG5vdGU6CiAqIC0gVGhpcyBzaG91bGQgcmVtYWluIGEgbGlnaHR3ZWlnaHQgcGFzcyB0aGF0IG9ubHkgdXBkYXRlcyB3aWRnZXRzIHdoZW4gdGhlIGRpc3BsYXllZCB2YWx1ZSBjaGFuZ2VzLgogKi8KCmZ1bmN0aW9uIHVwZGF0ZUFsbFBsYXllcnNDbG9jaygpOiB2b2lkIHsKICAgIGNvbnN0IHJlbWFpbmluZyA9IGdldFJlbWFpbmluZ1NlY29uZHMoKTsKCiAgICBpZiAoIVN0YXRlLnJvdW5kLmNsb2NrLmV4cGlyeUZpcmVkICYmIHJlbWFpbmluZyA8PSAwKSB7CiAgICAgICAgU3RhdGUucm91bmQuY2xvY2suZXhwaXJ5RmlyZWQgPSB0cnVlOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUucm91bmQuY2xvY2suZXhwaXJ5SGFuZGxlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgU3RhdGUucm91bmQuY2xvY2suZXhwaXJ5SGFuZGxlcnNbaV0oKTsKICAgICAgICB9CiAgICB9CgogICAgY29uc3QgbG93VGltZSA9IHJlbWFpbmluZyA8IExPV19USU1FX1RIUkVTSE9MRF9TRUNPTkRTOwoKICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHJlbWFpbmluZyAvIDYwKTsKICAgIC8vIFJlYWQgdGhlIGF1dGhvcml0YXRpdmUgcmVtYWluaW5nIHNlY29uZHMgZm9yIHRoZSByb3VuZCBjbG9jay4KY29uc3Qgc2Vjb25kcyA9IHJlbWFpbmluZyAlIDYwOwoKICAgIGNvbnN0IGRpZ2l0cyA9IHsKICAgICAgICBtVDogTWF0aC5mbG9vcihtaW51dGVzIC8gMTApLAogICAgICAgIG1POiBtaW51dGVzICUgMTAsCiAgICAgICAgc1Q6IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDEwKSwKICAgICAgICBzTzogc2Vjb25kcyAlIDEwLAogICAgfTsKCiAgICBjb25zdCBzaG93VmVoaWNsZXNBbGl2ZSA9IGlzUm91bmRMaXZlKCkgJiYgIVN0YXRlLnJvdW5kLmZsb3cuY2xlYW51cEFjdGl2ZSAmJiAhU3RhdGUubWF0Y2guaXNFbmRlZDsKICAgIGNvbnN0IHZlaGljbGVzQWxpdmVUMSA9IHNob3dWZWhpY2xlc0FsaXZlID8gZ2V0UmVnaXN0ZXJlZFZlaGljbGVDb3VudChUZWFtSUQuVGVhbTEpIDogMDsKICAgIGNvbnN0IHZlaGljbGVzQWxpdmVUMiA9IHNob3dWZWhpY2xlc0FsaXZlID8gZ2V0UmVnaXN0ZXJlZFZlaGljbGVDb3VudChUZWFtSUQuVGVhbTIpIDogMDsKCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGxheWVyID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSBjb250aW51ZTsKCiAgICAgICAgLy8gRW5zdXJlIGVhY2ggcGxheWVyJ3MgY2xvY2sgd2lkZ2V0cyBleGlzdCBhbmQgZ2V0IGNhY2hlZCByZWZzIGZvciBlZmZpY2llbnQgdXBkYXRlcy4KICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gZW5zdXJlQ2xvY2tVSUFuZEdldENhY2hlKHBsYXllcik7CiAgICAgICAgaWYgKCFjYWNoZUVudHJ5KSBjb250aW51ZTsKCiAgICAgICAgaWYgKFN0YXRlLnJvdW5kLmNsb2NrLmxhc3RMb3dUaW1lU3RhdGUgPT09IHVuZGVmaW5lZCB8fCBsb3dUaW1lICE9PSBTdGF0ZS5yb3VuZC5jbG9jay5sYXN0TG93VGltZVN0YXRlKSB7CiAgICAgICAgICAgIHNldENsb2NrQ29sb3JDYWNoZWQoY2FjaGVFbnRyeSwgbG93VGltZSA/IENPTE9SX0xPV19USU1FIDogQ09MT1JfTk9STUFMKTsKICAgICAgICB9CgogICAgICAgIGlmIChTdGF0ZS5yb3VuZC5jbG9jay5sYXN0RGlzcGxheWVkU2Vjb25kcyAhPT0gcmVtYWluaW5nKSB7CiAgICAgICAgICAgIHNldERpZ2l0Q2FjaGVkKGNhY2hlRW50cnkubWluVGVucywgZGlnaXRzLm1UKTsKICAgICAgICAgICAgc2V0RGlnaXRDYWNoZWQoY2FjaGVFbnRyeS5taW5PbmVzLCBkaWdpdHMubU8pOwogICAgICAgICAgICBzZXRDb2xvbkNhY2hlZChjYWNoZUVudHJ5LmNvbG9uKTsKICAgICAgICAgICAgc2V0RGlnaXRDYWNoZWQoY2FjaGVFbnRyeS5zZWNUZW5zLCBkaWdpdHMuc1QpOwogICAgICAgICAgICBzZXREaWdpdENhY2hlZChjYWNoZUVudHJ5LnNlY09uZXMsIGRpZ2l0cy5zTyk7CiAgICAgICAgfQoKICAgICAgICB1cGRhdGVWaWN0b3J5RGlhbG9nRm9yUGxheWVyKHBsYXllciwgcmVtYWluaW5nKTsKCiAgICAgICAgY29uc3QgcGlkID0gbW9kLkdldE9iaklkKHBsYXllcik7CiAgICAgICAgY29uc3QgcmVmcyA9IFN0YXRlLmh1ZENhY2hlLmh1ZEJ5UGlkW3BpZF0gPz8gZW5zdXJlSHVkRm9yUGxheWVyKHBsYXllcik7CiAgICAgICAgaWYgKHJlZnM/LmxlZnRWZWhpY2xlc0FsaXZlVGV4dCkgewogICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHJlZnMubGVmdFZlaGljbGVzQWxpdmVUZXh0LCBzaG93VmVoaWNsZXNBbGl2ZSk7CiAgICAgICAgICAgIGlmIChzaG93VmVoaWNsZXNBbGl2ZSkgewogICAgICAgICAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKAogICAgICAgICAgICAgICAgICAgIHJlZnMubGVmdFZlaGljbGVzQWxpdmVUZXh0LAogICAgICAgICAgICAgICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQudmVoaWNsZXNBbGl2ZUZvcm1hdCwgdmVoaWNsZXNBbGl2ZVQxKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAocmVmcz8ucmlnaHRWZWhpY2xlc0FsaXZlVGV4dCkgewogICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHJlZnMucmlnaHRWZWhpY2xlc0FsaXZlVGV4dCwgc2hvd1ZlaGljbGVzQWxpdmUpOwogICAgICAgICAgICBpZiAoc2hvd1ZlaGljbGVzQWxpdmUpIHsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCgKICAgICAgICAgICAgICAgICAgICByZWZzLnJpZ2h0VmVoaWNsZXNBbGl2ZVRleHQsCiAgICAgICAgICAgICAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC52ZWhpY2xlc0FsaXZlRm9ybWF0LCB2ZWhpY2xlc0FsaXZlVDIpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFN0YXRlLnJvdW5kLmNsb2NrLmxhc3RMb3dUaW1lU3RhdGUgPSBsb3dUaW1lOwogICAgU3RhdGUucm91bmQuY2xvY2subGFzdERpc3BsYXllZFNlY29uZHMgPSByZW1haW5pbmc7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBNYXRjaCBDbG9jayAtIFVwZGF0ZSArIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBNYXRjaCBDbG9jayAtIFVJIEJ1aWxkICsgQ2FjaGUgSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovKioKICogRW5zdXJlcyB0aGUgY2xvY2sgVUkgd2lkZ2V0cyBleGlzdCBmb3IgYSBnaXZlbiBwbGF5ZXIgYW5kIHJldHVybnMgdGhlIGNhY2hlZCByZWZlcmVuY2VzLgogKiBSZXNwb25zaWJpbGl0aWVzOgogKiAtIENyZWF0ZSBhbnkgbWlzc2luZyBkaWdpdC9jb2xvbiB3aWRnZXRzIChvbmUtdGltZSBwZXIgcGxheWVyKS4KICogLSBSZXR1cm4gYSBjYWNoZSBvYmplY3QgdGhhdCB0aGUgY2xvY2sgdXBkYXRlIGNvZGUgY2FuIHVzZSB3aXRob3V0IHJlcGVhdGVkIHdpZGdldCBsb29rdXBzLgogKiBOb24tcmVzcG9uc2liaWxpdGllczoKICogLSBEb2VzIG5vdCBzdGFydC9zdG9wIHRoZSBjbG9jazsgaXQgb25seSBlbnN1cmVzIFVJIGV4aXN0cy4KICovCgpmdW5jdGlvbiBlbnN1cmVDbG9ja1VJQW5kR2V0Q2FjaGUocGxheWVyOiBtb2QuUGxheWVyKTogQ2xvY2tXaWRnZXRDYWNoZUVudHJ5IHwgdW5kZWZpbmVkIHsKICAgIC8vIENsb2NrIHdpZGdldHMgYXJlIHN0b3JlZCBwZXItcGxheWVyOyBkZXJpdmUgcGlkIGZvciBjYWNoZSBsb29rdXAuCmNvbnN0IHBpZCA9IG1vZC5HZXRPYmpJZChwbGF5ZXIpOwogICAgY29uc3Qgcm9vdE5hbWUgPSAiTWF0Y2hUaW1lclJvb3RfIiArIHBpZDsKICAgIGNvbnN0IHJvdW5kU3RhdGVSb290TmFtZSA9ICJSb3VuZFN0YXRlUm9vdF8iICsgcGlkOwogICAgY29uc3Qgcm91bmRMaXZlSGVscFJvb3ROYW1lID0gIlJvdW5kTGl2ZUhlbHBSb290XyIgKyBwaWQ7CgogICAgY29uc3QgY2FjaGVkID0gU3RhdGUuaHVkQ2FjaGUuY2xvY2tXaWRnZXRDYWNoZVtwaWRdOwogICAgaWYgKGNhY2hlZCkgewogICAgICAgIGNvbnN0IHByb2JlQ2xvY2sgPSBzYWZlRmluZChjYWNoZWQucm9vdE5hbWUpOwogICAgICAgIGNvbnN0IHByb2JlU3RhdGUgPSBzYWZlRmluZChjYWNoZWQucm91bmRTdGF0ZVJvb3ROYW1lKTsKICAgICAgICBjb25zdCBwcm9iZUhlbHAgPSBzYWZlRmluZChjYWNoZWQucm91bmRMaXZlSGVscFJvb3ROYW1lKTsKICAgICAgICBpZiAocHJvYmVDbG9jayAmJiBwcm9iZVN0YXRlICYmIHByb2JlSGVscCkgewogICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbihwcm9iZUhlbHAsIG1vZC5DcmVhdGVWZWN0b3IoQ0xPQ0tfUE9TSVRJT05fWCwgQ0xPQ0tfUE9TSVRJT05fWSArIFJPVU5EX0xJVkVfSEVMUF9PRkZTRVRfWSwgMCkpOwogICAgICAgICAgICBlbnN1cmVUb3BIdWRSb290Rm9yUGlkKHBpZCwgcGxheWVyKTsKICAgICAgICAgICAgc2V0SHVkSGVscERlcHRoRm9yUGlkKHBpZCk7CiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IGRpZ2l0V2lkdGggPSBDTE9DS19XSURUSCAqIDAuMTI7CiAgICBjb25zdCBjb2xvbldpZHRoID0gQ0xPQ0tfV0lEVEggKiAwLjA2OwoKICAgIGNvbnN0IHhPZmZzZXRzID0gewogICAgICAgIG1pblRlbnM6IC1kaWdpdFdpZHRoICogMS44ICsgMTQsIAogICAgICAgIG1pbk9uZXM6IC1kaWdpdFdpZHRoICogMC44ICsgOCwgCiAgICAgICAgY29sb246IC1kaWdpdFdpZHRoICogMC4wNSwKICAgICAgICBzZWNUZW5zOiBkaWdpdFdpZHRoICogMC45IC0gMTAsIAogICAgICAgIHNlY09uZXM6IGRpZ2l0V2lkdGggKiAxLjkgLSAxNiwgCiAgICB9OwoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiByb290TmFtZSwKICAgICAgICB0eXBlOiAiQ29udGFpbmVyIiwKICAgICAgICBwbGF5ZXJJZDogcGxheWVyLAogICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAvLyBwb3NpdGlvbjogW3gsIHldIG9mZnNldDsgZGlyZWN0aW9uIGRlcGVuZHMgb24gYW5jaG9yLCBzbyB2ZXJpZnkgdmlzdWFsbHkgaW4tZ2FtZQogICAgICAgIHBvc2l0aW9uOiBbQ0xPQ0tfUE9TSVRJT05fWCwgQ0xPQ0tfUE9TSVRJT05fWV0sCiAgICAgICAgc2l6ZTogW0NMT0NLX1dJRFRILCBDTE9DS19IRUlHSFRdLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAvLyBTbG93IHBhdGg6IGNyZWF0ZSBkaWdpdCB3aWRnZXRzIG9uY2UgcGVyIHBsYXllciwgdGhlbiBjYWNoZSByZWZzIGZvciBmdXR1cmUgdXBkYXRlcy4KICAgICAgICAgICAgYnVpbGREaWdpdCgiTWluVGVucyIsIHBpZCwgeE9mZnNldHMubWluVGVucywgZGlnaXRXaWR0aCksCiAgICAgICAgICAgIGJ1aWxkRGlnaXQoIk1pbk9uZXMiLCBwaWQsIHhPZmZzZXRzLm1pbk9uZXMsIGRpZ2l0V2lkdGgpLAogICAgICAgICAgICBidWlsZENvbG9uKHBpZCwgeE9mZnNldHMuY29sb24sIGNvbG9uV2lkdGgpLAogICAgICAgICAgICBidWlsZERpZ2l0KCJTZWNUZW5zIiwgcGlkLCB4T2Zmc2V0cy5zZWNUZW5zLCBkaWdpdFdpZHRoKSwKICAgICAgICAgICAgYnVpbGREaWdpdCgiU2VjT25lcyIsIHBpZCwgeE9mZnNldHMuc2VjT25lcywgZGlnaXRXaWR0aCksCiAgICAgICAgXSwKICAgIH0pOwoKICAgIC8vIENyZWF0ZSByb3VuZC1zdGF0ZSB0ZXh0IHVuZGVyIHRoZSBtYXRjaCBjbG9jayBmb3IgdGhpcyBwbGF5ZXIuCiAgICBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgbmFtZTogcm91bmRTdGF0ZVJvb3ROYW1lLAogICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgcG9zaXRpb246IFtDTE9DS19QT1NJVElPTl9YLCBDTE9DS19QT1NJVElPTl9ZICsgQ0xPQ0tfSEVJR0hUIC0gMTBdLAogICAgICAgIHNpemU6IFtDTE9DS19XSURUSCwgMzRdLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAiUm91bmRTdGF0ZVRleHRfIiArIHBpZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDBdLAogICAgICAgICAgICAgICAgc2l6ZTogW0NMT0NLX1dJRFRILCAxOF0sCiAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgcGFkZGluZzogMCwKICAgICAgICAgICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgICAgICAgICAgdGV4dExhYmVsOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLnJvdW5kU3RhdGVOb3RSZWFkeSwKICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDFdLAogICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogIlBsYXllcnNSZWFkeVRleHRfIiArIHBpZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICAgICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsIDE0XSwKICAgICAgICAgICAgICAgIHNpemU6IFtDTE9DS19XSURUSCwgMThdLAogICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICAvLyBQbGFjZWhvbGRlciBsYWJlbDsgcnVudGltZSB3aWxsIHNldCBmdWxsICJ7WH0gLyB7WX0gUExBWUVSUyBSRUFEWSIgZm9ybWF0LgogICAgICAgICAgICAgICAgdGV4dExhYmVsOiAiIiwKICAgICAgICAgICAgICAgIC8vIFllbGxvdywgbWF0Y2hpbmcgb3RoZXIgaW1wb3J0YW50IEhVRCBjYWxsb3V0cy4KICAgICAgICAgICAgICAgIHRleHRDb2xvcjogWzEsIDEsIDBdLAogICAgICAgICAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgICAgICAgICAgdGV4dFNpemU6IDExLAogICAgICAgICAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICAgICAgfSwKICAgICAgICBdLAogICAgfSk7CgogICAgLy8gQ3JlYXRlIHJvdW5kLWxpdmUgaGVscCB0ZXh0IHVuZGVyIHRoZSByb3VuZC1zdGF0ZSBmb3IgdGhpcyBwbGF5ZXIuCiAgICBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgbmFtZTogcm91bmRMaXZlSGVscFJvb3ROYW1lLAogICAgICAgIHR5cGU6ICJDb250YWluZXIiLAogICAgICAgIHBsYXllcklkOiBwbGF5ZXIsCiAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgIC8vIHBvc2l0aW9uOiBbeCwgeV0gb2Zmc2V0OyBkaXJlY3Rpb24gZGVwZW5kcyBvbiBhbmNob3IsIHNvIHZlcmlmeSB2aXN1YWxseSBpbi1nYW1lCiAgICAgICAgcG9zaXRpb246IFtDTE9DS19QT1NJVElPTl9YLCBDTE9DS19QT1NJVElPTl9ZICsgUk9VTkRfTElWRV9IRUxQX09GRlNFVF9ZXSwKICAgICAgICBzaXplOiBbUk9VTkRfTElWRV9IRUxQX1dJRFRILCBST1VORF9MSVZFX0hFTFBfSEVJR0hUXSwKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJSb3VuZExpdmVIZWxwVGV4dF8iICsgcGlkLAogICAgICAgICAgICAgICAgdHlwZTogIlRleHQiLAogICAgICAgICAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgICAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF0sCiAgICAgICAgICAgICAgICBzaXplOiBbUk9VTkRfTElWRV9IRUxQX1dJRFRILCBST1VORF9MSVZFX0hFTFBfSEVJR0hUXSwKICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICAgICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5odWQucm91bmRMaXZlSGVscEZvcm1hdCwgMCksCiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICAgICAgICAgIHRleHRBbHBoYTogMSwKICAgICAgICAgICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICAgICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgIH0pOwoKICAgIGNvbnN0IGVudHJ5OiBDbG9ja1dpZGdldENhY2hlRW50cnkgPSB7CiAgICAgICAgcm9vdE5hbWU6IHJvb3ROYW1lLAogICAgICAgIHJvdW5kU3RhdGVSb290TmFtZTogcm91bmRTdGF0ZVJvb3ROYW1lLAogICAgICAgIHJvdW5kTGl2ZUhlbHBSb290TmFtZTogcm91bmRMaXZlSGVscFJvb3ROYW1lLAogICAgICAgIG1pblRlbnM6IHNhZmVGaW5kKCJNYXRjaFRpbWVyTWluVGVuc18iICsgcGlkKSBhcyBtb2QuVUlXaWRnZXQsCiAgICAgICAgbWluT25lczogc2FmZUZpbmQoIk1hdGNoVGltZXJNaW5PbmVzXyIgKyBwaWQpIGFzIG1vZC5VSVdpZGdldCwKICAgICAgICBjb2xvbjogc2FmZUZpbmQoIk1hdGNoVGltZXJDb2xvbl8iICsgcGlkKSBhcyBtb2QuVUlXaWRnZXQsCiAgICAgICAgc2VjVGVuczogc2FmZUZpbmQoIk1hdGNoVGltZXJTZWNUZW5zXyIgKyBwaWQpIGFzIG1vZC5VSVdpZGdldCwKICAgICAgICBzZWNPbmVzOiBzYWZlRmluZCgiTWF0Y2hUaW1lclNlY09uZXNfIiArIHBpZCkgYXMgbW9kLlVJV2lkZ2V0LAogICAgICAgIHJvdW5kU3RhdGVUZXh0OiBzYWZlRmluZCgiUm91bmRTdGF0ZVRleHRfIiArIHBpZCkgYXMgbW9kLlVJV2lkZ2V0LAogICAgICAgIHBsYXllcnNSZWFkeVRleHQ6IHNhZmVGaW5kKCJQbGF5ZXJzUmVhZHlUZXh0XyIgKyBwaWQpIGFzIG1vZC5VSVdpZGdldCwKICAgICAgICByb3VuZExpdmVIZWxwUm9vdDogc2FmZUZpbmQocm91bmRMaXZlSGVscFJvb3ROYW1lKSBhcyBtb2QuVUlXaWRnZXQsCiAgICAgICAgcm91bmRMaXZlSGVscFRleHQ6IHNhZmVGaW5kKCJSb3VuZExpdmVIZWxwVGV4dF8iICsgcGlkKSBhcyBtb2QuVUlXaWRnZXQsCiAgICB9OwoKICAgIGlmICgKICAgICAgICAhZW50cnkubWluVGVucyB8fAogICAgICAgICFlbnRyeS5taW5PbmVzIHx8CiAgICAgICAgIWVudHJ5LmNvbG9uIHx8CiAgICAgICAgIWVudHJ5LnNlY1RlbnMgfHwKICAgICAgICAhZW50cnkuc2VjT25lcyB8fAogICAgICAgICFlbnRyeS5yb3VuZFN0YXRlVGV4dCB8fAogICAgICAgICFlbnRyeS5wbGF5ZXJzUmVhZHlUZXh0IHx8CiAgICAgICAgIWVudHJ5LnJvdW5kTGl2ZUhlbHBSb290IHx8CiAgICAgICAgIWVudHJ5LnJvdW5kTGl2ZUhlbHBUZXh0CiAgICApIHsKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIFN0YXRlLmh1ZENhY2hlLmNsb2NrV2lkZ2V0Q2FjaGVbcGlkXSA9IGVudHJ5OwogICAgc2V0Q2xvY2tDb2xvckNhY2hlZChlbnRyeSwgQ09MT1JfTk9STUFMKTsKICAgIGVuc3VyZVRvcEh1ZFJvb3RGb3JQaWQocGlkLCBwbGF5ZXIpOwogICAgc2V0SHVkSGVscERlcHRoRm9yUGlkKHBpZCk7CgogICAgcmV0dXJuIGVudHJ5Owp9CgpmdW5jdGlvbiBidWlsZERpZ2l0KHBhcnQ6IHN0cmluZywgcGlkOiBudW1iZXIsIHg6IG51bWJlciwgd2lkdGg6IG51bWJlcikgewogICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiTWF0Y2hUaW1lciIgKyBwYXJ0ICsgIl8iICsgcGlkLAogICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICBwb3NpdGlvbjogW3gsIDBdLAogICAgICAgIHNpemU6IFt3aWR0aCwgQ0xPQ0tfSEVJR0hUXSwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCAwKSwKICAgICAgICB0ZXh0U2l6ZTogQ0xPQ0tfRk9OVF9TSVpFLAogICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICB9Owp9CgpmdW5jdGlvbiBidWlsZENvbG9uKHBpZDogbnVtYmVyLCB4OiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHsKICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogIk1hdGNoVGltZXJDb2xvbl8iICsgcGlkLAogICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgLy8gcG9zaXRpb246IFt4LCB5XSBvZmZzZXQ7IGRpcmVjdGlvbiBkZXBlbmRzIG9uIGFuY2hvciwgc28gdmVyaWZ5IHZpc3VhbGx5IGluLWdhbWUKICAgICAgICBwb3NpdGlvbjogW3gsIDBdLAogICAgICAgIHNpemU6IFt3aWR0aCwgQ0xPQ0tfSEVJR0hUXSwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgdGV4dExhYmVsOiBtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmNvbG9uLAogICAgICAgIHRleHRTaXplOiBDTE9DS19GT05UX1NJWkUsCiAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgIH07Cn0KCmZ1bmN0aW9uIHNldERpZ2l0Q2FjaGVkKHdpZGdldDogbW9kLlVJV2lkZ2V0LCBkaWdpdDogbnVtYmVyKTogdm9pZCB7CiAgICBtb2QuU2V0VUlUZXh0TGFiZWwod2lkZ2V0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuaHVkLmNsb2NrLmRpZ2l0LCBkaWdpdCkpOwp9CgpmdW5jdGlvbiBzZXRDb2xvbkNhY2hlZCh3aWRnZXQ6IG1vZC5VSVdpZGdldCk6IHZvaWQgewogICAgbW9kLlNldFVJVGV4dExhYmVsKHdpZGdldCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmh1ZC5jbG9jay5jb2xvbikpOwp9CgpmdW5jdGlvbiBzZXRDbG9ja0NvbG9yQ2FjaGVkKGNhY2hlRW50cnk6IENsb2NrV2lkZ2V0Q2FjaGVFbnRyeSwgY29sb3I6IGFueSk6IHZvaWQgewogICAgbW9kLlNldFVJVGV4dENvbG9yKGNhY2hlRW50cnkubWluVGVucywgY29sb3IpOwogICAgbW9kLlNldFVJVGV4dENvbG9yKGNhY2hlRW50cnkubWluT25lcywgY29sb3IpOwogICAgbW9kLlNldFVJVGV4dENvbG9yKGNhY2hlRW50cnkuY29sb24sIGNvbG9yKTsKICAgIG1vZC5TZXRVSVRleHRDb2xvcihjYWNoZUVudHJ5LnNlY1RlbnMsIGNvbG9yKTsKICAgIG1vZC5TZXRVSVRleHRDb2xvcihjYWNoZUVudHJ5LnNlY09uZXMsIGNvbG9yKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIE1hdGNoIENsb2NrIC0gVUkgQnVpbGQgKyBDYWNoZSBIZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUZWFtIFN3aXRjaCBEYXRhICsgQ29uZmlnIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgppbnRlcmZhY2UgVGVhbVN3aXRjaENvbmZpZyB7CiAgICBlbmFibGVUZWFtU3dpdGNoOiBib29sZWFuOwogICAgaW50ZXJhY3RQb2ludE1pbkxpZmV0aW1lOiBudW1iZXI7CiAgICBpbnRlcmFjdFBvaW50TWF4TGlmZXRpbWU6IG51bWJlcjsKICAgIHZlbG9jaXR5VGhyZXNob2xkOiBudW1iZXI7Cn0KCmludGVyZmFjZSB0ZWFtU3dpdGNoRGF0YV90IHsKICAgIGludGVyYWN0UG9pbnQ6IG1vZC5JbnRlcmFjdFBvaW50IHwgbnVsbDsKICAgIGxhc3REZXBsb3lUaW1lOiBudW1iZXI7CiAgICBkb250U2hvd0FnYWluOiBib29sZWFuOwogICAgYWRtaW5QYW5lbFZpc2libGU6IGJvb2xlYW47CiAgICBhZG1pblBhbmVsQnVpbHQ6IGJvb2xlYW47CiAgICBsYXN0QWRtaW5QYW5lbFRvZ2dsZUF0OiBudW1iZXI7CiAgICBkaWFsb2dWaXNpYmxlOiBib29sZWFuOwogICAgLy8gVUkgY2FjaGluZzogdHJ1ZSBhZnRlciB0aGUgZmlyc3Qgd2FybS11cCBidWlsZCBzbyBzdWJzZXF1ZW50IG9wZW5zIGNhbiBiZSBpbnN0YW50LgogICAgdWlCdWlsdDogYm9vbGVhbjsKICAgIHBvc0RlYnVnVmlzaWJsZTogYm9vbGVhbjsKICAgIHBvc0RlYnVnVG9rZW46IG51bWJlcjsKfQoKLy8gUGVyLXBsYXllciBzdGF0ZSBsaXZlcyBpbiBTdGF0ZS5wbGF5ZXJzOgovLyAtIHRlYW1Td2l0Y2hEYXRhOiBkaWFsb2cgKyBpbnRlcmFjdC1wb2ludCBzdGF0ZSBwZXIgcGxheWVyLgovLyAtIHJlYWR5QnlQaWQ6IFJFQURZIHRvZ2dsZSBzdGF0ZSBmb3Igcm9zdGVyICsgYXV0by1zdGFydCBnYXRpbmcuCi8vIC0gaW5NYWluQmFzZUJ5UGlkOiBtYWluLWJhc2UgcHJlc2VuY2UgZm9yIHByZS1yb3VuZCBnYXRpbmcgKyBVSS4KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBUZWFtIFN3aXRjaCBEYXRhICsgQ29uZmlnIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUZWFtIFN3aXRjaCBJbnRlcmFjdCBQb2ludCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKYXN5bmMgZnVuY3Rpb24gc3Bhd25UZWFtU3dpdGNoSW50ZXJhY3RQb2ludChldmVudFBsYXllcjogbW9kLlBsYXllcikgewogICAgaWYgKCFpc1BsYXllckRlcGxveWVkKGV2ZW50UGxheWVyKSkgcmV0dXJuOwogICAgY29uc3QgcGxheWVySWQgPSBtb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpOwogICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXSkgaW5pdFRlYW1Td2l0Y2hEYXRhKGV2ZW50UGxheWVyKTsKCiAgICBpZiAoCiAgICAgICAgU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0uaW50ZXJhY3RQb2ludCA9PT0gbnVsbCAmJgogICAgICAgICFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5kb250U2hvd0FnYWluICYmCiAgICAgICAgVEVBTVNXSVRDSENPTkZJRy5lbmFibGVUZWFtU3dpdGNoCiAgICApIHsKICAgICAgICBsZXQgaXNPbkdyb3VuZCA9IHNhZmVHZXRTb2xkaWVyU3RhdGVCb29sKGV2ZW50UGxheWVyLCBtb2QuU29sZGllclN0YXRlQm9vbC5Jc09uR3JvdW5kKTsKCiAgICAgICAgd2hpbGUgKCFpc09uR3JvdW5kKSB7CiAgICAgICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuMik7CiAgICAgICAgICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChldmVudFBsYXllcikpIHJldHVybjsKICAgICAgICAgICAgaXNPbkdyb3VuZCA9IHNhZmVHZXRTb2xkaWVyU3RhdGVCb29sKGV2ZW50UGxheWVyLCBtb2QuU29sZGllclN0YXRlQm9vbC5Jc09uR3JvdW5kKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBsYXllclBvc2l0aW9uID0gc2FmZUdldFNvbGRpZXJTdGF0ZVZlY3RvcihldmVudFBsYXllciwgbW9kLlNvbGRpZXJTdGF0ZVZlY3Rvci5HZXRQb3NpdGlvbik7CiAgICAgICAgY29uc3QgcGxheWVyRmFjaW5nRGlyZWN0aW9uID0gc2FmZUdldFNvbGRpZXJTdGF0ZVZlY3RvcihldmVudFBsYXllciwgbW9kLlNvbGRpZXJTdGF0ZVZlY3Rvci5HZXRGYWNpbmdEaXJlY3Rpb24pOwogICAgICAgIGlmICghcGxheWVyUG9zaXRpb24gfHwgIXBsYXllckZhY2luZ0RpcmVjdGlvbikgcmV0dXJuOwoKICAgICAgICBjb25zdCBpbnRlcmFjdFBvaW50UG9zaXRpb24gPSBtb2QuQWRkKAogICAgICAgICAgICBtb2QuQWRkKHBsYXllclBvc2l0aW9uLCBwbGF5ZXJGYWNpbmdEaXJlY3Rpb24pLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDEuNSwgMCkKICAgICAgICApOwoKICAgICAgICBjb25zdCBpbnRlcmFjdFBvaW50OiBtb2QuSW50ZXJhY3RQb2ludCA9IG1vZC5TcGF3bk9iamVjdCgKICAgICAgICAgICAgbW9kLlJ1bnRpbWVTcGF3bl9Db21tb24uSW50ZXJhY3RQb2ludCwKICAgICAgICAgICAgaW50ZXJhY3RQb2ludFBvc2l0aW9uLAogICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApCiAgICAgICAgKTsKCiAgICAgICAgbW9kLkVuYWJsZUludGVyYWN0UG9pbnQoaW50ZXJhY3RQb2ludCwgdHJ1ZSk7CiAgICAgICAgU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0uaW50ZXJhY3RQb2ludCA9IGludGVyYWN0UG9pbnQ7CiAgICAgICAgU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0ubGFzdERlcGxveVRpbWUgPSBtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpOwogICAgfQp9CgpmdW5jdGlvbiB0ZWFtU3dpdGNoSW50ZXJhY3RQb2ludEFjdGl2YXRlZChldmVudFBsYXllcjogbW9kLlBsYXllciwgZXZlbnRJbnRlcmFjdFBvaW50OiBtb2QuSW50ZXJhY3RQb2ludCkgewogICAgY29uc3QgcGxheWVySWQgPSBtb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpOwogICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXSkgaW5pdFRlYW1Td2l0Y2hEYXRhKGV2ZW50UGxheWVyKTsKCiAgICBpZiAoU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0uaW50ZXJhY3RQb2ludCAhPSBudWxsKSB7CiAgICAgICAgY29uc3QgaW50ZXJhY3RQb2ludElkID0gbW9kLkdldE9iaklkKFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmludGVyYWN0UG9pbnQpOwogICAgICAgIGNvbnN0IGV2ZW50SW50ZXJhY3RQb2ludElkID0gbW9kLkdldE9iaklkKGV2ZW50SW50ZXJhY3RQb2ludCk7CiAgICAgICAgaWYgKGludGVyYWN0UG9pbnRJZCA9PT0gZXZlbnRJbnRlcmFjdFBvaW50SWQpIHsKICAgICAgICAgICAgc2V0VUlJbnB1dE1vZGVGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIsIHRydWUpOwogICAgICAgICAgICBjcmVhdGVUZWFtU3dpdGNoVUkoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICAvLyBUcmFjayB2aXNpYmlsaXR5IHNvIHJvc3RlciByZWZyZXNoZXMgY2FuIHRhcmdldCBhbGwgdmlld2VycyB3aXRoIHRoZSBkaWFsb2cgb3Blbi4KICAgICAgICAgICAgU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0uZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIGlmIChjb25zdW1lSm9pblByb21wdFRyaXBsZVRhcEZvclBpZChwbGF5ZXJJZCkpIHsKICAgICAgICAgICAgICAgIG1hcmtKb2luUHJvbXB0UmVhZHlEaWFsb2dPcGVuZWQocGxheWVySWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBpZChwbGF5ZXJJZCk7CiAgICAgICAgICAgIHJlbmRlclJlYWR5RGlhbG9nRm9yVmlld2VyKGV2ZW50UGxheWVyLCBwbGF5ZXJJZCk7CiAgICAgICAgICAgIC8vIEltbWVkaWF0ZSBzZWxmLXJlZnJlc2ggdG8gYXZvaWQgcmVseWluZyBzb2xlbHkgb24gZ2xvYmFsIHJlZnJlc2ggYm9va2tlZXBpbmcuCgogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gcmVtb3ZlVGVhbVN3aXRjaEludGVyYWN0UG9pbnQoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIgfCBudW1iZXIpIHsKICAgIGxldCBwbGF5ZXJJZDogbnVtYmVyOwoKICAgIGlmIChtb2QuSXNUeXBlKGV2ZW50UGxheWVyLCBtb2QuVHlwZXMuUGxheWVyKSkgewogICAgICAgIHBsYXllcklkID0gbW9kLkdldE9iaklkKGV2ZW50UGxheWVyIGFzIG1vZC5QbGF5ZXIpOwogICAgfSBlbHNlIHsKICAgICAgICBwbGF5ZXJJZCA9IGV2ZW50UGxheWVyIGFzIG51bWJlcjsKICAgIH0KCiAgICBpZiAoIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdKSByZXR1cm47CgogICAgaWYgKFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmludGVyYWN0UG9pbnQgIT0gbnVsbCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIG1vZC5FbmFibGVJbnRlcmFjdFBvaW50KFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmludGVyYWN0UG9pbnQgYXMgbW9kLkludGVyYWN0UG9pbnQsIGZhbHNlKTsKICAgICAgICAgICAgbW9kLlVuc3Bhd25PYmplY3QoU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0uaW50ZXJhY3RQb2ludCBhcyBtb2QuSW50ZXJhY3RQb2ludCk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIC8vIEJlc3QtZWZmb3J0IGNsZWFudXA7IGlnbm9yZSBpZiBhbHJlYWR5IGRlc3Bhd25lZCBieSB0aGUgZW5naW5lLgogICAgICAgIH0KICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5pbnRlcmFjdFBvaW50ID0gbnVsbDsKICAgIH0KfQoKZnVuY3Rpb24gaXNWZWxvY2l0eUJleW9uZCh0aHJlc2hvbGQ6IG51bWJlciwgZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpOiBib29sZWFuIHsKICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChldmVudFBsYXllcikpIHJldHVybiBmYWxzZTsKICAgIGNvbnN0IHYgPSBzYWZlR2V0U29sZGllclN0YXRlVmVjdG9yKGV2ZW50UGxheWVyLCBtb2QuU29sZGllclN0YXRlVmVjdG9yLkdldExpbmVhclZlbG9jaXR5KTsKICAgIGlmICghdikgcmV0dXJuIGZhbHNlOwogICAgY29uc3QgeCA9IG1vZC5BYnNvbHV0ZVZhbHVlKG1vZC5YQ29tcG9uZW50T2YodikpOwogICAgY29uc3QgeSA9IG1vZC5BYnNvbHV0ZVZhbHVlKG1vZC5ZQ29tcG9uZW50T2YodikpOwogICAgY29uc3QgeiA9IG1vZC5BYnNvbHV0ZVZhbHVlKG1vZC5aQ29tcG9uZW50T2YodikpOwogICAgcmV0dXJuIHggKyB5ICsgeiA+IHRocmVzaG9sZDsKfQoKZnVuY3Rpb24gY2hlY2tUZWFtU3dpdGNoSW50ZXJhY3RQb2ludFJlbW92YWwoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpIHsKICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChldmVudFBsYXllcikpIHJldHVybjsKICAgIGNvbnN0IGlzRGVhZCA9IHNhZmVHZXRTb2xkaWVyU3RhdGVCb29sKGV2ZW50UGxheWVyLCBtb2QuU29sZGllclN0YXRlQm9vbC5Jc0RlYWQpOwogICAgaWYgKFRFQU1TV0lUQ0hDT05GSUcuZW5hYmxlVGVhbVN3aXRjaCAmJiAhaXNEZWFkKSB7CiAgICAgICAgY29uc3QgcGxheWVySWQgPSBtb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpOwogICAgICAgIGlmICghU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0pIGluaXRUZWFtU3dpdGNoRGF0YShldmVudFBsYXllcik7CgogICAgICAgIGlmIChTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5pbnRlcmFjdFBvaW50ICE9IG51bGwpIHsKICAgICAgICAgICAgY29uc3QgbGlmZXRpbWUgPSBtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpIC0gU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0ubGFzdERlcGxveVRpbWU7CgogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBpc1ZlbG9jaXR5QmV5b25kKFRFQU1TV0lUQ0hDT05GSUcudmVsb2NpdHlUaHJlc2hvbGQsIGV2ZW50UGxheWVyKSB8fAogICAgICAgICAgICAgICAgbGlmZXRpbWUgPiBURUFNU1dJVENIQ09ORklHLmludGVyYWN0UG9pbnRNYXhMaWZldGltZQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHJlbW92ZVRlYW1Td2l0Y2hJbnRlcmFjdFBvaW50KHBsYXllcklkKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gaW5pdFRlYW1Td2l0Y2hEYXRhKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyKSB7CiAgICBjb25zdCBwbGF5ZXJJZCA9IG1vZC5HZXRPYmpJZChldmVudFBsYXllcik7CiAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXSA9IHsKICAgICAgICBkb250U2hvd0FnYWluOiBmYWxzZSwKICAgICAgICBhZG1pblBhbmVsVmlzaWJsZTogZmFsc2UsCiAgICAgICAgYWRtaW5QYW5lbEJ1aWx0OiBmYWxzZSwKICAgICAgICBsYXN0QWRtaW5QYW5lbFRvZ2dsZUF0OiAwLAogICAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgIGludGVyYWN0UG9pbnQ6IG51bGwsCiAgICAgICAgbGFzdERlcGxveVRpbWU6IDAsCiAgICAgICAgdWlCdWlsdDogZmFsc2UsCiAgICAgICAgcG9zRGVidWdWaXNpYmxlOiBmYWxzZSwKICAgICAgICBwb3NEZWJ1Z1Rva2VuOiAwLAogICAgfTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFRlYW0gU3dpdGNoIEludGVyYWN0IFBvaW50IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUZWFtIFN3aXRjaCBBY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBIYW5kbGVzIGEgcGxheWVyLWluaXRpYXRlZCB0ZWFtIHN3aXRjaC4KLy8gVGhpcyBmdW5jdGlvbiB2YWxpZGF0ZXMgdGhlIHJlcXVlc3QsIHVwZGF0ZXMgdGVhbSBtZW1iZXJzaGlwLAovLyBhbmQgdHJpZ2dlcnMgYW55IHJlcXVpcmVkIEhVRCBvciBzdGF0ZSByZWZyZXNoLgoKLy8gUGVyZm9ybXMgYW4gdW5kZXBsb3kgd2l0aCBhIHNob3J0IGRlbGF5IHRvIGVuc3VyZSB0aGUgZW5naW5lIGhhcyBhcHBsaWVkIGEgcHJpb3IgU2V0VGVhbSgpIGJlZm9yZSBjaGFuZ2luZyBkZXBsb3kgc3RhdGUuCi8vIFRoaXMgaW50ZW50aW9uYWxseSBkb2VzIE5PVCByZS1kZXBsb3kgdGhlIHBsYXllcjsgdGhlIHBsYXllciBpcyBleHBlY3RlZCB0byBjaG9vc2UgYSBzcGF3biBwb2ludCBtYW51YWxseS4KYXN5bmMgZnVuY3Rpb24gZm9yY2VVbmRlcGxveVBsYXllcihldmVudFBsYXllcjogbW9kLlBsYXllcik6IFByb21pc2U8dm9pZD4gewogICAgaWYgKCFldmVudFBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQoZXZlbnRQbGF5ZXIpKSByZXR1cm47CiAgICAvLyBVbmRlcGxveSBpbW1lZGlhdGVseSBzbyB0aGUgcGxheWVyIGlzIGZvcmNlZCB0byB0aGUgZGVwbG95IHNjcmVlbiByaWdodCBhd2F5LgogICAgLy8gVGhlbiByZXRyeSBvbmNlIHdpdGggYSBzaG9ydCBkZWxheSBmb3Igcm9idXN0bmVzcyBhY3Jvc3MgdHJhbnNpZW50IGVuZ2luZSB0aW1pbmcuCiAgICBtb2QuVW5kZXBsb3lQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgYXdhaXQgbW9kLldhaXQoMC4wNSk7CiAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKICAgIG1vZC5VbmRlcGxveVBsYXllcihldmVudFBsYXllcik7Cn0KCmZ1bmN0aW9uIHByb2Nlc3NUZWFtU3dpdGNoKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyKSB7CiAgICAvLyBMZWdhY3kgdGVhbS1zd2l0Y2ggcGF0aHdheSByZXRhaW5lZCBmb3IgcmV1c2UgYnkgdGhlIFJlYWR5IERpYWxvZyAoU3dhcCBUZWFtcyBidXR0b246IFN3YXAgVGVhbXMgYnV0dG9uKS4KICAgIC8vIFJlcXVpcmVtZW50czoKICAgIC8vIC0gQ2hhbmdlIHRoZSBwbGF5ZXIncyB0ZWFtIGFzc2lnbm1lbnQgKFRlYW1JRC5UZWFtMSA8LT4gVGVhbUlELlRlYW0yKQogICAgLy8gLSBGb3JjZSB0aGUgcGxheWVyIGJhY2sgdG8gdGhlIGRlcGxveSBzY3JlZW4gb24gdGhlIG5ldyB0ZWFtIChub3QganVzdCB1cGRhdGUgVUkvcm9zdGVyIHN0YXRlKQogICAgLy8KICAgIC8vIE5PVEU6IFNvbWUgZW5naW5lcyBjYWNoZSB0ZWFtIGFmZmlsaWF0aW9uIG9uIHRoZSBkZXBsb3llZCBzb2xkaWVyIGVudGl0eTsgdGhlcmVmb3JlIHdlOgogICAgLy8gMSkgU2V0IHRoZSB0ZWFtLCB0aGVuCiAgICAvLyAyKSBVbmRlcGxveSB0aGUgcGxheWVyIHNvIHRoZXkgbXVzdCByZWRlcGxveSBvbiB0aGUgbmV3IHRlYW0uCgogICAgLy8gQ2xvc2UgZGlhbG9nICsgcmVzdG9yZSBVSSBpbnB1dCBtb2RlIGJlZm9yZSB0ZWFtIG11dGF0aW9uL3VuZGVwbG95IHRvIGF2b2lkIHN0YWxlIGhhbmRsZSBpc3N1ZXMuCiAgICBkZWxldGVUZWFtU3dpdGNoVUkoZXZlbnRQbGF5ZXIpOwoKICAgIGNvbnN0IGN1cnJlbnRUZWFtTnVtID0gZ2V0VGVhbU51bWJlcihtb2QuR2V0VGVhbShldmVudFBsYXllcikpOwogICAgY29uc3QgbmV3VGVhbU51bSA9IChjdXJyZW50VGVhbU51bSA9PT0gVGVhbUlELlRlYW0yKSA/IFRlYW1JRC5UZWFtMSA6IFRlYW1JRC5UZWFtMjsKICAgIG1vZC5TZXRUZWFtKGV2ZW50UGxheWVyLCBtb2QuR2V0VGVhbShuZXdUZWFtTnVtKSk7CgogICAgLy8gRm9yY2UgYSByYXBpZCByZXR1cm4gdG8gdGhlIGRlcGxveSBzY3JlZW4gc28gdGhlIHBsYXllciByZXNwYXducyBvbiB0aGUgbmV3IHRlYW0uCiAgICAvLyBOb3RlOiBkbyBub3QgbW9kaWZ5IHJlZGVwbG95IHRpbWVycyBnbG9iYWxseTsgd2Ugb25seSBmb3JjZSBhbiB1bmRlcGxveSBzbyB0aGUgcGxheWVyIGNhbiBjaG9vc2Ugc3Bhd24gbWFudWFsbHkuCiAgICAvLyBFbnN1cmUgdGVhbSBzd2l0Y2hpbmcgZG9lcyBub3QgZ3JhbnQgZmFzdGVyLXRoYW4tbm9ybWFsIHJlc3Bhd24gdGltaW5nLgogICAgLy8gV2UgcmV1c2UgdGhlIHNhbWUgcmVkZXBsb3kgd2luZG93IHVzZWQgYXQgcm91bmQgZW5kIChST1VORF9FTkRfUkVERVBMT1lfREVMQVlfU0VDT05EUykuCiAgICBtb2QuU2V0UmVkZXBsb3lUaW1lKGV2ZW50UGxheWVyLCBST1VORF9FTkRfUkVERVBMT1lfREVMQVlfU0VDT05EUyk7CiAgICB2b2lkIGZvcmNlVW5kZXBsb3lQbGF5ZXIoZXZlbnRQbGF5ZXIpOwoKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy50ZWFtU3dpdGNoKSwKICAgICAgICBmYWxzZSwKICAgICAgICBtb2QuR2V0VGVhbShldmVudFBsYXllciksCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMudGVhbVN3aXRjaAogICAgKTsKfQoKZnVuY3Rpb24gZGVsZXRlVGVhbVN3aXRjaFVJKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyIHwgbnVtYmVyKSB7CiAgICAvLyBEZWxldGVzIHRoZSBUZWFtIFN3aXRjaCBVSSBmb3IgdGhlIGdpdmVuIHBsYXllciBpZCBhbmQgcmVzdG9yZXMgbm9ybWFsIGlucHV0LgogICAgLy8gTm90ZTogV2hlbiBjYWxsZWQgd2l0aCBhIHBsYXllciBpZCAobnVtYmVyKSByYXRoZXIgdGhhbiBhIG1vZC5QbGF5ZXIsIFVJIGlucHV0IG1vZGUgY2Fubm90IGJlIHRvZ2dsZWQgaGVyZS4KCiAgICBsZXQgcGxheWVySWQ6IGFueSA9IGV2ZW50UGxheWVyOwoKICAgIGlmIChtb2QuSXNUeXBlKGV2ZW50UGxheWVyLCBtb2QuVHlwZXMuUGxheWVyKSkgewogICAgICAgIHNldFVJSW5wdXRNb2RlRm9yUGxheWVyKGV2ZW50UGxheWVyIGFzIG1vZC5QbGF5ZXIsIGZhbHNlKTsKICAgICAgICBwbGF5ZXJJZCA9IG1vZC5HZXRPYmpJZChldmVudFBsYXllciBhcyBtb2QuUGxheWVyKTsKICAgIH0KCiAgICBjb25zdCBiYXNlV2lkZ2V0ID0gc2FmZUZpbmQoVUlfVEVBTVNXSVRDSF9DT05UQUlORVJfQkFTRV9JRCArIHBsYXllcklkKTsKICAgIGlmIChiYXNlV2lkZ2V0KSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGJhc2VXaWRnZXQsIGZhbHNlKTsKICAgIGNvbnN0IGJvcmRlclRvcCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQk9SREVSX1RPUF9JRCArIHBsYXllcklkKTsKICAgIGlmIChib3JkZXJUb3ApIG1vZC5TZXRVSVdpZGdldFZpc2libGUoYm9yZGVyVG9wLCBmYWxzZSk7CiAgICBjb25zdCBib3JkZXJCb3R0b20gPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JPUkRFUl9CT1RUT01fSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYm9yZGVyQm90dG9tKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGJvcmRlckJvdHRvbSwgZmFsc2UpOwogICAgY29uc3QgYm9yZGVyTGVmdCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQk9SREVSX0xFRlRfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYm9yZGVyTGVmdCkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShib3JkZXJMZWZ0LCBmYWxzZSk7CiAgICBjb25zdCBib3JkZXJSaWdodCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQk9SREVSX1JJR0hUX0lEICsgcGxheWVySWQpOwogICAgaWYgKGJvcmRlclJpZ2h0KSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGJvcmRlclJpZ2h0LCBmYWxzZSk7CiAgICBjb25zdCBkZWJ1Z1dpZGdldCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfREVCVUdfVElNRUxJTUlUX0lEICsgcGxheWVySWQpOwogICAgaWYgKGRlYnVnV2lkZ2V0KSB7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShkZWJ1Z1dpZGdldCwgZmFsc2UpOwogICAgfQoKICAgIC8vIEFkbWluIHBhbmVsIGlzIG5vdCBjYWNoZWQ6IGRlbGV0ZSBjb250YWluZXIgKyBjaGlsZHJlbiArIHRvZ2dsZSBvbiBjbG9zZSB0byBwcmV2ZW50IHN0cmF5IHdpZGdldHMuCiAgICBkZWxldGVBZG1pblBhbmVsVUkocGxheWVySWQsIHRydWUpOwogICAgc2V0QWRtaW5QYW5lbENoaWxkV2lkZ2V0c1Zpc2libGUocGxheWVySWQsIGZhbHNlKTsKCiAgICBpZiAoU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0pIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5hZG1pblBhbmVsVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxCdWlsdCA9IGZhbHNlOwogICAgICAgIC8vIEZvcmNlLWhpZGUgYW55IHN0cmF5IGFkbWluIHBhbmVsIGNoaWxkcmVuIChzb21lIGVuZ2luZXMgZG8gbm90IGNhc2NhZGUgY29udGFpbmVyIHZpc2liaWxpdHkpLgogICAgICAgIHNldEFkbWluUGFuZWxDaGlsZFdpZGdldHNWaXNpYmxlKHBsYXllcklkLCBmYWxzZSk7CiAgICAgICAgLy8gRGVsZXRlIGFueSBwcmV2aW91c2x5LWJ1aWx0IGFkbWluIGNvbnRhaW5lciBzbyB0aGUgcGFuZWwgd2lsbCByZWJ1aWxkIGNsZWFubHkgb24gZGVtYW5kLgogICAgICAgIGNvbnN0IGV4aXN0aW5nQWRtaW5Db250YWluZXIgPSBzYWZlRmluZChVSV9BRE1JTl9QQU5FTF9DT05UQUlORVJfSUQgKyBwbGF5ZXJJZCk7CiAgICAgICAgaWYgKGV4aXN0aW5nQWRtaW5Db250YWluZXIpIG1vZC5EZWxldGVVSVdpZGdldChleGlzdGluZ0FkbWluQ29udGFpbmVyKTsKICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxCdWlsdCA9IGZhbHNlOwogICAgICAgIC8vIERpYWxvZyBpcyBubyBsb25nZXIgdmlzaWJsZTsgc3RvcCBwYXJ0aWNpcGF0aW5nIGluIGdsb2JhbCByb3N0ZXIgcmVmcmVzaGVzLgogICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0KCiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JQaWQocGxheWVySWQpOwp9CgpmdW5jdGlvbiBjbG9zZVJlYWR5RGlhbG9nRm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgcGlkID0gbW9kLkdldE9iaklkKHApOwogICAgICAgIGlmIChTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BpZF0/LmRpYWxvZ1Zpc2libGUpIHsKICAgICAgICAgICAgZGVsZXRlVGVhbVN3aXRjaFVJKHApOwogICAgICAgIH0KICAgIH0KfQoKLy8gSGFyZCBkZWxldGUgdXNlZCBvbmx5IGZvciBjbGVhbnVwIChlLmcuLCBwbGF5ZXIgbGVhdmVzIGdhbWUpLgovLyBOb3JtYWwgZGlhbG9nIGNsb3NlIHNob3VsZCBoaWRlIHdpZGdldHMgdG8gZW5hYmxlIFVJIGNhY2hpbmcgYW5kIGZhc3RlciByZW9wZW4uCmZ1bmN0aW9uIGhhcmREZWxldGVUZWFtU3dpdGNoVUkocGxheWVySWQ6IG51bWJlcik6IHZvaWQgewogICAgY29uc3QgYmFzZVdpZGdldCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQ09OVEFJTkVSX0JBU0VfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYmFzZVdpZGdldCkgbW9kLkRlbGV0ZVVJV2lkZ2V0KGJhc2VXaWRnZXQpOwogICAgY29uc3QgYm9yZGVyVG9wID0gc2FmZUZpbmQoVUlfVEVBTVNXSVRDSF9CT1JERVJfVE9QX0lEICsgcGxheWVySWQpOwogICAgaWYgKGJvcmRlclRvcCkgbW9kLkRlbGV0ZVVJV2lkZ2V0KGJvcmRlclRvcCk7CiAgICBjb25zdCBib3JkZXJCb3R0b20gPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JPUkRFUl9CT1RUT01fSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYm9yZGVyQm90dG9tKSBtb2QuRGVsZXRlVUlXaWRnZXQoYm9yZGVyQm90dG9tKTsKICAgIGNvbnN0IGJvcmRlckxlZnQgPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JPUkRFUl9MRUZUX0lEICsgcGxheWVySWQpOwogICAgaWYgKGJvcmRlckxlZnQpIG1vZC5EZWxldGVVSVdpZGdldChib3JkZXJMZWZ0KTsKICAgIGNvbnN0IGJvcmRlclJpZ2h0ID0gc2FmZUZpbmQoVUlfVEVBTVNXSVRDSF9CT1JERVJfUklHSFRfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYm9yZGVyUmlnaHQpIG1vZC5EZWxldGVVSVdpZGdldChib3JkZXJSaWdodCk7CiAgICBjb25zdCBkZWJ1Z1dpZGdldCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfREVCVUdfVElNRUxJTUlUX0lEICsgcGxheWVySWQpOwogICAgaWYgKGRlYnVnV2lkZ2V0KSBtb2QuRGVsZXRlVUlXaWRnZXQoZGVidWdXaWRnZXQpOwoKICAgIC8vIEFkbWluIFBhbmVsIHdpZGdldHMgKHRvZ2dsZSBidXR0b24gKyBsYWJlbCArIGNvbnRhaW5lcikuCiAgICBjb25zdCBhZG1pblRvZ2dsZSA9IHNhZmVGaW5kKFVJX0FETUlOX1BBTkVMX0JVVFRPTl9JRCArIHBsYXllcklkKTsKICAgIGlmIChhZG1pblRvZ2dsZSkgbW9kLkRlbGV0ZVVJV2lkZ2V0KGFkbWluVG9nZ2xlKTsKICAgIGNvbnN0IGFkbWluVG9nZ2xlTGFiZWwgPSBzYWZlRmluZChVSV9BRE1JTl9QQU5FTF9CVVRUT05fTEFCRUxfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAoYWRtaW5Ub2dnbGVMYWJlbCkgbW9kLkRlbGV0ZVVJV2lkZ2V0KGFkbWluVG9nZ2xlTGFiZWwpOwogICAgY29uc3QgYWRtaW5Ub2dnbGVCb3JkZXIgPSBzYWZlRmluZChVSV9BRE1JTl9QQU5FTF9CVVRUT05fSUQgKyBwbGF5ZXJJZCArICJfQk9SREVSIik7CiAgICBpZiAoYWRtaW5Ub2dnbGVCb3JkZXIpIG1vZC5EZWxldGVVSVdpZGdldChhZG1pblRvZ2dsZUJvcmRlcik7CiAgICBjb25zdCBhZG1pbkNvbnRhaW5lciA9IHNhZmVGaW5kKFVJX0FETUlOX1BBTkVMX0NPTlRBSU5FUl9JRCArIHBsYXllcklkKTsKICAgIGlmIChhZG1pbkNvbnRhaW5lcikgbW9kLkRlbGV0ZVVJV2lkZ2V0KGFkbWluQ29udGFpbmVyKTsKCiAgICBjb25zdCBwb3NDb250YWluZXIgPSBzYWZlRmluZChVSV9QT1NfREVCVUdfQ09OVEFJTkVSX0lEICsgcGxheWVySWQpOwogICAgaWYgKHBvc0NvbnRhaW5lcikgbW9kLkRlbGV0ZVVJV2lkZ2V0KHBvc0NvbnRhaW5lcik7CiAgICBjb25zdCBwb3NYID0gc2FmZUZpbmQoVUlfUE9TX0RFQlVHX1hfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAocG9zWCkgbW9kLkRlbGV0ZVVJV2lkZ2V0KHBvc1gpOwogICAgY29uc3QgcG9zWSA9IHNhZmVGaW5kKFVJX1BPU19ERUJVR19ZX0lEICsgcGxheWVySWQpOwogICAgaWYgKHBvc1kpIG1vZC5EZWxldGVVSVdpZGdldChwb3NZKTsKICAgIGNvbnN0IHBvc1ogPSBzYWZlRmluZChVSV9QT1NfREVCVUdfWl9JRCArIHBsYXllcklkKTsKICAgIGlmIChwb3NaKSBtb2QuRGVsZXRlVUlXaWRnZXQocG9zWik7CiAgICBjb25zdCByb3RZID0gc2FmZUZpbmQoVUlfUE9TX0RFQlVHX1JPVFlfSUQgKyBwbGF5ZXJJZCk7CiAgICBpZiAocm90WSkgbW9kLkRlbGV0ZVVJV2lkZ2V0KHJvdFkpOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gVGVhbSBTd2l0Y2ggQWN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gVGVhbSBTd2l0Y2ggVUkgKyBUZXN0ZXIgUGFuZWwgKElEcyArIGJ1aWxkIGhlbHBlcnMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiB0ZWFtU3dpdGNoQnV0dG9uRXZlbnQoCiAgICBldmVudFBsYXllcjogbW9kLlBsYXllciwKICAgIGV2ZW50VUlXaWRnZXQ6IG1vZC5VSVdpZGdldCwKICAgIGV2ZW50VUlCdXR0b25FdmVudDogbW9kLlVJQnV0dG9uRXZlbnQKKSB7CiAgICAvLyBTdGVwczoKICAgIC8vIDEpIElkZW50aWZ5IHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBmb3IgdGhpcyBwbGF5ZXIKICAgIC8vIDIpIE11dGF0ZSBhdXRob3JpdGF0aXZlIHN0YXRlIChtYXRjaCAvIHJvdW5kIGNvdW50ZXJzKSBpZiBhcHBsaWNhYmxlCiAgICAvLyAzKSBSZXN5bmMgSFVEL1VJIHByb2plY3Rpb25zIHNvIGV2ZXJ5IHBsYXllciBzZWVzIHRoZSBuZXcgc3RhdGUKCiAgICBjb25zdCBwbGF5ZXJJZCA9IG1vZC5HZXRPYmpJZChldmVudFBsYXllcik7CiAgICBjb25zdCB3aWRnZXROYW1lID0gbW9kLkdldFVJV2lkZ2V0TmFtZShldmVudFVJV2lkZ2V0KTsKCiAgICBzd2l0Y2ggKHdpZGdldE5hbWUpIHsKICAgICAgICBjYXNlIFVJX1RFQU1TV0lUQ0hfQlVUVE9OX1RFQU0xX0lEICsgcGxheWVySWQ6CiAgICAgICAgY2FzZSBVSV9URUFNU1dJVENIX0JVVFRPTl9URUFNMl9JRCArIHBsYXllcklkOgogICAgICAgICAgICAvLyBEZXByZWNhdGVkIFVJICh2MC41KTogVGVhbSAxIC8gVGVhbSAyIGJ1dHRvbnMgcmVtb3ZlZCBmcm9tIHRoZSBkaWFsb2cuCiAgICAgICAgICAgIC8vIFRoaXMgaGFuZGxlciBwYXRoIGlzIGludGVudGlvbmFsbHkgcmV0YWluZWQgc28gdGhlIFVJIGNhbiBiZSByZS1lbmFibGVkIGxhdGVyIHdpdGhvdXQgcmUtaW1wbGVtZW50aW5nIHRlYW0gc3dpdGNoIGxvZ2ljLgogICAgICAgICAgICBwcm9jZXNzVGVhbVN3aXRjaChldmVudFBsYXllcik7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFVJX1RFQU1TV0lUQ0hfQlVUVE9OX0NBTkNFTF9JRCArIHBsYXllcklkOgogICAgICAgICAgICBkZWxldGVUZWFtU3dpdGNoVUkoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1JFQURZX0lEICsgcGxheWVySWQ6IHsKICAgICAgICAgICAgLy8gUHJlLXJvdW5kIGdhdGluZzo6IHBsYXllcnMgbWF5IG9ubHkgdHJhbnNpdGlvbiB0byBSRUFEWSB3aGlsZSBpbiB0aGVpciBtYWluIGJhc2Ugd2hlbiB0aGUgcm91bmQgaXMgTk9UIGFjdGl2ZS4KICAgICAgICAgICAgLy8gUmVhZHktY3ljbGUgYXV0by1zdGFydCAvIHJlc2V0Ojogd2hlbiBhbGwgYWN0aXZlIHBsYXllcnMgYmVjb21lIFJFQURZLCBhdXRvLXN0YXJ0IHRoZSByb3VuZCB2aWEgc3RhcnRSb3VuZCgpLgogICAgICAgICAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBjb25zdCBjdXJyZW50bHlSZWFkeSA9ICEhU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3BpZF07CiAgICAgICAgICAgIGNvbnN0IGluQmFzZSA9IChTdGF0ZS5wbGF5ZXJzLmluTWFpbkJhc2VCeVBpZFtwaWRdICE9PSB1bmRlZmluZWQpID8gU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbcGlkXSA6IHRydWU7CiAgICAgICAgICAgIGNvbnN0IG5vd1NlY29uZHMgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpOwoKICAgICAgICAgICAgLy8gVHJhbnNpdGlvbiBydWxlczoKICAgICAgICAgICAgLy8gLSBOT1QgUkVBRFkgLT4gUkVBRFk6IGFsbG93ZWQgb25seSBpZiAoaW5CYXNlIHx8IGlzUm91bmRMaXZlKCkpIChQcmUtcm91bmQgZ2F0aW5nOiBnYXRpbmcgYXBwbGllcyBvbmx5IHByZS1yb3VuZCkuCiAgICAgICAgICAgIC8vIC0gUkVBRFkgLT4gTk9UIFJFQURZOiBhbHdheXMgYWxsb3dlZC4KICAgICAgICAgICAgaWYgKCFjdXJyZW50bHlSZWFkeSkgewogICAgICAgICAgICAgICAgaWYgKCFpc1JvdW5kTGl2ZSgpICYmICFpbkJhc2UpIHsKICAgICAgICAgICAgICAgICAgICAvLyBEZW55IHJlYWR5LXVwIG91dHNpZGUgb2YgYmFzZSBwcmUtcm91bmQgKG5vIG1lc3NhZ2luZyBpbiBjdXJyZW50IG1pbGVzdG9uZSkuCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXSA9IHRydWU7CgogICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgSFVEICJYIC8gWSBQTEFZRVJTIFJFQURZIiBsaW5lIGluIHN5bmMgb24gZXZlcnkgcmVhZHktc3RhdGUgY2hhbmdlLgogICAgICAgICAgICAgICAgdXBkYXRlUGxheWVyc1JlYWR5SHVkVGV4dEZvckFsbFBsYXllcnMoKTsKCiAgICAgICAgICAgICAgICAvLyBUaHJvdHRsZSByZWFkeS11cCBicm9hZGNhc3RzIHBlciBwbGF5ZXIgdG8gcHJldmVudCBzcGFtLgogICAgICAgICAgICAgICAgY29uc3QgbGFzdFJlYWR5QXQgPSBTdGF0ZS5wbGF5ZXJzLnJlYWR5TWVzc2FnZUNvb2xkb3duQnlQaWRbcGlkXSA/PyAtOTk5OTsKICAgICAgICAgICAgICAgIGlmIChub3dTZWNvbmRzIC0gbGFzdFJlYWR5QXQgPj0gUkVBRFlfVVBfTUVTU0FHRV9DT09MRE9XTl9TRUNPTkRTKSB7CiAgICAgICAgICAgICAgICAgICAgU3RhdGUucGxheWVycy5yZWFkeU1lc3NhZ2VDb29sZG93bkJ5UGlkW3BpZF0gPSBub3dTZWNvbmRzOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50cyA9IGdldFJlYWR5Q291bnRzRm9yTWVzc2FnZSgpOwogICAgICAgICAgICAgICAgICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICAgICAgICAgICAgICAgICAgbW9kLk1lc3NhZ2UoU1RSX1BMQVlFUl9SRUFESUVEX1VQLCBldmVudFBsYXllciwgY291bnRzLnJlYWR5Q291bnQsIGNvdW50cy50b3RhbENvdW50KSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgICAgICBTVFJfUExBWUVSX1JFQURJRURfVVAKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIEhVRCAiWCAvIFkgUExBWUVSUyBSRUFEWSIgbGluZSBpbiBzeW5jIG9uIGV2ZXJ5IHJlYWR5LXN0YXRlIGNoYW5nZS4KICAgICAgICAgICAgICAgIHVwZGF0ZVBsYXllcnNSZWFkeUh1ZFRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBpZChwaWQpOwoKICAgICAgICAgICAgLy8gUmVmcmVzaCBzZWxmICsgYWxsIHZpc2libGUgdmlld2VycyAoY2VudHJhbGl6ZWQgcmVuZGVyKS4KICAgICAgICAgICAgcmVuZGVyUmVhZHlEaWFsb2dGb3JWaWV3ZXIoZXZlbnRQbGF5ZXIsIHBsYXllcklkKTsKICAgICAgICAgICAgLy8gUmVmcmVzaCBhbGwgdmlzaWJsZSB2aWV3ZXJzIHNvIGV2ZXJ5b25lIHNlZXMgcmVhZGluZXNzIGNoYW5nZXMgaW1tZWRpYXRlbHkuCgogICAgICAgICAgICAvLyBBbHNvIHJlZnJlc2ggYWxsIG90aGVyIHZpZXdlcnMgd2hvIGN1cnJlbnRseSBoYXZlIHRoZSBkaWFsb2cgb3Blbi4KICAgICAgICAgICAgcmVuZGVyUmVhZHlEaWFsb2dGb3JBbGxWaXNpYmxlVmlld2VycygpOwogICAgICAgICAgICB1cGRhdGVQbGF5ZXJzUmVhZHlIdWRUZXh0Rm9yQWxsUGxheWVycygpOwoKICAgICAgICAgICAgLy8gUmVhZHktY3ljbGUgYXV0by1zdGFydCAvIHJlc2V0OjogaWYgdGhpcyBpbnRlcmFjdGlvbiByZXN1bHRlZCBpbiBhbGwgYWN0aXZlIHBsYXllcnMgYmVpbmcgUkVBRFksIGJlZ2luIHRoZSByb3VuZC4KICAgICAgICAgICAgdHJ5QXV0b1N0YXJ0Um91bmRJZkFsbFJlYWR5KGV2ZW50UGxheWVyKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlIFVJX1JFQURZX0RJQUxPR19CVVRUT05fU1dBUF9JRCArIHBsYXllcklkOiB7CiAgICAgICAgICAgIC8vIFN3YXAgVGVhbXMgYnV0dG9uOjogc2luZ2xlLWJ1dHRvbiB0ZWFtIHRvZ2dsZS4KICAgICAgICAgICAgc3dhcFBsYXllclRlYW0oZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGNhc2UgVUlfUkVBRFlfRElBTE9HX0JFU1RPRl9ERUNfSUQgKyBwbGF5ZXJJZDogewogICAgICAgICAgICAvLyBDbGFtcCB0byBjdXJyZW50IHJvdW5kIHNvIG1heCByb3VuZHMgbmV2ZXIgZGlwcyBiZWxvdyB0aGUgbGl2ZSByb3VuZCBpbmRleC4KICAgICAgICAgICAgY29uc3QgcHJldk1heCA9IFN0YXRlLnJvdW5kLm1heDsKICAgICAgICAgICAgc2V0SHVkUm91bmRDb3VudGVyc0ZvckFsbFBsYXllcnMoU3RhdGUucm91bmQuY3VycmVudCwgTWF0aC5tYXgoU3RhdGUucm91bmQuY3VycmVudCwgTWF0aC5tYXgoMSwgU3RhdGUucm91bmQubWF4IC0gMSkpKTsKICAgICAgICAgICAgaWYgKFN0YXRlLnJvdW5kLm1heCAhPT0gcHJldk1heCkgewogICAgICAgICAgICAgICAgLy8gR2FtZXBsYXktZ2F0ZWQgd29ybGQgbG9nIG1lc3NhZ2UgZm9yIGJlc3Qtb2YgY2hhbmdlcy4KICAgICAgICAgICAgICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYmVzdE9mQ2hhbmdlZCwgZXZlbnRQbGF5ZXIsIE1hdGguZmxvb3IoU3RhdGUucm91bmQubWF4KSksCiAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJlc3RPZkNoYW5nZWQKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNhc2UgVUlfUkVBRFlfRElBTE9HX0JFU1RPRl9JTkNfSUQgKyBwbGF5ZXJJZDogewogICAgICAgICAgICBjb25zdCBwcmV2TWF4ID0gU3RhdGUucm91bmQubWF4OwogICAgICAgICAgICBzZXRIdWRSb3VuZENvdW50ZXJzRm9yQWxsUGxheWVycyhTdGF0ZS5yb3VuZC5jdXJyZW50LCBTdGF0ZS5yb3VuZC5tYXggKyAxKTsKICAgICAgICAgICAgaWYgKFN0YXRlLnJvdW5kLm1heCAhPT0gcHJldk1heCkgewogICAgICAgICAgICAgICAgLy8gR2FtZXBsYXktZ2F0ZWQgd29ybGQgbG9nIG1lc3NhZ2UgZm9yIGJlc3Qtb2YgY2hhbmdlcy4KICAgICAgICAgICAgICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYmVzdE9mQ2hhbmdlZCwgZXZlbnRQbGF5ZXIsIE1hdGguZmxvb3IoU3RhdGUucm91bmQubWF4KSksCiAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJlc3RPZkNoYW5nZWQKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNhc2UgVUlfUkVBRFlfRElBTE9HX01BVENIVVBfREVDX0lEICsgcGxheWVySWQ6IHsKICAgICAgICAgICAgaWYgKGlzUm91bmRMaXZlKCkpIGJyZWFrOwogICAgICAgICAgICBjb25zdCBuZXh0ID0gTWF0aC5tYXgoMCwgU3RhdGUucm91bmQubWF0Y2h1cFByZXNldEluZGV4IC0gMSk7CiAgICAgICAgICAgIGFwcGx5TWF0Y2h1cFByZXNldChuZXh0LCBldmVudFBsYXllcik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0lOQ19JRCArIHBsYXllcklkOiB7CiAgICAgICAgICAgIGlmIChpc1JvdW5kTGl2ZSgpKSBicmVhazsKICAgICAgICAgICAgY29uc3QgbmV4dCA9IE1hdGgubWluKE1BVENIVVBfUFJFU0VUUy5sZW5ndGggLSAxLCBTdGF0ZS5yb3VuZC5tYXRjaHVwUHJlc2V0SW5kZXggKyAxKTsKICAgICAgICAgICAgYXBwbHlNYXRjaHVwUHJlc2V0KG5leHQsIGV2ZW50UGxheWVyKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlIFVJX1RFQU1TV0lUQ0hfQlVUVE9OX09QVE9VVF9JRCArIHBsYXllcklkOgogICAgICAgICAgICAvLyBEZXByZWNhdGVkIFVJICh2MC41KTogJ0RPTlQgU0hPVyBBR0FJTicgYnV0dG9uIHJlbW92ZWQgZnJvbSB0aGUgZGlhbG9nLgogICAgICAgICAgICAvLyBUaGUgb3B0LW91dCBmbGFnIGFuZCBiZWhhdmlvciByZW1haW4gdG8gc3VwcG9ydCByZWludHJvZHVjaW5nIHRoZSBjb250cm9sIGluIGEgZnV0dXJlIHZlcnNpb24uCiAgICAgICAgICAgIGlmICghU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0pIGluaXRUZWFtU3dpdGNoRGF0YShldmVudFBsYXllcik7CiAgICAgICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmRvbnRTaG93QWdhaW4gPSB0cnVlOwogICAgICAgICAgICBkZWxldGVUZWFtU3dpdGNoVUkoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9BRE1JTl9QQU5FTF9CVVRUT05fSUQgKyBwbGF5ZXJJZDogewogICAgICAgICAgICBpZiAoIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdKSBpbml0VGVhbVN3aXRjaERhdGEoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBjb25zdCBub3cgPSBtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpOwogICAgICAgICAgICBpZiAobm93IC0gU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwbGF5ZXJJZF0ubGFzdEFkbWluUGFuZWxUb2dnbGVBdCA8IEFETUlOX1BBTkVMX1RPR0dMRV9DT09MRE9XTl9TRUNPTkRTKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5sYXN0QWRtaW5QYW5lbFRvZ2dsZUF0ID0gbm93OwoKICAgICAgICAgICAgLy8gVG9nZ2xlIGFkbWluIHBhbmVsIHZpc2liaWxpdHkuCiAgICAgICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxWaXNpYmxlID0gIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxWaXNpYmxlOwogICAgICAgICAgICBpZiAoIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxWaXNpYmxlKSB7CiAgICAgICAgICAgICAgICAvLyBDbG9zZTogZGVsZXRlIHBhbmVsIGNvbnRlbnRzIHRvIGF2b2lkICJnaG9zdCIgY2hpbGRyZW4gb24gc29tZSBjbGllbnRzLgogICAgICAgICAgICAgICAgZGVsZXRlQWRtaW5QYW5lbFVJKHBsYXllcklkLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5hZG1pblBhbmVsQnVpbHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZW5kSGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UoCiAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY2Nlc3NlZCwgZXZlbnRQbGF5ZXIpLAogICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjY2Vzc2VkCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAvLyBPcGVuOiByZWJ1aWxkIGNvbnRhaW5lciArIHdpZGdldHMgZnJlc2ggZWFjaCB0aW1lIChsb3cgY29zdDsgYXZvaWRzIGR1cGxpY2F0ZSBkcmF3IGJ1Z3MpLgogICAgICAgICAgICBkZWxldGVBZG1pblBhbmVsVUkocGxheWVySWQsIGZhbHNlKTsgLy8gc2FmZXR5OiBlbnN1cmUgbm8gc3RhbGUgY29udGFpbmVyL2NoaWxkcmVuIGV4aXN0CgogICAgICAgICAgICBtb2QuQWRkVUlDb250YWluZXIoCiAgICAgICAgICAgICAgICBVSV9BRE1JTl9QQU5FTF9DT05UQUlORVJfSUQgKyBwbGF5ZXJJZCwKICAgICAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoQURNSU5fUEFORUxfT0ZGU0VUX1gsIEFETUlOX1BBTkVMX09GRlNFVF9ZLCAwKSwKICAgICAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoQURNSU5fUEFORUxfQ09OVEVOVF9XSURUSCArIChBRE1JTl9QQU5FTF9QQURESU5HICogMiksIEFETUlOX1BBTkVMX0hFSUdIVCArIChBRE1JTl9QQU5FTF9QQURESU5HICogMiksIDApLAogICAgICAgICAgICAgICAgbW9kLlVJQW5jaG9yLlRvcFJpZ2h0LAogICAgICAgICAgICAgICAgbW9kLkdldFVJUm9vdCgpLAogICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICAxMCwKICAgICAgICAgICAgICAgIEFETUlOX1BBTkVMX0JHX0NPTE9SLAogICAgICAgICAgICAgICAgQURNSU5fUEFORUxfQkdfQUxQSEEsCiAgICAgICAgICAgICAgICBBRE1JTl9QQU5FTF9CR19GSUxMLAogICAgICAgICAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgICAgICAgICBldmVudFBsYXllcgogICAgICAgICAgICApOwoKICAgICAgICAgICAgY29uc3QgYWRtaW5Db250YWluZXIgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoVUlfQURNSU5fUEFORUxfQ09OVEFJTkVSX0lEICsgcGxheWVySWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgICAgIGlmICghYWRtaW5Db250YWluZXIpIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1aWxkQWRtaW5QYW5lbFdpZGdldHMoZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCk7CiAgICAgICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdLmFkbWluUGFuZWxCdWlsdCA9IHRydWU7CiAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFZpc2libGUoYWRtaW5Db250YWluZXIsIHRydWUpOwogICAgICAgICAgICBzZXRBZG1pblBhbmVsQ2hpbGRXaWRnZXRzVmlzaWJsZShwbGF5ZXJJZCwgdHJ1ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFRlYW0gU3dpdGNoIFVJICsgVGVzdGVyIFBhbmVsIChJRHMgKyBidWlsZCBoZWxwZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgICAgIC8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUZXN0ZXIgQnV0dG9uIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX0xFRlRfV0lOU19ERUNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgc2V0SHVkV2luQ291bnRlcnNGb3JBbGxQbGF5ZXJzKE1hdGgubWF4KDAsIFN0YXRlLm1hdGNoLndpbnNUMSAtIDEpLCBTdGF0ZS5tYXRjaC53aW5zVDIpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnQxV2luc0RlYyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fTEVGVF9XSU5TX0lOQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBzZXRIdWRXaW5Db3VudGVyc0ZvckFsbFBsYXllcnMoU3RhdGUubWF0Y2gud2luc1QxICsgMSwgU3RhdGUubWF0Y2gud2luc1QyKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy50MVdpbnNJbmMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9URVNUX0JVVFRPTl9SSUdIVF9XSU5TX0RFQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBzZXRIdWRXaW5Db3VudGVyc0ZvckFsbFBsYXllcnMoU3RhdGUubWF0Y2gud2luc1QxLCBNYXRoLm1heCgwLCBTdGF0ZS5tYXRjaC53aW5zVDIgLSAxKSk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMudDJXaW5zRGVjKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBVSV9URVNUX0JVVFRPTl9SSUdIVF9XSU5TX0lOQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBzZXRIdWRXaW5Db3VudGVyc0ZvckFsbFBsYXllcnMoU3RhdGUubWF0Y2gud2luc1QxLCBTdGF0ZS5tYXRjaC53aW5zVDIgKyAxKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy50MldpbnNJbmMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9URVNUX0JVVFRPTl9MRUZUX0tJTExTX0RFQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBTdGF0ZS5zY29yZXMudDFUb3RhbEtpbGxzID0gTWF0aC5tYXgoMCwgU3RhdGUuc2NvcmVzLnQxVG90YWxLaWxscyAtIDEpOwogICAgICAgICAgICBzeW5jS2lsbHNIdWRGcm9tVHJhY2tlZFRvdGFscyh0cnVlKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy50MVRvdGFsS2lsbHNEZWMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX0xFRlRfS0lMTFNfSU5DX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIFN0YXRlLnNjb3Jlcy50MVRvdGFsS2lsbHMgPSBTdGF0ZS5zY29yZXMudDFUb3RhbEtpbGxzICsgMTsKICAgICAgICAgICAgc3luY0tpbGxzSHVkRnJvbVRyYWNrZWRUb3RhbHModHJ1ZSk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMudDFUb3RhbEtpbGxzSW5jKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fUklHSFRfS0lMTFNfREVDX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIFN0YXRlLnNjb3Jlcy50MlRvdGFsS2lsbHMgPSBNYXRoLm1heCgwLCBTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzIC0gMSk7CiAgICAgICAgICAgIHN5bmNLaWxsc0h1ZEZyb21UcmFja2VkVG90YWxzKHRydWUpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnQyVG90YWxLaWxsc0RlYyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fUklHSFRfS0lMTFNfSU5DX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIFN0YXRlLnNjb3Jlcy50MlRvdGFsS2lsbHMgPSBTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzICsgMTsKICAgICAgICAgICAgc3luY0tpbGxzSHVkRnJvbVRyYWNrZWRUb3RhbHModHJ1ZSk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMudDJUb3RhbEtpbGxzSW5jKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgVUlfQURNSU5fQlVUVE9OX1QxX1JPVU5EX0tJTExTX0RFQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzID0gTWF0aC5tYXgoMCwgU3RhdGUuc2NvcmVzLnQxUm91bmRLaWxscyAtIDEpOwogICAgICAgICAgICBzeW5jUm91bmRLaWxsc0h1ZCh0cnVlKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy50MVJvdW5kS2lsbHNEZWMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX0JVVFRPTl9UMV9ST1VORF9LSUxMU19JTkNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgU3RhdGUuc2NvcmVzLnQxUm91bmRLaWxscyA9IFN0YXRlLnNjb3Jlcy50MVJvdW5kS2lsbHMgKyAxOwogICAgICAgICAgICBzeW5jUm91bmRLaWxsc0h1ZCh0cnVlKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy50MVJvdW5kS2lsbHNJbmMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9BRE1JTl9CVVRUT05fVDJfUk9VTkRfS0lMTFNfREVDX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIFN0YXRlLnNjb3Jlcy50MlJvdW5kS2lsbHMgPSBNYXRoLm1heCgwLCBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzIC0gMSk7CiAgICAgICAgICAgIHN5bmNSb3VuZEtpbGxzSHVkKHRydWUpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnQyUm91bmRLaWxsc0RlYyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0lOQ19JRCArIHBsYXllcklkOgogICAgICAgICAgICBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzID0gU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxscyArIDE7CiAgICAgICAgICAgIHN5bmNSb3VuZEtpbGxzSHVkKHRydWUpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnQyUm91bmRLaWxsc0luYyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX1JPVU5EX0tJTExTX1RBUkdFVF9ERUNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgU3RhdGUucm91bmQua2lsbHNUYXJnZXQgPSBNYXRoLm1heCgxLCBTdGF0ZS5yb3VuZC5raWxsc1RhcmdldCAtIDEpOwogICAgICAgICAgICAvLyBSZWZyZXNoIEhVRCBoZWxwIHRleHQgKCJGaXJzdCB0byBYIEtpbGxzIikgaW1tZWRpYXRlbHkgd2hlbiB0YXJnZXQga2lsbHMgY2hhbmdlcyBpbiB0aGUgQWRtaW4gUGFuZWwuCiAgICAgICAgICAgIHNldFJvdW5kU3RhdGVUZXh0Rm9yQWxsUGxheWVycygpOwogICAgICAgICAgICBzeW5jUm91bmRLaWxsc1RhcmdldFRlc3RlclZhbHVlRm9yQWxsUGxheWVycygpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRhcmdldFJvdW5kS2lsbHNEZWMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX1JPVU5EX0tJTExTX1RBUkdFVF9JTkNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgLy8gTk9URTogQWRtaW4tcGFuZWwgdGFyZ2V0LWtpbGxzIGFkanVzdG1lbnRzIG11c3QgcmVmcmVzaCB0aGUgSFVEIGhlbHAgdGV4dCBpbW1lZGlhdGVseS4KICAgICAgICAgICAgU3RhdGUucm91bmQua2lsbHNUYXJnZXQgPSBTdGF0ZS5yb3VuZC5raWxsc1RhcmdldCArIDE7CiAgICAgICAgICAgIC8vIFJlZnJlc2ggSFVEIGhlbHAgdGV4dCAoIkZpcnN0IHRvIFggS2lsbHMiKSBpbW1lZGlhdGVseSB3aGVuIHRhcmdldCBraWxscyBjaGFuZ2VzIGluIHRoZSBBZG1pbiBQYW5lbC4KICAgICAgICAgICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIHN5bmNSb3VuZEtpbGxzVGFyZ2V0VGVzdGVyVmFsdWVGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMudGFyZ2V0Um91bmRLaWxsc0luYyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX1RJRVNfREVDX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIGFkanVzdE1hdGNoVGllc0ZvckJvdGhUZWFtcygtMSk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMudGllc0RlYyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fVElFU19JTkNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgYWRqdXN0TWF0Y2hUaWVzRm9yQm90aFRlYW1zKDEpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZXNJbmMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9URVNUX0JVVFRPTl9DVVJfUk9VTkRfREVDX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIHNldEh1ZFJvdW5kQ291bnRlcnNGb3JBbGxQbGF5ZXJzKE1hdGgubWF4KDAsIFN0YXRlLnJvdW5kLmN1cnJlbnQgLSAxKSwgU3RhdGUucm91bmQubWF4KTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy5jdXJyZW50Um91bmREZWMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX0NVUl9ST1VORF9JTkNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgc2V0SHVkUm91bmRDb3VudGVyc0ZvckFsbFBsYXllcnMoU3RhdGUucm91bmQuY3VycmVudCArIDEsIFN0YXRlLnJvdW5kLm1heCk7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMuY3VycmVudFJvdW5kSW5jKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9ERUNfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgYWRqdXN0Um91bmRDbG9ja0J5U2Vjb25kcygtNjApOwogICAgICAgICAgICB1cGRhdGVPdmVydGltZVN0YWdlKCk7CiAgICAgICAgICAgIGlmIChpc1JvdW5kTGl2ZSgpKSB7CiAgICAgICAgICAgICAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy5jbG9ja1RpbWVEZWMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX0NMT0NLX1RJTUVfSU5DX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIGlmICghU3RhdGUucm91bmQuY2xvY2suaXNQYXVzZWQgJiYgZ2V0UmVtYWluaW5nU2Vjb25kcygpIDwgMCkgewogICAgICAgICAgICAgICAgUmVzZXRSb3VuZENsb2NrKDYwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFkanVzdFJvdW5kQ2xvY2tCeVNlY29uZHMoNjApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZU92ZXJ0aW1lU3RhZ2UoKTsKICAgICAgICAgICAgaWYgKGlzUm91bmRMaXZlKCkpIHsKICAgICAgICAgICAgICAgIHJlZnJlc2hPdmVydGltZVVpVmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLmNsb2NrVGltZUluYyk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX0NMT0NLX1JFU0VUX0lEICsgcGxheWVySWQ6CiAgICAgICAgICAgIHJlc2V0Um91bmRDbG9ja1RvRGVmYXVsdCgpOwogICAgICAgICAgICB1cGRhdGVPdmVydGltZVN0YWdlKCk7CiAgICAgICAgICAgIGlmIChpc1JvdW5kTGl2ZSgpKSB7CiAgICAgICAgICAgICAgICByZWZyZXNoT3ZlcnRpbWVVaVZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy5jbG9ja1Jlc2V0KTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgVUlfVEVTVF9CVVRUT05fUk9VTkRfU1RBUlRfSUQgKyBwbGF5ZXJJZDoKICAgICAgICAgICAgc3RhcnRQcmVnYW1lQ291bnRkb3duKGV2ZW50UGxheWVyLCB0cnVlKTsgLy9vbGQ6IHN0YXJ0Um91bmQoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnJvdW5kU3RhcnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX1RFU1RfQlVUVE9OX1JPVU5EX0VORF9JRCArIHBsYXllcklkOgogICAgICAgICAgICBlbmRSb3VuZChldmVudFBsYXllcik7CiAgICAgICAgICAgIGhhbmRsZUFkbWluUGFuZWxBY3Rpb24oZXZlbnRQbGF5ZXIsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmFjdGlvbnMucm91bmRFbmQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBVSV9URVNUX0JVVFRPTl9QT1NfREVCVUdfSUQgKyBwbGF5ZXJJZDogewogICAgICAgICAgICBpZiAoIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdKSBpbml0VGVhbVN3aXRjaERhdGEoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICBjb25zdCBzdGF0ZSA9IFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdOwogICAgICAgICAgICBzdGF0ZS5wb3NEZWJ1Z1Zpc2libGUgPSAhc3RhdGUucG9zRGVidWdWaXNpYmxlOwogICAgICAgICAgICBzZXRQb3NpdGlvbkRlYnVnVmlzaWJsZUZvclBsYXllcihldmVudFBsYXllciwgc3RhdGUucG9zRGVidWdWaXNpYmxlKTsKICAgICAgICAgICAgaGFuZGxlQWRtaW5QYW5lbEFjdGlvbihldmVudFBsYXllciwgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYWN0aW9ucy5wb3NpdGlvbkRlYnVnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkFfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUEpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDApOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkJfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUIpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkNfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUMpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkRfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUQpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkVfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUUpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkZfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUYpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX0lEICsgIkdfIiArIHBsYXllcklkOgogICAgICAgICAgICBoYW5kbGVBZG1pblBhbmVsQWN0aW9uKGV2ZW50UGxheWVyLCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5hY3Rpb25zLnRpZUJyZWFrZXJPdmVycmlkZUcpOwogICAgICAgICAgICBhcHBseUFkbWluVGllQnJlYWtlck92ZXJyaWRlKDYpOwogICAgICAgICAgICBicmVhazsKCgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgfQp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gVGVzdGVyIEJ1dHRvbiBFdmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJvdW5kIFN0YXJ0L0VuZCBGbG93ICsgU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFJ1bnMgcm91bmQgc3RhcnQvZW5kIGZsb3cgdGllZCB0byB0aGUgcm91bmQgY2xvY2sgZXhwaXJ5LgovLyBWaWN0b3J5IGRpYWxvZyB2aXNpYmlsaXR5IGlzIGludGVudGlvbmFsbHkgZGVjb3VwbGVkIGZyb20gU3RhdGUubWF0Y2guaXNFbmRlZC4KLy8gU3RhdGUubWF0Y2guaXNFbmRlZCBjYW4gYmVjb21lIHRydWUgYXQgcm91bmQgZW5kLCBidXQgdGhlIFZpY3RvcnkgVUkgc2hvdWxkIG9ubHkgYXBwZWFyIGFmdGVyIHRoZSAxMHMgcm91bmQtZW5kIHdpbmRvdyBleHBpcmVzLgovLyBTdGF0ZS5tYXRjaC52aWN0b3J5RGlhbG9nQWN0aXZlIGdhdGVzIGJvdGggdmlzaWJpbGl0eSBhbmQgY291bnRkb3duIHVwZGF0ZXMgc28gdGhlIHJlc3RhcnQgdGltZXIgYWx3YXlzIHN0YXJ0cyBhdCA0NXMgd2hlbiB0aGUgZGlhbG9nIGFwcGVhcnMuCgovLyBBc3luYyBjb250cm9sIChyb3VuZCBlbmQpOgovLyAtIFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmRSZWRlcGxveVRva2VuIGludmFsaWRhdGVzIGFueSBpbi1mbGlnaHQgcm91bmQtZW5kIGNvdW50ZG93bnMgd2hlbiBpbmNyZW1lbnRlZC4KLy8gLSBTdGF0ZS5yb3VuZC5mbG93LmNsb2NrRXhwaXJ5Qm91bmQgcHJldmVudHMgZG91YmxlLWJpbmRpbmcgdGhlIGNsb2NrLWV4cGlyeSBoYW5kbGVyLgovLyBBc3luYyBjb250cm9sIChtYXRjaCBlbmQpOgovLyAtIFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuIGludmFsaWRhdGVzIGFueSBpbi1mbGlnaHQgbWF0Y2gtZW5kIGRlbGF5cyB3aGVuIGluY3JlbWVudGVkLgoKCmZ1bmN0aW9uIGJyb2FkY2FzdFN0cmluZ0tleSgKICAgIHN0cmluZ0tleTogbnVtYmVyLAogICAgYXJnMD86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIsCiAgICBhcmcxPzogc3RyaW5nIHwgbnVtYmVyIHwgbW9kLlBsYXllciwKICAgIGFyZzI/OiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyCik6IHZvaWQgewogICAgY29uc3QgbWVzc2FnZSA9IChhcmcwID09PSB1bmRlZmluZWQpCiAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXkpCiAgICAgICAgOiAoYXJnMSA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICA/IG1vZC5NZXNzYWdlKHN0cmluZ0tleSwgYXJnMCkKICAgICAgICAgICAgOiAoYXJnMiA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzAsIGFyZzEpCiAgICAgICAgICAgICAgICA6IG1vZC5NZXNzYWdlKHN0cmluZ0tleSwgYXJnMCwgYXJnMSwgYXJnMik7CiAgICBzZW5kTm90aWZpY2F0aW9uTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7Cn0KCi8vIFRPRE8oMS4wKTogVW51c2VkOyByZW1vdmUgYmVmb3JlIGZpbmFsIDEuMCByZWxlYXNlLgpmdW5jdGlvbiBicm9hZGNhc3RHYW1lcGxheU5vdGlmaWNhdGlvbktleSgKICAgIHN0cmluZ0tleTogbnVtYmVyLAogICAgYXJnMD86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIsCiAgICBhcmcxPzogc3RyaW5nIHwgbnVtYmVyIHwgbW9kLlBsYXllciwKICAgIGFyZzI/OiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyCik6IHZvaWQgewogICAgY29uc3QgbWVzc2FnZSA9IChhcmcwID09PSB1bmRlZmluZWQpCiAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXkpCiAgICAgICAgOiAoYXJnMSA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICA/IG1vZC5NZXNzYWdlKHN0cmluZ0tleSwgYXJnMCkKICAgICAgICAgICAgOiAoYXJnMiA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzAsIGFyZzEpCiAgICAgICAgICAgICAgICA6IG1vZC5NZXNzYWdlKHN0cmluZ0tleSwgYXJnMCwgYXJnMSwgYXJnMik7CiAgICBzZW5kTm90aWZpY2F0aW9uTWVzc2FnZShtZXNzYWdlLCB0cnVlKTsKfQoKLy8gVE9ETygxLjApOiBVbnVzZWQ7IHJlbW92ZSBiZWZvcmUgZmluYWwgMS4wIHJlbGVhc2UuCmZ1bmN0aW9uIGJyb2FkY2FzdEdhbWVwbGF5SGlnaGxpZ2h0ZWRTdHJpbmdLZXkoCiAgICBzdHJpbmdLZXk6IG51bWJlciwKICAgIGFyZzA/OiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyLAogICAgYXJnMT86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIsCiAgICBhcmcyPzogc3RyaW5nIHwgbnVtYmVyIHwgbW9kLlBsYXllcgopOiB2b2lkIHsKICAgIGNvbnN0IG1lc3NhZ2UgPSAoYXJnMCA9PT0gdW5kZWZpbmVkKQogICAgICAgID8gbW9kLk1lc3NhZ2Uoc3RyaW5nS2V5KQogICAgICAgIDogKGFyZzEgPT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzApCiAgICAgICAgICAgIDogKGFyZzIgPT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgID8gbW9kLk1lc3NhZ2Uoc3RyaW5nS2V5LCBhcmcwLCBhcmcxKQogICAgICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzAsIGFyZzEsIGFyZzIpOwogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKG1lc3NhZ2UsIHRydWUsIHVuZGVmaW5lZCwgc3RyaW5nS2V5KTsKfQoKZnVuY3Rpb24gYnJvYWRjYXN0SGlnaGxpZ2h0ZWRTdHJpbmdLZXkoCiAgICBzdHJpbmdLZXk6IG51bWJlciwKICAgIGFyZzA/OiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyLAogICAgYXJnMT86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIsCiAgICBhcmcyPzogc3RyaW5nIHwgbnVtYmVyIHwgbW9kLlBsYXllcgopOiB2b2lkIHsKICAgIGNvbnN0IG1lc3NhZ2UgPSAoYXJnMCA9PT0gdW5kZWZpbmVkKQogICAgICAgID8gbW9kLk1lc3NhZ2Uoc3RyaW5nS2V5KQogICAgICAgIDogKGFyZzEgPT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgPyBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzApCiAgICAgICAgICAgIDogKGFyZzIgPT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgID8gbW9kLk1lc3NhZ2Uoc3RyaW5nS2V5LCBhcmcwLCBhcmcxKQogICAgICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShzdHJpbmdLZXksIGFyZzAsIGFyZzEsIGFyZzIpOwogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKG1lc3NhZ2UsIGZhbHNlLCB1bmRlZmluZWQsIHN0cmluZ0tleSk7Cn0KCi8vIENvbW1lbnRlZCBvdXQgZnVuY3Rpb246Ci8vZnVuY3Rpb24gYnJvYWRjYXN0Tm90aWZpY2F0aW9uTWVzc2FnZShtZXNzYWdlOiBtb2QuTWVzc2FnZSk6IHZvaWQgewovLyAgICBtb2QuRGlzcGxheU5vdGlmaWNhdGlvbk1lc3NhZ2UobWVzc2FnZSk7Ci8vfQoKdHlwZSBDbGVhbnVwU3Bhd25XYWl0UmVzdWx0ID0gImNvbXBsZXRlZCIgfCAidGltZW91dCIgfCAiYWJvcnRlZCI7CgpmdW5jdGlvbiBzZXRDbGVhbnVwU3RhdGUoYWN0aXZlOiBib29sZWFuLCBhbGxvd0RlcGxveTogYm9vbGVhbik6IHZvaWQgewogICAgU3RhdGUucm91bmQuZmxvdy5jbGVhbnVwQWN0aXZlID0gYWN0aXZlOwogICAgU3RhdGUucm91bmQuZmxvdy5jbGVhbnVwQWxsb3dEZXBsb3kgPSBhbGxvd0RlcGxveTsKICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKfQoKLy8gU3RvcHMgYWxsIHNwYXduZXIgYWN0aXZpdHkgYW5kIGludmFsaWRhdGVzIGluLWZsaWdodCBzZXF1ZW5jZXMgYmVmb3JlIGNsZWFudXAuCmZ1bmN0aW9uIHF1aWVzY2VTcGF3bmVyU3lzdGVtRm9yQ2xlYW51cCgpOiB2b2lkIHsKICAgIFN0YXRlLnZlaGljbGVzLnNwYXduU2VxdWVuY2VUb2tlbiA9IChTdGF0ZS52ZWhpY2xlcy5zcGF3blNlcXVlbmNlVG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7CiAgICBTdGF0ZS52ZWhpY2xlcy5zcGF3blNlcXVlbmNlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25TbG90SW5kZXggPSB1bmRlZmluZWQ7CiAgICBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blRva2VuID0gdW5kZWZpbmVkOwogICAgU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHMgPSB1bmRlZmluZWQ7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTdGF0ZS52ZWhpY2xlcy5zbG90cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tpXTsKICAgICAgICBpZiAoc2xvdC5lbmFibGVkKSB7CiAgICAgICAgICAgIHNldFNwYXduZXJTbG90RW5hYmxlZChpLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIHNsb3QuZXhwZWN0aW5nU3Bhd24gPSBmYWxzZTsKICAgICAgICBzbG90LnNwYXduUmV0cnlTY2hlZHVsZWQgPSBmYWxzZTsKICAgICAgICBzbG90LnJlc3Bhd25SdW5uaW5nID0gZmFsc2U7CiAgICB9Cn0KCmZ1bmN0aW9uIHJlc2V0U3Bhd25lclNsb3RTdGF0ZUZvckNsZWFudXAoKTogdm9pZCB7CiAgICBTdGF0ZS52ZWhpY2xlcy52ZWhpY2xlVG9TbG90ID0ge307CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFN0YXRlLnZlaGljbGVzLnNsb3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW2ldOwogICAgICAgIHNsb3QudmVoaWNsZUlkID0gLTE7CiAgICAgICAgc2xvdC5leHBlY3RpbmdTcGF3biA9IGZhbHNlOwogICAgICAgIHNsb3Quc3Bhd25SZXRyeVNjaGVkdWxlZCA9IGZhbHNlOwogICAgICAgIHNsb3QucmVzcGF3blJ1bm5pbmcgPSBmYWxzZTsKICAgICAgICBzbG90LnNwYXduUmVxdWVzdFRva2VuID0gMDsKICAgICAgICBzbG90LnNwYXduUmVxdWVzdEF0U2Vjb25kcyA9IC0xOwogICAgfQp9CgpmdW5jdGlvbiBjbGVhclZlaGljbGVDYWNoZXNGb3JDbGVhbnVwKCk6IHZvaWQgewogICAgbW9kLlNldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTEsIG1vZC5FbXB0eUFycmF5KCkpOwogICAgbW9kLlNldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTIsIG1vZC5FbXB0eUFycmF5KCkpOwogICAgdmVoSWRzLmxlbmd0aCA9IDA7CiAgICB2ZWhPd25lcnMubGVuZ3RoID0gMDsKICAgIGNsZWFyU3Bhd25CYXNlVGVhbUNhY2hlKCk7Cn0KCmZ1bmN0aW9uIGFyZUNsZWFudXBTcGF3bnNSZWFkeSgpOiBib29sZWFuIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbaV07CiAgICAgICAgaWYgKCFzbG90LmVuYWJsZWQpIGNvbnRpbnVlOwogICAgICAgIGlmIChzbG90LnZlaGljbGVJZCA9PT0gLTEpIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgovLyBDbGVhbnVwIGdhdGluZzogInF1aWVzY2VudCIgbWVhbnMgbm8gcGVuZGluZyBiaW5kcy9yZXNwYXducyBvciBhY3RpdmUgc3Bhd24gc2VxdWVuY2VzLgpmdW5jdGlvbiBpc1NwYXduZXJTeXN0ZW1RdWllc2NlbnQoKTogYm9vbGVhbiB7CiAgICBpZiAoU3RhdGUudmVoaWNsZXMuc3Bhd25TZXF1ZW5jZUluUHJvZ3Jlc3MpIHJldHVybiBmYWxzZTsKICAgIGlmIChTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHMgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU3RhdGUudmVoaWNsZXMuc2xvdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbaV07CiAgICAgICAgaWYgKHNsb3QuZXhwZWN0aW5nU3Bhd24pIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoc2xvdC5yZXNwYXduUnVubmluZykgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChzbG90LnNwYXduUmV0cnlTY2hlZHVsZWQpIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKfQoKLy8gV2FpdHMgZm9yIHNsb3QgSURzICsgcXVpZXNjZW50IHNwYXduZXIgc3RhdGUsIHRoZW4gc3RhYmlsaXplcyBicmllZmx5IHRvIGF2b2lkIGxhdGUgYmluZHMuCmFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JDbGVhbnVwU3Bhd25zT3JUaW1lb3V0KGV4cGVjdGVkVG9rZW46IG51bWJlcik6IFByb21pc2U8Q2xlYW51cFNwYXduV2FpdFJlc3VsdD4gewogICAgY29uc3Qgc3RhcnRFbGFwc2VkID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKTsKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgaWYgKGV4cGVjdGVkVG9rZW4gIT09IFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmRSZWRlcGxveVRva2VuKSByZXR1cm4gImFib3J0ZWQiOwogICAgICAgIGlmICghU3RhdGUucm91bmQuZmxvdy5jbGVhbnVwQWN0aXZlKSByZXR1cm4gImFib3J0ZWQiOwogICAgICAgIGlmIChhcmVDbGVhbnVwU3Bhd25zUmVhZHkoKSAmJiBpc1NwYXduZXJTeXN0ZW1RdWllc2NlbnQoKSkgewogICAgICAgICAgICBhd2FpdCBtb2QuV2FpdCgwLjUpOwogICAgICAgICAgICBpZiAoYXJlQ2xlYW51cFNwYXduc1JlYWR5KCkgJiYgaXNTcGF3bmVyU3lzdGVtUXVpZXNjZW50KCkpIHJldHVybiAiY29tcGxldGVkIjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpIC0gc3RhcnRFbGFwc2VkOwogICAgICAgIGlmIChlbGFwc2VkID49IFJPVU5EX0VORF9DTEVBTlVQX1NQQVdOX1RJTUVPVVRfU0VDT05EUykgcmV0dXJuICJ0aW1lb3V0IjsKCiAgICAgICAgYXdhaXQgbW9kLldhaXQoMC41KTsKICAgIH0KfQoKLy8gUm91bmQtZW5kIGNsZWFudXAgZmxvdzogbG9jayAtPiBxdWllc2NlIC0+IGRlc3Ryb3kgLT4gdW5kZXBsb3kgLT4gcmVzZXQgLT4gc3Bhd24gLT4gd2FpdC90aW1lb3V0IC0+IGRlcGxveSAtPiBob2xkLgovLyBTdGF0ZS5yb3VuZC5mbG93LnJvdW5kRW5kUmVkZXBsb3lUb2tlbiBjYW5jZWxzIG9sZGVyIHRpbWVycyBpZiBhIG5ldyByb3VuZCBlbmQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgZGVsYXkgY29tcGxldGVzLgphc3luYyBmdW5jdGlvbiBzY2hlZHVsZVJvdW5kRW5kQ2xlYW51cChleHBlY3RlZFRva2VuOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHsKICAgIHNldENsZWFudXBTdGF0ZSh0cnVlLCBmYWxzZSk7CiAgICBtb2QuRW5hYmxlQWxsUGxheWVyRGVwbG95KGZhbHNlKTsKICAgIC8vIEludmFyaWFudDogY2xlYW51cEFjdGl2ZSBibG9ja3MgZGVwbG95L1VJIHVudGlsIGNsZWFudXBBbGxvd0RlcGxveSBmbGlwcyBhZnRlciBzcGF3bnMgYXJlIHJlYWR5LgoKICAgIGF3YWl0IG1vZC5XYWl0KFJPVU5EX0VORF9SRURFUExPWV9ERUxBWV9TRUNPTkRTKTsKCiAgICBpZiAoZXhwZWN0ZWRUb2tlbiAhPT0gU3RhdGUucm91bmQuZmxvdy5yb3VuZEVuZFJlZGVwbG95VG9rZW4pIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoaXNSb3VuZExpdmUoKSkgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChTdGF0ZS5tYXRjaC5pc0VuZGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHF1aWVzY2VTcGF3bmVyU3lzdGVtRm9yQ2xlYW51cCgpOwoKICAgIGNvbnN0IHZlaGljbGVzID0gbW9kLkFsbFZlaGljbGVzKCk7CiAgICBjb25zdCB2Q291bnQgPSBtb2QuQ291bnRPZih2ZWhpY2xlcyk7CiAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHZDb3VudDsgdisrKSB7CiAgICAgICAgY29uc3QgdmVoaWNsZSA9IG1vZC5WYWx1ZUluQXJyYXkodmVoaWNsZXMsIHYpIGFzIG1vZC5WZWhpY2xlOwogICAgICAgIGlmICghdmVoaWNsZSkgY29udGludWU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbW9kLkRlYWxEYW1hZ2UodmVoaWNsZSwgOTk5OSk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIC8vIERpc2Nvbm5lY3Qtc2FmZTogYXZvaWQgaGFyZCBjcmFzaCBpZiB2ZWhpY2xlIGludmFsaWRhdGVzIG1pZC1sb29wLgogICAgICAgIH0KICAgIH0KCiAgICBhd2FpdCBtb2QuV2FpdCgzKTsKCiAgICAvLyBQZXItcGxheWVyIHVuZGVwbG95IHRvIGF2b2lkIGdsb2JhbCByZWRlcGxveSBzaWRlIGVmZmVjdHMuCiAgICBjb25zdCB1bmRlcGxveWVkUGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCB1bmRlcGxveUNvdW50ID0gbW9kLkNvdW50T2YodW5kZXBsb3llZFBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmRlcGxveUNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwbGF5ZXIgPSBtb2QuVmFsdWVJbkFycmF5KHVuZGVwbG95ZWRQbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbW9kLlVuZGVwbG95UGxheWVyKHBsYXllcik7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBTdGF0ZS5wbGF5ZXJzLmRlcGxveWVkQnlQaWRbcGlkXSA9IGZhbHNlOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHNldFVJSW5wdXRNb2RlRm9yUGxheWVyKHBsYXllciwgZmFsc2UpOwogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICAvLyBJZ25vcmUgVUkgZmFpbHVyZXMgZHVyaW5nIGNsZWFudXAuCiAgICAgICAgfQogICAgfQoKICAgIHJlc2V0U3Bhd25lclNsb3RTdGF0ZUZvckNsZWFudXAoKTsKICAgIGNsZWFyVmVoaWNsZUNhY2hlc0ZvckNsZWFudXAoKTsKCiAgICBhcHBseVNwYXduZXJFbmFibGVtZW50Rm9yTWF0Y2h1cChTdGF0ZS5yb3VuZC5tYXRjaHVwUHJlc2V0SW5kZXgsIHRydWUpOwoKICAgIGNvbnN0IHdhaXRSZXN1bHQgPSBhd2FpdCB3YWl0Rm9yQ2xlYW51cFNwYXduc09yVGltZW91dChleHBlY3RlZFRva2VuKTsKICAgIGlmICh3YWl0UmVzdWx0ID09PSAidGltZW91dCIpIHsKICAgICAgICBzZW5kSGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UoCiAgICAgICAgICAgIG1vZC5NZXNzYWdlKFNUUl9ST1VORF9DTEVBTlVQX1NQQVdOX1RJTUVPVVQsIFJPVU5EX0VORF9DTEVBTlVQX1NQQVdOX1RJTUVPVVRfU0VDT05EUyksCiAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgIHVuZGVmaW5lZCwKICAgICAgICAgICAgU1RSX1JPVU5EX0NMRUFOVVBfU1BBV05fVElNRU9VVAogICAgICAgICk7CiAgICB9IGVsc2UgaWYgKHdhaXRSZXN1bHQgPT09ICJhYm9ydGVkIikgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBzZXRDbGVhbnVwU3RhdGUodHJ1ZSwgdHJ1ZSk7CiAgICBtb2QuRW5hYmxlQWxsUGxheWVyRGVwbG95KHRydWUpOwogICAgLy8gUGVyLXBsYXllciBkZXBsb3kgcGFzcywgdGhlbiByZWNoZWNrIGZvciBzdHJhZ2dsZXJzLgogICAgYXdhaXQgbW9kLldhaXQoMC4xKTsKCiAgICBsZXQgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBsZXQgcENvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBDb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGxheWVyID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgaWYgKCFpc1BsYXllckRlcGxveWVkKHBsYXllcikpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIG1vZC5EZXBsb3lQbGF5ZXIocGxheWVyKTsKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBhd2FpdCBtb2QuV2FpdCgwLjUpOwoKICAgIHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgcENvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBDb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcGxheWVyID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgICAgICBpZiAocGlkID09PSB1bmRlZmluZWQgfHwgaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgY29udGludWU7CiAgICAgICAgaWYgKCFpc1BsYXllckRlcGxveWVkKHBsYXllcikpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIG1vZC5EZXBsb3lQbGF5ZXIocGxheWVyKTsKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBhd2FpdCBtb2QuV2FpdChST1VORF9FTkRfUE9TVF9ERVBMT1lfSE9MRF9TRUNPTkRTKTsKCiAgICBpZiAoZXhwZWN0ZWRUb2tlbiAhPT0gU3RhdGUucm91bmQuZmxvdy5yb3VuZEVuZFJlZGVwbG95VG9rZW4pIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgc2V0Um91bmRFbmREaWFsb2dWaXNpYmxlRm9yQWxsUGxheWVycyhmYWxzZSk7CiAgICBzZXRDbGVhbnVwU3RhdGUoZmFsc2UsIGZhbHNlKTsKfQoKLy8gRmluYWwtcm91bmQgZmxvdzoga2VlcCB0aGUgcm91bmQtZW5kIGRpYWxvZyB2aXNpYmxlIGZvciB0aGUgbm9ybWFsIDEwcyB3aW5kb3csIHRoZW4gaGlkZSBpdCBhbmQgc2hvdyB0aGUgVmljdG9yeSBkaWFsb2cgZm9yIE1BVENIX0VORF9ERUxBWV9TRUNPTkRTLgovLyBUaGlzIHVzZXMgU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gYXMgYSBjYW5jZWxsYXRpb24gdG9rZW4gc28gYWRtaW4gYWN0aW9ucyBvciB1bmV4cGVjdGVkIHN0YXRlIGNoYW5nZXMgY2Fubm90IHRyaWdnZXIgc3RhbGUgZGVsYXllZCBVSS4KYXN5bmMgZnVuY3Rpb24gc2NoZWR1bGVGaW5hbFJvdW5kVmljdG9yeShleHBlY3RlZFRva2VuOiBudW1iZXIsIHdpbm5pbmdUZWFtTnVtOiBUZWFtSUQgfCAwKTogUHJvbWlzZTx2b2lkPiB7CiAgICBhd2FpdCBtb2QuV2FpdChST1VORF9FTkRfUkVERVBMT1lfREVMQVlfU0VDT05EUyk7CgogICAgaWYgKGV4cGVjdGVkVG9rZW4gIT09IFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCFTdGF0ZS5tYXRjaC5pc0VuZGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIEhpZGUgdGhlIHJvdW5kLWVuZCBkaWFsb2cgd2hlbiB0aGUgcm91bmQtZW5kIHdpbmRvdyBleHBpcmVzLCBldmVuIG9uIHRoZSBmaW5hbCByb3VuZC4KICAgIHNldFJvdW5kRW5kRGlhbG9nVmlzaWJsZUZvckFsbFBsYXllcnMoZmFsc2UpOwoKICAgIC8vIEZpbmFsLXJvdW5kIGV4Y2VwdGlvbjogcmUtZW5hYmxlIGRlcGxveSB3aXRob3V0IGZvcmNpbmcgcmVzcGF3biBzbyBWaWN0b3J5IGRpYWxvZyBpcyB2aXNpYmxlLgogICAgaWYgKERJU0FCTEVfUkVTUEFXTl9EVVJJTkdfTElWRV9ST1VORCkgewogICAgICAgIG1vZC5FbmFibGVBbGxQbGF5ZXJEZXBsb3kodHJ1ZSk7CiAgICB9CgogICAgLy8gU3RhcnQgdGhlIG1hdGNoLWVuZCB2aWN0b3J5IGZsb3cgb25seSBhZnRlciB0aGUgcm91bmQtZW5kIHdpbmRvdyBjb21wbGV0ZXMuCiAgICBTdGF0ZS5tYXRjaC52aWN0b3J5U3RhcnRFbGFwc2VkU2Vjb25kc1NuYXBzaG90ID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKTsKICAgIFN0YXRlLm1hdGNoLmVuZEVsYXBzZWRTZWNvbmRzU25hcHNob3QgPSBTdGF0ZS5tYXRjaC52aWN0b3J5U3RhcnRFbGFwc2VkU2Vjb25kc1NuYXBzaG90OwogICAgU3RhdGUubWF0Y2gudmljdG9yeURpYWxvZ0FjdGl2ZSA9IHRydWU7CiAgICBTdGF0ZS5yb3VuZC5jbG9jay5pc1BhdXNlZCA9IGZhbHNlOwogICAgU3RhdGUucm91bmQuY2xvY2sucGF1c2VkUmVtYWluaW5nU2Vjb25kcyA9IHVuZGVmaW5lZDsKICAgIFJlc2V0Um91bmRDbG9jayhNQVRDSF9FTkRfREVMQVlfU0VDT05EUyk7CiAgICB1cGRhdGVWaWN0b3J5RGlhbG9nRm9yQWxsUGxheWVycyhNQVRDSF9FTkRfREVMQVlfU0VDT05EUyk7CgogICAgdm9pZCBzY2hlZHVsZU1hdGNoRW5kKGV4cGVjdGVkVG9rZW4sIHdpbm5pbmdUZWFtTnVtKTsKfQoKYXN5bmMgZnVuY3Rpb24gc2NoZWR1bGVNYXRjaEVuZChleHBlY3RlZFRva2VuOiBudW1iZXIsIHdpbm5pbmdUZWFtTnVtPzogVGVhbUlEIHwgMCk6IFByb21pc2U8dm9pZD4gewogICAgYXdhaXQgbW9kLldhaXQoTUFUQ0hfRU5EX0RFTEFZX1NFQ09ORFMpOwoKICAgIGlmIChleHBlY3RlZFRva2VuICE9PSBTdGF0ZS5tYXRjaC5mbG93Lm1hdGNoRW5kRGVsYXlUb2tlbikgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICghU3RhdGUubWF0Y2guaXNFbmRlZCkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAod2lubmluZ1RlYW1OdW0gIT09IHVuZGVmaW5lZCAmJiB3aW5uaW5nVGVhbU51bSAhPT0gMCkgewogICAgICAgIGVuZEdhbWVNb2RlRm9yVGVhbU51bSh3aW5uaW5nVGVhbU51bSk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIG1vZC5FbmRHYW1lTW9kZShtb2QuR2V0VGVhbSgwKSk7Cn0KCmZ1bmN0aW9uIGJpbmRSb3VuZENsb2NrRXhwaXJ5VG9Sb3VuZEVuZCgpOiB2b2lkIHsKICAgIGlmIChTdGF0ZS5yb3VuZC5mbG93LmNsb2NrRXhwaXJ5Qm91bmQpIHJldHVybjsKICAgIFN0YXRlLnJvdW5kLmZsb3cuY2xvY2tFeHBpcnlCb3VuZCA9IHRydWU7CgogICAgU3RhdGUucm91bmQuY2xvY2suZXhwaXJ5SGFuZGxlcnMucHVzaCgoKSA9PiB7CiAgICAgICAgaWYgKGlzUm91bmRMaXZlKCkpIHsKICAgICAgICAgICAgY29uc3Qgb3ZlcnRpbWVXaW5uZXIgPSByZXNvbHZlT3ZlcnRpbWVXaW5uZXJBdENsb2NrRXhwaXJ5KCk7CiAgICAgICAgICAgIC8vIFVuZGVmaW5lZCA9IG5ldXRyYWwgcHJvZ3Jlc3M7IGVuZFJvdW5kIHdpbGwgZmFsbCBiYWNrIHRvIHJvdW5kIGtpbGxzLgogICAgICAgICAgICBlbmRSb3VuZCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3ZlcnRpbWVXaW5uZXIpOwogICAgICAgIH0KICAgIH0pOwp9CgovLyBTdGFydHMgYSBuZXcgcm91bmQgdXNpbmcgdGhlIGN1cnJlbnQgYXV0aG9yaXRhdGl2ZSBjb25maWd1cmF0aW9uLgovLyBJbnZhcmlhbnRzOgovLyAtIFJlc2V0cyBwZXItcm91bmQgY291bnRlcnMgYnV0IHByZXNlcnZlcyBtYXRjaC1sZXZlbCB0b3RhbHMKLy8gLSBJbml0aWFsaXplcyB0aGUgcm91bmQgY2xvY2sgZnJvbSBST1VORF9TVEFSVF9TRUNPTkRTCi8vIC0gU2V0cyByb3VuZCBwaGFzZSBzdGF0ZSB1c2VkIGJ5IEhVRCBhbmQgZW5kIGNvbmRpdGlvbnMKCmZ1bmN0aW9uIHN0YXJ0Um91bmQoX3RyaWdnZXJQbGF5ZXI/OiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoU3RhdGUubWF0Y2guaXNFbmRlZCkgewogICAgLy8gU3RlcHM6CiAgICAvLyAxKSBSZXNldCByb3VuZC1zY29wZWQgY291bnRlcnMgYW5kIGZsYWdzCiAgICAvLyAyKSBJbml0aWFsaXplIHRoZSByb3VuZCBjbG9jayBmcm9tIFJPVU5EX1NUQVJUX1NFQ09ORFMKICAgIC8vIDMpIFB1c2ggSFVEL1VJIHVwZGF0ZXMgZm9yIHRoZSBuZXcgcm91bmQgc3RhdGUKCiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIERlZmVuc2l2ZSBjbGVhbnVwOiBoaWRlIGNvdW50ZG93biBVSSBpZiB3ZSBhcmUgbm90IGN1cnJlbnRseSBydW5uaW5nIGEgY291bnRkb3duLgogICAgLy8gVGhpcyBwcmVzZXJ2ZXMgdGhlIEdPIGRpc3BsYXkgd2hlbiBzdGFydFJvdW5kIGlzIHRyaWdnZXJlZCBieSB0aGUgY291bnRkb3duIGl0c2VsZi4KICAgIGlmICghU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlKSB7CiAgICAgICAgaGlkZVByZWdhbWVDb3VudGRvd25Gb3JBbGxQbGF5ZXJzKCk7CiAgICB9CgogICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzUmVxdWVzdGVkID0gZmFsc2U7CiAgICBiaW5kUm91bmRDbG9ja0V4cGlyeVRvUm91bmRFbmQoKTsKICAgIFN0YXRlLnJvdW5kLnBoYXNlID0gUm91bmRQaGFzZS5MaXZlOyAvLyBFbmFibGVzIHNjb3JpbmcgKyBMSVZFIEhVRCBzdGF0ZS4KICAgIC8vIE9wdGlvbmFsIHJlc3Bhd24gbG9jazogZGlzYWJsZSBkZXBsb3kgZHVyaW5nIExJVkUgcm91bmRzIHdoZW4gdGVzdCB0b2dnbGUgaXMgb24uCiAgICBpZiAoRElTQUJMRV9SRVNQQVdOX0RVUklOR19MSVZFX1JPVU5EKSB7CiAgICAgICAgbW9kLkVuYWJsZUFsbFBsYXllckRlcGxveShmYWxzZSk7CiAgICB9CiAgICBzZXRTcGF3bkRpc2FibGVkTGl2ZVRleHRWaXNpYmxlRm9yQWxsUGxheWVycyhmYWxzZSk7CiAgICAvLyBFeHRlbmRzIHRoZSBidWlsdC1pbiBnYW1lbW9kZSB0aW1lIGxpbWl0IHNvIHRoZSBtYXRjaCBhbHdheXMgaGFzIGEgZnVsbCBob3VyIHJlbWFpbmluZyBhZnRlciBlYWNoIHJvdW5kIHN0YXJ0LgogICAgY29uc3QgZWxhcHNlZFNlY29uZHMgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpOwogICAgbW9kLlNldEdhbWVNb2RlVGltZUxpbWl0KGVsYXBzZWRTZWNvbmRzICsgQkFDS0dST1VORF9USU1FX0xJTUlUX1JFU0VUX1NFQ09ORFMpOwogICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICBzZXRSb3VuZEVuZERpYWxvZ1Zpc2libGVGb3JBbGxQbGF5ZXJzKGZhbHNlKTsKICAgIC8vIFJvdW5kIHN0YXJ0OiByZWxlYXNlIHJvdW5kLWVuZCBVSSBsb2NrZG93biBzbyBvdmVydGltZSBIVUQgY2FuIHByZXdhcm0uCiAgICBTdGF0ZS5yb3VuZC5mbG93LnJvdW5kRW5kVWlMb2NrZG93biA9IGZhbHNlOwogICAgU3RhdGUucm91bmQubGFzdFdpbm5lclRlYW0gPSAwOwogICAgU3RhdGUucm91bmQubGFzdEVuZERldGFpbFJlYXNvbiA9IFJvdW5kRW5kRGV0YWlsUmVhc29uLk5vbmU7CgogICAgU3RhdGUuc2NvcmVzLnQxUm91bmRLaWxscyA9IDA7CiAgICBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzID0gMDsKCiAgICBzeW5jUm91bmRLaWxsc0h1ZCh0cnVlKTsKICAgIHJlZnJlc2hPdmVydGltZVpvbmVzRnJvbU1hcENvbmZpZygpOwogICAgcmVzZXRPdmVydGltZUZsYWdTdGF0ZSgpOwogICAgLy8gUm91bmQgc3RhcnQ6IGhpZGUgYWxsIGZsYWcgbWFya2VycyB1bnRpbCB0aGUgaGFsZi10aW1lIHJldmVhbC4KICAgIHNldE92ZXJ0aW1lQWxsRmxhZ1Zpc2liaWxpdHkoZmFsc2UpOwogICAgLy8gUm91bmQgc3RhcnQ6IHByZXNlbGVjdCB0aGUgb3ZlcnRpbWUgem9uZSBzbyB3ZSBjYW4gdHJhY2sgb2NjdXBhbmN5IGJlZm9yZSBhY3RpdmF0aW9uLgogICAgU3RhdGUuZmxhZy50cmFja2luZ0VuYWJsZWQgPSBzZWxlY3RPdmVydGltZVpvbmVGb3JSb3VuZCgpOwogICAgcHJld2FybU92ZXJ0aW1lSHVkRm9yQWxsUGxheWVycygpOwoKICAgIFJlc2V0Um91bmRDbG9jayhST1VORF9TVEFSVF9TRUNPTkRTKTsKICAgIGJyb2FkY2FzdFN0cmluZ0tleShtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5yb3VuZFN0YXJ0ZWQpOwp9CgovLyBFbmRzIHRoZSBjdXJyZW50IHJvdW5kIGFuZCBzY2hlZHVsZXMgdHJhbnNpdGlvbiB0byB0aGUgbmV4dCBzdGF0ZS4KLy8gTm90ZXM6Ci8vIC0gUm91bmQgZW5kIHJlYXNvbiBpcyBkZXRlcm1pbmVkIGJlZm9yZSB0aGlzIGNhbGwKLy8gLSBSZWRlcGxveSBkZWxheSBhbmQgbmV4dC1yb3VuZCBzY2hlZHVsaW5nIGFyZSB0aW1lLWJhc2VkCi8vIC0gTWF0Y2ggZW5kIGlzIGhhbmRsZWQgc2VwYXJhdGVseSBhbmQgbXVzdCBub3QgYmUgdHJpZ2dlcmVkIGhlcmUKCmZ1bmN0aW9uIGVuZFJvdW5kKF90cmlnZ2VyUGxheWVyPzogbW9kLlBsYXllciwgZnJlZXplUmVtYWluaW5nU2Vjb25kcz86IG51bWJlciwgb3ZlcnJpZGVXaW5uZXJUZWFtTnVtPzogVGVhbUlEIHwgMCk6IHZvaWQgewogICAgaWYgKCFpc1JvdW5kTGl2ZSgpKSB7CiAgICAvLyBTdGVwczoKICAgIC8vIDEpIEZyZWV6ZSByb3VuZC1saXZlIHN5c3RlbXMgKG5vIGZ1cnRoZXIgc2NvcmluZykKICAgIC8vIDIpIFNjaGVkdWxlIHJlZGVwbG95IC8gdHJhbnNpdGlvbiB1c2luZyBST1VORF9FTkRfUkVERVBMT1lfREVMQVlfU0VDT05EUwogICAgLy8gMykgSWYgbWF0Y2ggc2hvdWxkIGVuZCwgaGFuZCBvZmYgdG8gbWF0Y2gtZW5kIHBhdGggKG5vdCByb3VuZCBwYXRoKQoKICAgICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCB0aW1lRXhwaXJlZCA9IFN0YXRlLnJvdW5kLmNsb2NrLmV4cGlyeUZpcmVkOwogICAgY29uc3QgdDEgPSBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzOwogICAgY29uc3QgdDIgPSBTdGF0ZS5zY29yZXMudDJSb3VuZEtpbGxzOwogICAgY29uc3Qgb3ZlcnRpbWVQcm9ncmVzcyA9IFN0YXRlLmZsYWcucHJvZ3Jlc3M7CiAgICBjb25zdCBvdmVydGltZUNvbmZpZ1ZhbGlkID0gU3RhdGUuZmxhZy5jb25maWdWYWxpZDsKICAgIGNvbnN0IHByb2dyZXNzTmV1dHJhbCA9ICFvdmVydGltZUNvbmZpZ1ZhbGlkIHx8IE1hdGguYWJzKG92ZXJ0aW1lUHJvZ3Jlc3MgLSAwLjUpIDw9IDAuMDAwMTsKICAgIGNvbnN0IHByb2dyZXNzRnVsbCA9IG92ZXJ0aW1lQ29uZmlnVmFsaWQgJiYgKG92ZXJ0aW1lUHJvZ3Jlc3MgPD0gMC4wMDAxIHx8IG92ZXJ0aW1lUHJvZ3Jlc3MgPj0gMC45OTk5KTsKICAgIGNvbnN0IGtpbGxUYXJnZXRSZWFjaGVkID0gaXNSb3VuZEtpbGxUYXJnZXRSZWFjaGVkKCk7CiAgICBsZXQgZW5kRGV0YWlsUmVhc29uID0gUm91bmRFbmREZXRhaWxSZWFzb24uTm9uZTsKCiAgICBpZiAoa2lsbFRhcmdldFJlYWNoZWQpIHsKICAgICAgICBlbmREZXRhaWxSZWFzb24gPSBSb3VuZEVuZERldGFpbFJlYXNvbi5FbGltaW5hdGlvbjsKICAgIH0gZWxzZSBpZiAoIXRpbWVFeHBpcmVkICYmIHByb2dyZXNzRnVsbCkgewogICAgICAgIGVuZERldGFpbFJlYXNvbiA9IFJvdW5kRW5kRGV0YWlsUmVhc29uLk9iamVjdGl2ZUNhcHR1cmVkOwogICAgfSBlbHNlIGlmICh0aW1lRXhwaXJlZCAmJiAhcHJvZ3Jlc3NOZXV0cmFsKSB7CiAgICAgICAgZW5kRGV0YWlsUmVhc29uID0gUm91bmRFbmREZXRhaWxSZWFzb24uVGltZU92ZXJPYmplY3RpdmVQcm9ncmVzczsKICAgIH0gZWxzZSBpZiAodGltZUV4cGlyZWQgJiYgdDEgPT09IHQyKSB7CiAgICAgICAgZW5kRGV0YWlsUmVhc29uID0gKHQxID09PSAwKQogICAgICAgICAgICA/IFJvdW5kRW5kRGV0YWlsUmVhc29uLlRpbWVPdmVyRHJhd05vQWN0aW9uCiAgICAgICAgICAgIDogUm91bmRFbmREZXRhaWxSZWFzb24uVGltZU92ZXJEcmF3RXZlbkVsaW1zOwogICAgfSBlbHNlIGlmICh0aW1lRXhwaXJlZCkgewogICAgICAgIGVuZERldGFpbFJlYXNvbiA9IFJvdW5kRW5kRGV0YWlsUmVhc29uLlRpbWVPdmVyS2lsbHM7CiAgICB9IGVsc2UgewogICAgICAgIGVuZERldGFpbFJlYXNvbiA9IFJvdW5kRW5kRGV0YWlsUmVhc29uLkVsaW1pbmF0aW9uOwogICAgfQogICAgU3RhdGUucm91bmQubGFzdEVuZERldGFpbFJlYXNvbiA9IGVuZERldGFpbFJlYXNvbjsKICAgIFN0YXRlLnJvdW5kLmxhc3RPYmplY3RpdmVQcm9ncmVzcyA9IG92ZXJ0aW1lUHJvZ3Jlc3M7CgogICAgU3RhdGUucm91bmQucGhhc2UgPSBSb3VuZFBoYXNlLk5vdFJlYWR5OyAvLyBSZXR1cm4gdG8gcHJlLXJvdW5kIHN0YXRlOyBtYXkgYmUgb3ZlcnJpZGRlbiB0byBHYW1lT3ZlciBiZWxvdy4KICAgIHNldFNwYXduRGlzYWJsZWRMaXZlVGV4dFZpc2libGVGb3JBbGxQbGF5ZXJzKGZhbHNlKTsKICAgIC8vIFJlYWR5LWN5Y2xlIGF1dG8tc3RhcnQgLyByZXNldDo6IHJvdW5kIGVuZGVkIC0+IHJlc2V0IGFsbCBwbGF5ZXJzIHRvIE5PVCBSRUFEWSBmb3IgdGhlIG5leHQgcmVhZHktdXAgY3ljbGUuCiAgICByZXNldFJlYWR5U3RhdGVGb3JBbGxQbGF5ZXJzKCk7CgogICAgLy8gRnJlZXplIGRpc3BsYXkgYWZ0ZXIgZW5kaW5nIHRoZSByb3VuZC4KICAgIFN0YXRlLnJvdW5kLmNsb2NrLmlzUGF1c2VkID0gdHJ1ZTsKICAgIFN0YXRlLnJvdW5kLmNsb2NrLnBhdXNlZFJlbWFpbmluZ1NlY29uZHMgPSBNYXRoLm1heCgwLCBmcmVlemVSZW1haW5pbmdTZWNvbmRzICE9PSB1bmRlZmluZWQgPyBNYXRoLmZsb29yKGZyZWV6ZVJlbWFpbmluZ1NlY29uZHMpIDogMCk7CgogICAgcmVzZXRPdmVydGltZUZsYWdTdGF0ZSgpOwogICAgLy8gUm91bmQgZW5kOiByZXR1cm4gdG8gcHJlZ2FtZSB2aXNpYmlsaXR5IChhbGwgZmxhZyBtYXJrZXJzIHZpc2libGUsIGNhcHR1cmUgc3VwcHJlc3NlZCkuCiAgICBzZXRPdmVydGltZUFsbEZsYWdWaXNpYmlsaXR5KHRydWUpOwoKICAgIGNvbnN0IHdpbm5lclRlYW1OdW0gPSAob3ZlcnJpZGVXaW5uZXJUZWFtTnVtICE9PSB1bmRlZmluZWQpCiAgICAgICAgPyBvdmVycmlkZVdpbm5lclRlYW1OdW0KICAgICAgICA6ICh0MSA+IHQyID8gVGVhbUlELlRlYW0xIDogKCh0MiA+IHQxKSA/IFRlYW1JRC5UZWFtMiA6IDApKTsKICAgIFN0YXRlLnJvdW5kLmxhc3RXaW5uZXJUZWFtID0gd2lubmVyVGVhbU51bTsKICAgIHVwZGF0ZVJvdW5kRW5kRGlhbG9nRm9yQWxsUGxheWVycyh3aW5uZXJUZWFtTnVtKTsKICAgIHNldFJvdW5kRW5kRGlhbG9nVmlzaWJsZUZvckFsbFBsYXllcnModHJ1ZSk7CiAgICAvLyBMb2NrIG92ZXJ0aW1lIFVJIHVwZGF0ZXMgb25jZSB0aGUgcm91bmQtZW5kIGRpYWxvZyBpcyBzaG93bi4KICAgIFN0YXRlLnJvdW5kLmZsb3cucm91bmRFbmRVaUxvY2tkb3duID0gdHJ1ZTsKCiAgICBpZiAod2lubmVyVGVhbU51bSA9PT0gVGVhbUlELlRlYW0xKSB7CiAgICAgICAgY29uc3QgbmV3VDFXaW5zID0gU3RhdGUubWF0Y2gud2luc1QxICsgMTsKICAgICAgICBjb25zdCBuZXdUMldpbnMgPSBTdGF0ZS5tYXRjaC53aW5zVDI7CiAgICAgICAgc2V0SHVkV2luQ291bnRlcnNGb3JBbGxQbGF5ZXJzKG5ld1QxV2lucywgbmV3VDJXaW5zKTsKICAgICAgICBicm9hZGNhc3RTdHJpbmdLZXkobW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMucm91bmRFbmRXaW4sIGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMSksIHQxLCB0Mik7CiAgICAgICAgYnJvYWRjYXN0SGlnaGxpZ2h0ZWRTdHJpbmdLZXkobW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMucm91bmRXaW5zLCBuZXdUMVdpbnMsIG5ld1QyV2lucyk7CiAgICB9IGVsc2UgaWYgKHdpbm5lclRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgIGNvbnN0IG5ld1QxV2lucyA9IFN0YXRlLm1hdGNoLndpbnNUMTsKICAgICAgICBjb25zdCBuZXdUMldpbnMgPSBTdGF0ZS5tYXRjaC53aW5zVDIgKyAxOwogICAgICAgIHNldEh1ZFdpbkNvdW50ZXJzRm9yQWxsUGxheWVycyhuZXdUMVdpbnMsIG5ld1QyV2lucyk7CiAgICAgICAgYnJvYWRjYXN0U3RyaW5nS2V5KG1vZC5zdHJpbmdrZXlzLnR3bC5ub3RpZmljYXRpb25zLnJvdW5kRW5kV2luLCBnZXRUZWFtTmFtZUtleShUZWFtSUQuVGVhbTIpLCB0MiwgdDEpOwogICAgICAgIGJyb2FkY2FzdEhpZ2hsaWdodGVkU3RyaW5nS2V5KG1vZC5zdHJpbmdrZXlzLnR3bC5ub3RpZmljYXRpb25zLnJvdW5kV2lucywgbmV3VDFXaW5zLCBuZXdUMldpbnMpOwogICAgfSBlbHNlIHsKICAgICAgICBTdGF0ZS5tYXRjaC50aWVzVDEgPSBTdGF0ZS5tYXRjaC50aWVzVDEgKyAxOwogICAgICAgIFN0YXRlLm1hdGNoLnRpZXNUMiA9IFN0YXRlLm1hdGNoLnRpZXNUMiArIDE7CiAgICAgICAgc3luY1JvdW5kUmVjb3JkSHVkRm9yQWxsUGxheWVycygpOwogICAgICAgIGJyb2FkY2FzdFN0cmluZ0tleShtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5yb3VuZEVuZFRpZSwgdDEsIHQyKTsKICAgICAgICBicm9hZGNhc3RIaWdobGlnaHRlZFN0cmluZ0tleShtb2Quc3RyaW5na2V5cy50d2wubm90aWZpY2F0aW9ucy5yb3VuZFdpbnMsIFN0YXRlLm1hdGNoLndpbnNUMSwgU3RhdGUubWF0Y2gud2luc1QyKTsKICAgIH0KCiAgICAvLyBFbmQgbWF0Y2ggd2hlbiBhIHRlYW0gcmVhY2hlcyB0aGUgcmVxdWlyZWQgbWFqb3JpdHkgb2Ygd2lucy4KICAgIGNvbnN0IHdpbnNOZWVkZWQgPSBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLm1heCAvIDIpICsgMTsKICAgIGlmIChTdGF0ZS5yb3VuZC5tYXggPj0gMSkgewogICAgICAgIGlmIChTdGF0ZS5tYXRjaC53aW5zVDEgPj0gd2luc05lZWRlZCkgewogICAgICAgICAgICBTdGF0ZS5tYXRjaC5pc0VuZGVkID0gdHJ1ZTsKICAgICAgICAgICAgU3RhdGUucm91bmQucGhhc2UgPSBSb3VuZFBoYXNlLkdhbWVPdmVyOyAvLyBMb2NrcyBIVUQgdG8gR0FNRSBPVkVSIGFuZCBkaXNhYmxlcyBsaXZlIHNjb3JpbmcuCiAgICAgICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKICAgICAgICAgICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIFN0YXRlLm1hdGNoLndpbm5lclRlYW0gPSBUZWFtSUQuVGVhbTE7CiAgICAgICAgICAgIFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuID0gKFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuICsgMSkgJSAxMDAwMDAwMDAwOwogICAgICAgICAgICBjb25zdCBtYXRjaEVuZFRva2VuID0gU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW47CiAgICAgICAgICAgIHZvaWQgc2NoZWR1bGVGaW5hbFJvdW5kVmljdG9yeShtYXRjaEVuZFRva2VuLCBUZWFtSUQuVGVhbTEpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChTdGF0ZS5tYXRjaC53aW5zVDIgPj0gd2luc05lZWRlZCkgewogICAgICAgICAgICBTdGF0ZS5tYXRjaC5pc0VuZGVkID0gdHJ1ZTsKICAgICAgICAgICAgU3RhdGUucm91bmQucGhhc2UgPSBSb3VuZFBoYXNlLkdhbWVPdmVyOyAvLyBMb2NrcyBIVUQgdG8gR0FNRSBPVkVSIGFuZCBkaXNhYmxlcyBsaXZlIHNjb3JpbmcuCiAgICAgICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKICAgICAgICAgICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgICAgIFN0YXRlLm1hdGNoLndpbm5lclRlYW0gPSBUZWFtSUQuVGVhbTI7CiAgICAgICAgICAgIFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuID0gKFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuICsgMSkgJSAxMDAwMDAwMDAwOwogICAgICAgICAgICBjb25zdCBtYXRjaEVuZFRva2VuID0gU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW47CiAgICAgICAgICAgIHZvaWQgc2NoZWR1bGVGaW5hbFJvdW5kVmljdG9yeShtYXRjaEVuZFRva2VuLCBUZWFtSUQuVGVhbTIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfSAgICAKICAgIAogICAgLy8gRW5kcyB0aGUgbWF0Y2ggYXQgbWF4IHJvdW5kcyBieSBjb21wYXJpbmcgd2luczsgYSB0aWUgcmVtYWlucyBhIGRyYXcuCiAgICAvLyBFbmQgbWF0Y2ggd2hlbiB0aGUgY29uZmlndXJlZCBtYXggcm91bmRzIGFyZSBjb21wbGV0ZWQgd2l0aG91dCBhIG1ham9yaXR5IHdpbm5lci4KICAgIC8vIFdpbm5lciBpcyBkZWNpZGVkIGJ5IG1vc3Qgcm91bmRzIHdvbjsgYSB0aWUgcmVtYWlucyBhIGRyYXcuCiAgICBpZiAoU3RhdGUucm91bmQubWF4ID49IDEgJiYgU3RhdGUucm91bmQuY3VycmVudCA+PSBTdGF0ZS5yb3VuZC5tYXgpIHsKICAgICAgICBTdGF0ZS5tYXRjaC5pc0VuZGVkID0gdHJ1ZTsKICAgICAgICBTdGF0ZS5yb3VuZC5waGFzZSA9IFJvdW5kUGhhc2UuR2FtZU92ZXI7IC8vIExvY2tzIEhVRCB0byBHQU1FIE9WRVIgYW5kIGRpc2FibGVzIGxpdmUgc2NvcmluZy4KICAgICAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CgogICAgICAgIGlmIChTdGF0ZS5tYXRjaC53aW5zVDEgPiBTdGF0ZS5tYXRjaC53aW5zVDIpIHsKICAgICAgICAgICAgU3RhdGUubWF0Y2gud2lubmVyVGVhbSA9IFRlYW1JRC5UZWFtMTsKICAgICAgICAgICAgU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gPSAoU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7CiAgICAgICAgICAgIGNvbnN0IG1hdGNoRW5kVG9rZW4gPSBTdGF0ZS5tYXRjaC5mbG93Lm1hdGNoRW5kRGVsYXlUb2tlbjsKICAgICAgICAgICAgdm9pZCBzY2hlZHVsZUZpbmFsUm91bmRWaWN0b3J5KG1hdGNoRW5kVG9rZW4sIFRlYW1JRC5UZWFtMSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChTdGF0ZS5tYXRjaC53aW5zVDIgPiBTdGF0ZS5tYXRjaC53aW5zVDEpIHsKICAgICAgICAgICAgU3RhdGUubWF0Y2gud2lubmVyVGVhbSA9IFRlYW1JRC5UZWFtMjsKICAgICAgICAgICAgU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gPSAoU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7CiAgICAgICAgICAgIGNvbnN0IG1hdGNoRW5kVG9rZW4gPSBTdGF0ZS5tYXRjaC5mbG93Lm1hdGNoRW5kRGVsYXlUb2tlbjsKICAgICAgICAgICAgdm9pZCBzY2hlZHVsZUZpbmFsUm91bmRWaWN0b3J5KG1hdGNoRW5kVG9rZW4sIFRlYW1JRC5UZWFtMik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIFN0YXRlLm1hdGNoLndpbm5lclRlYW0gPSB1bmRlZmluZWQ7CiAgICAgICAgU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gPSAoU3RhdGUubWF0Y2guZmxvdy5tYXRjaEVuZERlbGF5VG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7CiAgICAgICAgY29uc3QgbWF0Y2hFbmRUb2tlbiA9IFN0YXRlLm1hdGNoLmZsb3cubWF0Y2hFbmREZWxheVRva2VuOwogICAgICAgIHZvaWQgc2NoZWR1bGVGaW5hbFJvdW5kVmljdG9yeShtYXRjaEVuZFRva2VuLCAwKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgU3RhdGUucm91bmQuZmxvdy5yb3VuZEVuZFJlZGVwbG95VG9rZW4gPSAoU3RhdGUucm91bmQuZmxvdy5yb3VuZEVuZFJlZGVwbG95VG9rZW4gKyAxKSAlIDEwMDAwMDAwMDA7CiAgICBjb25zdCByZWRlcGxveVRva2VuID0gU3RhdGUucm91bmQuZmxvdy5yb3VuZEVuZFJlZGVwbG95VG9rZW47CgogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5ub3RpZmljYXRpb25zLnJvdW5kT3ZlclJlZGVwbG95aW5nLCBST1VORF9FTkRfUkVERVBMT1lfREVMQVlfU0VDT05EUyksCiAgICAgICAgdHJ1ZSwKICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMucm91bmRPdmVyUmVkZXBsb3lpbmcKICAgICk7CiAgICB2b2lkIHNjaGVkdWxlUm91bmRFbmRDbGVhbnVwKHJlZGVwbG95VG9rZW4pOwoKICAgIC8vIFByZXBhcmUgbmV4dCByb3VuZCBjb3VudGVycyBhZnRlciBlbmRpbmcgdGhlIGFjdGl2ZSByb3VuZC4KICAgIFN0YXRlLnJvdW5kLmN1cnJlbnQgPSBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLmN1cnJlbnQpICsgMTsKICAgIHNldEh1ZFJvdW5kQ291bnRlcnNGb3JBbGxQbGF5ZXJzKFN0YXRlLnJvdW5kLmN1cnJlbnQsIFN0YXRlLnJvdW5kLm1heCk7CiAgICBzZXRSb3VuZFN0YXRlVGV4dEZvckFsbFBsYXllcnMoKTsKICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFJvdW5kIFN0YXJ0L0VuZCBGbG93ICsgU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFVJIC0gUmVhZHkgVXAgRGlhbG9nIChjb25zdHJ1Y3Rpb24pIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBFbnN1cmVzIHRoZSBBZG1pbiBQYW5lbCB0b2dnbGUgYnV0dG9uICsgY29udGFpbmVyIGV4aXN0IGZvciB0aGlzIHBsYXllciBhbmQgYXJlIHNob3duL2hpZGRlbiBjb3JyZWN0bHkuCi8vIFJlcXVpcmVkIGZvciBVSSBjYWNoaW5nOiB3ZSBoaWRlIHRoZXNlIHdpZGdldHMgb24gZGlhbG9nIGNsb3NlIChub3QgZGVsZXRlKSwgc28gcmVvcGVuIGNhbiBzaW1wbHkgcmUtc2hvdyB0aGVtLgoKLy8gU29tZSBVSSBpbXBsZW1lbnRhdGlvbnMgZG8gbm90IGNhc2NhZGUgdmlzaWJpbGl0eSBmcm9tIGEgY29udGFpbmVyIHRvIGl0cyBjaGlsZHJlbi4KLy8gVG8gYXZvaWQgImdob3N0IiBhZG1pbiB3aWRnZXRzIGFwcGVhcmluZyB3aGVuIHRoZSBwYW5lbCBpcyBoaWRkZW4sIHdlIGV4cGxpY2l0bHkgdG9nZ2xlIGFsbCBhZG1pbi90ZXN0ZXIgd2lkZ2V0cy4KZnVuY3Rpb24gc2V0QWRtaW5QYW5lbENoaWxkV2lkZ2V0c1Zpc2libGUocGxheWVySWQ6IG51bWJlciwgdmlzaWJsZTogYm9vbGVhbik6IHZvaWQgewogICAgY29uc3QgaWRzOiBzdHJpbmdbXSA9IFsKICAgICAgICAvLyBBZG1pbi90ZXN0ZXIgaGVhZGVyICsgcm93IGxhYmVscwogICAgICAgIFVJX1RFU1RfSEVBREVSX0xBQkVMX0lELAogICAgICAgIFVJX1RFU1RfTEFCRUxfTEVGVF9XSU5TX0lELAogICAgICAgIFVJX1RFU1RfTEFCRUxfUklHSFRfV0lOU19JRCwKICAgICAgICBVSV9URVNUX0xBQkVMX0xFRlRfS0lMTFNfSUQsCiAgICAgICAgVUlfVEVTVF9MQUJFTF9SSUdIVF9LSUxMU19JRCwKICAgICAgICBVSV9URVNUX0xBQkVMX1JPVU5EX0tJTExTX1RBUkdFVF9JRCwKICAgICAgICBVSV9URVNUX1ZBTFVFX1JPVU5EX0tJTExTX1RBUkdFVF9JRCwKICAgICAgICBVSV9URVNUX0xBQkVMX1RJRVNfSUQsCiAgICAgICAgVUlfVEVTVF9MQUJFTF9DVVJfUk9VTkRfSUQsCiAgICAgICAgVUlfVEVTVF9MQUJFTF9DTE9DS19USU1FX0lELAogICAgICAgIFVJX0FETUlOX0xBQkVMX1QxX1JPVU5EX0tJTExTX0lELAogICAgICAgIFVJX0FETUlOX0xBQkVMX1QyX1JPVU5EX0tJTExTX0lELAogICAgICAgIFVJX0FETUlOX1RJRUJSRUFLRVJfTEFCRUxfSUQsCgogICAgICAgIC8vIFJvdyArLy0gYnV0dG9ucwogICAgICAgIFVJX1RFU1RfQlVUVE9OX0xFRlRfV0lOU19ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX0xFRlRfV0lOU19JTkNfSUQsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fUklHSFRfV0lOU19ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX1JJR0hUX1dJTlNfSU5DX0lELAogICAgICAgIFVJX1RFU1RfQlVUVE9OX0xFRlRfS0lMTFNfREVDX0lELCBVSV9URVNUX0JVVFRPTl9MRUZUX0tJTExTX0lOQ19JRCwKICAgICAgICBVSV9URVNUX0JVVFRPTl9SSUdIVF9LSUxMU19ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX1JJR0hUX0tJTExTX0lOQ19JRCwKICAgICAgICBVSV9URVNUX0JVVFRPTl9ST1VORF9LSUxMU19UQVJHRVRfREVDX0lELCBVSV9URVNUX0JVVFRPTl9ST1VORF9LSUxMU19UQVJHRVRfSU5DX0lELAogICAgICAgIFVJX0FETUlOX0JVVFRPTl9UMV9ST1VORF9LSUxMU19ERUNfSUQsIFVJX0FETUlOX0JVVFRPTl9UMV9ST1VORF9LSUxMU19JTkNfSUQsCiAgICAgICAgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0RFQ19JRCwgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0lOQ19JRCwKICAgICAgICBVSV9URVNUX0JVVFRPTl9USUVTX0RFQ19JRCwgVUlfVEVTVF9CVVRUT05fVElFU19JTkNfSUQsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fQ1VSX1JPVU5EX0RFQ19JRCwgVUlfVEVTVF9CVVRUT05fQ1VSX1JPVU5EX0lOQ19JRCwKICAgICAgICBVSV9URVNUX0JVVFRPTl9DTE9DS19USU1FX0RFQ19JRCwgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9JTkNfSUQsCgogICAgICAgIC8vICsvLSB0ZXh0IG92ZXJsYXlzCiAgICAgICAgVUlfVEVTVF9NSU5VU19URVhUX0lELAogICAgICAgIFVJX1RFU1RfUExVU19URVhUX0lELAoKICAgICAgICAvLyBCb3R0b20gYWRtaW4gYnV0dG9ucwogICAgICAgIFVJX1RFU1RfQlVUVE9OX0NMT0NLX1JFU0VUX0lELCBVSV9URVNUX1JFU0VUX1RFWFRfSUQsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fUk9VTkRfU1RBUlRfSUQsIFVJX1RFU1RfUk9VTkRfU1RBUlRfVEVYVF9JRCwKICAgICAgICBVSV9URVNUX0JVVFRPTl9ST1VORF9FTkRfSUQsIFVJX1RFU1RfUk9VTkRfRU5EX1RFWFRfSUQsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fUE9TX0RFQlVHX0lELCBVSV9URVNUX1BPU19ERUJVR19URVhUX0lELAogICAgXTsKCiAgICBmb3IgKGNvbnN0IGJhc2VJZCBvZiBpZHMpIHsKICAgICAgICBjb25zdCB3ID0gc2FmZUZpbmQoYmFzZUlkICsgcGxheWVySWQpOwogICAgICAgIGlmICh3KSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHcsIHZpc2libGUpOwogICAgICAgIGNvbnN0IGJvcmRlciA9IHNhZmVGaW5kKGJhc2VJZCArIHBsYXllcklkICsgIl9CT1JERVIiKTsKICAgICAgICBpZiAoYm9yZGVyKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGJvcmRlciwgdmlzaWJsZSk7CiAgICB9CgogICAgZm9yIChjb25zdCBsZXR0ZXIgb2YgQURNSU5fVElFQlJFQUtFUl9PVkVSUklERV9MRVRURVJTKSB7CiAgICAgICAgY29uc3QgYnV0dG9uQmFzZUlkID0gVUlfQURNSU5fVElFQlJFQUtFUl9CVVRUT05fSUQgKyBsZXR0ZXIgKyAiXyI7CiAgICAgICAgY29uc3QgdGV4dEJhc2VJZCA9IFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX1RFWFRfSUQgKyBsZXR0ZXIgKyAiXyI7CiAgICAgICAgY29uc3QgYnV0dG9uID0gc2FmZUZpbmQoYnV0dG9uQmFzZUlkICsgcGxheWVySWQpOwogICAgICAgIGlmIChidXR0b24pIG1vZC5TZXRVSVdpZGdldFZpc2libGUoYnV0dG9uLCB2aXNpYmxlKTsKICAgICAgICBjb25zdCBib3JkZXIgPSBzYWZlRmluZChidXR0b25CYXNlSWQgKyBwbGF5ZXJJZCArICJfQk9SREVSIik7CiAgICAgICAgaWYgKGJvcmRlcikgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShib3JkZXIsIHZpc2libGUpOwogICAgICAgIGNvbnN0IHRleHQgPSBzYWZlRmluZCh0ZXh0QmFzZUlkICsgcGxheWVySWQpOwogICAgICAgIGlmICh0ZXh0KSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHRleHQsIHZpc2libGUpOwogICAgfQp9CgovLyBBZG1pbiBQYW5lbCBsaWZlY3ljbGUgaGVscGVyLgovLyBXZSBETyBOT1QgY2FjaGUgdGhlIGFkbWluIHBhbmVsIGNvbnRlbnRzIGJlY2F1c2Ugc29tZSBlbmdpbmVzIGRvIG5vdCByZWxpYWJseSBoaWRlIGNvbnRhaW5lciBjaGlsZHJlbi4KLy8gSW5zdGVhZCwgd2UgZGVsZXRlIHRoZSBwYW5lbCBjb250YWluZXIgKyBhbGwgY2hpbGRyZW4gd2hlbmV2ZXIgaXQgaXMgY2xvc2VkLCBhbmQgcmVidWlsZCBvbi1kZW1hbmQuCmZ1bmN0aW9uIGRlbGV0ZUFkbWluUGFuZWxVSShwbGF5ZXJJZDogbnVtYmVyLCBkZWxldGVUb2dnbGU6IGJvb2xlYW4pOiB2b2lkIHsKICAgIC8vIEhpZGUgY2hpbGQgd2lkZ2V0cyBmaXJzdCAoY292ZXJzIGFueSBzdHJheSBjaGlsZHJlbiB0aGF0IG1heSBoYXZlIGRldGFjaGVkIGZyb20gdGhlIGNvbnRhaW5lcikuCiAgICBzZXRBZG1pblBhbmVsQ2hpbGRXaWRnZXRzVmlzaWJsZShwbGF5ZXJJZCwgZmFsc2UpOwoKICAgIGNvbnN0IGFkbWluQ29udGFpbmVyID0gc2FmZUZpbmQoVUlfQURNSU5fUEFORUxfQ09OVEFJTkVSX0lEICsgcGxheWVySWQpOwogICAgaWYgKGFkbWluQ29udGFpbmVyKSBtb2QuRGVsZXRlVUlXaWRnZXQoYWRtaW5Db250YWluZXIpOwoKICAgIGlmIChkZWxldGVUb2dnbGUpIHsKICAgICAgICBjb25zdCBhZG1pblRvZ2dsZSA9IHNhZmVGaW5kKFVJX0FETUlOX1BBTkVMX0JVVFRPTl9JRCArIHBsYXllcklkKTsKICAgICAgICBpZiAoYWRtaW5Ub2dnbGUpIG1vZC5EZWxldGVVSVdpZGdldChhZG1pblRvZ2dsZSk7CiAgICAgICAgY29uc3QgYWRtaW5Ub2dnbGVMYWJlbCA9IHNhZmVGaW5kKFVJX0FETUlOX1BBTkVMX0JVVFRPTl9MQUJFTF9JRCArIHBsYXllcklkKTsKICAgICAgICBpZiAoYWRtaW5Ub2dnbGVMYWJlbCkgbW9kLkRlbGV0ZVVJV2lkZ2V0KGFkbWluVG9nZ2xlTGFiZWwpOwogICAgICAgIGNvbnN0IGFkbWluVG9nZ2xlQm9yZGVyID0gc2FmZUZpbmQoVUlfQURNSU5fUEFORUxfQlVUVE9OX0lEICsgcGxheWVySWQgKyAiX0JPUkRFUiIpOwogICAgICAgIGlmIChhZG1pblRvZ2dsZUJvcmRlcikgbW9kLkRlbGV0ZVVJV2lkZ2V0KGFkbWluVG9nZ2xlQm9yZGVyKTsKICAgIH0KfQoKZnVuY3Rpb24gZW5zdXJlQWRtaW5QYW5lbFdpZGdldHMoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsIHBsYXllcklkOiBudW1iZXIpOiB2b2lkIHsKICAgIGNvbnN0IEFETUlOX1RPR0dMRV9CVVRUT05fSUQgPSBVSV9BRE1JTl9QQU5FTF9CVVRUT05fSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEFETUlOX1RPR0dMRV9MQUJFTF9JRCA9IFVJX0FETUlOX1BBTkVMX0JVVFRPTl9MQUJFTF9JRCArIHBsYXllcklkOwogICAgY29uc3QgQURNSU5fQ09OVEFJTkVSX0lEID0gVUlfQURNSU5fUEFORUxfQ09OVEFJTkVSX0lEICsgcGxheWVySWQ7CgogICAgLy8gQ3JlYXRlIHRvZ2dsZSBidXR0b24gaWYgbWlzc2luZy4KICAgIGxldCB0b2dnbGVCdG4gPSBzYWZlRmluZChBRE1JTl9UT0dHTEVfQlVUVE9OX0lEKTsKICAgIGlmICghdG9nZ2xlQnRuKSB7CiAgICAgICAgY29uc3QgdG9nZ2xlQm9yZGVyID0gYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgICAgIEFETUlOX1RPR0dMRV9CVVRUT05fSUQsCiAgICAgICAgICAgIEFETUlOX1BBTkVMX1RPR0dMRV9PRkZTRVRfWCwKICAgICAgICAgICAgQURNSU5fUEFORUxfVE9HR0xFX09GRlNFVF9ZLAogICAgICAgICAgICBBRE1JTl9QQU5FTF9UT0dHTEVfV0lEVEgsCiAgICAgICAgICAgIEFETUlOX1BBTkVMX1RPR0dMRV9IRUlHSFQsCiAgICAgICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICAgICAgbW9kLkdldFVJUm9vdCgpLAogICAgICAgICAgICBldmVudFBsYXllcgogICAgICAgICk7CiAgICAgICAgdG9nZ2xlQnRuID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKEFETUlOX1RPR0dMRV9CVVRUT05fSUQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICB9CgogICAgLy8gUmVjcmVhdGUgbGFiZWwgdG8gZ3VhcmFudGVlIGNvcnJlY3QgYW5jaG9yL3BhcmVudGluZyB3aXRoIG91dGxpbmVkIGJvcmRlci4KICAgIGNvbnN0IGV4aXN0aW5nVG9nZ2xlTGFiZWwgPSBzYWZlRmluZChBRE1JTl9UT0dHTEVfTEFCRUxfSUQpOwogICAgaWYgKGV4aXN0aW5nVG9nZ2xlTGFiZWwpIG1vZC5EZWxldGVVSVdpZGdldChleGlzdGluZ1RvZ2dsZUxhYmVsKTsKICAgIGNvbnN0IGFkbWluVG9nZ2xlQm9yZGVyID0gc2FmZUZpbmQoQURNSU5fVE9HR0xFX0JVVFRPTl9JRCArICJfQk9SREVSIik7CiAgICBjb25zdCB0b2dnbGVMYWJlbCA9IGFkZENlbnRlcmVkQnV0dG9uVGV4dCgKICAgICAgICBBRE1JTl9UT0dHTEVfTEFCRUxfSUQsCiAgICAgICAgQURNSU5fUEFORUxfVE9HR0xFX1dJRFRILAogICAgICAgIEFETUlOX1BBTkVMX1RPR0dMRV9IRUlHSFQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwuYnV0dG9ucy5wYW5lbCksCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgYWRtaW5Ub2dnbGVCb3JkZXIgPz8gbW9kLkdldFVJUm9vdCgpCiAgICApOwogICAgaWYgKHRvZ2dsZUxhYmVsKSB7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUodG9nZ2xlTGFiZWwsIDEyKTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IodG9nZ2xlTGFiZWwsIEFETUlOX1BBTkVMX0JVVFRPTl9URVhUX0NPTE9SKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXREZXB0aCh0b2dnbGVMYWJlbCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgfQoKICAgIC8vIENyZWF0ZSBhZG1pbiBjb250YWluZXIgaWYgbWlzc2luZy4KICAgIGxldCBhZG1pbkNvbnRhaW5lciA9IHNhZmVGaW5kKEFETUlOX0NPTlRBSU5FUl9JRCk7CiAgICBpZiAoIWFkbWluQ29udGFpbmVyKSB7CiAgICAgICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgICAgICBBRE1JTl9DT05UQUlORVJfSUQsCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoQURNSU5fUEFORUxfT0ZGU0VUX1gsIEFETUlOX1BBTkVMX09GRlNFVF9ZLCAwKSwKICAgICAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihBRE1JTl9QQU5FTF9DT05URU5UX1dJRFRIICsgKEFETUlOX1BBTkVMX1BBRERJTkcgKiAyKSwgQURNSU5fUEFORUxfSEVJR0hUICsgKEFETUlOX1BBTkVMX1BBRERJTkcgKiAyKSwgMCksCiAgICAgICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICAgICAgbW9kLkdldFVJUm9vdCgpLAogICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgMTAsCiAgICAgICAgICAgIEFETUlOX1BBTkVMX0JHX0NPTE9SLAogICAgICAgICAgICBBRE1JTl9QQU5FTF9CR19BTFBIQSwKICAgICAgICAgICAgQURNSU5fUEFORUxfQkdfRklMTCwKICAgICAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgICAgIGV2ZW50UGxheWVyCiAgICAgICAgKTsKICAgICAgICBhZG1pbkNvbnRhaW5lciA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShBRE1JTl9DT05UQUlORVJfSUQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICB9CgogICAgLy8gQWRtaW4gdG9nZ2xlIGJ1dHRvbiBzaG91bGQgZXhpc3Qgb25seSB3aGlsZSB0aGUgUmVhZHkgVXAgZGlhbG9nIGlzIG9wZW4uCiAgICAvLyBXaGVuIGNhY2hpbmcgaXMgZW5hYmxlZCwgd2UgaGlkZS9zaG93IHJhdGhlciB0aGFuIHJlY3JlYXRlLgogICAgaWYgKHRvZ2dsZUJ0bikgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0b2dnbGVCdG4sIHRydWUpOwogICAgaWYgKHRvZ2dsZUxhYmVsKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHRvZ2dsZUxhYmVsLCB0cnVlKTsKICAgIGNvbnN0IHRvZ2dsZUJvcmRlciA9IHNhZmVGaW5kKEFETUlOX1RPR0dMRV9CVVRUT05fSUQgKyAiX0JPUkRFUiIpOwogICAgaWYgKHRvZ2dsZUJvcmRlcikgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0b2dnbGVCb3JkZXIsIHRydWUpOwoKICAgIC8vIERlZmF1bHQgY2xvc2VkIG9uIGZpcnN0IGJ1aWxkOyBwcmVzZXJ2ZSBzdGF0ZSBvbiByZW9wZW4uCiAgICBpZiAoIVN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGxheWVySWRdKSBpbml0VGVhbVN3aXRjaERhdGEoZXZlbnRQbGF5ZXIpOwogICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5hZG1pblBhbmVsQnVpbHQpIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5hZG1pblBhbmVsVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIGlmIChhZG1pbkNvbnRhaW5lcikgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShhZG1pbkNvbnRhaW5lciwgZmFsc2UpOwogICAgICAgIHNldEFkbWluUGFuZWxDaGlsZFdpZGdldHNWaXNpYmxlKHBsYXllcklkLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHZpc2libGUgPSBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BsYXllcklkXS5hZG1pblBhbmVsVmlzaWJsZTsKICAgICAgICBpZiAoYWRtaW5Db250YWluZXIpIG1vZC5TZXRVSVdpZGdldFZpc2libGUoYWRtaW5Db250YWluZXIsIHZpc2libGUpOwogICAgICAgIHNldEFkbWluUGFuZWxDaGlsZFdpZGdldHNWaXNpYmxlKHBsYXllcklkLCB2aXNpYmxlKTsKICAgIH0KfQoKZnVuY3Rpb24gY3JlYXRlVGVhbVN3aXRjaFVJKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyKSB7CiAgICAvLyBTdGVwczoKICAgIC8vIDEpIEVuc3VyZSBwZXItcGxheWVyIGRpYWxvZyByb290IGV4aXN0cwogICAgLy8gMikgQnVpbGQgbGVmdCB0ZWFtIHBhbmVsIHdpZGdldHMKICAgIC8vIDMpIEJ1aWxkIHJpZ2h0IHRlYW0gcGFuZWwgd2lkZ2V0cwogICAgLy8gNCkgQnVpbGQgYWRtaW4gcGFuZWwgd2lkZ2V0cyArIGJpbmQgYnV0dG9uIElEcwogICAgLy8gNSkgRmluYWxpemUgdmlzaWJpbGl0eSAvIGRlZmF1bHQgc3RhdGVzCgogICAgLy8gVUkgbGF5b3V0IG1hcHMgKHBlciBwYW5lbCk6CiAgICAvLyAtIExlZnQgcGFuZWw6IFRlYW0gMSByb3N0ZXIgLyBpbnRlcmFjdGlvbiBzdXJmYWNlIChsYXlvdXQtZHJpdmVuKS4KICAgIC8vIC0gUmlnaHQgcGFuZWw6IFRlYW0gMiByb3N0ZXIgLyBpbnRlcmFjdGlvbiBzdXJmYWNlIChsYXlvdXQtZHJpdmVuKS4KICAgIC8vIC0gQWRtaW4gcGFuZWw6IFR1bmFibGUgY29udHJvbHMgdGhhdCBtdXRhdGUgYXV0aG9yaXRhdGl2ZSBzdGF0ZTsgcm93cyBhcmUgcGxhY2VkIHZpYSByb3cwWSArIE4gKiAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkuCiAgICAvLyBMYXlvdXQgcnVsZTogaWYgYSBsYWJlbCB3cmFwcyBvciBvdmVybGFwcywgYWRqdXN0IGxhYmVsU2l6ZVggb3IgdGV4dCBzaXplIGJlZm9yZSB0b3VjaGluZyByb3cgbWF0aC4KCiAgICBjb25zdCBwbGF5ZXJJZCA9IG1vZC5HZXRPYmpJZChldmVudFBsYXllcik7CiAgICAvLyBVSSBjYWNoaW5nIChvcHQgIzEpOiBpZiB0aGlzIHBsYXllciBhbHJlYWR5IGJ1aWx0IHRoZSBkaWFsb2cgb25jZSwganVzdCBzaG93IGl0IGFnYWluLgogICAgLy8gVGhpcyBhdm9pZHMgcmVjcmVhdGluZyB+MTAwIHdpZGdldHMgb24gZXZlcnkgb3BlbiBhbmQgbWFrZXMgZGlhbG9nIG9wZW4gbmVhci1pbnN0YW50IGFmdGVyIGZpcnN0IGJ1aWxkLgogICAgY29uc3QgZXhpc3RpbmdCYXNlID0gc2FmZUZpbmQoVUlfVEVBTVNXSVRDSF9DT05UQUlORVJfQkFTRV9JRCArIHBsYXllcklkKTsKICAgIGlmIChleGlzdGluZ0Jhc2UpIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGV4aXN0aW5nQmFzZSwgdHJ1ZSk7CiAgICAgICAgY29uc3QgZXhpc3RpbmdCb3JkZXJUb3AgPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JPUkRFUl9UT1BfSUQgKyBwbGF5ZXJJZCk7CiAgICAgICAgaWYgKGV4aXN0aW5nQm9yZGVyVG9wKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGV4aXN0aW5nQm9yZGVyVG9wLCB0cnVlKTsKICAgICAgICBjb25zdCBleGlzdGluZ0JvcmRlckJvdHRvbSA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQk9SREVSX0JPVFRPTV9JRCArIHBsYXllcklkKTsKICAgICAgICBpZiAoZXhpc3RpbmdCb3JkZXJCb3R0b20pIG1vZC5TZXRVSVdpZGdldFZpc2libGUoZXhpc3RpbmdCb3JkZXJCb3R0b20sIHRydWUpOwogICAgICAgIGNvbnN0IGV4aXN0aW5nQm9yZGVyTGVmdCA9IHNhZmVGaW5kKFVJX1RFQU1TV0lUQ0hfQk9SREVSX0xFRlRfSUQgKyBwbGF5ZXJJZCk7CiAgICAgICAgaWYgKGV4aXN0aW5nQm9yZGVyTGVmdCkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShleGlzdGluZ0JvcmRlckxlZnQsIHRydWUpOwogICAgICAgIGNvbnN0IGV4aXN0aW5nQm9yZGVyUmlnaHQgPSBzYWZlRmluZChVSV9URUFNU1dJVENIX0JPUkRFUl9SSUdIVF9JRCArIHBsYXllcklkKTsKICAgICAgICBpZiAoZXhpc3RpbmdCb3JkZXJSaWdodCkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShleGlzdGluZ0JvcmRlclJpZ2h0LCB0cnVlKTsKICAgICAgICBjb25zdCBleGlzdGluZ0RlYnVnID0gc2FmZUZpbmQoVUlfVEVBTVNXSVRDSF9ERUJVR19USU1FTElNSVRfSUQgKyBwbGF5ZXJJZCk7CiAgICAgICAgaWYgKGV4aXN0aW5nRGVidWcpIG1vZC5TZXRVSVdpZGdldFZpc2libGUoZXhpc3RpbmdEZWJ1ZywgU0hPV19ERUJVR19USU1FTElNSVQpOwogICAgICAgIHJlZnJlc2hSZWFkeURpYWxvZ0J1dHRvblRleHRGb3JQaWQoZXZlbnRQbGF5ZXIsIHBsYXllcklkLCBleGlzdGluZ0Jhc2UgYXMgbW9kLlVJV2lkZ2V0KTsKICAgICAgICBlbnN1cmVBZG1pblBhbmVsV2lkZ2V0cyhldmVudFBsYXllciwgcGxheWVySWQpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBDT05UQUlORVJfQkFTRV9JRCA9IFVJX1RFQU1TV0lUQ0hfQ09OVEFJTkVSX0JBU0VfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEJPUkRFUl9UT1BfSUQgPSBVSV9URUFNU1dJVENIX0JPUkRFUl9UT1BfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEJPUkRFUl9CT1RUT01fSUQgPSBVSV9URUFNU1dJVENIX0JPUkRFUl9CT1RUT01fSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEJPUkRFUl9MRUZUX0lEID0gVUlfVEVBTVNXSVRDSF9CT1JERVJfTEVGVF9JRCArIHBsYXllcklkOwogICAgY29uc3QgQk9SREVSX1JJR0hUX0lEID0gVUlfVEVBTVNXSVRDSF9CT1JERVJfUklHSFRfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IENPTlRBSU5FUl9CT1JERVJfUEFERElORyA9IDE7CiAgICBjb25zdCBDT05UQUlORVJfQk9SREVSX1RISUNLTkVTUyA9IDI7CiAgICBjb25zdCBDT05UQUlORVJfQk9SREVSX09WRVJMQVAgPSAyOwogICAgY29uc3QgQ09OVEFJTkVSX1dJRFRIID0gMTMwMDsKICAgIGNvbnN0IENPTlRBSU5FUl9IRUlHSFQgPSA3MDA7CiAgICBjb25zdCBSRUFEWV9ST1NURVJfUEFORUxfV0lEVEggPSA1ODA7CiAgICBjb25zdCBSRUFEWV9ST1NURVJfUEFORUxfSEVJR0hUID0gNDQwOwogICAgY29uc3QgUkVBRFlfUk9TVEVSX1BBTkVMX0dBUCA9IDQwOwogICAgY29uc3QgUkVBRFlfUk9TVEVSX1BBTkVMX01BUkdJTiA9IDQwOwogICAgY29uc3QgUkVBRFlfUk9TVEVSX1BBTkVMX1kgPSAxMTA7CgogICAgLy9jb25zdCBCVVRUT05fVEVBTTFfSUQgPSBVSV9URUFNU1dJVENIX0JVVFRPTl9URUFNMV9JRCArIHBsYXllcklkOyAvL29sZCBidXR0b24vZGVhZAogICAgLy9jb25zdCBCVVRUT05fVEVBTTFfTEFCRUxfSUQgPSBVSV9URUFNU1dJVENIX0JVVFRPTl9URUFNMV9MQUJFTF9JRCArIHBsYXllcklkOyAvL29sZCBidXR0b24vZGVhZAoKICAgIC8vY29uc3QgQlVUVE9OX1RFQU0yX0lEID0gVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTJfSUQgKyBwbGF5ZXJJZDsgLy9vbGQgYnV0dG9uL2RlYWQKICAgIC8vY29uc3QgQlVUVE9OX1RFQU0yX0xBQkVMX0lEID0gVUlfVEVBTVNXSVRDSF9CVVRUT05fVEVBTTJfTEFCRUxfSUQgKyBwbGF5ZXJJZDsgLy9vbGQgYnV0dG9uL2RlYWQKCiAgICAvL2NvbnN0IEJVVFRPTl9TUEVDVEFURV9JRCA9IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX1NQRUNUQVRFX0lEICsgcGxheWVySWQ7IC8vb2xkIGJ1dHRvbi9kZWFkCiAgICAvL2NvbnN0IEJVVFRPTl9TUEVDVEFURV9MQUJFTF9JRCA9IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX1NQRUNUQVRFX0xBQkVMX0lEICsgcGxheWVySWQ7IC8vb2xkIGJ1dHRvbi9kZWFkCgogICAgY29uc3QgQlVUVE9OX0NBTkNFTF9JRCA9IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX0NBTkNFTF9JRCArIHBsYXllcklkOwogICAgY29uc3QgQlVUVE9OX0NBTkNFTF9MQUJFTF9JRCA9IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX0NBTkNFTF9MQUJFTF9JRCArIHBsYXllcklkOwoKICAgIC8vY29uc3QgQlVUVE9OX09QVE9VVF9JRCA9IFVJX1RFQU1TV0lUQ0hfQlVUVE9OX09QVE9VVF9JRCArIHBsYXllcklkOyAvL29sZCBidXR0b24vZGVhZAogICAgLy9jb25zdCBCVVRUT05fT1BUT1VUX0xBQkVMX0lEID0gVUlfVEVBTVNXSVRDSF9CVVRUT05fT1BUT1VUX0xBQkVMX0lEICsgcGxheWVySWQ7IC8vb2xkIGJ1dHRvbi9kZWFkCgogICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgIENPTlRBSU5FUl9CQVNFX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihDT05UQUlORVJfV0lEVEgsIENPTlRBSU5FUl9IRUlHSFQsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgbW9kLkdldFVJUm9vdCgpLAogICAgICAgIHRydWUsCiAgICAgICAgMTAsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSwKICAgICAgICAwLjk5NSwKICAgICAgICBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIGNvbnN0IENPTlRBSU5FUl9CQVNFID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKENPTlRBSU5FUl9CQVNFX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShDT05UQUlORVJfQkFTRSwgMC45OTUpOyAvLyBGb3JjZSBkYXJrZXIgb3ZlcmxheSAoc29tZSBjbGllbnRzIHJlbmRlciBibHVyIGxpZ2h0ZXIpCgogICAgY29uc3QgYm9yZGVySGFsZldpZHRoID0gKENPTlRBSU5FUl9XSURUSCAvIDIpICsgQ09OVEFJTkVSX0JPUkRFUl9QQURESU5HICsgKENPTlRBSU5FUl9CT1JERVJfVEhJQ0tORVNTIC8gMik7CiAgICBjb25zdCBib3JkZXJIYWxmSGVpZ2h0ID0gKENPTlRBSU5FUl9IRUlHSFQgLyAyKSArIENPTlRBSU5FUl9CT1JERVJfUEFERElORyArIChDT05UQUlORVJfQk9SREVSX1RISUNLTkVTUyAvIDIpOwogICAgY29uc3QgYm9yZGVyTGluZVdpZHRoID0gQ09OVEFJTkVSX1dJRFRIICsgKENPTlRBSU5FUl9CT1JERVJfUEFERElORyAqIDIpICsgKENPTlRBSU5FUl9CT1JERVJfT1ZFUkxBUCAqIDIpOwogICAgY29uc3QgYm9yZGVyTGluZUhlaWdodCA9IENPTlRBSU5FUl9IRUlHSFQgKyAoQ09OVEFJTkVSX0JPUkRFUl9QQURESU5HICogMikgKyAoQ09OVEFJTkVSX0JPUkRFUl9PVkVSTEFQICogMik7CgogICAgLy8gVG9wIGJvcmRlciBsaW5lCiAgICBtb2QuQWRkVUlDb250YWluZXIoCiAgICAgICAgQk9SREVSX1RPUF9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIC1ib3JkZXJIYWxmSGVpZ2h0LCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKGJvcmRlckxpbmVXaWR0aCwgQ09OVEFJTkVSX0JPUkRFUl9USElDS05FU1MsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgQ09OVEFJTkVSX0JBU0UsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIFJFQURZX0RJQUxPR19CT1JERVJfQ09MT1IsCiAgICAgICAgMSwKICAgICAgICBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgLy8gQm90dG9tIGJvcmRlciBsaW5lCiAgICBtb2QuQWRkVUlDb250YWluZXIoCiAgICAgICAgQk9SREVSX0JPVFRPTV9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIGJvcmRlckhhbGZIZWlnaHQsIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoYm9yZGVyTGluZVdpZHRoLCBDT05UQUlORVJfQk9SREVSX1RISUNLTkVTUywgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICBDT05UQUlORVJfQkFTRSwKICAgICAgICB0cnVlLAogICAgICAgIDAsCiAgICAgICAgUkVBRFlfRElBTE9HX0JPUkRFUl9DT0xPUiwKICAgICAgICAxLAogICAgICAgIG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKCiAgICAvLyBMZWZ0IGJvcmRlciBsaW5lCiAgICBtb2QuQWRkVUlDb250YWluZXIoCiAgICAgICAgQk9SREVSX0xFRlRfSUQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigtYm9yZGVySGFsZldpZHRoLCAwLCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKENPTlRBSU5FUl9CT1JERVJfVEhJQ0tORVNTLCBib3JkZXJMaW5lSGVpZ2h0LCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgIENPTlRBSU5FUl9CQVNFLAogICAgICAgIHRydWUsCiAgICAgICAgMCwKICAgICAgICBSRUFEWV9ESUFMT0dfQk9SREVSX0NPTE9SLAogICAgICAgIDEsCiAgICAgICAgbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwoKICAgIC8vIFJpZ2h0IGJvcmRlciBsaW5lCiAgICBtb2QuQWRkVUlDb250YWluZXIoCiAgICAgICAgQk9SREVSX1JJR0hUX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoYm9yZGVySGFsZldpZHRoLCAwLCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKENPTlRBSU5FUl9CT1JERVJfVEhJQ0tORVNTLCBib3JkZXJMaW5lSGVpZ2h0LCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgIENPTlRBSU5FUl9CQVNFLAogICAgICAgIHRydWUsCiAgICAgICAgMCwKICAgICAgICBSRUFEWV9ESUFMT0dfQk9SREVSX0NPTE9SLAogICAgICAgIDEsCiAgICAgICAgbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwoKICAgIC8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBVSSAtIFJlYWR5IFVwIERpYWxvZyAoY29uc3RydWN0aW9uKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAoUm9zdGVyIFVJKSAtICAoaGVhZGVyICsgdGVhbSByb3N0ZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vIEhlYWRlciByb3dzIChzdHJpbmctYmFja2VkIGZvciBlYXN5IGl0ZXJhdGlvbikuCiAgICBjb25zdCBSRUFEWV9IRUFERVJfSUQgPSBVSV9SRUFEWV9ESUFMT0dfSEVBREVSX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBSRUFEWV9IRUFERVIyX0lEID0gVUlfUkVBRFlfRElBTE9HX0hFQURFUjJfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IFJFQURZX0hFQURFUjNfSUQgPSBVSV9SRUFEWV9ESUFMT0dfSEVBREVSM19JRCArIHBsYXllcklkOwogICAgY29uc3QgUkVBRFlfSEVBREVSNF9JRCA9IFVJX1JFQURZX0RJQUxPR19IRUFERVI0X0lEICsgcGxheWVySWQ7CgogICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICBSRUFEWV9IRUFERVJfSUQsCiAgICAgICAgLy9JZiBBbmNob3JlZCBhdCBUb3BMZWZ0LCBYIGlzIGxlZnQgb2Zmc2V0IC0gaW5jcmVhc2UgdG8gbW92ZSByaWdodCwgWSBpcyBkb3duIG9mZnNldCAtIGluY3JlYXNlIHRvIG1vdmUgZG93bgogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoLTExLCAtNSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3Rvcig5MDAsIDIyLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuaGVhZGVyKSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIGNvbnN0IFJFQURZX0hFQURFUiA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShSRUFEWV9IRUFERVJfSUQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICBtb2QuU2V0VUlXaWRnZXRCZ0FscGhhKFJFQURZX0hFQURFUiwgMCk7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShSRUFEWV9IRUFERVIsIDIwKTsKICAgIGFwcGx5UmVhZHlEaWFsb2dMYWJlbFRleHRDb2xvcihSRUFEWV9IRUFERVIpOwogICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KFJFQURZX0hFQURFUiwgQ09OVEFJTkVSX0JBU0UpOwoKICAgIG1vZC5BZGRVSVRleHQoCiAgICAgICAgUkVBRFlfSEVBREVSMl9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKC0xMSwgMTksIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoOTAwLCAyMCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmhlYWRlcjIpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgUkVBRFlfSEVBREVSMiA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShSRUFEWV9IRUFERVIyX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShSRUFEWV9IRUFERVIyLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKFJFQURZX0hFQURFUjIsIDE2KTsKICAgIGFwcGx5UmVhZHlEaWFsb2dMYWJlbFRleHRDb2xvcihSRUFEWV9IRUFERVIyKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChSRUFEWV9IRUFERVIyLCBDT05UQUlORVJfQkFTRSk7CgogICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICBSRUFEWV9IRUFERVIzX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoLTExLCAzOSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3Rvcig5MDAsIDIwLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuaGVhZGVyMywgTWF0aC5mbG9vcihWRUhJQ0xFX1NQQVdORVJfS0VFUF9BTElWRV9BQkFORE9OX1JBRElVUykpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgUkVBRFlfSEVBREVSMyA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShSRUFEWV9IRUFERVIzX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShSRUFEWV9IRUFERVIzLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKFJFQURZX0hFQURFUjMsIDE2KTsKICAgIGFwcGx5UmVhZHlEaWFsb2dMYWJlbFRleHRDb2xvcihSRUFEWV9IRUFERVIzKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChSRUFEWV9IRUFERVIzLCBDT05UQUlORVJfQkFTRSk7CgogICAgLy8gSGVhZGVyIDQgcHJlc2VydmVzIHRoZSBzYW1lIHZlcnRpY2FsIHNwYWNpbmcgYXMgaGVhZGVyIDIgLT4gaGVhZGVyIDMuCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIFJFQURZX0hFQURFUjRfSUQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigtMTEsIDU5LCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDkwMCwgMjAsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5oZWFkZXI0KSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIGNvbnN0IFJFQURZX0hFQURFUjQgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoUkVBRFlfSEVBREVSNF9JRCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoUkVBRFlfSEVBREVSNCwgMCk7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShSRUFEWV9IRUFERVI0LCAxNik7CiAgICBhcHBseVJlYWR5RGlhbG9nTGFiZWxUZXh0Q29sb3IoUkVBRFlfSEVBREVSNCk7CiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoUkVBRFlfSEVBREVSNCwgQ09OVEFJTkVSX0JBU0UpOwoKICAgIGNvbnN0IFJFQURZX01BUF9MQUJFTF9JRCA9IFVJX1JFQURZX0RJQUxPR19NQVBfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IFJFQURZX01BUF9WQUxVRV9JRCA9IFVJX1JFQURZX0RJQUxPR19NQVBfVkFMVUVfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IG1hcExhYmVsWCA9IDI2MDsKICAgIGNvbnN0IG1hcFZhbHVlWCA9IDEzNTsgLy8tWCBtb3ZlcyByaWdodAogICAgY29uc3QgbWFwTGFiZWxZID0gMDsKICAgIGNvbnN0IG1hcExhYmVsU2l6ZVggPSA1MDsKICAgIGNvbnN0IG1hcFZhbHVlU2l6ZVggPSAxNDA7CgogICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICBSRUFEWV9NQVBfTEFCRUxfSUQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihtYXBMYWJlbFgsIG1hcExhYmVsWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihtYXBMYWJlbFNpemVYLCAyMCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcFJpZ2h0LAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5tYXBMYWJlbCksCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CiAgICBjb25zdCBSRUFEWV9NQVBfTEFCRUwgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoUkVBRFlfTUFQX0xBQkVMX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShSRUFEWV9NQVBfTEFCRUwsIDApOwogICAgbW9kLlNldFVJVGV4dFNpemUoUkVBRFlfTUFQX0xBQkVMLCAxMik7CiAgICBhcHBseVJlYWR5RGlhbG9nTGFiZWxUZXh0Q29sb3IoUkVBRFlfTUFQX0xBQkVMKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChSRUFEWV9NQVBfTEFCRUwsIENPTlRBSU5FUl9CQVNFKTsKCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIFJFQURZX01BUF9WQUxVRV9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKG1hcFZhbHVlWCwgbWFwTGFiZWxZLCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKG1hcFZhbHVlU2l6ZVgsIDIwLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgbW9kLk1lc3NhZ2UoZ2V0TWFwTmFtZUtleShBQ1RJVkVfTUFQX0tFWSkpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgUkVBRFlfTUFQX1ZBTFVFID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKFJFQURZX01BUF9WQUxVRV9JRCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoUkVBRFlfTUFQX1ZBTFVFLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKFJFQURZX01BUF9WQUxVRSwgMTIpOwogICAgYXBwbHlSZWFkeURpYWxvZ0xhYmVsVGV4dENvbG9yKFJFQURZX01BUF9WQUxVRSk7CiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoUkVBRFlfTUFQX1ZBTFVFLCBDT05UQUlORVJfQkFTRSk7CiAgICB1cGRhdGVSZWFkeURpYWxvZ01hcExhYmVsRm9yUGlkKHBsYXllcklkKTsKCiAgICAvLyBCZXN0LW9mIHJvdW5kcyBjb250cm9sICh0b3AtcmlnaHQpOiBtaW51cyBidXR0b24sIGR5bmFtaWMgbGFiZWwsIHBsdXMgYnV0dG9uLgogICAgY29uc3QgQkVTVE9GX0RFQ19JRCA9IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfREVDX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBCRVNUT0ZfREVDX0xBQkVMX0lEID0gVUlfUkVBRFlfRElBTE9HX0JFU1RPRl9ERUNfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEJFU1RPRl9MQUJFTF9JRCA9IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IEJFU1RPRl9JTkNfSUQgPSBVSV9SRUFEWV9ESUFMT0dfQkVTVE9GX0lOQ19JRCArIHBsYXllcklkOwogICAgY29uc3QgQkVTVE9GX0lOQ19MQUJFTF9JRCA9IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfSU5DX0xBQkVMX0lEICsgcGxheWVySWQ7CgogICAgY29uc3QgYmVzdE9mWSA9IC0zOwogICAgY29uc3QgYmVzdE9mQnV0dG9uU2l6ZVggPSBSRUFEWV9ESUFMT0dfU01BTExfQlVUVE9OX1dJRFRIOwogICAgY29uc3QgYmVzdE9mQnV0dG9uU2l6ZVkgPSBSRUFEWV9ESUFMT0dfU01BTExfQlVUVE9OX0hFSUdIVDsKICAgIGNvbnN0IGJlc3RPZkxhYmVsU2l6ZVggPSAxNzA7CiAgICBjb25zdCBiZXN0T2ZMYWJlbFNpemVZID0gMjQ7CgogICAgLy8gQmVzdC1vZjogbWludXMgYnV0dG9uIChsZWZ0IG9mIGxhYmVsKQogICAgY29uc3QgYmVzdE9mRGVjQm9yZGVyID0gYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgQkVTVE9GX0RFQ19JRCwKICAgICAgICAxMjUsCiAgICAgICAgYmVzdE9mWSwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWCwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgQ09OVEFJTkVSX0JBU0UsCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgLy8gQmVzdC1vZjogbWludXMgbGFiZWwgKGxlZnQgb2YgbGFiZWwpCiAgICBjb25zdCBCRVNUT0ZfREVDX0xBQkVMID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIEJFU1RPRl9ERUNfTEFCRUxfSUQsCiAgICAgICAgYmVzdE9mQnV0dG9uU2l6ZVgsCiAgICAgICAgYmVzdE9mQnV0dG9uU2l6ZVksCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnVpLm1pbnVzKSwKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBiZXN0T2ZEZWNCb3JkZXIgPz8gQ09OVEFJTkVSX0JBU0UKICAgICk7CiAgICBpZiAoQkVTVE9GX0RFQ19MQUJFTCkgewogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKEJFU1RPRl9ERUNfTEFCRUwsIDE0KTsKICAgIH0KCiAgICAvLyBCZXN0LW9mOiBkeW5hbWljIGxhYmVsCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIEJFU1RPRl9MQUJFTF9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKC00MiwgYmVzdE9mWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihiZXN0T2ZMYWJlbFNpemVYLCBiZXN0T2ZMYWJlbFNpemVZLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJlc3RPZkxhYmVsLCBTdGF0ZS5yb3VuZC5tYXgpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgQkVTVE9GX0xBQkVMID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKEJFU1RPRl9MQUJFTF9JRCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoQkVTVE9GX0xBQkVMLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKEJFU1RPRl9MQUJFTCwgMTQpOwogICAgYXBwbHlSZWFkeURpYWxvZ0xhYmVsVGV4dENvbG9yKEJFU1RPRl9MQUJFTCk7CiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoQkVTVE9GX0xBQkVMLCBDT05UQUlORVJfQkFTRSk7CgogICAgLy8gQmVzdC1vZjogcGx1cyBidXR0b24gKHJpZ2h0IG9mIGxhYmVsKQogICAgY29uc3QgYmVzdE9mSW5jQm9yZGVyID0gYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgQkVTVE9GX0lOQ19JRCwKICAgICAgICAtMywKICAgICAgICBiZXN0T2ZZLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVYLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVZLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICBDT05UQUlORVJfQkFTRSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKCiAgICAvLyBCZXN0LW9mOiBwbHVzIGxhYmVsIChyaWdodCBvZiBsYWJlbCkKICAgIGNvbnN0IEJFU1RPRl9JTkNfTEFCRUwgPSBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgQkVTVE9GX0lOQ19MQUJFTF9JRCwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWCwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWSwKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudWkucGx1cyksCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgYmVzdE9mSW5jQm9yZGVyID8/IENPTlRBSU5FUl9CQVNFCiAgICApOwogICAgaWYgKEJFU1RPRl9JTkNfTEFCRUwpIHsKICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShCRVNUT0ZfSU5DX0xBQkVMLCAxNCk7CiAgICB9CiAgICB1cGRhdGVCZXN0T2ZSb3VuZHNMYWJlbEZvclBpZChwbGF5ZXJJZCk7CgogICAgLy8gTWF0Y2h1cCBwcmVzZXQgY29udHJvbCAoYmVsb3cgQmVzdC1vZik6IG1pbnVzIGJ1dHRvbiwgZHluYW1pYyBsYWJlbCwgcGx1cyBidXR0b24uCiAgICBjb25zdCBNQVRDSFVQX0RFQ19JRCA9IFVJX1JFQURZX0RJQUxPR19NQVRDSFVQX0RFQ19JRCArIHBsYXllcklkOwogICAgY29uc3QgTUFUQ0hVUF9ERUNfTEFCRUxfSUQgPSBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9ERUNfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IE1BVENIVVBfTEFCRUxfSUQgPSBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9MQUJFTF9JRCArIHBsYXllcklkOwogICAgY29uc3QgTUFUQ0hVUF9JTkNfSUQgPSBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9JTkNfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IE1BVENIVVBfSU5DX0xBQkVMX0lEID0gVUlfUkVBRFlfRElBTE9HX01BVENIVVBfSU5DX0xBQkVMX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBNQVRDSFVQX01JTlBMQVlFUlNfSUQgPSBVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9NSU5QTEFZRVJTX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBNQVRDSFVQX0tJTExTVEFSR0VUX0lEID0gVUlfUkVBRFlfRElBTE9HX01BVENIVVBfS0lMTFNUQVJHRVRfSUQgKyBwbGF5ZXJJZDsKCiAgICBjb25zdCBtYXRjaHVwWSA9IGJlc3RPZlkgKyBiZXN0T2ZCdXR0b25TaXplWSArIDQ7CgogICAgLy8gTWF0Y2h1cDogbWludXMgYnV0dG9uIChsZWZ0IG9mIGxhYmVsKQogICAgY29uc3QgbWF0Y2h1cERlY0JvcmRlciA9IGFkZE91dGxpbmVkQnV0dG9uKAogICAgICAgIE1BVENIVVBfREVDX0lELAogICAgICAgIDEyNSwKICAgICAgICBtYXRjaHVwWSwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWCwKICAgICAgICBiZXN0T2ZCdXR0b25TaXplWSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgQ09OVEFJTkVSX0JBU0UsCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgLy8gTWF0Y2h1cDogbWludXMgbGFiZWwKICAgIGNvbnN0IE1BVENIVVBfREVDX0xBQkVMID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIE1BVENIVVBfREVDX0xBQkVMX0lELAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVYLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVZLAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC51aS5taW51cyksCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgbWF0Y2h1cERlY0JvcmRlciA/PyBDT05UQUlORVJfQkFTRQogICAgKTsKICAgIGlmIChNQVRDSFVQX0RFQ19MQUJFTCkgewogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKE1BVENIVVBfREVDX0xBQkVMLCAxNCk7CiAgICB9CgogICAgLy8gTWF0Y2h1cDogZHluYW1pYyBsYWJlbAogICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICBNQVRDSFVQX0xBQkVMX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoLTc1LCBtYXRjaHVwWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihiZXN0T2ZMYWJlbFNpemVYLCBiZXN0T2ZMYWJlbFNpemVZLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLm1hdGNodXBGb3JtYXQsIDEsIDApLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgTUFUQ0hVUF9MQUJFTCA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShNQVRDSFVQX0xBQkVMX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShNQVRDSFVQX0xBQkVMLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKE1BVENIVVBfTEFCRUwsIDE0KTsKICAgIGFwcGx5UmVhZHlEaWFsb2dMYWJlbFRleHRDb2xvcihNQVRDSFVQX0xBQkVMKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChNQVRDSFVQX0xBQkVMLCBDT05UQUlORVJfQkFTRSk7CgogICAgLy8gTWF0Y2h1cDogcGx1cyBidXR0b24gKHJpZ2h0IG9mIGxhYmVsKQogICAgY29uc3QgbWF0Y2h1cEluY0JvcmRlciA9IGFkZE91dGxpbmVkQnV0dG9uKAogICAgICAgIE1BVENIVVBfSU5DX0lELAogICAgICAgIC0zLAogICAgICAgIG1hdGNodXBZLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVYLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVZLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICBDT05UQUlORVJfQkFTRSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKCiAgICAvLyBNYXRjaHVwOiBwbHVzIGxhYmVsIChyaWdodCBvZiBsYWJlbCkKICAgIGNvbnN0IE1BVENIVVBfSU5DX0xBQkVMID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIE1BVENIVVBfSU5DX0xBQkVMX0lELAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVYLAogICAgICAgIGJlc3RPZkJ1dHRvblNpemVZLAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC51aS5wbHVzKSwKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBtYXRjaHVwSW5jQm9yZGVyID8/IENPTlRBSU5FUl9CQVNFCiAgICApOwogICAgaWYgKE1BVENIVVBfSU5DX0xBQkVMKSB7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUoTUFUQ0hVUF9JTkNfTEFCRUwsIDE0KTsKICAgIH0KCiAgICAvLyBNYXRjaHVwIHJlYWRvdXRzIChiZWxvdyBtYXRjaHVwIGJ1dHRvbnMpCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIE1BVENIVVBfTUlOUExBWUVSU19JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKC00MiAtIChiZXN0T2ZMYWJlbFNpemVYICsgODApIC8gNCwgbWF0Y2h1cFkgKyBiZXN0T2ZCdXR0b25TaXplWSArIDIsIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoYmVzdE9mTGFiZWxTaXplWCArIDgwLCAxNiwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcFJpZ2h0LAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5taW5QbGF5ZXJzVG9TdGFydEZvcm1hdCwgU3RhdGUucm91bmQuYXV0b1N0YXJ0TWluQWN0aXZlUGxheWVycyksCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CiAgICBjb25zdCBNQVRDSFVQX01JTlBMQVlFUlMgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoTUFUQ0hVUF9NSU5QTEFZRVJTX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShNQVRDSFVQX01JTlBMQVlFUlMsIDApOwogICAgbW9kLlNldFVJVGV4dFNpemUoTUFUQ0hVUF9NSU5QTEFZRVJTLCAxMik7CiAgICBhcHBseVJlYWR5RGlhbG9nTGFiZWxUZXh0Q29sb3IoTUFUQ0hVUF9NSU5QTEFZRVJTKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChNQVRDSFVQX01JTlBMQVlFUlMsIENPTlRBSU5FUl9CQVNFKTsKCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIE1BVENIVVBfS0lMTFNUQVJHRVRfSUQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigtNDIgLSAoYmVzdE9mTGFiZWxTaXplWCArIDgwKSAvIDQsIG1hdGNodXBZICsgYmVzdE9mQnV0dG9uU2l6ZVkgKyAxOCwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihiZXN0T2ZMYWJlbFNpemVYICsgODAsIDE2LCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wUmlnaHQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLnRhcmdldEtpbGxzVG9XaW5Gb3JtYXQsIFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0KSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIGNvbnN0IE1BVENIVVBfS0lMTFNUQVJHRVQgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoTUFUQ0hVUF9LSUxMU1RBUkdFVF9JRCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoTUFUQ0hVUF9LSUxMU1RBUkdFVCwgMCk7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShNQVRDSFVQX0tJTExTVEFSR0VULCAxMik7CiAgICBhcHBseVJlYWR5RGlhbG9nTGFiZWxUZXh0Q29sb3IoTUFUQ0hVUF9LSUxMU1RBUkdFVCk7CiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoTUFUQ0hVUF9LSUxMU1RBUkdFVCwgQ09OVEFJTkVSX0JBU0UpOwoKICAgIHVwZGF0ZU1hdGNodXBMYWJlbEZvclBpZChwbGF5ZXJJZCk7CiAgICB1cGRhdGVNYXRjaHVwUmVhZG91dHNGb3JQaWQocGxheWVySWQpOwoKICAgIC8vIExlZnQgYW5kIHJpZ2h0IHJvc3RlciBjb250YWluZXJzIChjaGlsZHJlbiBhcmUgcGFyZW50ZWQgdG8gdGhlc2UgY29udGFpbmVycykuCiAgICBjb25zdCBUMV9DT05UQUlORVJfSUQgPSBVSV9SRUFEWV9ESUFMT0dfVEVBTTFfQ09OVEFJTkVSX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBUMl9DT05UQUlORVJfSUQgPSBVSV9SRUFEWV9ESUFMT0dfVEVBTTJfQ09OVEFJTkVSX0lEICsgcGxheWVySWQ7CgogICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgIFQxX0NPTlRBSU5FUl9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKFJFQURZX1JPU1RFUl9QQU5FTF9NQVJHSU4sIFJFQURZX1JPU1RFUl9QQU5FTF9ZLCAwKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKFJFQURZX1JPU1RFUl9QQU5FTF9XSURUSCwgUkVBRFlfUk9TVEVSX1BBTkVMX0hFSUdIVCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgQ09OVEFJTkVSX0JBU0UsCiAgICAgICAgdHJ1ZSwKICAgICAgICAxLAogICAgICAgIFJFQURZX1BBTkVMX1QxX0JHX0NPTE9SLAogICAgICAgIFJFQURZX1BBTkVMX0JHX0FMUEhBLAogICAgICAgIG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIG1vZC5BZGRVSUNvbnRhaW5lcigKICAgICAgICBUMl9DT05UQUlORVJfSUQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcihSRUFEWV9ST1NURVJfUEFORUxfTUFSR0lOICsgUkVBRFlfUk9TVEVSX1BBTkVMX1dJRFRIICsgUkVBRFlfUk9TVEVSX1BBTkVMX0dBUCwgUkVBRFlfUk9TVEVSX1BBTkVMX1ksIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoUkVBRFlfUk9TVEVSX1BBTkVMX1dJRFRILCBSRUFEWV9ST1NURVJfUEFORUxfSEVJR0hULCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwKICAgICAgICBDT05UQUlORVJfQkFTRSwKICAgICAgICB0cnVlLAogICAgICAgIDEsCiAgICAgICAgUkVBRFlfUEFORUxfVDJfQkdfQ09MT1IsCiAgICAgICAgUkVBRFlfUEFORUxfQkdfQUxQSEEsCiAgICAgICAgbW9kLlVJQmdGaWxsLlNvbGlkLAogICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwoKICAgIGNvbnN0IFQxX0NPTlRBSU5FUiA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShUMV9DT05UQUlORVJfSUQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICBjb25zdCBUMl9DT05UQUlORVIgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoVDJfQ09OVEFJTkVSX0lELCBtb2QuR2V0VUlSb290KCkpOwoKICAgIC8vIFRlYW0gbGFiZWxzIHJldXNlIGV4aXN0aW5nIHRlYW0tbmFtZSBzdHJpbmdzLgogICAgY29uc3QgdGVhbUxhYmVsWSA9IDA7CiAgICBjb25zdCB0ZWFtTGFiZWxIZWlnaHQgPSAyNDsKICAgIGNvbnN0IHRlYW1MYWJlbFdpZHRoID0gUkVBRFlfUk9TVEVSX1BBTkVMX1dJRFRIOwogICAgY29uc3QgVDFfTEFCRUxfSUQgPSBVSV9SRUFEWV9ESUFMT0dfVEVBTTFfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IFQyX0xBQkVMX0lEID0gVUlfUkVBRFlfRElBTE9HX1RFQU0yX0xBQkVMX0lEICsgcGxheWVySWQ7CiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIFQxX0xBQkVMX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgdGVhbUxhYmVsWSwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3Rvcih0ZWFtTGFiZWxXaWR0aCwgdGVhbUxhYmVsSGVpZ2h0LCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgIG1vZC5NZXNzYWdlKGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMSkpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgVDFfTEFCRUwgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoVDFfTEFCRUxfSUQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICBtb2QuU2V0VUlXaWRnZXRCZ0FscGhhKFQxX0xBQkVMLCAwKTsKICAgIG1vZC5TZXRVSVRleHRTaXplKFQxX0xBQkVMLCAyMCk7CiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoVDFfTEFCRUwsIFQxX0NPTlRBSU5FUik7CgogICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICBUMl9MQUJFTF9JRCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIHRlYW1MYWJlbFksIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IodGVhbUxhYmVsV2lkdGgsIHRlYW1MYWJlbEhlaWdodCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICBtb2QuTWVzc2FnZShnZXRUZWFtTmFtZUtleShUZWFtSUQuVGVhbTIpKSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKICAgIGNvbnN0IFQyX0xBQkVMID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKFQyX0xBQkVMX0lELCBtb2QuR2V0VUlSb290KCkpOwogICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShUMl9MQUJFTCwgMCk7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShUMl9MQUJFTCwgMjApOwogICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KFQyX0xBQkVMLCBUMl9DT05UQUlORVIpOwoKICAgIC8vIEZpeGVkIHJvd3M6IHVwIHRvIDE2IHBsYXllcnMgcGVyIHRlYW0gKDMyIG1heCkuIElmIHdlIGV2ZXIgd2FudCB0byBnbyBhYm92ZSAxNiBwZXIgdGVhbSwgd2Ugc2hvdWxkIGludHJvZHVjZSBhIE5leHQgUGFnZSBvciBQcmV2aW91cyBQYWdlIGJ1dHRvbj8gU2xpZGVyPwogICAgY29uc3Qgcm93U3RhcnRZID0gdGVhbUxhYmVsWSArIHRlYW1MYWJlbEhlaWdodDsKICAgIGNvbnN0IHJvd0ggPSAyNjsKICAgIGNvbnN0IGNvbE5hbWVYID0gMTA7CiAgICBjb25zdCBjb2xSZWFkeVggPSAyODA7CiAgICBjb25zdCBjb2xCYXNlWCA9IDQyMDsKICAgIGNvbnN0IGNvbE5hbWVXID0gMjYwOwogICAgY29uc3QgY29sU3RhdHVzVyA9IDE0MDsKCiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBURUFNX1JPU1RFUl9NQVhfUk9XUzsgcm93KyspIHsKICAgICAgICBjb25zdCB5ID0gcm93U3RhcnRZICsgKHJvdyAqIHJvd0gpOwoKICAgICAgICBjb25zdCB0MU5hbWVJZCA9IFVJX1JFQURZX0RJQUxPR19UMV9ST1dfTkFNRV9JRCArIHBsYXllcklkICsgIl8iICsgcm93OwogICAgICAgIGNvbnN0IHQxUmVhZHlJZCA9IFVJX1JFQURZX0RJQUxPR19UMV9ST1dfUkVBRFlfSUQgKyBwbGF5ZXJJZCArICJfIiArIHJvdzsKICAgICAgICBjb25zdCB0MUJhc2VJZCA9IFVJX1JFQURZX0RJQUxPR19UMV9ST1dfQkFTRV9JRCArIHBsYXllcklkICsgIl8iICsgcm93OwoKICAgICAgICBtb2QuQWRkVUlUZXh0KHQxTmFtZUlkLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbE5hbWVYLCB5LCAwKSwgbW9kLkNyZWF0ZVZlY3Rvcihjb2xOYW1lVywgcm93SCwgMCksIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLmdlbmVyaWNDb3VudGVyLCAiIiksIGV2ZW50UGxheWVyKTsKICAgICAgICBjb25zdCBUMV9OQU1FID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKHQxTmFtZUlkLCBtb2QuR2V0VUlSb290KCkpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoVDFfTkFNRSwgMCk7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUoVDFfTkFNRSwgMTQpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChUMV9OQU1FLCBUMV9DT05UQUlORVIpOwoKICAgICAgICBtb2QuQWRkVUlUZXh0KHQxUmVhZHlJZCwgbW9kLkNyZWF0ZVZlY3Rvcihjb2xSZWFkeVgsIHksIDApLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbFN0YXR1c1csIHJvd0gsIDApLCBtb2QuVUlBbmNob3IuVG9wTGVmdCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgIiIpLCBldmVudFBsYXllcik7CiAgICAgICAgY29uc3QgVDFfUkVBRFkgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodDFSZWFkeUlkLCBtb2QuR2V0VUlSb290KCkpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoVDFfUkVBRFksIDApOwogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKFQxX1JFQURZLCAxNCk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KFQxX1JFQURZLCBUMV9DT05UQUlORVIpOwoKICAgICAgICBtb2QuQWRkVUlUZXh0KHQxQmFzZUlkLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbEJhc2VYLCB5LCAwKSwgbW9kLkNyZWF0ZVZlY3Rvcihjb2xTdGF0dXNXLCByb3dILCAwKSwgbW9kLlVJQW5jaG9yLlRvcExlZnQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsICIiKSwgZXZlbnRQbGF5ZXIpOwogICAgICAgIGNvbnN0IFQxX0JBU0UgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodDFCYXNlSWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShUMV9CQVNFLCAwKTsKICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShUMV9CQVNFLCAxNCk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KFQxX0JBU0UsIFQxX0NPTlRBSU5FUik7CgogICAgICAgIGNvbnN0IHQyTmFtZUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19OQU1FX0lEICsgcGxheWVySWQgKyAiXyIgKyByb3c7CiAgICAgICAgY29uc3QgdDJSZWFkeUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19SRUFEWV9JRCArIHBsYXllcklkICsgIl8iICsgcm93OwogICAgICAgIGNvbnN0IHQyQmFzZUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19CQVNFX0lEICsgcGxheWVySWQgKyAiXyIgKyByb3c7CgogICAgICAgIG1vZC5BZGRVSVRleHQodDJOYW1lSWQsIG1vZC5DcmVhdGVWZWN0b3IoY29sTmFtZVgsIHksIDApLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbE5hbWVXLCByb3dILCAwKSwgbW9kLlVJQW5jaG9yLlRvcExlZnQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsICIiKSwgZXZlbnRQbGF5ZXIpOwogICAgICAgIGNvbnN0IFQyX05BTUUgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodDJOYW1lSWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShUMl9OQU1FLCAwKTsKICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShUMl9OQU1FLCAxNCk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KFQyX05BTUUsIFQyX0NPTlRBSU5FUik7CgogICAgICAgIG1vZC5BZGRVSVRleHQodDJSZWFkeUlkLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbFJlYWR5WCwgeSwgMCksIG1vZC5DcmVhdGVWZWN0b3IoY29sU3RhdHVzVywgcm93SCwgMCksIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLmdlbmVyaWNDb3VudGVyLCAiIiksIGV2ZW50UGxheWVyKTsKICAgICAgICBjb25zdCBUMl9SRUFEWSA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZSh0MlJlYWR5SWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYShUMl9SRUFEWSwgMCk7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUoVDJfUkVBRFksIDE0KTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoVDJfUkVBRFksIFQyX0NPTlRBSU5FUik7CgogICAgICAgIG1vZC5BZGRVSVRleHQodDJCYXNlSWQsIG1vZC5DcmVhdGVWZWN0b3IoY29sQmFzZVgsIHksIDApLCBtb2QuQ3JlYXRlVmVjdG9yKGNvbFN0YXR1c1csIHJvd0gsIDApLCBtb2QuVUlBbmNob3IuVG9wTGVmdCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgIiIpLCBldmVudFBsYXllcik7CiAgICAgICAgY29uc3QgVDJfQkFTRSA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZSh0MkJhc2VJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRCZ0FscGhhKFQyX0JBU0UsIDApOwogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKFQyX0JBU0UsIDE0KTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoVDJfQkFTRSwgVDJfQ09OVEFJTkVSKTsKICAgIH0KCiAgICAvLyBQb3B1bGF0ZSByb3dzIGZvciB0aGlzIHZpZXdlciAuCiAgICByZWZyZXNoUmVhZHlEaWFsb2dSb3N0ZXJGb3JWaWV3ZXIoZXZlbnRQbGF5ZXIsIHBsYXllcklkKTsKCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIChSb3N0ZXIgVUkpIC0gIChoZWFkZXIgKyB0ZWFtIHJvc3RlcnMpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAtIFN3YXAgVGVhbXMgQnV0dG9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8gQm90dG9tLWxlZnQgdG9nZ2xlOiBzd2FwcyB0aGUgcGxheWVyJ3MgY3VycmVudCB0ZWFtIChUZWFtIDEgPC0+IFRlYW0gMikuCiAgICBjb25zdCBTV0FQX0JVVFRPTl9JRCA9IFVJX1JFQURZX0RJQUxPR19CVVRUT05fU1dBUF9JRCArIHBsYXllcklkOwogICAgY29uc3QgU1dBUF9CVVRUT05fTEFCRUxfSUQgPSBVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1NXQVBfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKCiAgICBjb25zdCBTV0FQX0JPUkRFUiA9IGFkZE91dGxpbmVkQnV0dG9uKAogICAgICAgIFNXQVBfQlVUVE9OX0lELAogICAgICAgIDAsCiAgICAgICAgMCwKICAgICAgICAzMDAsCiAgICAgICAgMTAwLAogICAgICAgIG1vZC5VSUFuY2hvci5Cb3R0b21MZWZ0LAogICAgICAgIENPTlRBSU5FUl9CQVNFLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwoKICAgIGNvbnN0IFNXQVBfQlVUVE9OX0xBQkVMID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIFNXQVBfQlVUVE9OX0xBQkVMX0lELAogICAgICAgIDMwMCwKICAgICAgICAxMDAsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJ1dHRvbnMuc3dhcFRlYW1zKSwKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBTV0FQX0JPUkRFUiA/PyBDT05UQUlORVJfQkFTRQogICAgKTsKCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIC0gU3dhcCBUZWFtcyBCdXR0b24gLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKICAgIC8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgIC0gUmVhZHkgVG9nZ2xlIEJ1dHRvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vIEJvdHRvbS1jZW50ZXIgdG9nZ2xlOiBzdGFydHMgYXMgIlJlYWR5IiAocHJlc3NpbmcgaXQgc2V0cyBSRUFEWSksIHRoZW4gZmxpcHMgdG8gIk5vdCBSZWFkeSIuCiAgICBjb25zdCBSRUFEWV9CVVRUT05fSUQgPSBVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1JFQURZX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBSRUFEWV9CVVRUT05fTEFCRUxfSUQgPSBVSV9SRUFEWV9ESUFMT0dfQlVUVE9OX1JFQURZX0xBQkVMX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBSRUFEWV9CVVRUT05fQk9SREVSID0gYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgUkVBRFlfQlVUVE9OX0lELAogICAgICAgIDAsCiAgICAgICAgMCwKICAgICAgICAzMDAsCiAgICAgICAgMTAwLAogICAgICAgIG1vZC5VSUFuY2hvci5Cb3R0b21DZW50ZXIsCiAgICAgICAgQ09OVEFJTkVSX0JBU0UsCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgY29uc3QgUkVBRFlfQlVUVE9OX0xBQkVMID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIFJFQURZX0JVVFRPTl9MQUJFTF9JRCwKICAgICAgICAzMDAsCiAgICAgICAgMTAwLAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5idXR0b25zLnJlYWR5KSwKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBSRUFEWV9CVVRUT05fQk9SREVSID8/IENPTlRBSU5FUl9CQVNFCiAgICApOwoKICAgIC8vIEVuc3VyZSB0aGUgbGFiZWwgbWF0Y2hlcyB0aGUgY3VycmVudCBzdG9yZWQgc3RhdGUgZm9yIHRoaXMgdmlld2VyIChkZWZhdWx0IGlzIE5PVCBSRUFEWSkuCiAgICB1cGRhdGVSZWFkeVRvZ2dsZUJ1dHRvbkZvclZpZXdlcihldmVudFBsYXllciwgcGxheWVySWQpOwoKICAgIC8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgIC0gUmVhZHkgVG9nZ2xlIEJ1dHRvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgogICAgLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIERlYnVnIEluZm8gLSBUaW1lIExpbWl0IFNlY29uZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjb25zdCBERUJVR19USU1FTElNSVRfSUQgPSBVSV9URUFNU1dJVENIX0RFQlVHX1RJTUVMSU1JVF9JRCArIHBsYXllcklkOwogICAgaWYgKFNIT1dfREVCVUdfVElNRUxJTUlUKSB7CgogICAgLy8gU2hvd3MgdGhlIGN1cnJlbnQgaW5mZXJyZWQgZ2FtZW1vZGUgdGltZSBsaW1pdCAoc2Vjb25kcykgd2hpbGUgdGhlIHRlYW0gc3dpdGNoIGRpYWxvZyBpcyBvcGVuLgogICAgY29uc3QgZGVidWdUaW1lTGltaXRTZWNvbmRzID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpICsgbW9kLkdldE1hdGNoVGltZVJlbWFpbmluZygpKTsKICAgIG1vZC5BZGRVSVRleHQoCiAgICAgICAgREVCVUdfVElNRUxJTUlUX0lELAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoLTMyMCwgLTE2MCwgMCksICAvL21vZC5DcmVhdGVWZWN0b3IoLTIyMCwgMTAsIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoODAsIDI4LCAwKSwgICAgLy9tb2QuQ3JlYXRlVmVjdG9yKDgwLCAyOCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcFJpZ2h0LAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtU3dpdGNoLmRlYnVnVGltZUxpbWl0LCBkZWJ1Z1RpbWVMaW1pdFNlY29uZHMpLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwogICAgY29uc3QgREVCVUdfVElNRUxJTUlUID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKERFQlVHX1RJTUVMSU1JVF9JRCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIC8vIFBhcmVudCB0byB0aGUgVGVhbSBTd2l0Y2ggY29udGFpbmVyIHNvIHRoZSB0ZXh0IGlzIGFsd2F5cyBkcmF3biBhYm92ZSB0aGUgZGlhbG9nIGJhY2tncm91bmQuCiAgICBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoREVCVUdfVElNRUxJTUlULCBDT05UQUlORVJfQkFTRSk7CiAgICBtb2QuU2V0VUlXaWRnZXRCZ0FscGhhKERFQlVHX1RJTUVMSU1JVCwgMCk7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShERUJVR19USU1FTElNSVQsIDEyKTsKICAgIGFwcGx5UmVhZHlEaWFsb2dMYWJlbFRleHRDb2xvcihERUJVR19USU1FTElNSVQpOwoKCiAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGV4aXN0aW5nRGVidWcgPSBzYWZlRmluZChERUJVR19USU1FTElNSVRfSUQpOwogICAgICAgIGlmIChleGlzdGluZ0RlYnVnKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGV4aXN0aW5nRGVidWcsIGZhbHNlKTsKICAgIH0KCiAgICAvLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVidWcgSW5mbyAtIFRpbWUgTGltaXQgU2Vjb25kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCiAgICAKICAgIC8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBBZG1pbiBQYW5lbCBUb2dnbGUgQnV0dG9uIChUb3AtUmlnaHQsIG9ubHkgd2hpbGUgUmVhZHkgVXAgZGlhbG9nIGlzIG9wZW4pIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8gVUkgY2FjaGluZyBub3RlOiB0aGVzZSB3aWRnZXRzIGFyZSBjcmVhdGVkIG9uY2UgYW5kIHRoZW4gaGlkZGVuL3Nob3duIG9uIG9wZW4vY2xvc2UuCiAgICBlbnN1cmVBZG1pblBhbmVsV2lkZ2V0cyhldmVudFBsYXllciwgcGxheWVySWQpOwoKICAgIC8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBBZG1pbiBQYW5lbCBUb2dnbGUgQnV0dG9uIChUb3AtUmlnaHQsIG9ubHkgd2hpbGUgUmVhZHkgVXAgZGlhbG9nIGlzIG9wZW4pIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCiAgICAvLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGlhbG9nIEJ1dHRvbnMgKExlZnQgU2lkZSkgLSBDYW5jZWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAvLyBDYW5jZWwgcmVtYWlucyBhIGNvcmUgZnVuY3Rpb24gc28gcGxheWVycyBjYW4gZGlzbWlzcyB0aGUgZGlhbG9nIGFuZCByZWdhaW4gY29udHJvbC4KICAgIC8vIChUZWFtIHN3aXRjaGluZyAvIHNwZWN0YXRlIC8gb3B0LW91dCBidXR0b25zIGFyZSBpbnRlbnRpb25hbGx5IG5vdCBleHBvc2VkIGluIHYwLjUrOyBzZWUgRGVwcmVjYXRlZCBVSSBibG9jayBiZWxvdy4pCiAgICBjb25zdCBCVVRUT05fQ0FOQ0VMX0JPUkRFUiA9IGFkZE91dGxpbmVkQnV0dG9uKAogICAgICAgIEJVVFRPTl9DQU5DRUxfSUQsCiAgICAgICAgMCwKICAgICAgICAwLAogICAgICAgIDMwMCwKICAgICAgICAxMDAsCiAgICAgICAgbW9kLlVJQW5jaG9yLkJvdHRvbVJpZ2h0LAogICAgICAgIENPTlRBSU5FUl9CQVNFLAogICAgICAgIGV2ZW50UGxheWVyCiAgICApOwoKICAgIGNvbnN0IEJVVFRPTl9DQU5DRUxfTEFCRUwgPSBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgQlVUVE9OX0NBTkNFTF9MQUJFTF9JRCwKICAgICAgICAzMDAsCiAgICAgICAgMTAwLAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC50ZWFtU3dpdGNoLmJ1dHRvbnMuY2FuY2VsKSwKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBCVVRUT05fQ0FOQ0VMX0JPUkRFUiA/PyBDT05UQUlORVJfQkFTRQogICAgKTsKCiAgICAvLyBMYXlvdXQgY29uc3RhbnRzOiBhZGp1c3QgY2F1dGlvdXNseTsgdmVyaWZ5IGluLWdhbWUgZGlhbG9nIEFkbWluIHBhbmVsIHdpZGdldHMgYXJlIGJ1aWx0IGxhemlseSBvbiBmaXJzdCBvcGVuIChzZWUgYnVpbGRBZG1pblBhbmVsV2lkZ2V0cykgdG8gcHJldmVudCBhIG9uZS10aWNrIHJlbmRlciBmbGlja2VyLgogICAgdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yUGxheWVyKGV2ZW50UGxheWVyKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIERpYWxvZyBCdXR0b25zIChMZWZ0IFNpZGUpIC0gQ2FuY2VsIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBBZG1pbiBQYW5lbCBVSSAoUmlnaHQgU2lkZSkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIEJ1aWxkcyB0aGUgQWRtaW4gUGFuZWwgd2lkZ2V0cyBsYXppbHkgKHRvIGF2b2lkIGEgMS1mcmFtZSBmbGlja2VyIG9uIGRpYWxvZyBvcGVuKS4KZnVuY3Rpb24gYnVpbGRBZG1pblBhbmVsV2lkZ2V0cyhldmVudFBsYXllcjogbW9kLlBsYXllciwgYWRtaW5Db250YWluZXI6IG1vZC5VSVdpZGdldCwgcGxheWVySWQ6IG51bWJlcik6IHZvaWQgewoKICAgIC8vIEZpdCBhdCB0YXJnZXQgcmVzb2x1dGlvbnMuCiAgICBjb25zdCB0ZXN0ZXJCYXNlWCA9IEFETUlOX1BBTkVMX0JBU0VfWDsKICAgIGNvbnN0IHRlc3RlckJhc2VZID0gQURNSU5fUEFORUxfQkFTRV9ZOwoKICAgIGNvbnN0IGJ1dHRvblNpemVYID0gQURNSU5fUEFORUxfQlVUVE9OX1NJWkVfWDsKICAgIGNvbnN0IGJ1dHRvblNpemVZID0gQURNSU5fUEFORUxfQlVUVE9OX1NJWkVfWTsKICAgIGNvbnN0IGxhYmVsU2l6ZVggPSBBRE1JTl9QQU5FTF9MQUJFTF9TSVpFX1g7CiAgICBjb25zdCByb3dTcGFjaW5nWSA9IEFETUlOX1BBTkVMX1JPV19TUEFDSU5HX1k7CgogICAgY29uc3QgZGVjT2Zmc2V0WCA9IDA7CiAgICBjb25zdCBsYWJlbE9mZnNldFggPSBidXR0b25TaXplWCArIDg7CiAgICBjb25zdCBpbmNPZmZzZXRYID0gYnV0dG9uU2l6ZVggKyA4ICsgbGFiZWxTaXplWCArIDg7CgogICAgY29uc3QgaGVhZGVySWQgPSBVSV9URVNUX0hFQURFUl9MQUJFTF9JRCArIHBsYXllcklkOwoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiBoZWFkZXJJZCwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IGV2ZW50UGxheWVyLAogICAgICAgIHBvc2l0aW9uOiBbMCwgdGVzdGVyQmFzZVkgKyAyXSwKICAgICAgICBzaXplOiBbQURNSU5fUEFORUxfQ09OVEVOVF9XSURUSCwgMThdLAogICAgICAgIGFuY2hvcjogbW9kLlVJQW5jaG9yLlRvcENlbnRlciwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5Ob25lLAogICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwudGVzdGVyLmhlYWRlciksCiAgICAgICAgdGV4dENvbG9yOiBBRE1JTl9QQU5FTF9MQUJFTF9URVhUX0NPTE9SX1JHQiwKICAgICAgICB0ZXh0QWxwaGE6IDEsCiAgICAgICAgdGV4dFNpemU6IDEyLAogICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICB9KTsKICAgIGNvbnN0IFRFU1RfSEVBREVSID0gc2FmZUZpbmQoaGVhZGVySWQpOwogICAgYXBwbHlBZG1pblBhbmVsTGFiZWxUZXh0Q29sb3IoVEVTVF9IRUFERVIpOwogICAgaWYgKFRFU1RfSEVBREVSKSBtb2QuU2V0VUlXaWRnZXRQYXJlbnQoVEVTVF9IRUFERVIsIGFkbWluQ29udGFpbmVyKTsKCiAgICBjb25zdCByb3cwWSA9IHRlc3RlckJhc2VZICsgMjI7CgogICAgYWRkVGVzdGVyUm93KGV2ZW50UGxheWVyLCBhZG1pbkNvbnRhaW5lciwgcGxheWVySWQsIHRlc3RlckJhc2VYLCByb3cwWSArIChidXR0b25TaXplWSArIHJvd1NwYWNpbmdZKSAqIDAsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fTEVGVF9XSU5TX0RFQ19JRCwgVUlfVEVTVF9CVVRUT05fTEVGVF9XSU5TX0lOQ19JRCwgVUlfVEVTVF9MQUJFTF9MRUZUX1dJTlNfSUQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwudGVzdGVyLmxhYmVscy5sZWZ0V2lucywgYnV0dG9uU2l6ZVgsIGJ1dHRvblNpemVZLCBsYWJlbFNpemVYLCBkZWNPZmZzZXRYLCBsYWJlbE9mZnNldFgsIGluY09mZnNldFgpOwoKICAgIGFkZFRlc3RlclJvdyhldmVudFBsYXllciwgYWRtaW5Db250YWluZXIsIHBsYXllcklkLCB0ZXN0ZXJCYXNlWCwgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiAxLAogICAgICAgIFVJX1RFU1RfQlVUVE9OX1JJR0hUX1dJTlNfREVDX0lELCBVSV9URVNUX0JVVFRPTl9SSUdIVF9XSU5TX0lOQ19JRCwgVUlfVEVTVF9MQUJFTF9SSUdIVF9XSU5TX0lELAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLnRlc3Rlci5sYWJlbHMucmlnaHRXaW5zLCBidXR0b25TaXplWCwgYnV0dG9uU2l6ZVksIGxhYmVsU2l6ZVgsIGRlY09mZnNldFgsIGxhYmVsT2Zmc2V0WCwgaW5jT2Zmc2V0WCk7CgogICAgYWRkVGVzdGVyUm93KGV2ZW50UGxheWVyLCBhZG1pbkNvbnRhaW5lciwgcGxheWVySWQsIHRlc3RlckJhc2VYLCByb3cwWSArIChidXR0b25TaXplWSArIHJvd1NwYWNpbmdZKSAqIDIsCiAgICAgICAgVUlfVEVTVF9CVVRUT05fTEVGVF9LSUxMU19ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX0xFRlRfS0lMTFNfSU5DX0lELCBVSV9URVNUX0xBQkVMX0xFRlRfS0lMTFNfSUQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwudGVzdGVyLmxhYmVscy5sZWZ0S2lsbHMsIGJ1dHRvblNpemVYLCBidXR0b25TaXplWSwgbGFiZWxTaXplWCwgZGVjT2Zmc2V0WCwgbGFiZWxPZmZzZXRYLCBpbmNPZmZzZXRYKTsKCiAgICBhZGRUZXN0ZXJSb3coZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCwgdGVzdGVyQmFzZVgsIHJvdzBZICsgKGJ1dHRvblNpemVZICsgcm93U3BhY2luZ1kpICogMywKICAgICAgICBVSV9URVNUX0JVVFRPTl9SSUdIVF9LSUxMU19ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX1JJR0hUX0tJTExTX0lOQ19JRCwgVUlfVEVTVF9MQUJFTF9SSUdIVF9LSUxMU19JRCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC50ZXN0ZXIubGFiZWxzLnJpZ2h0S2lsbHMsIGJ1dHRvblNpemVYLCBidXR0b25TaXplWSwgbGFiZWxTaXplWCwgZGVjT2Zmc2V0WCwgbGFiZWxPZmZzZXRYLCBpbmNPZmZzZXRYKTsKCiAgICBhZGRUZXN0ZXJSb3coZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCwgdGVzdGVyQmFzZVgsIHJvdzBZICsgKGJ1dHRvblNpemVZICsgcm93U3BhY2luZ1kpICogNCwKICAgICAgICBVSV9BRE1JTl9CVVRUT05fVDFfUk9VTkRfS0lMTFNfREVDX0lELCBVSV9BRE1JTl9CVVRUT05fVDFfUk9VTkRfS0lMTFNfSU5DX0lELCBVSV9BRE1JTl9MQUJFTF9UMV9ST1VORF9LSUxMU19JRCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC5sYWJlbHMudDFSb3VuZEtpbGxzLCBidXR0b25TaXplWCwgYnV0dG9uU2l6ZVksIGxhYmVsU2l6ZVgsIGRlY09mZnNldFgsIGxhYmVsT2Zmc2V0WCwgaW5jT2Zmc2V0WCk7CgogICAgYWRkVGVzdGVyUm93KGV2ZW50UGxheWVyLCBhZG1pbkNvbnRhaW5lciwgcGxheWVySWQsIHRlc3RlckJhc2VYLCByb3cwWSArIChidXR0b25TaXplWSArIHJvd1NwYWNpbmdZKSAqIDUsCiAgICAgICAgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0RFQ19JRCwgVUlfQURNSU5fQlVUVE9OX1QyX1JPVU5EX0tJTExTX0lOQ19JRCwgVUlfQURNSU5fTEFCRUxfVDJfUk9VTkRfS0lMTFNfSUQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwubGFiZWxzLnQyUm91bmRLaWxscywgYnV0dG9uU2l6ZVgsIGJ1dHRvblNpemVZLCBsYWJlbFNpemVYLCBkZWNPZmZzZXRYLCBsYWJlbE9mZnNldFgsIGluY09mZnNldFgpOwoKICAgIGFkZFRlc3RlclJvd1dpdGhWYWx1ZShldmVudFBsYXllciwgYWRtaW5Db250YWluZXIsIHBsYXllcklkLCB0ZXN0ZXJCYXNlWCwgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiA2LAogICAgICAgIFVJX1RFU1RfQlVUVE9OX1JPVU5EX0tJTExTX1RBUkdFVF9ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX1JPVU5EX0tJTExTX1RBUkdFVF9JTkNfSUQsIFVJX1RFU1RfTEFCRUxfUk9VTkRfS0lMTFNfVEFSR0VUX0lELCBVSV9URVNUX1ZBTFVFX1JPVU5EX0tJTExTX1RBUkdFVF9JRCwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC50ZXN0ZXIubGFiZWxzLnJvdW5kS2lsbHNUYXJnZXQsIFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0LCBidXR0b25TaXplWCwgYnV0dG9uU2l6ZVksIGxhYmVsU2l6ZVgsIEFETUlOX1BBTkVMX1ZBTFVFX1NJWkVfWCwgZGVjT2Zmc2V0WCwgbGFiZWxPZmZzZXRYLCBpbmNPZmZzZXRYKTsKCiAgICBzeW5jUm91bmRLaWxsc1RhcmdldFRlc3RlclZhbHVlRm9yQWxsUGxheWVycygpOwoKICAgIGFkZFRlc3RlclJvdyhldmVudFBsYXllciwgYWRtaW5Db250YWluZXIsIHBsYXllcklkLCB0ZXN0ZXJCYXNlWCwgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiA3LAogICAgICAgIFVJX1RFU1RfQlVUVE9OX1RJRVNfREVDX0lELCBVSV9URVNUX0JVVFRPTl9USUVTX0lOQ19JRCwgVUlfVEVTVF9MQUJFTF9USUVTX0lELAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLnRlc3Rlci5sYWJlbHMudGllcywgYnV0dG9uU2l6ZVgsIGJ1dHRvblNpemVZLCBsYWJlbFNpemVYLCBkZWNPZmZzZXRYLCBsYWJlbE9mZnNldFgsIGluY09mZnNldFgpOwoKICAgIGFkZFRlc3RlclJvdyhldmVudFBsYXllciwgYWRtaW5Db250YWluZXIsIHBsYXllcklkLCB0ZXN0ZXJCYXNlWCwgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiA4LAogICAgICAgIFVJX1RFU1RfQlVUVE9OX0NVUl9ST1VORF9ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX0NVUl9ST1VORF9JTkNfSUQsIFVJX1RFU1RfTEFCRUxfQ1VSX1JPVU5EX0lELAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLnRlc3Rlci5sYWJlbHMuY3VycmVudFJvdW5kLCBidXR0b25TaXplWCwgYnV0dG9uU2l6ZVksIGxhYmVsU2l6ZVgsIGRlY09mZnNldFgsIGxhYmVsT2Zmc2V0WCwgaW5jT2Zmc2V0WCk7CgogICAgYWRkVGVzdGVyUm93KGV2ZW50UGxheWVyLCBhZG1pbkNvbnRhaW5lciwgcGxheWVySWQsIHRlc3RlckJhc2VYLCByb3cwWSArIChidXR0b25TaXplWSArIHJvd1NwYWNpbmdZKSAqIDksCiAgICAgICAgVUlfVEVTVF9CVVRUT05fQ0xPQ0tfVElNRV9ERUNfSUQsIFVJX1RFU1RfQlVUVE9OX0NMT0NLX1RJTUVfSU5DX0lELCBVSV9URVNUX0xBQkVMX0NMT0NLX1RJTUVfSUQsCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwudGVzdGVyLmxhYmVscy5jbG9ja1RpbWUsIGJ1dHRvblNpemVYLCBidXR0b25TaXplWSwgbGFiZWxTaXplWCwgZGVjT2Zmc2V0WCwgbGFiZWxPZmZzZXRYLCBpbmNPZmZzZXRYKTsKCiAgICBhZGRUZXN0ZXJSZXNldEJ1dHRvbihldmVudFBsYXllciwgYWRtaW5Db250YWluZXIsIHBsYXllcklkLCB0ZXN0ZXJCYXNlWCwKICAgICAgICByb3cwWSArIChidXR0b25TaXplWSArIHJvd1NwYWNpbmdZKSAqIDEwLCAoYnV0dG9uU2l6ZVggKyA4ICsgbGFiZWxTaXplWCArIDggKyBidXR0b25TaXplWCksIDM2KTsKCiAgICBhZGRUZXN0ZXJBY3Rpb25CdXR0b24oZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCwgdGVzdGVyQmFzZVgsCiAgICAgICAgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiAxMSwgKGJ1dHRvblNpemVYICsgOCArIGxhYmVsU2l6ZVggKyA4ICsgYnV0dG9uU2l6ZVgpLCAzNiwKICAgICAgICBVSV9URVNUX0JVVFRPTl9ST1VORF9TVEFSVF9JRCwgVUlfVEVTVF9ST1VORF9TVEFSVF9URVhUX0lELCBtb2Quc3RyaW5na2V5cy50d2wuYWRtaW5QYW5lbC50ZXN0ZXIuYnV0dG9ucy5yb3VuZFN0YXJ0KTsKCiAgICBhZGRUZXN0ZXJBY3Rpb25CdXR0b24oZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCwgdGVzdGVyQmFzZVgsCiAgICAgICAgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiAxMiwgKGJ1dHRvblNpemVYICsgOCArIGxhYmVsU2l6ZVggKyA4ICsgYnV0dG9uU2l6ZVgpLCAzNiwKICAgICAgICBVSV9URVNUX0JVVFRPTl9ST1VORF9FTkRfSUQsIFVJX1RFU1RfUk9VTkRfRU5EX1RFWFRfSUQsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLnRlc3Rlci5idXR0b25zLnJvdW5kRW5kKTsKCiAgICBhZGRUZXN0ZXJBY3Rpb25CdXR0b24oZXZlbnRQbGF5ZXIsIGFkbWluQ29udGFpbmVyLCBwbGF5ZXJJZCwgdGVzdGVyQmFzZVgsCiAgICAgICAgcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiAxMywgKGJ1dHRvblNpemVYICsgOCArIGxhYmVsU2l6ZVggKyA4ICsgYnV0dG9uU2l6ZVgpLCAzNiwKICAgICAgICBVSV9URVNUX0JVVFRPTl9QT1NfREVCVUdfSUQsIFVJX1RFU1RfUE9TX0RFQlVHX1RFWFRfSUQsIG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLnRlc3Rlci5idXR0b25zLnBvc2l0aW9uRGVidWcpOwoKICAgIGNvbnN0IG92ZXJyaWRlTGFiZWxJZCA9IFVJX0FETUlOX1RJRUJSRUFLRVJfTEFCRUxfSUQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IG92ZXJyaWRlTGFiZWxZID0gcm93MFkgKyAoYnV0dG9uU2l6ZVkgKyByb3dTcGFjaW5nWSkgKiAxNCArIDI7CiAgICBtb2RsaWIuUGFyc2VVSSh7CiAgICAgICAgbmFtZTogb3ZlcnJpZGVMYWJlbElkLAogICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICBwbGF5ZXJJZDogZXZlbnRQbGF5ZXIsCiAgICAgICAgcG9zaXRpb246IFswLCBvdmVycmlkZUxhYmVsWV0sCiAgICAgICAgc2l6ZTogW0FETUlOX1BBTkVMX0NPTlRFTlRfV0lEVEgsIEFETUlOX1BBTkVMX1RJRUJSRUFLRVJfTEFCRUxfSEVJR0hUXSwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5hZG1pblBhbmVsLmxhYmVscy50aWVCcmVha2VyT3ZlcnJpZGUpLAogICAgICAgIHRleHRDb2xvcjogQURNSU5fUEFORUxfTEFCRUxfVEVYVF9DT0xPUl9SR0IsCiAgICAgICAgdGV4dEFscGhhOiAxLAogICAgICAgIHRleHRTaXplOiAxMiwKICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgfSk7CiAgICBjb25zdCBPVkVSUklERV9MQUJFTCA9IHNhZmVGaW5kKG92ZXJyaWRlTGFiZWxJZCk7CiAgICBhcHBseUFkbWluUGFuZWxMYWJlbFRleHRDb2xvcihPVkVSUklERV9MQUJFTCk7CiAgICBpZiAoT1ZFUlJJREVfTEFCRUwpIG1vZC5TZXRVSVdpZGdldFBhcmVudChPVkVSUklERV9MQUJFTCwgYWRtaW5Db250YWluZXIpOwoKICAgIGNvbnN0IG92ZXJyaWRlQnV0dG9uc1kgPSBvdmVycmlkZUxhYmVsWSArIEFETUlOX1BBTkVMX1RJRUJSRUFLRVJfTEFCRUxfSEVJR0hUICsgNDsKICAgIGNvbnN0IG92ZXJyaWRlQnV0dG9uU2l6ZSA9IEFETUlOX1BBTkVMX1RJRUJSRUFLRVJfQlVUVE9OX1NJWkU7CiAgICBjb25zdCBvdmVycmlkZVNwYWNpbmcgPSBBRE1JTl9QQU5FTF9USUVCUkVBS0VSX0JVVFRPTl9TUEFDSU5HOwogICAgY29uc3Qgb3ZlcnJpZGVCdXR0b25zV2lkdGggPSAob3ZlcnJpZGVCdXR0b25TaXplICogQURNSU5fVElFQlJFQUtFUl9PVkVSUklERV9MRVRURVJTLmxlbmd0aCkKICAgICAgICArIChvdmVycmlkZVNwYWNpbmcgKiAoQURNSU5fVElFQlJFQUtFUl9PVkVSUklERV9MRVRURVJTLmxlbmd0aCAtIDEpKTsKICAgIGNvbnN0IG92ZXJyaWRlQmFzZVggPSBNYXRoLmZsb29yKChBRE1JTl9QQU5FTF9DT05URU5UX1dJRFRIIC0gb3ZlcnJpZGVCdXR0b25zV2lkdGgpIC8gMik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBBRE1JTl9USUVCUkVBS0VSX09WRVJSSURFX0xFVFRFUlMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBsZXR0ZXIgPSBBRE1JTl9USUVCUkVBS0VSX09WRVJSSURFX0xFVFRFUlNbaV07CiAgICAgICAgY29uc3QgYnV0dG9uSWQgPSBVSV9BRE1JTl9USUVCUkVBS0VSX0JVVFRPTl9JRCArIGxldHRlciArICJfIiArIHBsYXllcklkOwogICAgICAgIGNvbnN0IHRleHRJZCA9IFVJX0FETUlOX1RJRUJSRUFLRVJfQlVUVE9OX1RFWFRfSUQgKyBsZXR0ZXIgKyAiXyIgKyBwbGF5ZXJJZDsKICAgICAgICBjb25zdCBidXR0b25YID0gb3ZlcnJpZGVCYXNlWCArIChvdmVycmlkZUJ1dHRvblNpemUgKyBvdmVycmlkZVNwYWNpbmcpICogaTsKCiAgICAgICAgYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgICAgIGJ1dHRvbklkLAogICAgICAgICAgICBidXR0b25YLAogICAgICAgICAgICBvdmVycmlkZUJ1dHRvbnNZLAogICAgICAgICAgICBvdmVycmlkZUJ1dHRvblNpemUsCiAgICAgICAgICAgIG92ZXJyaWRlQnV0dG9uU2l6ZSwKICAgICAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgIGFkbWluQ29udGFpbmVyLAogICAgICAgICAgICBldmVudFBsYXllcgogICAgICAgICk7CgogICAgICAgIGNvbnN0IEJVVFRPTl9CT1JERVIgPSBzYWZlRmluZChidXR0b25JZCArICJfQk9SREVSIik7CiAgICAgICAgY29uc3QgQlVUVE9OX1RFWFQgPSBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgICAgIHRleHRJZCwKICAgICAgICAgICAgb3ZlcnJpZGVCdXR0b25TaXplLAogICAgICAgICAgICBvdmVycmlkZUJ1dHRvblNpemUsCiAgICAgICAgICAgIG1vZC5NZXNzYWdlKGdldE92ZXJ0aW1lRmxhZ0xldHRlcktleUZvckluZGV4KGkpKSwKICAgICAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgICAgIEJVVFRPTl9CT1JERVIgPz8gYWRtaW5Db250YWluZXIKICAgICAgICApOwogICAgICAgIGlmIChCVVRUT05fVEVYVCkgewogICAgICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShCVVRUT05fVEVYVCwgMTIpOwogICAgICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IoQlVUVE9OX1RFWFQsIEFETUlOX1BBTkVMX0JVVFRPTl9URVhUX0NPTE9SKTsKICAgICAgICB9CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBBZG1pbiBQYW5lbCBVSSAoUmlnaHQgU2lkZSkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEFkbWluIFBhbmVsIFVJIGJ1aWxkZXIgaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gYWRkVGVzdGVyUm93KAogICAgZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsCiAgICBjb250YWluZXJCYXNlOiBtb2QuVUlXaWRnZXQsCiAgICBwbGF5ZXJJZDogbnVtYmVyLAogICAgYmFzZVg6IG51bWJlciwKICAgIGJhc2VZOiBudW1iZXIsCiAgICBkZWNCdXR0b25CYXNlSWQ6IHN0cmluZywKICAgIGluY0J1dHRvbkJhc2VJZDogc3RyaW5nLAogICAgbGFiZWxCYXNlSWQ6IHN0cmluZywKICAgIGxhYmVsS2V5OiBudW1iZXIsCiAgICBidXR0b25TaXplWDogbnVtYmVyLAogICAgYnV0dG9uU2l6ZVk6IG51bWJlciwKICAgIGxhYmVsU2l6ZVg6IG51bWJlciwKICAgIGRlY09mZnNldFg6IG51bWJlciwKICAgIGxhYmVsT2Zmc2V0WDogbnVtYmVyLAogICAgaW5jT2Zmc2V0WDogbnVtYmVyCik6IHZvaWQgewogICAgLy8gU3RlcHM6CiAgICAvLyAxKSBFbnN1cmUgcGVyLXBsYXllciBkaWFsb2cgcm9vdCBleGlzdHMKICAgIC8vIDIpIEJ1aWxkIGxlZnQgdGVhbSBwYW5lbCB3aWRnZXRzCiAgICAvLyAzKSBCdWlsZCByaWdodCB0ZWFtIHBhbmVsIHdpZGdldHMKICAgIC8vIDQpIEJ1aWxkIGFkbWluIHBhbmVsIHdpZGdldHMgKyBiaW5kIGJ1dHRvbiBJRHMKICAgIC8vIDUpIEZpbmFsaXplIHZpc2liaWxpdHkgLyBkZWZhdWx0IHN0YXRlcwoKICAgIGNvbnN0IGRlY0J1dHRvbklkID0gZGVjQnV0dG9uQmFzZUlkICsgcGxheWVySWQ7CiAgICBjb25zdCBpbmNCdXR0b25JZCA9IGluY0J1dHRvbkJhc2VJZCArIHBsYXllcklkOwoKICAgIGNvbnN0IHBsdXNUZXh0SWQgPSBVSV9URVNUX1BMVVNfVEVYVF9JRCArIGluY0J1dHRvbklkOwogICAgY29uc3QgbWludXNUZXh0SWQgPSBVSV9URVNUX01JTlVTX1RFWFRfSUQgKyBkZWNCdXR0b25JZDsKCiAgICBjb25zdCBsYWJlbElkID0gbGFiZWxCYXNlSWQgKyBwbGF5ZXJJZDsKCiAgICBhZGRPdXRsaW5lZEJ1dHRvbigKICAgICAgICBkZWNCdXR0b25JZCwKICAgICAgICBiYXNlWCArIGRlY09mZnNldFgsCiAgICAgICAgYmFzZVksCiAgICAgICAgYnV0dG9uU2l6ZVgsCiAgICAgICAgYnV0dG9uU2l6ZVksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgY29udGFpbmVyQmFzZSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKCiAgICBjb25zdCBERUNfQk9SREVSID0gc2FmZUZpbmQoZGVjQnV0dG9uSWQgKyAiX0JPUkRFUiIpOwogICAgY29uc3QgTUlOVVNfVEVYVCA9IGFkZENlbnRlcmVkQnV0dG9uVGV4dCgKICAgICAgICBtaW51c1RleHRJZCwKICAgICAgICBidXR0b25TaXplWCwKICAgICAgICBidXR0b25TaXplWSwKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wudWkubWludXMpLAogICAgICAgIGV2ZW50UGxheWVyLAogICAgICAgIERFQ19CT1JERVIgPz8gY29udGFpbmVyQmFzZQogICAgKTsKICAgIGlmIChNSU5VU19URVhUKSB7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUoTUlOVVNfVEVYVCwgMTIpOwogICAgICAgIG1vZC5TZXRVSVRleHRDb2xvcihNSU5VU19URVhULCBBRE1JTl9QQU5FTF9CVVRUT05fVEVYVF9DT0xPUik7CiAgICB9CgogICAgbW9kLkFkZFVJVGV4dChsYWJlbElkLCBtb2QuQ3JlYXRlVmVjdG9yKGJhc2VYICsgbGFiZWxPZmZzZXRYLCBiYXNlWSArIDExLCAwKSwgbW9kLkNyZWF0ZVZlY3RvcihsYWJlbFNpemVYLCBidXR0b25TaXplWSAtIDIyLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwgbW9kLk1lc3NhZ2UobGFiZWxLZXkpLCBldmVudFBsYXllcik7CiAgICBtb2QuU2V0VUlUZXh0U2l6ZShtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUobGFiZWxJZCwgbW9kLkdldFVJUm9vdCgpKSwgMTIpOwogICAgY29uc3QgTEFCRUwgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUobGFiZWxJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoTEFCRUwsIDApOwogICAgYXBwbHlBZG1pblBhbmVsTGFiZWxUZXh0Q29sb3IoTEFCRUwpOwogICAgbW9kLlNldFVJV2lkZ2V0UGFyZW50KExBQkVMLCBjb250YWluZXJCYXNlKTsKCiAgICBhZGRPdXRsaW5lZEJ1dHRvbigKICAgICAgICBpbmNCdXR0b25JZCwKICAgICAgICBiYXNlWCArIGluY09mZnNldFgsCiAgICAgICAgYmFzZVksCiAgICAgICAgYnV0dG9uU2l6ZVgsCiAgICAgICAgYnV0dG9uU2l6ZVksCiAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgY29udGFpbmVyQmFzZSwKICAgICAgICBldmVudFBsYXllcgogICAgKTsKCiAgICBjb25zdCBJTkNfQk9SREVSID0gc2FmZUZpbmQoaW5jQnV0dG9uSWQgKyAiX0JPUkRFUiIpOwogICAgY29uc3QgUExVU19URVhUID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIHBsdXNUZXh0SWQsCiAgICAgICAgYnV0dG9uU2l6ZVgsCiAgICAgICAgYnV0dG9uU2l6ZVksCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnVpLnBsdXMpLAogICAgICAgIGV2ZW50UGxheWVyLAogICAgICAgIElOQ19CT1JERVIgPz8gY29udGFpbmVyQmFzZQogICAgKTsKICAgIGlmIChQTFVTX1RFWFQpIHsKICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShQTFVTX1RFWFQsIDEyKTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IoUExVU19URVhULCBBRE1JTl9QQU5FTF9CVVRUT05fVEVYVF9DT0xPUik7CiAgICB9Cn0KCmZ1bmN0aW9uIGFkZFRlc3RlclJvd1dpdGhWYWx1ZSgKICAgIGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLAogICAgY29udGFpbmVyQmFzZTogbW9kLlVJV2lkZ2V0LAogICAgcGxheWVySWQ6IG51bWJlciwKICAgIGJhc2VYOiBudW1iZXIsCiAgICBiYXNlWTogbnVtYmVyLAogICAgZGVjQnV0dG9uQmFzZUlkOiBzdHJpbmcsCiAgICBpbmNCdXR0b25CYXNlSWQ6IHN0cmluZywKICAgIGxhYmVsQmFzZUlkOiBzdHJpbmcsCiAgICB2YWx1ZUJhc2VJZDogc3RyaW5nLAogICAgbGFiZWxLZXk6IG51bWJlciwKICAgIGluaXRpYWxWYWx1ZTogbnVtYmVyLAogICAgYnV0dG9uU2l6ZVg6IG51bWJlciwKICAgIGJ1dHRvblNpemVZOiBudW1iZXIsCiAgICBsYWJlbFNpemVYOiBudW1iZXIsCiAgICB2YWx1ZVNpemVYOiBudW1iZXIsCiAgICBkZWNPZmZzZXRYOiBudW1iZXIsCiAgICBsYWJlbE9mZnNldFg6IG51bWJlciwKICAgIGluY09mZnNldFg6IG51bWJlcgopOiB2b2lkIHsKICAgIGFkZFRlc3RlclJvdyhldmVudFBsYXllciwgY29udGFpbmVyQmFzZSwgcGxheWVySWQsIGJhc2VYLCBiYXNlWSwKICAgICAgICBkZWNCdXR0b25CYXNlSWQsIGluY0J1dHRvbkJhc2VJZCwgbGFiZWxCYXNlSWQsIGxhYmVsS2V5LAogICAgICAgIGJ1dHRvblNpemVYLCBidXR0b25TaXplWSwgbGFiZWxTaXplWCwgZGVjT2Zmc2V0WCwgbGFiZWxPZmZzZXRYLCBpbmNPZmZzZXRYKTsKCiAgICBjb25zdCB2YWx1ZUlkID0gdmFsdWVCYXNlSWQgKyBwbGF5ZXJJZDsKICAgIGNvbnN0IHZhbHVlWCA9IGJhc2VYICsgaW5jT2Zmc2V0WCAtIC0zIC0gdmFsdWVTaXplWDsKCiAgICBtb2QuQWRkVUlUZXh0KHZhbHVlSWQsIG1vZC5DcmVhdGVWZWN0b3IodmFsdWVYLCBiYXNlWSArIDExLCAwKSwgbW9kLkNyZWF0ZVZlY3Rvcih2YWx1ZVNpemVYLCBidXR0b25TaXplWSAtIDIyLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuVG9wTGVmdCwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgTWF0aC5mbG9vcihpbml0aWFsVmFsdWUpKSwgZXZlbnRQbGF5ZXIpOwogICAgbW9kLlNldFVJVGV4dFNpemUobW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKHZhbHVlSWQsIG1vZC5HZXRVSVJvb3QoKSksIDEyKTsKICAgIGNvbnN0IFZBTFVFX1RFWFQgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodmFsdWVJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEoVkFMVUVfVEVYVCwgMCk7CiAgICBhcHBseUFkbWluUGFuZWxMYWJlbFRleHRDb2xvcihWQUxVRV9URVhUKTsKICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChWQUxVRV9URVhULCBjb250YWluZXJCYXNlKTsKfQoKZnVuY3Rpb24gc3luY1JvdW5kS2lsbHNUYXJnZXRUZXN0ZXJWYWx1ZUZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBnZXRPYmpJZChwKTsKICAgICAgICBjb25zdCB3aWRnZXQgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoVUlfVEVTVF9WQUxVRV9ST1VORF9LSUxMU19UQVJHRVRfSUQgKyBwaWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgaWYgKCF3aWRnZXQpIGNvbnRpbnVlOwogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh3aWRnZXQsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsIE1hdGguZmxvb3IoU3RhdGUucm91bmQua2lsbHNUYXJnZXQpKSk7CiAgICB9CiAgICB1cGRhdGVNYXRjaHVwUmVhZG91dHNGb3JBbGxQbGF5ZXJzKCk7Cn0KCmZ1bmN0aW9uIGFkZFRlc3RlclJlc2V0QnV0dG9uKAogICAgZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsCiAgICBjb250YWluZXJCYXNlOiBtb2QuVUlXaWRnZXQsCiAgICBwbGF5ZXJJZDogbnVtYmVyLAogICAgYmFzZVg6IG51bWJlciwKICAgIGJhc2VZOiBudW1iZXIsCiAgICB3aWR0aDogbnVtYmVyLAogICAgaGVpZ2h0OiBudW1iZXIKKTogdm9pZCB7CiAgICBjb25zdCBidXR0b25JZCA9IFVJX1RFU1RfQlVUVE9OX0NMT0NLX1JFU0VUX0lEICsgcGxheWVySWQ7CiAgICBjb25zdCBsYWJlbElkID0gVUlfVEVTVF9SRVNFVF9URVhUX0lEICsgcGxheWVySWQ7CgogICAgYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgYnV0dG9uSWQsCiAgICAgICAgYmFzZVgsCiAgICAgICAgYmFzZVksCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgIGNvbnRhaW5lckJhc2UsCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgY29uc3QgcmVzZXRQYXJlbnQgPSBzYWZlRmluZChidXR0b25JZCArICJfQk9SREVSIikgPz8gY29udGFpbmVyQmFzZTsKICAgIGNvbnN0IHJlc2V0TGFiZWwgPSBhZGRDZW50ZXJlZEJ1dHRvblRleHQoCiAgICAgICAgbGFiZWxJZCwKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLmFkbWluUGFuZWwudGVzdGVyLmJ1dHRvbnMuY2xvY2tSZXNldCksCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgcmVzZXRQYXJlbnQKICAgICk7CiAgICBpZiAocmVzZXRMYWJlbCkgewogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKHJlc2V0TGFiZWwsIDEyKTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IocmVzZXRMYWJlbCwgQURNSU5fUEFORUxfQlVUVE9OX1RFWFRfQ09MT1IpOwogICAgfQp9CgpmdW5jdGlvbiBhZGRUZXN0ZXJBY3Rpb25CdXR0b24oCiAgICBldmVudFBsYXllcjogbW9kLlBsYXllciwKICAgIGNvbnRhaW5lckJhc2U6IG1vZC5VSVdpZGdldCwKICAgIHBsYXllcklkOiBudW1iZXIsCiAgICBiYXNlWDogbnVtYmVyLAogICAgYmFzZVk6IG51bWJlciwKICAgIHdpZHRoOiBudW1iZXIsCiAgICBoZWlnaHQ6IG51bWJlciwKICAgIGJ1dHRvbkJhc2VJZDogc3RyaW5nLAogICAgbGFiZWxCYXNlSWQ6IHN0cmluZywKICAgIGxhYmVsS2V5OiBudW1iZXIKKTogdm9pZCB7CiAgICBjb25zdCBidXR0b25JZCA9IGJ1dHRvbkJhc2VJZCArIHBsYXllcklkOwogICAgY29uc3QgbGFiZWxJZCA9IGxhYmVsQmFzZUlkICsgcGxheWVySWQ7CgogICAgYWRkT3V0bGluZWRCdXR0b24oCiAgICAgICAgYnV0dG9uSWQsCiAgICAgICAgYmFzZVgsCiAgICAgICAgYmFzZVksCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgIGNvbnRhaW5lckJhc2UsCiAgICAgICAgZXZlbnRQbGF5ZXIKICAgICk7CgogICAgY29uc3QgYWN0aW9uUGFyZW50ID0gc2FmZUZpbmQoYnV0dG9uSWQgKyAiX0JPUkRFUiIpID8/IGNvbnRhaW5lckJhc2U7CiAgICBjb25zdCBhY3Rpb25MYWJlbCA9IGFkZENlbnRlcmVkQnV0dG9uVGV4dCgKICAgICAgICBsYWJlbElkLAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBtb2QuTWVzc2FnZShsYWJlbEtleSksCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgYWN0aW9uUGFyZW50CiAgICApOwogICAgaWYgKGFjdGlvbkxhYmVsKSB7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUoYWN0aW9uTGFiZWwsIDEyKTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IoYWN0aW9uTGFiZWwsIEFETUlOX1BBTkVMX0JVVFRPTl9URVhUX0NPTE9SKTsKICAgIH0KfQoKZnVuY3Rpb24gZW5zdXJlUG9zaXRpb25EZWJ1Z1dpZGdldHMocGxheWVyOiBtb2QuUGxheWVyKTogeyB4OiBtb2QuVUlXaWRnZXQ7IHk6IG1vZC5VSVdpZGdldDsgejogbW9kLlVJV2lkZ2V0OyByb3RZOiBtb2QuVUlXaWRnZXQgfSB8IHVuZGVmaW5lZCB7CiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKICAgIGNvbnN0IGNvbnRhaW5lcklkID0gVUlfUE9TX0RFQlVHX0NPTlRBSU5FUl9JRCArIHBpZDsKICAgIGNvbnN0IHhJZCA9IFVJX1BPU19ERUJVR19YX0lEICsgcGlkOwogICAgY29uc3QgeUlkID0gVUlfUE9TX0RFQlVHX1lfSUQgKyBwaWQ7CiAgICBjb25zdCB6SWQgPSBVSV9QT1NfREVCVUdfWl9JRCArIHBpZDsKICAgIGNvbnN0IHJvdFlJZCA9IFVJX1BPU19ERUJVR19ST1RZX0lEICsgcGlkOwoKICAgIGxldCBjb250YWluZXIgPSBzYWZlRmluZChjb250YWluZXJJZCk7CiAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICAgIG1vZC5BZGRVSUNvbnRhaW5lcigKICAgICAgICAgICAgY29udGFpbmVySWQsCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMzAwLCAxNywgMCksIC8vICtYIHRvIG1vdmUgbGVmdCwgK1kgdG8gbW92ZSBkb3duCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMjAwLCAxOCwgMCksCiAgICAgICAgICAgIG1vZC5VSUFuY2hvci5Ub3BSaWdodCwKICAgICAgICAgICAgbW9kLkdldFVJUm9vdCgpLAogICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgICAgICBwbGF5ZXIKICAgICAgICApOwogICAgICAgIGNvbnRhaW5lciA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZShjb250YWluZXJJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIH0KICAgIGlmIChjb250YWluZXIpIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGNvbnRhaW5lciwgdHJ1ZSk7CiAgICB9CgogICAgY29uc3QgbWFrZVRleHQgPSAoaWQ6IHN0cmluZywgcG9zWDogbnVtYmVyKSA9PiB7CiAgICAgICAgbW9kLkFkZFVJVGV4dCgKICAgICAgICAgICAgaWQsCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IocG9zWCwgMCwgMCksCiAgICAgICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoODAsIDE4LCAwKSwKICAgICAgICAgICAgbW9kLlVJQW5jaG9yLlRvcExlZnQsCiAgICAgICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsIDApLAogICAgICAgICAgICBwbGF5ZXIKICAgICAgICApOwogICAgICAgIGNvbnN0IHcgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUoaWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0QmdBbHBoYSh3LCAwKTsKICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZSh3LCAxMCk7CiAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKHcsIG1vZC5DcmVhdGVWZWN0b3IoMSwgMSwgMSkpOwogICAgICAgIGlmIChjb250YWluZXIpIG1vZC5TZXRVSVdpZGdldFBhcmVudCh3LCBjb250YWluZXIpOwogICAgICAgIHJldHVybiB3OwogICAgfTsKCiAgICAvLyAwLCA1MCwgOTAsIDE0MCBhcmUgc3BhY2luZyB2YWx1ZXMgZm9yIHRoZSA0IHRleHQgd2lkZ2V0cwogICAgbGV0IHggPSBzYWZlRmluZCh4SWQpOwogICAgaWYgKCF4KSB4ID0gbWFrZVRleHQoeElkLCAwKTsKICAgIGxldCB5ID0gc2FmZUZpbmQoeUlkKTsKICAgIGlmICgheSkgeSA9IG1ha2VUZXh0KHlJZCwgNTApOwogICAgbGV0IHogPSBzYWZlRmluZCh6SWQpOwogICAgaWYgKCF6KSB6ID0gbWFrZVRleHQoeklkLCA5MCk7CiAgICBsZXQgcm90WSA9IHNhZmVGaW5kKHJvdFlJZCk7CiAgICBpZiAoIXJvdFkpIHJvdFkgPSBtYWtlVGV4dChyb3RZSWQsIDE0MCk7CgogICAgaWYgKCF4IHx8ICF5IHx8ICF6IHx8ICFyb3RZKSByZXR1cm4gdW5kZWZpbmVkOwogICAgcmV0dXJuIHsgeCwgeSwgeiwgcm90WSB9Owp9Cgphc3luYyBmdW5jdGlvbiBwb3NpdGlvbkRlYnVnTG9vcChwbGF5ZXI6IG1vZC5QbGF5ZXIsIGV4cGVjdGVkVG9rZW46IG51bWJlcik6IFByb21pc2U8dm9pZD4gewogICAgY29uc3QgcGlkID0gbW9kLkdldE9iaklkKHBsYXllcik7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgIGNvbnN0IHN0YXRlID0gU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwaWRdOwogICAgICAgIGlmICghc3RhdGUgfHwgIXN0YXRlLnBvc0RlYnVnVmlzaWJsZSB8fCBzdGF0ZS5wb3NEZWJ1Z1Rva2VuICE9PSBleHBlY3RlZFRva2VuKSByZXR1cm47CiAgICAgICAgaWYgKCFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm47CiAgICAgICAgaWYgKCFpc1BsYXllckRlcGxveWVkKHBsYXllcikpIHJldHVybjsKCiAgICAgICAgY29uc3Qgd2lkZ2V0cyA9IGVuc3VyZVBvc2l0aW9uRGVidWdXaWRnZXRzKHBsYXllcik7CiAgICAgICAgaWYgKCF3aWRnZXRzKSByZXR1cm47CgogICAgICAgIGNvbnN0IHBvcyA9IHNhZmVHZXRTb2xkaWVyU3RhdGVWZWN0b3IocGxheWVyLCBtb2QuU29sZGllclN0YXRlVmVjdG9yLkdldFBvc2l0aW9uKTsKICAgICAgICBjb25zdCBmYWNpbmcgPSBzYWZlR2V0U29sZGllclN0YXRlVmVjdG9yKHBsYXllciwgbW9kLlNvbGRpZXJTdGF0ZVZlY3Rvci5HZXRGYWNpbmdEaXJlY3Rpb24pOwogICAgICAgIGlmICghcG9zIHx8ICFmYWNpbmcpIHJldHVybjsKCiAgICAgICAgY29uc3Qgcm91bmRUbzMgPSAodmFsdWU6IG51bWJlcikgPT4gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMDApIC8gMTAwMDsKICAgICAgICBjb25zdCB5YXdSYWQgPSBNYXRoLmF0YW4yKG1vZC5YQ29tcG9uZW50T2YoZmFjaW5nKSwgbW9kLlpDb21wb25lbnRPZihmYWNpbmcpKTsKICAgICAgICBjb25zdCB5YXdEZWcgPSAoeWF3UmFkICogMTgwKSAvIE1hdGguUEk7CgogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh3aWRnZXRzLngsIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsIHJvdW5kVG8zKG1vZC5YQ29tcG9uZW50T2YocG9zKSkpKTsKICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwod2lkZ2V0cy55LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLmdlbmVyaWNDb3VudGVyLCByb3VuZFRvMyhtb2QuWUNvbXBvbmVudE9mKHBvcykpKSk7CiAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKHdpZGdldHMueiwgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnN5c3RlbS5nZW5lcmljQ291bnRlciwgcm91bmRUbzMobW9kLlpDb21wb25lbnRPZihwb3MpKSkpOwogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh3aWRnZXRzLnJvdFksIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsIHJvdW5kVG8zKHlhd0RlZykpKTsKCiAgICAgICAgYXdhaXQgbW9kLldhaXQoMi4wKTsKICAgIH0KfQoKZnVuY3Rpb24gc2V0UG9zaXRpb25EZWJ1Z1Zpc2libGVGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyLCB2aXNpYmxlOiBib29sZWFuKTogdm9pZCB7CiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKICAgIGNvbnN0IHN0YXRlID0gU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwaWRdOwogICAgaWYgKCFzdGF0ZSkgcmV0dXJuOwoKICAgIGNvbnN0IHdpZGdldHMgPSBlbnN1cmVQb3NpdGlvbkRlYnVnV2lkZ2V0cyhwbGF5ZXIpOwogICAgaWYgKCF3aWRnZXRzKSByZXR1cm47CgogICAgY29uc3QgY29udGFpbmVyID0gc2FmZUZpbmQoVUlfUE9TX0RFQlVHX0NPTlRBSU5FUl9JRCArIHBpZCk7CiAgICBpZiAoY29udGFpbmVyKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKGNvbnRhaW5lciwgdmlzaWJsZSk7CgogICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3aWRnZXRzLngsIHZpc2libGUpOwogICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3aWRnZXRzLnksIHZpc2libGUpOwogICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3aWRnZXRzLnosIHZpc2libGUpOwogICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3aWRnZXRzLnJvdFksIHZpc2libGUpOwoKICAgIHN0YXRlLnBvc0RlYnVnVG9rZW4gPSAoc3RhdGUucG9zRGVidWdUb2tlbiArIDEpICUgMTAwMDAwMDAwMDsKICAgIGlmICh2aXNpYmxlKSB7CiAgICAgICAgdm9pZCBwb3NpdGlvbkRlYnVnTG9vcChwbGF5ZXIsIHN0YXRlLnBvc0RlYnVnVG9rZW4pOwogICAgfQp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gQWRtaW4gUGFuZWwgVUkgYnVpbGRlciBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgKFJvc3RlciBVSSkgLSAgKGxheW91dCArIHBvcHVsYXRpb24gb25seSkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIEJ1aWxkcyB0aGUgZW50aXJlIFRlYW0gU3dpdGNoICsgQWRtaW4gUGFuZWwgZGlhbG9nLgovLyBSZXNwb25zaWJpbGl0aWVzOgovLyAtIENyZWF0ZXMgbGVmdCB0ZWFtLCByaWdodCB0ZWFtLCBhbmQgYWRtaW4gcGFuZWwgVUkgc2VjdGlvbnMKLy8gLSBEZWZpbmVzIGxheW91dCBjb25zdGFudHMgYW5kIHJvdyBtYXRoIGZvciB0aGUgYWRtaW4gcGFuZWwKLy8gLSBXaXJlcyBhbGwgYWRtaW4gYnV0dG9ucyB0byBhdXRob3JpdGF0aXZlIG1hdGNoIHN0YXRlIG11dGF0aW9ucwovLyAtIEVuc3VyZXMgcGVyLXBsYXllciBVSSByb290cyBhcmUgY3JlYXRlZCBvbmNlIGFuZCByZXVzZWQKCi8vIFBvcHVsYXRlcyB0aGUgcm9zdGVyIFVJIGZvciB0aGUgZ2l2ZW4gdmlld2VyLiAKLy8gLSBSZWFsIGFjdGl2ZSBwbGF5ZXIgbGlzdHMgKyB0ZWFtIGFzc2lnbm1lbnQKLy8gLSBEZWZhdWx0IHN0YXR1cyB2YWx1ZXMgKE5PVCBSRUFEWSAvIElOIE1BSU4gQkFTRSkgZm9yIGFsbCByb3dzCi8vIExhdGVyIHBoYXNlcyB3aWxsIHJlcGxhY2UgZGVmYXVsdHMgd2l0aCBhdXRob3JpdGF0aXZlIHBlci1wbGF5ZXIgc3RhdGUgKyBnYXRpbmcgKyByb3VuZCBpbnRlZ3JhdGlvbi4KCi8vIEFwcGxpZXMgcGVyLXJvdyBjb2xvciBwb2xpY3kgZm9yIHRoZSBSZWFkeSBkaWFsb2c6Ci8vIC0gUGxheWVyIG5hbWU6IHdoaXRlIGJ5IGRlZmF1bHQ7IGdyZWVuIG9ubHkgd2hlbiBCT1RIIHJlYWR5IEFORCBpbiBtYWluIGJhc2UuCi8vIC0gUkVBRFkgLyBJTiBNQUlOIEJBU0U6IGdyZWVuCi8vIC0gTk9UIFJFQURZIC8gTk9UIElOIE1BSU4gQkFTRTogcmVkCmZ1bmN0aW9uIGFwcGx5UmVhZHlEaWFsb2dSb3dDb2xvcnMobmFtZVdpZGdldDogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkLCByZWFkeVdpZGdldDogbW9kLlVJV2lkZ2V0IHwgdW5kZWZpbmVkLCBiYXNlV2lkZ2V0OiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQsIGlzUmVhZHk6IGJvb2xlYW4sIGlzSW5CYXNlOiBib29sZWFuKTogdm9pZCB7CiAgICBpZiAocmVhZHlXaWRnZXQpIG1vZC5TZXRVSVRleHRDb2xvcihyZWFkeVdpZGdldCwgaXNSZWFkeSA/IENPTE9SX1JFQURZX0dSRUVOIDogQ09MT1JfTk9UX1JFQURZX1JFRCk7CiAgICBpZiAoYmFzZVdpZGdldCkgbW9kLlNldFVJVGV4dENvbG9yKGJhc2VXaWRnZXQsIGlzSW5CYXNlID8gQ09MT1JfUkVBRFlfR1JFRU4gOiBDT0xPUl9OT1RfUkVBRFlfUkVEKTsKICAgIGlmIChuYW1lV2lkZ2V0KSBtb2QuU2V0VUlUZXh0Q29sb3IobmFtZVdpZGdldCwgKGlzUmVhZHkgJiYgaXNJbkJhc2UpID8gQ09MT1JfUkVBRFlfR1JFRU4gOiBDT0xPUl9OT1JNQUwpOwp9CgovLyBSZW5kZXJzIHRoZSBlbnRpcmUgUmVhZHkgVXAgZGlhbG9nIHN0YXRlIGZvciBhIHNpbmdsZSB2aWV3ZXIuCi8vIENlbnRyYWxpemluZyBVSSB1cGRhdGVzIHJlZHVjZXMgcmVmcmVzaCByZWdyZXNzaW9ucyBhcyB0aGUgZGlhbG9nIGdyb3dzIGluIGNvbXBsZXhpdHkuCmZ1bmN0aW9uIHJlbmRlclJlYWR5RGlhbG9nRm9yVmlld2VyKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLCB2aWV3ZXJQaWQ6IG51bWJlcik6IHZvaWQgewogICAgcmVmcmVzaFJlYWR5RGlhbG9nUm9zdGVyRm9yVmlld2VyKGV2ZW50UGxheWVyLCB2aWV3ZXJQaWQpOwogICAgdXBkYXRlUmVhZHlUb2dnbGVCdXR0b25Gb3JWaWV3ZXIoZXZlbnRQbGF5ZXIsIHZpZXdlclBpZCk7Cgp9CgovLyBSZW5kZXJzIHRoZSBkaWFsb2cgZm9yIGFsbCBwbGF5ZXJzIHdobyBjdXJyZW50bHkgaGF2ZSBpdCBvcGVuLgovLyBDb2RlIENsZWFudXA6IE92ZXJsYXBzIHdpdGggcmVmcmVzaFJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnM7IGNvbnNpZGVyIGNvbnNvbGlkYXRpbmcgdG8gb25lIGVudHJ5cG9pbnQuCi8qKgogKiBCcm9hZGNhc3Qtc3R5bGUgcmVmcmVzaCBmb3IgdGhlIHJlYWR5IGRpYWxvZy4KICogQ2FsbCB3aGVuZXZlciByb3N0ZXIgbWVtYmVyc2hpcCBvciBwZXItcGxheWVyIGRpc3BsYXkgc3RhdGUgY2hhbmdlcyAocmVhZHkgLyBpbi1tYWluLWJhc2UgLyB0ZWFtKS4KICovCmZ1bmN0aW9uIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTogdm9pZCB7CiAgICBmb3IgKGNvbnN0IHBpZFN0ciBpbiBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhKSB7CiAgICAgICAgY29uc3QgcGlkID0gTnVtYmVyKHBpZFN0cik7CiAgICAgICAgY29uc3Qgc3RhdGUgPSBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BpZF07CiAgICAgICAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUuZGlhbG9nVmlzaWJsZSkgY29udGludWU7CiAgICAgICAgY29uc3Qgdmlld2VyID0gc2FmZUZpbmRQbGF5ZXIocGlkKTsKICAgICAgICBpZiAoIXZpZXdlcikgY29udGludWU7CiAgICAgICAgcmVuZGVyUmVhZHlEaWFsb2dGb3JWaWV3ZXIodmlld2VyLCBwaWQpOwogICAgfQp9CgpmdW5jdGlvbiByZWZyZXNoUmVhZHlEaWFsb2dSb3N0ZXJGb3JWaWV3ZXIodmlld2VyOiBtb2QuUGxheWVyLCB2aWV3ZXJQbGF5ZXJJZDogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCByb3N0ZXIgPSBnZXRSb3N0ZXJEaXNwbGF5RW50cmllcygpOwogICAgY29uc3QgdDFQbGF5ZXJzID0gcm9zdGVyLnRlYW0xOwogICAgY29uc3QgdDJQbGF5ZXJzID0gcm9zdGVyLnRlYW0yOwoKICAgIGNvbnN0IG1heFJvd3NQZXJUZWFtID0gVEVBTV9ST1NURVJfTUFYX1JPV1M7CiAgICBjb25zdCBlbXB0eU1zZyA9IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsICIiKTsKICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IG1heFJvd3NQZXJUZWFtOyByb3crKykgewogICAgICAgIGNvbnN0IHQxTmFtZUlkID0gVUlfUkVBRFlfRElBTE9HX1QxX1JPV19OQU1FX0lEICsgdmlld2VyUGxheWVySWQgKyAiXyIgKyByb3c7CiAgICAgICAgY29uc3QgdDFSZWFkeUlkID0gVUlfUkVBRFlfRElBTE9HX1QxX1JPV19SRUFEWV9JRCArIHZpZXdlclBsYXllcklkICsgIl8iICsgcm93OwogICAgICAgIGNvbnN0IHQxQmFzZUlkID0gVUlfUkVBRFlfRElBTE9HX1QxX1JPV19CQVNFX0lEICsgdmlld2VyUGxheWVySWQgKyAiXyIgKyByb3c7CgogICAgICAgIGNvbnN0IHQyTmFtZUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19OQU1FX0lEICsgdmlld2VyUGxheWVySWQgKyAiXyIgKyByb3c7CiAgICAgICAgY29uc3QgdDJSZWFkeUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19SRUFEWV9JRCArIHZpZXdlclBsYXllcklkICsgIl8iICsgcm93OwogICAgICAgIGNvbnN0IHQyQmFzZUlkID0gVUlfUkVBRFlfRElBTE9HX1QyX1JPV19CQVNFX0lEICsgdmlld2VyUGxheWVySWQgKyAiXyIgKyByb3c7CgogICAgICAgIGNvbnN0IHQxTmFtZSA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZSh0MU5hbWVJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgICAgICBjb25zdCB0MVJlYWR5ID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKHQxUmVhZHlJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgICAgICBjb25zdCB0MUJhc2UgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodDFCYXNlSWQsIG1vZC5HZXRVSVJvb3QoKSk7CgogICAgICAgIGNvbnN0IHQyTmFtZSA9IG1vZC5GaW5kVUlXaWRnZXRXaXRoTmFtZSh0Mk5hbWVJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgICAgICBjb25zdCB0MlJlYWR5ID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKHQyUmVhZHlJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgICAgICBjb25zdCB0MkJhc2UgPSBtb2QuRmluZFVJV2lkZ2V0V2l0aE5hbWUodDJCYXNlSWQsIG1vZC5HZXRVSVJvb3QoKSk7CgogICAgICAgIGNvbnN0IHQxRW50cnkgPSAocm93IDwgdDFQbGF5ZXJzLmxlbmd0aCkgPyB0MVBsYXllcnNbcm93XSA6IHVuZGVmaW5lZDsKICAgICAgICBjb25zdCB0MkVudHJ5ID0gKHJvdyA8IHQyUGxheWVycy5sZW5ndGgpID8gdDJQbGF5ZXJzW3Jvd10gOiB1bmRlZmluZWQ7CiAgICAgICAgY29uc3QgcDEgPSB0MUVudHJ5Py5wbGF5ZXI7CiAgICAgICAgY29uc3QgcDIgPSB0MkVudHJ5Py5wbGF5ZXI7CgogICAgICAgIC8vIEhpZGUgdW51c2VkIHBsYWNlaG9sZGVyIHJvd3MgKHByZXZlbnRzICd1bmtub3duIHN0cmluZycgYXJ0aWZhY3RzIGFuZCByZWR1Y2VzIHZpc3VhbCBub2lzZSkuCiAgICAgICAgY29uc3QgaGFzUDEgPSAhIXQxRW50cnk7CiAgICAgICAgY29uc3QgaGFzUDIgPSAhIXQyRW50cnk7CiAgICAgICAgaWYgKHQxTmFtZSkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0MU5hbWUsIGhhc1AxKTsKICAgICAgICBpZiAodDFSZWFkeSkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0MVJlYWR5LCBoYXNQMSk7CiAgICAgICAgaWYgKHQxQmFzZSkgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0MUJhc2UsIGhhc1AxKTsKICAgICAgICBpZiAodDJOYW1lKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHQyTmFtZSwgaGFzUDIpOwogICAgICAgIGlmICh0MlJlYWR5KSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHQyUmVhZHksIGhhc1AyKTsKICAgICAgICBpZiAodDJCYXNlKSBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHQyQmFzZSwgaGFzUDIpOwoKICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwodDFOYW1lLCBoYXNQMSA/IGdldFJvc3RlckVudHJ5TmFtZU1lc3NhZ2UodDFFbnRyeSkgOiBlbXB0eU1zZyk7CiAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKAogICAgICAgICAgICB0MVJlYWR5LAogICAgICAgICAgICBoYXNQMQogICAgICAgICAgICAgICAgPyAocDEKICAgICAgICAgICAgICAgICAgICA/IChTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbbW9kLkdldE9iaklkKHAxKV0gPyBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuc3RhdHVzLnJlYWR5KSA6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5zdGF0dXMubm90UmVhZHkpKQogICAgICAgICAgICAgICAgICAgIDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLnN0YXR1cy5ub3RSZWFkeSkpCiAgICAgICAgICAgICAgICA6IGVtcHR5TXNnCiAgICAgICAgKTsKICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgIHQxQmFzZSwKICAgICAgICAgICAgaGFzUDEKICAgICAgICAgICAgICAgID8gKHAxCiAgICAgICAgICAgICAgICAgICAgPyAoKFN0YXRlLnBsYXllcnMuaW5NYWluQmFzZUJ5UGlkW21vZC5HZXRPYmpJZChwMSldICE9PSB1bmRlZmluZWQgPyBTdGF0ZS5wbGF5ZXJzLmluTWFpbkJhc2VCeVBpZFttb2QuR2V0T2JqSWQocDEpXSA6IHRydWUpID8gbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJhc2VTdGF0dXMuaW4pIDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJhc2VTdGF0dXMub3V0KSkKICAgICAgICAgICAgICAgICAgICA6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5iYXNlU3RhdHVzLm91dCkpCiAgICAgICAgICAgICAgICA6IGVtcHR5TXNnCiAgICAgICAgKTsKICAgICAgICBpZiAocDEpIHsKICAgICAgICAgICAgY29uc3QgcDFJZCA9IG1vZC5HZXRPYmpJZChwMSk7CiAgICAgICAgICAgIGNvbnN0IHAxUmVhZHkgPSAhIVN0YXRlLnBsYXllcnMucmVhZHlCeVBpZFtwMUlkXTsKICAgICAgICAgICAgY29uc3QgcDFJbkJhc2UgPSAhIVN0YXRlLnBsYXllcnMuaW5NYWluQmFzZUJ5UGlkW3AxSWRdOwogICAgICAgICAgICBhcHBseVJlYWR5RGlhbG9nUm93Q29sb3JzKHQxTmFtZSwgdDFSZWFkeSwgdDFCYXNlLCBwMVJlYWR5LCBwMUluQmFzZSk7CiAgICAgICAgfSBlbHNlIGlmIChoYXNQMSkgewogICAgICAgICAgICBhcHBseVJlYWR5RGlhbG9nUm93Q29sb3JzKHQxTmFtZSwgdDFSZWFkeSwgdDFCYXNlLCBmYWxzZSwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIEVtcHR5IHJvdzogZGVmYXVsdCB0byB3aGl0ZSBmb3IgYW55IHBsYWNlaG9sZGVyIHRleHQuCiAgICAgICAgICAgIGlmICh0MU5hbWUpIG1vZC5TZXRVSVRleHRDb2xvcih0MU5hbWUsIENPTE9SX05PUk1BTCk7CiAgICAgICAgICAgIGlmICh0MVJlYWR5KSBtb2QuU2V0VUlUZXh0Q29sb3IodDFSZWFkeSwgQ09MT1JfTk9STUFMKTsKICAgICAgICAgICAgaWYgKHQxQmFzZSkgbW9kLlNldFVJVGV4dENvbG9yKHQxQmFzZSwgQ09MT1JfTk9STUFMKTsKICAgICAgICB9CgogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh0Mk5hbWUsIGhhc1AyID8gZ2V0Um9zdGVyRW50cnlOYW1lTWVzc2FnZSh0MkVudHJ5KSA6IGVtcHR5TXNnKTsKICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgIHQyUmVhZHksCiAgICAgICAgICAgIGhhc1AyCiAgICAgICAgICAgICAgICA/IChwMgogICAgICAgICAgICAgICAgICAgID8gKFN0YXRlLnBsYXllcnMucmVhZHlCeVBpZFttb2QuR2V0T2JqSWQocDIpXSA/IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5zdGF0dXMucmVhZHkpIDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLnN0YXR1cy5ub3RSZWFkeSkpCiAgICAgICAgICAgICAgICAgICAgOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuc3RhdHVzLm5vdFJlYWR5KSkKICAgICAgICAgICAgICAgIDogZW1wdHlNc2cKICAgICAgICApOwogICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCgKICAgICAgICAgICAgdDJCYXNlLAogICAgICAgICAgICBoYXNQMgogICAgICAgICAgICAgICAgPyAocDIKICAgICAgICAgICAgICAgICAgICA/ICgoU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbbW9kLkdldE9iaklkKHAyKV0gIT09IHVuZGVmaW5lZCA/IFN0YXRlLnBsYXllcnMuaW5NYWluQmFzZUJ5UGlkW21vZC5HZXRPYmpJZChwMildIDogdHJ1ZSkgPyBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYmFzZVN0YXR1cy5pbikgOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYmFzZVN0YXR1cy5vdXQpKQogICAgICAgICAgICAgICAgICAgIDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJhc2VTdGF0dXMub3V0KSkKICAgICAgICAgICAgICAgIDogZW1wdHlNc2cKICAgICAgICApOwogICAgICAgIGlmIChwMikgewogICAgICAgICAgICBjb25zdCBwMklkID0gbW9kLkdldE9iaklkKHAyKTsKICAgICAgICAgICAgY29uc3QgcDJSZWFkeSA9ICEhU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3AySWRdOwogICAgICAgICAgICBjb25zdCBwMkluQmFzZSA9ICEhU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbcDJJZF07CiAgICAgICAgICAgIGFwcGx5UmVhZHlEaWFsb2dSb3dDb2xvcnModDJOYW1lLCB0MlJlYWR5LCB0MkJhc2UsIHAyUmVhZHksIHAySW5CYXNlKTsKICAgICAgICB9IGVsc2UgaWYgKGhhc1AyKSB7CiAgICAgICAgICAgIGFwcGx5UmVhZHlEaWFsb2dSb3dDb2xvcnModDJOYW1lLCB0MlJlYWR5LCB0MkJhc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHQyTmFtZSkgbW9kLlNldFVJVGV4dENvbG9yKHQyTmFtZSwgQ09MT1JfTk9STUFMKTsKICAgICAgICAgICAgaWYgKHQyUmVhZHkpIG1vZC5TZXRVSVRleHRDb2xvcih0MlJlYWR5LCBDT0xPUl9OT1JNQUwpOwogICAgICAgICAgICBpZiAodDJCYXNlKSBtb2QuU2V0VUlUZXh0Q29sb3IodDJCYXNlLCBDT0xPUl9OT1JNQUwpOwogICAgICAgIH0KICAgIH0KfQoKLy8gVXBkYXRlcyB0aGUgUmVhZHkgdG9nZ2xlIGJ1dHRvbiBsYWJlbCBmb3IgdGhlIGdpdmVuIHZpZXdlciBiYXNlZCBvbiB0aGF0IHZpZXdlcidzIGN1cnJlbnQgcmVhZHkgc3RhdGUuCmZ1bmN0aW9uIHVwZGF0ZVJlYWR5VG9nZ2xlQnV0dG9uRm9yVmlld2VyKHZpZXdlcjogbW9kLlBsYXllciwgdmlld2VyUGxheWVySWQ6IG51bWJlcik6IHZvaWQgewogICAgY29uc3QgYnRuTGFiZWxJZCA9IFVJX1JFQURZX0RJQUxPR19CVVRUT05fUkVBRFlfTEFCRUxfSUQgKyB2aWV3ZXJQbGF5ZXJJZDsKICAgIGNvbnN0IGxhYmVsV2lkZ2V0ID0gbW9kLkZpbmRVSVdpZGdldFdpdGhOYW1lKGJ0bkxhYmVsSWQsIG1vZC5HZXRVSVJvb3QoKSk7CiAgICBpZiAoIWxhYmVsV2lkZ2V0KSByZXR1cm47CgogICAgY29uc3QgaXNSZWFkeSA9ICEhU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3ZpZXdlclBsYXllcklkXTsKICAgIGNvbnN0IGxhYmVsTXNnID0gaXNSZWFkeQogICAgICAgID8gbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLmJ1dHRvbnMubm90UmVhZHkpCiAgICAgICAgOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYnV0dG9ucy5yZWFkeSk7CgogICAgbW9kLlNldFVJVGV4dExhYmVsKGxhYmVsV2lkZ2V0LCBsYWJlbE1zZyk7Cn0KCi8vIFVwZGF0ZXMgdGhlIFJlYWR5IFVwIGRpYWxvZyAiQmVzdCBvZiB7MH0gUm91bmRzIiBsYWJlbCBmb3IgYSBzaW5nbGUgdmlld2VyLgpmdW5jdGlvbiB1cGRhdGVCZXN0T2ZSb3VuZHNMYWJlbEZvclBpZChwaWQ6IG51bWJlcik6IHZvaWQgewogICAgY29uc3QgbGFiZWxJZCA9IFVJX1JFQURZX0RJQUxPR19CRVNUT0ZfTEFCRUxfSUQgKyBwaWQ7CiAgICBjb25zdCBsYWJlbFdpZGdldCA9IHNhZmVGaW5kKGxhYmVsSWQpOwogICAgaWYgKCFsYWJlbFdpZGdldCkgcmV0dXJuOwogICAgbW9kLlNldFVJVGV4dExhYmVsKGxhYmVsV2lkZ2V0LCBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wucmVhZHlEaWFsb2cuYmVzdE9mTGFiZWwsIE1hdGguZmxvb3IoU3RhdGUucm91bmQubWF4KSkpOwp9CgpmdW5jdGlvbiB1cGRhdGVCZXN0T2ZSb3VuZHNMYWJlbEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIHVwZGF0ZUJlc3RPZlJvdW5kc0xhYmVsRm9yUGlkKG1vZC5HZXRPYmpJZChwKSk7CiAgICB9Cn0KCmZ1bmN0aW9uIHVwZGF0ZVJlYWR5RGlhbG9nTWFwTGFiZWxGb3JQaWQocGlkOiBudW1iZXIpOiB2b2lkIHsKICAgIGNvbnN0IHZhbHVlSWQgPSBVSV9SRUFEWV9ESUFMT0dfTUFQX1ZBTFVFX0lEICsgcGlkOwogICAgY29uc3QgdmFsdWVXaWRnZXQgPSBzYWZlRmluZCh2YWx1ZUlkKTsKICAgIGlmICghdmFsdWVXaWRnZXQpIHJldHVybjsKICAgIG1vZC5TZXRVSVRleHRMYWJlbCh2YWx1ZVdpZGdldCwgbW9kLk1lc3NhZ2UoZ2V0TWFwTmFtZUtleShBQ1RJVkVfTUFQX0tFWSkpKTsKfQoKZnVuY3Rpb24gdXBkYXRlUmVhZHlEaWFsb2dNYXBMYWJlbEZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIHVwZGF0ZVJlYWR5RGlhbG9nTWFwTGFiZWxGb3JQaWQobW9kLkdldE9iaklkKHApKTsKICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlVGVhbU5hbWVXaWRnZXRzRm9yUGlkKHBpZDogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCB0MU5hbWVLZXkgPSBnZXRUZWFtTmFtZUtleShUZWFtSUQuVGVhbTEpOwogICAgY29uc3QgdDJOYW1lS2V5ID0gZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0yKTsKCiAgICBjb25zdCBodWRUMSA9IHNhZmVGaW5kKGBUZWFtTGVmdF9OYW1lXyR7cGlkfWApOwogICAgY29uc3QgaHVkVDIgPSBzYWZlRmluZChgVGVhbVJpZ2h0X05hbWVfJHtwaWR9YCk7CiAgICBpZiAoaHVkVDEpIG1vZC5TZXRVSVRleHRMYWJlbChodWRUMSwgbW9kLk1lc3NhZ2UodDFOYW1lS2V5KSk7CiAgICBpZiAoaHVkVDIpIG1vZC5TZXRVSVRleHRMYWJlbChodWRUMiwgbW9kLk1lc3NhZ2UodDJOYW1lS2V5KSk7CgogICAgY29uc3QgcmVhZHlUMSA9IHNhZmVGaW5kKFVJX1JFQURZX0RJQUxPR19URUFNMV9MQUJFTF9JRCArIHBpZCk7CiAgICBjb25zdCByZWFkeVQyID0gc2FmZUZpbmQoVUlfUkVBRFlfRElBTE9HX1RFQU0yX0xBQkVMX0lEICsgcGlkKTsKICAgIGlmIChyZWFkeVQxKSBtb2QuU2V0VUlUZXh0TGFiZWwocmVhZHlUMSwgbW9kLk1lc3NhZ2UodDFOYW1lS2V5KSk7CiAgICBpZiAocmVhZHlUMikgbW9kLlNldFVJVGV4dExhYmVsKHJlYWR5VDIsIG1vZC5NZXNzYWdlKHQyTmFtZUtleSkpOwp9CgpmdW5jdGlvbiB1cGRhdGVUZWFtTmFtZVdpZGdldHNGb3JBbGxQbGF5ZXJzKCk6IHZvaWQgewogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICB1cGRhdGVUZWFtTmFtZVdpZGdldHNGb3JQaWQobW9kLkdldE9iaklkKHApKTsKICAgIH0KfQoKZnVuY3Rpb24gdXBkYXRlTWF0Y2h1cExhYmVsRm9yUGlkKHBpZDogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCBsYWJlbElkID0gVUlfUkVBRFlfRElBTE9HX01BVENIVVBfTEFCRUxfSUQgKyBwaWQ7CiAgICBjb25zdCBsYWJlbFdpZGdldCA9IHNhZmVGaW5kKGxhYmVsSWQpOwogICAgaWYgKCFsYWJlbFdpZGdldCkgcmV0dXJuOwogICAgY29uc3QgcHJlc2V0ID0gTUFUQ0hVUF9QUkVTRVRTW1N0YXRlLnJvdW5kLm1hdGNodXBQcmVzZXRJbmRleF07CiAgICBtb2QuU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgbGFiZWxXaWRnZXQsCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLm1hdGNodXBGb3JtYXQsIHByZXNldC5sZWZ0UGxheWVycywgcHJlc2V0LnJpZ2h0UGxheWVycykKICAgICk7Cn0KCi8vIFJlZnJlc2hlcyB0aGUgbWF0Y2h1cCBsYWJlbCAoZS5nLiwgIjEgdnMgMSIpIGZvciBldmVyeSBhY3RpdmUgcGxheWVyIEhVRC4KZnVuY3Rpb24gdXBkYXRlTWF0Y2h1cExhYmVsRm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgdXBkYXRlTWF0Y2h1cExhYmVsRm9yUGlkKG1vZC5HZXRPYmpJZChwKSk7CiAgICB9Cn0KCi8vIFVwZGF0ZXMgcGVyLXBsYXllciBSZWFkeSBkaWFsb2cgcmVhZG91dHMgKG1pbiBwbGF5ZXJzICsgdGFyZ2V0IGtpbGxzKSBmb3IgYSBzaW5nbGUgcGlkLgpmdW5jdGlvbiB1cGRhdGVNYXRjaHVwUmVhZG91dHNGb3JQaWQocGlkOiBudW1iZXIpOiB2b2lkIHsKICAgIGNvbnN0IG1pblBsYXllcnNXaWRnZXQgPSBzYWZlRmluZChVSV9SRUFEWV9ESUFMT0dfTUFUQ0hVUF9NSU5QTEFZRVJTX0lEICsgcGlkKTsKICAgIGNvbnN0IGtpbGxzVGFyZ2V0V2lkZ2V0ID0gc2FmZUZpbmQoVUlfUkVBRFlfRElBTE9HX01BVENIVVBfS0lMTFNUQVJHRVRfSUQgKyBwaWQpOwogICAgaWYgKG1pblBsYXllcnNXaWRnZXQpIHsKICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoCiAgICAgICAgICAgIG1pblBsYXllcnNXaWRnZXQsCiAgICAgICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5yZWFkeURpYWxvZy5taW5QbGF5ZXJzVG9TdGFydEZvcm1hdCwgTWF0aC5mbG9vcihTdGF0ZS5yb3VuZC5hdXRvU3RhcnRNaW5BY3RpdmVQbGF5ZXJzKSkKICAgICAgICApOwogICAgfQogICAgaWYgKGtpbGxzVGFyZ2V0V2lkZ2V0KSB7CiAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKAogICAgICAgICAgICBraWxsc1RhcmdldFdpZGdldCwKICAgICAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLnRhcmdldEtpbGxzVG9XaW5Gb3JtYXQsIE1hdGguZmxvb3IoU3RhdGUucm91bmQua2lsbHNUYXJnZXQpKQogICAgICAgICk7CiAgICB9Cn0KCi8vIFJlZnJlc2hlcyB0aGUgbWF0Y2h1cCByZWFkb3V0cyBmb3IgYWxsIHBsYXllcnMgd2l0aCBhIFJlYWR5IGRpYWxvZyBIVUQuCmZ1bmN0aW9uIHVwZGF0ZU1hdGNodXBSZWFkb3V0c0ZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIHVwZGF0ZU1hdGNodXBSZWFkb3V0c0ZvclBpZChtb2QuR2V0T2JqSWQocCkpOwogICAgfQp9CgovLyBBcHBsaWVzIHRoZSBzZWxlY3RlZCBtYXRjaHVwIHByZXNldCwgdXBkYXRlcyBVSS9zdGF0ZSwgYW5kIHJlLWVuYWJsZXMgc3Bhd25lcnMgKG5vdC1saXZlIG9ubHkpLgpmdW5jdGlvbiBhcHBseU1hdGNodXBQcmVzZXQoaW5kZXg6IG51bWJlciwgZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpOiB2b2lkIHsKICAgIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihNQVRDSFVQX1BSRVNFVFMubGVuZ3RoIC0gMSwgTWF0aC5mbG9vcihpbmRleCkpKTsKICAgIGlmIChjbGFtcGVkID09PSBTdGF0ZS5yb3VuZC5tYXRjaHVwUHJlc2V0SW5kZXgpIHJldHVybjsKICAgIGlmIChTdGF0ZS52ZWhpY2xlcy5zcGF3blNlcXVlbmNlSW5Qcm9ncmVzcykgcmV0dXJuOwogICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKTsKICAgIGlmIChub3cgLSBTdGF0ZS5yb3VuZC5sYXN0TWF0Y2h1cENoYW5nZUF0U2Vjb25kcyA8IE1BVENIVVBfQ0hBTkdFX0NPT0xET1dOX1NFQ09ORFMpIHJldHVybjsKICAgIGNvbnN0IHByZXNldCA9IE1BVENIVVBfUFJFU0VUU1tjbGFtcGVkXTsKICAgIFN0YXRlLnJvdW5kLm1hdGNodXBQcmVzZXRJbmRleCA9IGNsYW1wZWQ7CiAgICBTdGF0ZS5yb3VuZC5sYXN0TWF0Y2h1cENoYW5nZUF0U2Vjb25kcyA9IG5vdzsKICAgIFN0YXRlLnJvdW5kLmF1dG9TdGFydE1pbkFjdGl2ZVBsYXllcnMgPSBwcmVzZXQubWluQWN0aXZlUGxheWVyczsKICAgIFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0ID0gcHJlc2V0LnJvdW5kS2lsbHNUYXJnZXQ7CgogICAgdXBkYXRlTWF0Y2h1cExhYmVsRm9yQWxsUGxheWVycygpOwogICAgdXBkYXRlTWF0Y2h1cFJlYWRvdXRzRm9yQWxsUGxheWVycygpOwogICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICBzeW5jUm91bmRLaWxsc1RhcmdldFRlc3RlclZhbHVlRm9yQWxsUGxheWVycygpOwoKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShTVFJfUkVBRFlfRElBTE9HX01BVENIVVBfQ0hBTkdFRCwgZXZlbnRQbGF5ZXIsIHByZXNldC5sZWZ0UGxheWVycywgcHJlc2V0LnJpZ2h0UGxheWVycyksCiAgICAgICAgdHJ1ZSwKICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgU1RSX1JFQURZX0RJQUxPR19NQVRDSFVQX0NIQU5HRUQKICAgICk7CgogICAgYXBwbHlTcGF3bmVyRW5hYmxlbWVudEZvck1hdGNodXAoY2xhbXBlZCwgdHJ1ZSk7CgogICAgLy8gSWYgdGhlIG5ldyBtaW5pbXVtIGlzIHNhdGlzZmllZCwgYXV0by1zdGFydCB3aGVuIGFsbCBhY3RpdmUgcGxheWVycyBhcmUgcmVhZHkuCiAgICB0cnlBdXRvU3RhcnRSb3VuZElmQWxsUmVhZHkoZXZlbnRQbGF5ZXIpOwp9CgovKiBEZWFkIGZ1bmN0aW9uIC0gY29tbWVudGluZyBvdXQgZm9yIG5vdyB0byBlbnN1cmUgd2UgY2FuIGtpbGwgaXQKLy8gUmVmcmVzaGVzIHRoZSByb3N0ZXIgVUkgZm9yIGV2ZXJ5IHBsYXllciB3aG8gY3VycmVudGx5IGhhcyB0aGUgZGlhbG9nIG9wZW4uCi8vIFBoYXNlIDMgdXNlcyB0aGlzIHRvIHJlZmxlY3QgbWFpbi1iYXNlIHN0YXRlIGNoYW5nZXMgbGl2ZSB3aXRob3V0IHJlcXVpcmluZyB1c2VycyB0byByZW9wZW4gdGhlIGRpYWxvZy4KZnVuY3Rpb24gcmVmcmVzaFJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTogdm9pZCB7CiAgICBjb25zdCB2aWV3ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IHZpZXdlckNvdW50ID0gbW9kLkNvdW50T2Yodmlld2Vycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZpZXdlckNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCB2aWV3ZXIgPSBtb2QuVmFsdWVJbkFycmF5KHZpZXdlcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgY29uc3QgdmlkID0gbW9kLkdldE9iaklkKHZpZXdlcik7CiAgICAgICAgaWYgKFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbdmlkXSAmJiBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3ZpZF0uZGlhbG9nVmlzaWJsZSkgewogICAgICAgICAgICByZWZyZXNoUmVhZHlEaWFsb2dSb3N0ZXJGb3JWaWV3ZXIodmlld2VyLCB2aWQpOwogICAgICAgICAgICB1cGRhdGVSZWFkeVRvZ2dsZUJ1dHRvbkZvclZpZXdlcih2aWV3ZXIsIHZpZCk7CiAgICAgICAgfQogICAgfQp9CiovCgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIChSb3N0ZXIgVUkpIC0gIChsYXlvdXQgKyBwb3B1bGF0aW9uIG9ubHkpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBKb2luIFByb21wdCAtIElEcyArIEdhdGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gam9pblByb21wdFJvb3ROYW1lKHBpZDogbnVtYmVyKTogc3RyaW5nIHsgcmV0dXJuICJqb2luX3Byb21wdF9yb290XyIgKyBwaWQ7IH0KZnVuY3Rpb24gam9pblByb21wdFBhbmVsTmFtZShwaWQ6IG51bWJlcik6IHN0cmluZyB7IHJldHVybiAiam9pbl9wcm9tcHRfcGFuZWxfIiArIHBpZDsgfQpmdW5jdGlvbiBqb2luUHJvbXB0VGl0bGVOYW1lKHBpZDogbnVtYmVyKTogc3RyaW5nIHsgcmV0dXJuICJqb2luX3Byb21wdF90aXRsZV8iICsgcGlkOyB9CmZ1bmN0aW9uIGpvaW5Qcm9tcHRCb2R5TmFtZShwaWQ6IG51bWJlcik6IHN0cmluZyB7IHJldHVybiAiam9pbl9wcm9tcHRfYm9keV8iICsgcGlkOyB9CmZ1bmN0aW9uIGpvaW5Qcm9tcHRCdXR0b25OYW1lKHBpZDogbnVtYmVyKTogc3RyaW5nIHsgcmV0dXJuICJqb2luX3Byb21wdF9kaXNtaXNzXyIgKyBwaWQ7IH0KZnVuY3Rpb24gam9pblByb21wdEJ1dHRvbkJvcmRlck5hbWUocGlkOiBudW1iZXIpOiBzdHJpbmcgeyByZXR1cm4gam9pblByb21wdEJ1dHRvbk5hbWUocGlkKSArICJfQk9SREVSIjsgfQpmdW5jdGlvbiBqb2luUHJvbXB0QnV0dG9uVGV4dE5hbWUocGlkOiBudW1iZXIpOiBzdHJpbmcgeyByZXR1cm4gImpvaW5fcHJvbXB0X2Rpc21pc3NfdGV4dF8iICsgcGlkOyB9CmZ1bmN0aW9uIGpvaW5Qcm9tcHROZXZlclNob3dCdXR0b25OYW1lKHBpZDogbnVtYmVyKTogc3RyaW5nIHsgcmV0dXJuICJqb2luX3Byb21wdF9uZXZlcl9zaG93XyIgKyBwaWQ7IH0KZnVuY3Rpb24gam9pblByb21wdE5ldmVyU2hvd0J1dHRvbkJvcmRlck5hbWUocGlkOiBudW1iZXIpOiBzdHJpbmcgeyByZXR1cm4gam9pblByb21wdE5ldmVyU2hvd0J1dHRvbk5hbWUocGlkKSArICJfQk9SREVSIjsgfQpmdW5jdGlvbiBqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uVGV4dE5hbWUocGlkOiBudW1iZXIpOiBzdHJpbmcgeyByZXR1cm4gImpvaW5fcHJvbXB0X25ldmVyX3Nob3dfdGV4dF8iICsgcGlkOyB9CgpmdW5jdGlvbiBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KG5hbWU6IHN0cmluZyk6IHZvaWQgewogICAgY29uc3QgdyA9IHNhZmVGaW5kKG5hbWUpOwogICAgaWYgKCF3KSByZXR1cm47CiAgICAvLyBCZXN0LWVmZm9ydCBkZWxldGU6IHdpZGdldCBtYXkgYWxyZWFkeSBiZSBnb25lIGR1cmluZyB1bmRlcGxveS9yZWNvbm5lY3QgY2h1cm4uCiAgICB0cnkgewogICAgICAgIG1vZC5EZWxldGVVSVdpZGdldCh3KTsKICAgIH0gY2F0Y2ggewogICAgICAgIC8vIEludGVudGlvbmFsbHkgc2lsZW50IHRvIGF2b2lkIGVuZ2luZS1zaWRlIGNyYXNoZXMgb24gaW52YWxpZCBoYW5kbGVzLgogICAgfQp9CgpmdW5jdGlvbiBpc0pvaW5Qcm9tcHRTdXBwcmVzc2VkRm9yUGxheWVyKHBpZDogbnVtYmVyKTogYm9vbGVhbiB7CiAgICByZXR1cm4gISFTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHROZXZlclNob3dCeVBpZE1hcFtwaWRdPy5bQUNUSVZFX01BUF9LRVldOwp9CgovLyBQZXJzaXN0ICJOZXZlciBTaG93IEFnYWluIiBwZXItbWFwIHNvIG90aGVyIG1hcHMgY2FuIHN0aWxsIHNob3cgdGhlIHByb21wdApmdW5jdGlvbiBzZXRKb2luUHJvbXB0U3VwcHJlc3NlZEZvclBsYXllcihwaWQ6IG51bWJlcik6IHZvaWQgewogICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHROZXZlclNob3dCeVBpZE1hcFtwaWRdKSB7CiAgICAgICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0TmV2ZXJTaG93QnlQaWRNYXBbcGlkXSA9IHt9OwogICAgfQogICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0TmV2ZXJTaG93QnlQaWRNYXBbcGlkXVtBQ1RJVkVfTUFQX0tFWV0gPSB0cnVlOwp9CgovLyBMaWdodHdlaWdodCBnYXRpbmcgdXNlZCBmb3IgYm90aCBqb2luLXRpbWUgYW5kIHVuZGVwbG95IHByb21wdHMgKGpvaW4tdGltZSAib25seSBvbmNlIiBpcyB0cmFja2VkIHNlcGFyYXRlbHkpLgpmdW5jdGlvbiBzaG91bGRTaG93Sm9pblByb21wdEZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBib29sZWFuIHsKICAgIGlmICghU0hPV19IRUxQX1RFWFRfUFJPTVBUX09OX0pPSU4pIHJldHVybiBmYWxzZTsKICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm4gZmFsc2U7CiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocGxheWVyKTsKICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlOwogICAgaWYgKGlzSm9pblByb21wdFN1cHByZXNzZWRGb3JQbGF5ZXIocGlkKSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHNhZmVGaW5kKGpvaW5Qcm9tcHRSb290TmFtZShwaWQpKSkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRydWU7Cn0KCi8vIEpvaW4gcHJvbXB0IHNlcXVlbmNpbmcgaGVscGVyczoKLy8gVGhlc2Uga2VlcCB0aGUgcHJvbXB0IGZsb3cgZGV0ZXJtaW5pc3RpYyBhbmQgbG93LXJpc2sgYnkgb25seSBhZGp1c3RpbmcKLy8gaW4tbWVtb3J5IHBlci1wbGF5ZXIgc3RhdGUgYW5kIHNlbGVjdGluZyBzdHJpbmcga2V5cyBhY2NvcmRpbmdseS4KZnVuY3Rpb24gZW5zdXJlSm9pblByb21wdFN0YXRlRm9yUGlkKHBpZDogbnVtYmVyKTogdm9pZCB7CiAgICBpZiAoU3RhdGUucGxheWVycy5qb2luUHJvbXB0UmVhZHlEaWFsb2dPcGVuZWRCeVBpZFtwaWRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRSZWFkeURpYWxvZ09wZW5lZEJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgIH0KICAgIGlmIChTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBJbmRleEJ5UGlkW3BpZF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRpcEluZGV4QnlQaWRbcGlkXSA9IDA7CiAgICB9CiAgICBpZiAoU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwc1VubG9ja2VkQnlQaWRbcGlkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwc1VubG9ja2VkQnlQaWRbcGlkXSA9IGZhbHNlOwogICAgfQp9CgovLyBNYXJrcyB0aGF0IHRoZSBwbGF5ZXIgc3VjY2Vzc2Z1bGx5IG9wZW5lZCB0aGUgUmVhZHkgVXAgZGlhbG9nICh0cnVlIHVubG9jayBldmVudCkuCi8vIEVuc3VyZXMgdGhlIG5leHQgcHJvbXB0IHNob3dzIG1hbmRhdG9yeTIgYmVmb3JlIHRpcHMgYmVnaW4uCmZ1bmN0aW9uIG1hcmtKb2luUHJvbXB0UmVhZHlEaWFsb2dPcGVuZWQocGlkOiBudW1iZXIpOiB2b2lkIHsKICAgIGVuc3VyZUpvaW5Qcm9tcHRTdGF0ZUZvclBpZChwaWQpOwogICAgaWYgKFN0YXRlLnBsYXllcnMuam9pblByb21wdFJlYWR5RGlhbG9nT3BlbmVkQnlQaWRbcGlkXSkgcmV0dXJuOwogICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0UmVhZHlEaWFsb2dPcGVuZWRCeVBpZFtwaWRdID0gdHJ1ZTsKICAgIGlmICgoU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwSW5kZXhCeVBpZFtwaWRdID8/IDApIDwgMSkgewogICAgICAgIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRpcEluZGV4QnlQaWRbcGlkXSA9IDE7CiAgICB9Cn0KCi8vIEFybXMgYSBvbmUtc2hvdCBmbGFnIHdoZW4gYSBwbGF5ZXIgdHJpZ2dlcnMgdGhlIHRyaXBsZS10YXAgZGV0ZWN0b3IuCi8vIFRoaXMgbGV0cyB1cyByZXF1aXJlIHRoZSBtdWx0aS1jbGljayBwYXRoIGJlZm9yZSB1bmxvY2tpbmcgam9pbiBwcm9tcHQgdGlwcy4KZnVuY3Rpb24gYXJtSm9pblByb21wdFRyaXBsZVRhcEZvclBpZChwaWQ6IG51bWJlcik6IHZvaWQgewogICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0VHJpcGxlVGFwQXJtZWRCeVBpZFtwaWRdID0gdHJ1ZTsKfQoKZnVuY3Rpb24gY29uc3VtZUpvaW5Qcm9tcHRUcmlwbGVUYXBGb3JQaWQocGlkOiBudW1iZXIpOiBib29sZWFuIHsKICAgIGlmICghU3RhdGUucGxheWVycy5qb2luUHJvbXB0VHJpcGxlVGFwQXJtZWRCeVBpZFtwaWRdKSByZXR1cm4gZmFsc2U7CiAgICBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUcmlwbGVUYXBBcm1lZEJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBpc0pvaW5Qcm9tcHRCb2R5S2V5U2tpcHBlZChrZXk6IG51bWJlcik6IGJvb2xlYW4gewogICAgcmV0dXJuIEpPSU5fUFJPTVBUX0JPRFlfU0VRVUVOQ0VfU0tJUF9LRVlTLmluZGV4T2Yoa2V5KSAhPT0gLTE7Cn0KCmZ1bmN0aW9uIGZpbmROZXh0Sm9pblByb21wdFNlcXVlbmNlSW5kZXgoc3RhcnRJbmRleDogbnVtYmVyKTogbnVtYmVyIHsKICAgIGNvbnN0IG1heCA9IEpPSU5fUFJPTVBUX0JPRFlfU0VRVUVOQ0VfS0VZUy5sZW5ndGg7CiAgICBpZiAobWF4IDw9IDApIHJldHVybiAwOwogICAgZm9yIChsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbWF4OyBvZmZzZXQrKykgewogICAgICAgIGNvbnN0IGlkeCA9IChzdGFydEluZGV4ICsgb2Zmc2V0KSAlIG1heDsKICAgICAgICBjb25zdCBrZXkgPSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX0tFWVNbaWR4XTsKICAgICAgICBpZiAoIWlzSm9pblByb21wdEJvZHlLZXlTa2lwcGVkKGtleSkpIHJldHVybiBpZHg7CiAgICB9CiAgICByZXR1cm4gMDsKfQoKLy8gUmV0dXJucyB0aGUgY2xhbXBlZCBzZXF1ZW5jZSBpbmRleCBmb3IgdGhpcyBwbGF5ZXIuCmZ1bmN0aW9uIGdldEpvaW5Qcm9tcHRTZXF1ZW5jZUluZGV4Rm9yUGlkKHBpZDogbnVtYmVyKTogbnVtYmVyIHsKICAgIGVuc3VyZUpvaW5Qcm9tcHRTdGF0ZUZvclBpZChwaWQpOwogICAgY29uc3QgcmF3ID0gTWF0aC5mbG9vcihTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBJbmRleEJ5UGlkW3BpZF0gPz8gMCk7CiAgICBjb25zdCBtYXggPSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX0tFWVMubGVuZ3RoOwogICAgY29uc3QgY2xhbXBlZCA9IChyYXcgPj0gMCAmJiByYXcgPCBtYXgpID8gcmF3IDogMDsKICAgIGNvbnN0IHJlc29sdmVkID0gZmluZE5leHRKb2luUHJvbXB0U2VxdWVuY2VJbmRleChjbGFtcGVkKTsKICAgIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRpcEluZGV4QnlQaWRbcGlkXSA9IHJlc29sdmVkOwogICAgcmV0dXJuIHJlc29sdmVkOwp9CgovLyBTZWxlY3RzIHRoZSBib2R5IGtleSBmb3IgdGhlIHByb21wdCBiYXNlZCBvbiB1bmxvY2sgKyBzZXF1ZW5jZSBzdGF0ZS4KZnVuY3Rpb24gZ2V0Sm9pblByb21wdEJvZHlLZXlGb3JQaWQocGlkOiBudW1iZXIpOiBudW1iZXIgewogICAgZW5zdXJlSm9pblByb21wdFN0YXRlRm9yUGlkKHBpZCk7CiAgICBpZiAoIVN0YXRlLnBsYXllcnMuam9pblByb21wdFJlYWR5RGlhbG9nT3BlbmVkQnlQaWRbcGlkXSkgewogICAgICAgIHJldHVybiBTVFJfSk9JTl9QUk9NUFRfQk9EWV9NQU5EQVRPUlkxOwogICAgfQogICAgY29uc3QgaW5kZXggPSBnZXRKb2luUHJvbXB0U2VxdWVuY2VJbmRleEZvclBpZChwaWQpOwogICAgaWYgKGluZGV4ID49IDIpIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBzVW5sb2NrZWRCeVBpZFtwaWRdID0gdHJ1ZTsKICAgIH0KICAgIHJldHVybiBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX0tFWVNbaW5kZXhdOwp9CgovLyBDaG9vc2VzIHRoZSBkaXNtaXNzIGxhYmVsIGJhc2VkIG9uIHdoZXRoZXIgdGlwcyBhcmUgdW5sb2NrZWQuCmZ1bmN0aW9uIGdldEpvaW5Qcm9tcHREaXNtaXNzTGFiZWxLZXlGb3JQaWQocGlkOiBudW1iZXIpOiBudW1iZXIgewogICAgZW5zdXJlSm9pblByb21wdFN0YXRlRm9yUGlkKHBpZCk7CiAgICByZXR1cm4gU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwc1VubG9ja2VkQnlQaWRbcGlkXQogICAgICAgID8gU1RSX0pPSU5fUFJPTVBUX0RJU01JU1NfU0hPV19NT1JFX1RJUFMKICAgICAgICA6IFNUUl9KT0lOX1BST01QVF9ESVNNSVNTOwp9CgovLyBOZXZlciBTaG93IEFnYWluIGlzIG9ubHkgYXZhaWxhYmxlIGFmdGVyIHRpcHMgYXJlIHVubG9ja2VkLgpmdW5jdGlvbiBzaG91bGRTaG93Sm9pblByb21wdE5ldmVyU2hvd0J1dHRvbkZvclBpZChwaWQ6IG51bWJlcik6IGJvb2xlYW4gewogICAgZW5zdXJlSm9pblByb21wdFN0YXRlRm9yUGlkKHBpZCk7CiAgICByZXR1cm4gU3RhdGUucGxheWVycy5qb2luUHJvbXB0UmVhZHlEaWFsb2dPcGVuZWRCeVBpZFtwaWRdICYmIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRpcHNVbmxvY2tlZEJ5UGlkW3BpZF07Cn0KCi8vIEFkdmFuY2VzIHRoZSBzZXF1ZW5jZSBvbmx5IGFmdGVyIHRoZSBwbGF5ZXIgaGFzIHVubG9ja2VkIHRpcHMuCmZ1bmN0aW9uIGFkdmFuY2VKb2luUHJvbXB0U2VxdWVuY2VPbkRpc21pc3MocGlkOiBudW1iZXIpOiB2b2lkIHsKICAgIGVuc3VyZUpvaW5Qcm9tcHRTdGF0ZUZvclBpZChwaWQpOwogICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRSZWFkeURpYWxvZ09wZW5lZEJ5UGlkW3BpZF0pIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBJbmRleEJ5UGlkW3BpZF0gPSAwOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IGN1cnJlbnQgPSBnZXRKb2luUHJvbXB0U2VxdWVuY2VJbmRleEZvclBpZChwaWQpOwogICAgY29uc3QgbmV4dCA9IGZpbmROZXh0Sm9pblByb21wdFNlcXVlbmNlSW5kZXgoY3VycmVudCArIDEpOwogICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwSW5kZXhCeVBpZFtwaWRdID0gbmV4dDsKICAgIGlmIChuZXh0ID49IDIpIHsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBzVW5sb2NrZWRCeVBpZFtwaWRdID0gdHJ1ZTsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEpvaW4gUHJvbXB0IC0gSURzICsgR2F0aW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBKb2luIFByb21wdCAtIExheW91dCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQnVpbGRzIHRoZSBqb2luIG92ZXJsYXksIGJsb2NrcyBkZXBsb3ksIGFuZCBlbmFibGVzIFVJIGlucHV0IHVudGlsIGRpc21pc3NlZC4KZnVuY3Rpb24gY3JlYXRlSm9pblByb21wdEZvclBsYXllcihwbGF5ZXI6IG1vZC5QbGF5ZXIpOiB2b2lkIHsKICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICBjb25zdCB1aVJvb3QgPSBtb2QuR2V0VUlSb290KCk7CiAgICBjb25zdCBib2R5S2V5ID0gZ2V0Sm9pblByb21wdEJvZHlLZXlGb3JQaWQocGlkKTsKICAgIGNvbnN0IGRpc21pc3NMYWJlbEtleSA9IGdldEpvaW5Qcm9tcHREaXNtaXNzTGFiZWxLZXlGb3JQaWQocGlkKTsKICAgIGNvbnN0IHNob3dOZXZlclNob3cgPSBzaG91bGRTaG93Sm9pblByb21wdE5ldmVyU2hvd0J1dHRvbkZvclBpZChwaWQpOwoKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdFJvb3ROYW1lKHBpZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0QnV0dG9uQm9yZGVyTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdE5ldmVyU2hvd0J1dHRvbkJvcmRlck5hbWUocGlkKSk7CgogICAgbW9kLkVuYWJsZVBsYXllckRlcGxveShwbGF5ZXIsIGZhbHNlKTsKICAgIHNldFVJSW5wdXRNb2RlRm9yUGxheWVyKHBsYXllciwgdHJ1ZSk7CgogICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgIGpvaW5Qcm9tcHRSb290TmFtZShwaWQpLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigxOTIwLCAxMDgwLCAwKSwKICAgICAgICBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgIHVpUm9vdCwKICAgICAgICB0cnVlLAogICAgICAgIDAsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSwKICAgICAgICAwLjU1LAogICAgICAgIG1vZC5VSUJnRmlsbC5Tb2xpZCwKICAgICAgICBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSwKICAgICAgICBwbGF5ZXIKICAgICk7CgogICAgY29uc3Qgcm9vdCA9IHNhZmVGaW5kKGpvaW5Qcm9tcHRSb290TmFtZShwaWQpKTsKICAgIGlmIChyb290KSBtb2QuU2V0VUlXaWRnZXREZXB0aChyb290LCBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSk7CiAgICBpZiAocm9vdCkgcmVwYXJlbnRTcGF3bkRpc2FibGVkTGl2ZVRleHRGb3JQaWQocGlkLCByb290KTsKCiAgICBjb25zdCBqb2luUHJvbXB0UGFuZWxPZmZzZXRZID0gLTU0OwogICAgY29uc3Qgam9pblByb21wdEJ1dHRvbk9mZnNldFkgPSAxNzM7CgogICAgbW9kLkFkZFVJQ29udGFpbmVyKAogICAgICAgIGpvaW5Qcm9tcHRQYW5lbE5hbWUocGlkKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIGpvaW5Qcm9tcHRQYW5lbE9mZnNldFksIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoOTAwLCA0NDQsIDApLAogICAgICAgIG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgcm9vdCA/PyB1aVJvb3QsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMC4wOCwgMC4wOCwgMC4wOCksCiAgICAgICAgMC45NSwKICAgICAgICBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUksCiAgICAgICAgcGxheWVyCiAgICApOwoKICAgIGNvbnN0IHBhbmVsID0gc2FmZUZpbmQoam9pblByb21wdFBhbmVsTmFtZShwaWQpKTsKICAgIGlmIChwYW5lbCkgbW9kLlNldFVJV2lkZ2V0RGVwdGgocGFuZWwsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIGpvaW5Qcm9tcHRUaXRsZU5hbWUocGlkKSwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIC0xOTIsIDApLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoODIwLCA2MCwgMCksCiAgICAgICAgbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICBwYW5lbCA/PyB1aVJvb3QsCiAgICAgICAgdHJ1ZSwKICAgICAgICAwLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgMCwKICAgICAgICBtb2QuVUlCZ0ZpbGwuTm9uZSwKICAgICAgICBtb2QuTWVzc2FnZShTVFJfSk9JTl9QUk9NUFRfVElUTEUpLAogICAgICAgIDQyLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMSwgMSwgMSksCiAgICAgICAgMSwKICAgICAgICBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgIHBsYXllcgogICAgKTsKCiAgICBtb2QuQWRkVUlUZXh0KAogICAgICAgIGpvaW5Qcm9tcHRCb2R5TmFtZShwaWQpLAogICAgICAgIG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCksCiAgICAgICAgbW9kLkNyZWF0ZVZlY3Rvcig3NDAsIDMwMCwgMCksIC8vIDkwMC13aWRlIHBhbmVsIHdpdGggODBweCBzaWRlIGluc2V0IG9uIGVhY2ggc2lkZQogICAgICAgIG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgcGFuZWwgPz8gdWlSb290LAogICAgICAgIHRydWUsCiAgICAgICAgMCwKICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApLAogICAgICAgIDAsCiAgICAgICAgbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgbW9kLk1lc3NhZ2UoYm9keUtleSksCiAgICAgICAgMjIsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigxLCAxLCAxKSwKICAgICAgICAxLAogICAgICAgIG1vZC5VSUFuY2hvci5Ub3BMZWZ0LAogICAgICAgIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJLAogICAgICAgIHBsYXllcgogICAgKTsKCiAgICBjb25zdCBuZXZlclNob3dCb3JkZXIgPSBhZGRPdXRsaW5lZEJ1dHRvbigKICAgICAgICBqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uTmFtZShwaWQpLAogICAgICAgIC0yMDAsCiAgICAgICAgam9pblByb21wdEJ1dHRvbk9mZnNldFksCiAgICAgICAgMzYwLAogICAgICAgIDcwLAogICAgICAgIG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICAgICAgcGFuZWwgPz8gdWlSb290LAogICAgICAgIHBsYXllcgogICAgKTsKCiAgICBjb25zdCBuZXZlclNob3dCdXR0b24gPSBzYWZlRmluZChqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uTmFtZShwaWQpKTsKICAgIGlmIChuZXZlclNob3dCdXR0b24pIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXREZXB0aChuZXZlclNob3dCdXR0b24sIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKG5ldmVyU2hvd0J1dHRvbiwgc2hvd05ldmVyU2hvdyk7CiAgICAgICAgbW9kLkVuYWJsZVVJQnV0dG9uRXZlbnQobmV2ZXJTaG93QnV0dG9uLCBtb2QuVUlCdXR0b25FdmVudC5CdXR0b25VcCwgc2hvd05ldmVyU2hvdyk7CiAgICB9CiAgICBjb25zdCBuZXZlclNob3dCb3JkZXJXaWRnZXQgPSBzYWZlRmluZChqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uQm9yZGVyTmFtZShwaWQpKTsKICAgIGlmIChuZXZlclNob3dCb3JkZXJXaWRnZXQpIHsKICAgICAgICBtb2QuU2V0VUlXaWRnZXREZXB0aChuZXZlclNob3dCb3JkZXJXaWRnZXQsIG1vZC5VSURlcHRoLkFib3ZlR2FtZVVJKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKG5ldmVyU2hvd0JvcmRlcldpZGdldCwgc2hvd05ldmVyU2hvdyk7CiAgICB9CgogICAgY29uc3QgbmV2ZXJTaG93VGV4dFBhcmVudCA9IG5ldmVyU2hvd0JvcmRlciA/PyBwYW5lbCA/PyB1aVJvb3Q7CiAgICBjb25zdCBuZXZlclNob3dUZXh0ID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIGpvaW5Qcm9tcHROZXZlclNob3dCdXR0b25UZXh0TmFtZShwaWQpLAogICAgICAgIDM2MCwKICAgICAgICA3MCwKICAgICAgICBtb2QuTWVzc2FnZShTVFJfSk9JTl9QUk9NUFRfTkVWRVJfU0hPVyksCiAgICAgICAgcGxheWVyLAogICAgICAgIG5ldmVyU2hvd1RleHRQYXJlbnQKICAgICk7CiAgICBpZiAobmV2ZXJTaG93VGV4dCkgewogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKG5ldmVyU2hvd1RleHQsIDI0KTsKICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IobmV2ZXJTaG93VGV4dCwgbW9kLkNyZWF0ZVZlY3RvcigxLCAxLCAxKSk7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0RGVwdGgobmV2ZXJTaG93VGV4dCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChuZXZlclNob3dUZXh0LCBuZXZlclNob3dUZXh0UGFyZW50KTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbigKICAgICAgICAgICAgbmV2ZXJTaG93VGV4dCwKICAgICAgICAgICAgbmV2ZXJTaG93Qm9yZGVyID8gbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSA6IG1vZC5DcmVhdGVWZWN0b3IoLTIwMCwgam9pblByb21wdEJ1dHRvbk9mZnNldFksIDApCiAgICAgICAgKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKG5ldmVyU2hvd1RleHQsIHNob3dOZXZlclNob3cpOwogICAgfQoKICAgIGNvbnN0IGRpc21pc3NCb3JkZXIgPSBhZGRPdXRsaW5lZEJ1dHRvbigKICAgICAgICBqb2luUHJvbXB0QnV0dG9uTmFtZShwaWQpLAogICAgICAgIDIwMCwKICAgICAgICBqb2luUHJvbXB0QnV0dG9uT2Zmc2V0WSwKICAgICAgICAzNjAsCiAgICAgICAgNzAsCiAgICAgICAgbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgICAgICBwYW5lbCA/PyB1aVJvb3QsCiAgICAgICAgcGxheWVyCiAgICApOwoKICAgIGNvbnN0IGRpc21pc3NCdXR0b24gPSBzYWZlRmluZChqb2luUHJvbXB0QnV0dG9uTmFtZShwaWQpKTsKICAgIGlmIChkaXNtaXNzQnV0dG9uKSB7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0RGVwdGgoZGlzbWlzc0J1dHRvbiwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgICAgIG1vZC5FbmFibGVVSUJ1dHRvbkV2ZW50KGRpc21pc3NCdXR0b24sIG1vZC5VSUJ1dHRvbkV2ZW50LkJ1dHRvblVwLCB0cnVlKTsKICAgIH0KICAgIGNvbnN0IGRpc21pc3NCb3JkZXJXaWRnZXQgPSBzYWZlRmluZChqb2luUHJvbXB0QnV0dG9uQm9yZGVyTmFtZShwaWQpKTsKICAgIGlmIChkaXNtaXNzQm9yZGVyV2lkZ2V0KSBtb2QuU2V0VUlXaWRnZXREZXB0aChkaXNtaXNzQm9yZGVyV2lkZ2V0LCBtb2QuVUlEZXB0aC5BYm92ZUdhbWVVSSk7CgogICAgY29uc3QgZGlzbWlzc1RleHRQYXJlbnQgPSBkaXNtaXNzQm9yZGVyID8/IHBhbmVsID8/IHVpUm9vdDsKICAgIGNvbnN0IGRpc21pc3NUZXh0ID0gYWRkQ2VudGVyZWRCdXR0b25UZXh0KAogICAgICAgIGpvaW5Qcm9tcHRCdXR0b25UZXh0TmFtZShwaWQpLAogICAgICAgIDM2MCwKICAgICAgICA3MCwKICAgICAgICBtb2QuTWVzc2FnZShkaXNtaXNzTGFiZWxLZXkpLAogICAgICAgIHBsYXllciwKICAgICAgICBkaXNtaXNzVGV4dFBhcmVudAogICAgKTsKICAgIGlmIChkaXNtaXNzVGV4dCkgewogICAgICAgIG1vZC5TZXRVSVRleHRTaXplKGRpc21pc3NUZXh0LCAyNCk7CiAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKGRpc21pc3NUZXh0LCBtb2QuQ3JlYXRlVmVjdG9yKDEsIDEsIDEpKTsKICAgICAgICBtb2QuU2V0VUlXaWRnZXREZXB0aChkaXNtaXNzVGV4dCwgbW9kLlVJRGVwdGguQWJvdmVHYW1lVUkpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBhcmVudChkaXNtaXNzVGV4dCwgZGlzbWlzc1RleHRQYXJlbnQpOwogICAgICAgIG1vZC5TZXRVSVdpZGdldFBvc2l0aW9uKAogICAgICAgICAgICBkaXNtaXNzVGV4dCwKICAgICAgICAgICAgZGlzbWlzc0JvcmRlciA/IG1vZC5DcmVhdGVWZWN0b3IoMCwgMCwgMCkgOiBtb2QuQ3JlYXRlVmVjdG9yKDIwMCwgam9pblByb21wdEJ1dHRvbk9mZnNldFksIDApCiAgICAgICAgKTsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEpvaW4gUHJvbXB0IC0gTGF5b3V0IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBKb2luIFByb21wdCAtIExpZmVjeWNsZSArIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gUmVzcGVjdHMgcm91bmQvY2xlYW51cCBsb2NrcyB3aGVuIHJlLWVuYWJsaW5nIGRlcGxveSBhZnRlciBkaXNtaXNzLgpmdW5jdGlvbiBjYW5FbmFibGVEZXBsb3lBZnRlckpvaW5Qcm9tcHQoKTogYm9vbGVhbiB7CiAgICBpZiAoU3RhdGUucm91bmQuZmxvdy5jbGVhbnVwQWN0aXZlICYmICFTdGF0ZS5yb3VuZC5mbG93LmNsZWFudXBBbGxvd0RlcGxveSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKERJU0FCTEVfUkVTUEFXTl9EVVJJTkdfTElWRV9ST1VORCAmJiBpc1JvdW5kTGl2ZSgpKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKfQoKLy8gRGlzbWlzc2VzIHRoZSBvdmVybGF5IGFuZCByZXN0b3JlcyBpbnB1dC9kZXBsb3kgYmFzZWQgb24gY3VycmVudCBsb2Nrcy4KZnVuY3Rpb24gZGlzbWlzc0pvaW5Qcm9tcHRGb3JQbGF5ZXIocGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKCiAgICBzZXRVSUlucHV0TW9kZUZvclBsYXllcihwbGF5ZXIsIGZhbHNlKTsKICAgIG1vZC5FbmFibGVQbGF5ZXJEZXBsb3kocGxheWVyLCBjYW5FbmFibGVEZXBsb3lBZnRlckpvaW5Qcm9tcHQoKSk7CiAgICByZXBhcmVudFNwYXduRGlzYWJsZWRMaXZlVGV4dEZvclBpZChwaWQsIG1vZC5HZXRVSVJvb3QoKSk7CgogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0QnV0dG9uVGV4dE5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRCdXR0b25OYW1lKHBpZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0QnV0dG9uQm9yZGVyTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdE5ldmVyU2hvd0J1dHRvblRleHROYW1lKHBpZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdE5ldmVyU2hvd0J1dHRvbkJvcmRlck5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRCb2R5TmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdFRpdGxlTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdFBhbmVsTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdFJvb3ROYW1lKHBpZCkpOwp9CgovLyBIYXJkIGNsZWFudXAgZm9yIGRpc2Nvbm5lY3RzIChyZW1vdmVzIGFueSBwcm9tcHQgd2lkZ2V0cyBmb3IgdGhhdCBwaWQpLgpmdW5jdGlvbiBjbGVhckpvaW5Qcm9tcHRGb3JQbGF5ZXJJZChwbGF5ZXJJZDogbnVtYmVyKTogdm9pZCB7CiAgICByZXBhcmVudFNwYXduRGlzYWJsZWRMaXZlVGV4dEZvclBpZChwbGF5ZXJJZCwgbW9kLkdldFVJUm9vdCgpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdEJ1dHRvblRleHROYW1lKHBsYXllcklkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRCdXR0b25OYW1lKHBsYXllcklkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRCdXR0b25Cb3JkZXJOYW1lKHBsYXllcklkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHROZXZlclNob3dCdXR0b25UZXh0TmFtZShwbGF5ZXJJZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uTmFtZShwbGF5ZXJJZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0TmV2ZXJTaG93QnV0dG9uQm9yZGVyTmFtZShwbGF5ZXJJZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0Qm9keU5hbWUocGxheWVySWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdFRpdGxlTmFtZShwbGF5ZXJJZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0UGFuZWxOYW1lKHBsYXllcklkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRSb290TmFtZShwbGF5ZXJJZCkpOwp9CgovLyBCdXR0b24gaGFuZGxlcjogZGlzbWlzc2VzIHdoZW4gdGhlIE9LIGJ1dHRvbiAob3IgaXRzIGNoaWxkcmVuKSBpcyBjbGlja2VkLgpmdW5jdGlvbiB0cnlIYW5kbGVKb2luUHJvbXB0QnV0dG9uKAogICAgZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsCiAgICBldmVudFVJV2lkZ2V0OiBtb2QuVUlXaWRnZXQsCiAgICBldmVudFVJQnV0dG9uRXZlbnQ6IG1vZC5VSUJ1dHRvbkV2ZW50Cik6IGJvb2xlYW4gewogICAgaWYgKCFTSE9XX0hFTFBfVEVYVF9QUk9NUFRfT05fSk9JTikgcmV0dXJuIGZhbHNlOwogICAgaWYgKCFldmVudFBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQoZXZlbnRQbGF5ZXIpKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoIW1vZC5FcXVhbHMoZXZlbnRVSUJ1dHRvbkV2ZW50LCBtb2QuVUlCdXR0b25FdmVudC5CdXR0b25VcCkpIHJldHVybiBmYWxzZTsKCiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpOwogICAgY29uc3QgZGlzbWlzc0lkID0gam9pblByb21wdEJ1dHRvbk5hbWUocGlkKTsKICAgIGNvbnN0IG5ldmVyU2hvd0lkID0gam9pblByb21wdE5ldmVyU2hvd0J1dHRvbk5hbWUocGlkKTsKICAgIGxldCB3OiBtb2QuVUlXaWRnZXQgPSBldmVudFVJV2lkZ2V0OwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHsKICAgICAgICBjb25zdCBuYW1lID0gbW9kLkdldFVJV2lkZ2V0TmFtZSh3KTsKICAgICAgICBpZiAobmFtZSA9PT0gZGlzbWlzc0lkKSB7CiAgICAgICAgICAgIGFkdmFuY2VKb2luUHJvbXB0U2VxdWVuY2VPbkRpc21pc3MocGlkKTsKICAgICAgICAgICAgZGlzbWlzc0pvaW5Qcm9tcHRGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKG5hbWUgPT09IG5ldmVyU2hvd0lkKSB7CiAgICAgICAgICAgIHNldEpvaW5Qcm9tcHRTdXBwcmVzc2VkRm9yUGxheWVyKHBpZCk7CiAgICAgICAgICAgIGRpc21pc3NKb2luUHJvbXB0Rm9yUGxheWVyKGV2ZW50UGxheWVyKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHBhcmVudCA9IG1vZC5HZXRVSVdpZGdldFBhcmVudCh3KTsKICAgICAgICBpZiAoIXBhcmVudCkgYnJlYWs7CiAgICAgICAgdyA9IHBhcmVudDsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEpvaW4gUHJvbXB0IC0gTGlmZWN5Y2xlICsgRXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBSZWFkeSBTdGF0ZSBSZXNldCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gUmVzZXRzIGFsbCBwbGF5ZXJzIHRvIE5PVCBSRUFEWS4gQ2FsbGVkIHdoZW4gYSByb3VuZCBlbmRzIChpbmNsdWRpbmcgbWF0Y2gtZW5kIHBhdGhzKSBzbyB0aGUgbmV4dCByb3VuZCByZXF1aXJlcyBhIGZyZXNoIHJlYWR5LXVwIGN5Y2xlLgpmdW5jdGlvbiByZXNldFJlYWR5U3RhdGVGb3JBbGxQbGF5ZXJzKCk6IHZvaWQgewogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocCk7CiAgICAgICAgU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgICAgICAvLyBLZWVwIHRoZSBIVUQgIlggLyBZIFBMQVlFUlMgUkVBRFkiIGxpbmUgaW4gc3luYyBvbiBldmVyeSByZWFkeS1zdGF0ZSBjaGFuZ2UuCiAgICAgICAgdXBkYXRlUGxheWVyc1JlYWR5SHVkVGV4dEZvckFsbFBsYXllcnMoKTsKICAgIH0KICAgIC8vIElmIGFueSBkaWFsb2dzIGFyZSBvcGVuLCByZWZsZWN0IHRoZSByZXNldCBpbW1lZGlhdGVseS4KICAgIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTsKICAgIHVwZGF0ZVBsYXllcnNSZWFkeUh1ZFRleHRGb3JBbGxQbGF5ZXJzKCk7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBSZWFkeSBTdGF0ZSBSZXNldCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIC0gQWN0aXZlIFBsYXllciBSZXNvbHV0aW9uICsgUm9zdGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBSZXR1cm5zIHRydWUgd2hlbiBldmVyeSBhY3RpdmUgcGxheWVyIG9uIFRlYW0gMS8yIGlzIGN1cnJlbnRseSBSRUFEWS4KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEFjdGl2ZSBQbGF5ZXIgUmVzb2x1dGlvbgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciB3aG8gY291bnRzIGFzIGFuICJhY3RpdmUiIHBsYXllciBhY3Jvc3M6Ci8vICAgLSByb3N0ZXIgcG9wdWxhdGlvbiAoUmVhZHkgVXAgVUkpCi8vICAgLSBhbGwtcmVhZHkgY2hlY2tzIC8gYXV0by1zdGFydCBnYXRpbmcKLy8gICAtIGFueSBmdXR1cmUgcm91bmQgZ2F0aW5nIGxvZ2ljCi8vCi8vIERlZmluaXRpb24gKGxvdy1yaXNrLCBjb25zZXJ2YXRpdmUpOgovLyAgIC0gTXVzdCBiZSBwcmVzZW50IGluIG1vZC5BbGxQbGF5ZXJzKCkgKGF2b2lkcyBzdGFsZS9kaXNjb25uZWN0ZWQgcGlkcykKLy8gICAtIE11c3QgYmUgdmFsaWQgKG1vZC5Jc1BsYXllclZhbGlkKQovLyAgIC0gTXVzdCBiZSBhc3NpZ25lZCB0byBUZWFtSUQuVGVhbTEgb3IgVGVhbUlELlRlYW0yIChzcGVjdGF0b3JzL25ldXRyYWwgZXhjbHVkZWQpCi8vCi8vIE5vdGU6IFdlIGludGVudGlvbmFsbHkgZG8gTk9UIGZpbHRlciBieSAiZGVwbG95ZWQiIHN0YXRlIGhlcmUuIFNvbWUgQVBJcyBleHBvc2UgZGVwbG95bWVudCBzdGF0ZSwKLy8gYnV0IHRoaXMgY29kZWJhc2UgZG9lcyBub3QgY3VycmVudGx5IGhhdmUgYSB0eXBlZC9wb3J0YWJsZSBjaGVjay4gVHJlYXRpbmcgdW5kZXBsb3llZCB0ZWFtbWF0ZXMgYXMKLy8gYWN0aXZlIGlzIHNhZmVyIGZvciByZWFkaW5lc3MgZ2F0aW5nIGFuZCBhdm9pZHMgZWRnZS1jYXNlIG1pc21hdGNoZXMgZHVyaW5nIHRlYW0gc3dpdGNoaW5nLgp0eXBlIEFjdGl2ZVBsYXllcnNfdCA9IHsKICAgIGFsbDogbW9kLlBsYXllcltdOwogICAgdGVhbTE6IG1vZC5QbGF5ZXJbXTsKICAgIHRlYW0yOiBtb2QuUGxheWVyW107Cn07Cgp0eXBlIFJvc3RlckRpc3BsYXlFbnRyeSA9IHsKICAgIHBsYXllcj86IG1vZC5QbGF5ZXI7CiAgICBuYW1lS2V5PzogbnVtYmVyOwp9OwoKdHlwZSBSb3N0ZXJEaXNwbGF5X3QgPSB7CiAgICB0ZWFtMTogUm9zdGVyRGlzcGxheUVudHJ5W107CiAgICB0ZWFtMjogUm9zdGVyRGlzcGxheUVudHJ5W107CiAgICBtYXhSb3dzOiBudW1iZXI7Cn07CgovKioKICogQWN0aXZlLXBsYXllciBkZWZpbml0aW9uIChzaW5nbGUgc291cmNlIG9mIHRydXRoKS4KICogVXNlZCBieTogcm9zdGVyIHBvcHVsYXRpb24sIGFsbC1yZWFkeSBjaGVja3MsIHJvdW5kIHN0YXJ0IGdhdGluZywgYW5kIHRoZSBIVUQgcmVhZHktY291bnQgbGluZS4KICogTm90ZXM6IGV4Y2x1ZGVzIHVuZGVwbG95ZWQvbmV1dHJhbC9zdGFsZSBwbGF5ZXJzIGJ5IHJlYWRpbmcgY3VycmVudCBlbmdpbmUgdGVhbSBzdGF0ZSBlYWNoIGNhbGw7IGRvIG5vdCBjYWNoZSBsb25nLXRlcm0uCiAqLwpmdW5jdGlvbiBnZXRBY3RpdmVQbGF5ZXJzKCk6IEFjdGl2ZVBsYXllcnNfdCB7CiAgICBjb25zdCBhbGw6IG1vZC5QbGF5ZXJbXSA9IFtdOwogICAgY29uc3QgdGVhbTE6IG1vZC5QbGF5ZXJbXSA9IFtdOwogICAgY29uc3QgdGVhbTI6IG1vZC5QbGF5ZXJbXSA9IFtdOwogICAgY29uc3QgcGlkQnlQbGF5ZXIgPSBuZXcgTWFwPG1vZC5QbGF5ZXIsIG51bWJlcj4oKTsKCiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGxldCBwaWQ6IG51bWJlcjsKICAgICAgICB0cnkgewogICAgICAgICAgICBwaWQgPSBtb2QuR2V0T2JqSWQocCk7CiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBjb25zdCB0ZWFtTnVtID0gZ2V0VGVhbU51bWJlcihtb2QuR2V0VGVhbShwKSk7CiAgICAgICAgLy8gT25seSBUZWFtIDEvMiBhcmUgY29uc2lkZXJlZCBhY3RpdmUgZm9yIHJvc3RlcnMvcmVhZHkgZ2F0aW5nLgogICAgICAgIGlmICh0ZWFtTnVtICE9PSBUZWFtSUQuVGVhbTEgJiYgdGVhbU51bSAhPT0gVGVhbUlELlRlYW0yKSBjb250aW51ZTsKCiAgICAgICAgcGlkQnlQbGF5ZXIuc2V0KHAsIHBpZCk7CiAgICAgICAgYWxsLnB1c2gocCk7CiAgICAgICAgaWYgKHRlYW1OdW0gPT09IFRlYW1JRC5UZWFtMSkgdGVhbTEucHVzaChwKTsKICAgICAgICBlbHNlIHRlYW0yLnB1c2gocCk7CiAgICB9CgogICAgLy8gU3RhYmxlIFVJIG9yZGVyaW5nOiBzb3J0IGJ5IHBpZCAob2JqZWN0IGlkKS4KICAgIC8vIFRoaXMgcHJldmVudHMgcm93cyBmcm9tIHNodWZmbGluZyBhY3Jvc3MgcmVmcmVzaGVzLgogICAgY29uc3QgYnlQaWRDYWNoZWQgPSAoYTogbW9kLlBsYXllciwgYjogbW9kLlBsYXllcikgPT4gKHBpZEJ5UGxheWVyLmdldChhKSA/PyAwKSAtIChwaWRCeVBsYXllci5nZXQoYikgPz8gMCk7CiAgICBhbGwuc29ydChieVBpZENhY2hlZCk7CiAgICB0ZWFtMS5zb3J0KGJ5UGlkQ2FjaGVkKTsKICAgIHRlYW0yLnNvcnQoYnlQaWRDYWNoZWQpOwoKICAgIHJldHVybiB7IGFsbCwgdGVhbTEsIHRlYW0yIH07Cn0KCmZ1bmN0aW9uIGJ1aWxkUm9zdGVyRGlzcGxheUVudHJpZXMocGxheWVyczogbW9kLlBsYXllcltdLCBkZWJ1Z0NvdW50OiBudW1iZXIpOiBSb3N0ZXJEaXNwbGF5RW50cnlbXSB7CiAgICBjb25zdCBlbnRyaWVzOiBSb3N0ZXJEaXNwbGF5RW50cnlbXSA9IFtdOwogICAgZm9yIChjb25zdCBwIG9mIHBsYXllcnMpIGVudHJpZXMucHVzaCh7IHBsYXllcjogcCB9KTsKCiAgICBjb25zdCBleHRyYUNvdW50ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihkZWJ1Z0NvdW50KSk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4dHJhQ291bnQ7IGkrKykgewogICAgICAgIGVudHJpZXMucHVzaCh7IG5hbWVLZXk6IERFQlVHX1RFU1RfUExBQ0VIT0xERVJfTkFNRV9LRVkgfSk7CiAgICB9CiAgICByZXR1cm4gZW50cmllczsKfQoKZnVuY3Rpb24gZ2V0Um9zdGVyRGlzcGxheUVudHJpZXMoKTogUm9zdGVyRGlzcGxheV90IHsKICAgIGNvbnN0IGFjdGl2ZSA9IGdldEFjdGl2ZVBsYXllcnMoKTsKICAgIGNvbnN0IHRlYW0xID0gYnVpbGRSb3N0ZXJEaXNwbGF5RW50cmllcyhhY3RpdmUudGVhbTEsIERFQlVHX1RFU1RfTkFNRVNfVEVBTV8xKTsKICAgIGNvbnN0IHRlYW0yID0gYnVpbGRSb3N0ZXJEaXNwbGF5RW50cmllcyhhY3RpdmUudGVhbTIsIERFQlVHX1RFU1RfTkFNRVNfVEVBTV8yKTsKICAgIHJldHVybiB7IHRlYW0xLCB0ZWFtMiwgbWF4Um93czogTWF0aC5tYXgodGVhbTEubGVuZ3RoLCB0ZWFtMi5sZW5ndGgpIH07Cn0KCmZ1bmN0aW9uIGdldFJvc3RlckVudHJ5TmFtZU1lc3NhZ2UoZW50cnk6IFJvc3RlckRpc3BsYXlFbnRyeSB8IHVuZGVmaW5lZCk6IG1vZC5NZXNzYWdlIHsKICAgIGlmICghZW50cnkpIHJldHVybiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLmdlbmVyaWNDb3VudGVyLCAiIik7CiAgICBpZiAoZW50cnkucGxheWVyKSByZXR1cm4gbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLnJlYWR5RGlhbG9nLnBsYXllck5hbWVGb3JtYXQsIGVudHJ5LnBsYXllcik7CiAgICBpZiAoZW50cnkubmFtZUtleSkgcmV0dXJuIG1vZC5NZXNzYWdlKGVudHJ5Lm5hbWVLZXkpOwogICAgcmV0dXJuIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0uZ2VuZXJpY0NvdW50ZXIsICIiKTsKfQoKZnVuY3Rpb24gYXJlQWxsQWN0aXZlUGxheWVyc1JlYWR5KCk6IGJvb2xlYW4gewogICAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlUGxheWVycygpOwogICAgY29uc3QgYWN0aXZlQ291bnQgPSBhY3RpdmUuYWxsLmxlbmd0aDsKICAgIGlmIChhY3RpdmVDb3VudCA8IFN0YXRlLnJvdW5kLmF1dG9TdGFydE1pbkFjdGl2ZVBsYXllcnMpIHsKICAgICAgICBpZiAoYWN0aXZlQ291bnQgIT09IDApIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy8gRmFsbGJhY2s6IGlmIG5vIFRlYW0gMS8yIHBsYXllcnMgYXJlIGFzc2lnbmVkIHlldCAodGVhbSAwIHByZS1kZXBsb3kpLAogICAgICAgIC8vIGFsbG93IHRoZSByZWFkeSBjaGVjayB0byB1c2UgYWxsIHZhbGlkIHBsYXllcnMuCiAgICAgICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICAgICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgICAgICBsZXQgdmFsaWRDb3VudCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgICAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQocCk7CiAgICAgICAgICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCkgY29udGludWU7CiAgICAgICAgICAgIGlmICghU3RhdGUucGxheWVycy5yZWFkeUJ5UGlkW3BpZF0pIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgdmFsaWRDb3VudCsrOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsaWRDb3VudCA+PSBTdGF0ZS5yb3VuZC5hdXRvU3RhcnRNaW5BY3RpdmVQbGF5ZXJzOwogICAgfQoKICAgIGZvciAoY29uc3QgcCBvZiBhY3RpdmUuYWxsKSB7CiAgICAgICAgY29uc3QgcGlkID0gc2FmZUdldFBsYXllcklkKHApOwogICAgICAgIGlmIChwaWQgPT09IHVuZGVmaW5lZCkgY29udGludWU7CiAgICAgICAgaWYgKCFTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXSkgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBBY3RpdmUgUGxheWVyIFJlc29sdXRpb24gKyBSb3N0ZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAtIFByZWdhbWUgQ291bnRkb3duIFVJIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBJbXBsZW1lbnRzIGEgc3luY2hyb25pemVkIHByZS1yb3VuZCAxMC0xLUdPISBjb3VudGRvd24gdGhhdCBzdGFydHMgdGhlIHJvdW5kIG9uIEdPLgppbnRlcmZhY2UgQ291bnRkb3duV2lkZ2V0Q2FjaGVFbnRyeSB7CiAgICByb290TmFtZTogc3RyaW5nOwogICAgd2lkZ2V0PzogbW9kLlVJV2lkZ2V0Owp9CgpmdW5jdGlvbiBlbnN1cmVDb3VudGRvd25VSUFuZEdldFdpZGdldChwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiB1bmRlZmluZWQ7CiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKICAgIGNvbnN0IHJvb3ROYW1lID0gIlByZWdhbWVDb3VudGRvd25UZXh0XyIgKyBwaWQ7CgogICAgY29uc3QgY2FjaGVkID0gU3RhdGUuaHVkQ2FjaGUuY291bnRkb3duV2lkZ2V0Q2FjaGVbcGlkXTsKICAgIGlmIChjYWNoZWQpIHsKICAgICAgICBpZiAoY2FjaGVkLndpZGdldCkgcmV0dXJuIGNhY2hlZC53aWRnZXQ7CgogICAgICAgIGNvbnN0IGZvdW5kID0gc2FmZUZpbmQoY2FjaGVkLnJvb3ROYW1lKTsKICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgY2FjaGVkLndpZGdldCA9IGZvdW5kOwogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiByb290TmFtZSwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICBwb3NpdGlvbjogWzAsIDBdLAogICAgICAgIHNpemU6IFszMjAsIDE0MF0sCiAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgYmdDb2xvcjogWzAsIDAsIDBdLAogICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuU29saWQsCiAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wuY291bnRkb3duLmZvcm1hdCwgUFJFR0FNRV9DT1VOVERPV05fU1RBUlRfTlVNQkVSKSwKICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAxXSwKICAgICAgICB0ZXh0QWxwaGE6IFBSRUdBTUVfQUxFUlRfVEVYVF9BTFBIQSwKICAgICAgICB0ZXh0U2l6ZTogUFJFR0FNRV9DT1VOVERPV05fU0laRV9ESUdJVF9TVEFSVCwKICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgfSk7CgogICAgY29uc3Qgd2lkZ2V0ID0gc2FmZUZpbmQocm9vdE5hbWUpOwogICAgU3RhdGUuaHVkQ2FjaGUuY291bnRkb3duV2lkZ2V0Q2FjaGVbcGlkXSA9IHsgcm9vdE5hbWUsIHdpZGdldCB9OwogICAgcmV0dXJuIHdpZGdldDsKfQoKZnVuY3Rpb24gc2V0UHJlZ2FtZUNvdW50ZG93blZpc3VhbEZvckFsbFBsYXllcnMoCiAgICBsYWJlbEtleTogbnVtYmVyLAogICAgbGFiZWxWYWx1ZTogbnVtYmVyIHwgdW5kZWZpbmVkLAogICAgY29sb3I6IG1vZC5WZWN0b3IsCiAgICBzaXplOiBudW1iZXIsCiAgICB2aXNpYmxlOiBib29sZWFuCik6IHZvaWQgewogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBjb25zdCB3ID0gZW5zdXJlQ291bnRkb3duVUlBbmRHZXRXaWRnZXQocCk7CiAgICAgICAgaWYgKCF3KSBjb250aW51ZTsKCiAgICAgICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3LCB2aXNpYmxlKTsKICAgICAgICBpZiAodmlzaWJsZSkgewogICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gKGxhYmVsVmFsdWUgIT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgID8gbW9kLk1lc3NhZ2UobGFiZWxLZXksIGxhYmVsVmFsdWUpCiAgICAgICAgICAgICAgICA6IG1vZC5NZXNzYWdlKGxhYmVsS2V5KTsKICAgICAgICAgICAgbW9kLlNldFVJVGV4dExhYmVsKHcsIG1lc3NhZ2UpOwogICAgICAgICAgICBtb2QuU2V0VUlUZXh0Q29sb3IodywgY29sb3IpOwogICAgICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZSh3LCBzaXplKTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIHNldFByZWdhbWVDb3VudGRvd25TaXplRm9yQWxsUGxheWVycyhzaXplOiBudW1iZXIpOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgdyA9IGVuc3VyZUNvdW50ZG93blVJQW5kR2V0V2lkZ2V0KHApOwogICAgICAgIGlmICghdykgY29udGludWU7CiAgICAgICAgbW9kLlNldFVJVGV4dFNpemUodywgc2l6ZSk7CiAgICB9Cn0KCmZ1bmN0aW9uIGhpZGVQcmVnYW1lQ291bnRkb3duRm9yQWxsUGxheWVycygpOiB2b2lkIHsKICAgIGNvbnN0IHBsYXllcnMgPSBtb2QuQWxsUGxheWVycygpOwogICAgY29uc3QgY291bnQgPSBtb2QuQ291bnRPZihwbGF5ZXJzKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSBtb2QuVmFsdWVJbkFycmF5KHBsYXllcnMsIGkpIGFzIG1vZC5QbGF5ZXI7CiAgICAgICAgaWYgKCFwIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwKSkgY29udGludWU7CiAgICAgICAgY29uc3QgdyA9IGVuc3VyZUNvdW50ZG93blVJQW5kR2V0V2lkZ2V0KHApOwogICAgICAgIGlmICghdykgY29udGludWU7CiAgICAgICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh3LCBmYWxzZSk7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBQcmVnYW1lIENvdW50ZG93biBVSSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIC0gT3ZlckxpbmUgVUkgV2lkZ2V0cyArIEJpZyBNZXNzYWdlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gZW5zdXJlT3ZlckxpbmVUaXRsZVNoYWRvd1VJQW5kR2V0V2lkZ2V0KHBsYXllcjogbW9kLlBsYXllcik6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGNvbnN0IHBpZCA9IG1vZC5HZXRPYmpJZChwbGF5ZXIpOwogICAgY29uc3Qgcm9vdE5hbWUgPSBCSUdfVElUTEVfU0hBRE9XX1dJREdFVF9JRCArIHBpZDsKCiAgICBjb25zdCBjYWNoZWQgPSBTdGF0ZS5odWRDYWNoZS5vdmVyTGluZVRpdGxlU2hhZG93V2lkZ2V0Q2FjaGVbcGlkXTsKICAgIGlmIChjYWNoZWQpIHsKICAgICAgICBpZiAoY2FjaGVkLndpZGdldCkgcmV0dXJuIGNhY2hlZC53aWRnZXQ7CgogICAgICAgIGNvbnN0IGZvdW5kID0gc2FmZUZpbmQoY2FjaGVkLnJvb3ROYW1lKTsKICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgY2FjaGVkLndpZGdldCA9IGZvdW5kOwogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiByb290TmFtZSwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICBwb3NpdGlvbjogW0hVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgQklHX1RJVExFX09GRlNFVF9ZICsgSFVEX1RFWFRfU0hBRE9XX09GRlNFVF9ZXSwKICAgICAgICBzaXplOiBbQklHX1RJVExFX0JHX1dJRFRILCBCSUdfVElUTEVfQkdfSEVJR0hUXSwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgcGFkZGluZzogMCwKICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wub3ZlckxpbmUudGl0bGUsIHBsYXllciksCiAgICAgICAgdGV4dENvbG9yOiBbMCwgMCwgMF0sCiAgICAgICAgdGV4dEFscGhhOiBQUkVHQU1FX0FMRVJUX1RFWFRfQUxQSEEsCiAgICAgICAgdGV4dFNpemU6IEJJR19USVRMRV9TSVpFLAogICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICB9KTsKCiAgICBjb25zdCB3aWRnZXQgPSBzYWZlRmluZChyb290TmFtZSk7CiAgICBTdGF0ZS5odWRDYWNoZS5vdmVyTGluZVRpdGxlU2hhZG93V2lkZ2V0Q2FjaGVbcGlkXSA9IHsgcm9vdE5hbWUsIHdpZGdldCB9OwogICAgcmV0dXJuIHdpZGdldDsKfQoKZnVuY3Rpb24gZW5zdXJlT3ZlckxpbmVTdWJ0aXRsZVNoYWRvd1VJQW5kR2V0V2lkZ2V0KHBsYXllcjogbW9kLlBsYXllcik6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGNvbnN0IHBpZCA9IG1vZC5HZXRPYmpJZChwbGF5ZXIpOwogICAgY29uc3Qgcm9vdE5hbWUgPSBCSUdfU1VCVElUTEVfU0hBRE9XX1dJREdFVF9JRCArIHBpZDsKCiAgICBjb25zdCBjYWNoZWQgPSBTdGF0ZS5odWRDYWNoZS5vdmVyTGluZVN1YnRpdGxlU2hhZG93V2lkZ2V0Q2FjaGVbcGlkXTsKICAgIGlmIChjYWNoZWQpIHsKICAgICAgICBpZiAoY2FjaGVkLndpZGdldCkgcmV0dXJuIGNhY2hlZC53aWRnZXQ7CgogICAgICAgIGNvbnN0IGZvdW5kID0gc2FmZUZpbmQoY2FjaGVkLnJvb3ROYW1lKTsKICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgY2FjaGVkLndpZGdldCA9IGZvdW5kOwogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiByb290TmFtZSwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICBwb3NpdGlvbjogW0hVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgQklHX1NVQlRJVExFX09GRlNFVF9ZICsgSFVEX1RFWFRfU0hBRE9XX09GRlNFVF9ZXSwKICAgICAgICBzaXplOiBbQklHX1NVQlRJVExFX0JHX1dJRFRILCBCSUdfU1VCVElUTEVfQkdfSEVJR0hUXSwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgcGFkZGluZzogMCwKICAgICAgICBiZ0FscGhhOiAwLAogICAgICAgIGJnRmlsbDogbW9kLlVJQmdGaWxsLk5vbmUsCiAgICAgICAgdGV4dExhYmVsOiBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wub3ZlckxpbmUuc3VidGl0bGUsIHBsYXllciksCiAgICAgICAgdGV4dENvbG9yOiBbMCwgMCwgMF0sCiAgICAgICAgdGV4dEFscGhhOiBQUkVHQU1FX0FMRVJUX1RFWFRfQUxQSEEsCiAgICAgICAgdGV4dFNpemU6IEJJR19TVUJUSVRMRV9TSVpFLAogICAgICAgIHRleHRBbmNob3I6IG1vZC5VSUFuY2hvci5DZW50ZXIsCiAgICB9KTsKCiAgICBjb25zdCB3aWRnZXQgPSBzYWZlRmluZChyb290TmFtZSk7CiAgICBTdGF0ZS5odWRDYWNoZS5vdmVyTGluZVN1YnRpdGxlU2hhZG93V2lkZ2V0Q2FjaGVbcGlkXSA9IHsgcm9vdE5hbWUsIHdpZGdldCB9OwogICAgcmV0dXJuIHdpZGdldDsKfQoKZnVuY3Rpb24gZW5zdXJlT3ZlckxpbmVUaXRsZVVJQW5kR2V0V2lkZ2V0KHBsYXllcjogbW9kLlBsYXllcik6IG1vZC5VSVdpZGdldCB8IHVuZGVmaW5lZCB7CiAgICBpZiAoIXBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQocGxheWVyKSkgcmV0dXJuIHVuZGVmaW5lZDsKICAgIGNvbnN0IHBpZCA9IG1vZC5HZXRPYmpJZChwbGF5ZXIpOwogICAgY29uc3Qgcm9vdE5hbWUgPSBCSUdfVElUTEVfV0lER0VUX0lEICsgcGlkOwoKICAgIGNvbnN0IGNhY2hlZCA9IFN0YXRlLmh1ZENhY2hlLm92ZXJMaW5lVGl0bGVXaWRnZXRDYWNoZVtwaWRdOwogICAgaWYgKGNhY2hlZCkgewogICAgICAgIGlmIChjYWNoZWQud2lkZ2V0KSByZXR1cm4gY2FjaGVkLndpZGdldDsKCiAgICAgICAgY29uc3QgZm91bmQgPSBzYWZlRmluZChjYWNoZWQucm9vdE5hbWUpOwogICAgICAgIGlmIChmb3VuZCkgewogICAgICAgICAgICBjYWNoZWQud2lkZ2V0ID0gZm91bmQ7CiAgICAgICAgICAgIHJldHVybiBmb3VuZDsKICAgICAgICB9CiAgICB9CgogICAgbW9kbGliLlBhcnNlVUkoewogICAgICAgIG5hbWU6IHJvb3ROYW1lLAogICAgICAgIHR5cGU6ICJUZXh0IiwKICAgICAgICBwbGF5ZXJJZDogcGxheWVyLAogICAgICAgIHBvc2l0aW9uOiBbMCwgQklHX1RJVExFX09GRlNFVF9ZXSwKICAgICAgICBzaXplOiBbQklHX1RJVExFX0JHX1dJRFRILCBCSUdfVElUTEVfQkdfSEVJR0hUXSwKICAgICAgICBhbmNob3I6IG1vZC5VSUFuY2hvci5Ub3BDZW50ZXIsCiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgcGFkZGluZzogMCwKICAgICAgICBiZ0NvbG9yOiBDT0xPUl9HUkFZX0RBUkssCiAgICAgICAgYmdBbHBoYTogMCwKICAgICAgICBiZ0ZpbGw6IG1vZC5VSUJnRmlsbC5CbHVyLAogICAgICAgIHRleHRMYWJlbDogbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLm92ZXJMaW5lLnRpdGxlLCBwbGF5ZXIpLAogICAgICAgIHRleHRDb2xvcjogWzEsIDAsIDBdLAogICAgICAgIHRleHRBbHBoYTogUFJFR0FNRV9BTEVSVF9URVhUX0FMUEhBLAogICAgICAgIHRleHRTaXplOiBCSUdfVElUTEVfU0laRSwKICAgICAgICB0ZXh0QW5jaG9yOiBtb2QuVUlBbmNob3IuQ2VudGVyLAogICAgfSk7CgogICAgY29uc3Qgd2lkZ2V0ID0gc2FmZUZpbmQocm9vdE5hbWUpOwogICAgU3RhdGUuaHVkQ2FjaGUub3ZlckxpbmVUaXRsZVdpZGdldENhY2hlW3BpZF0gPSB7IHJvb3ROYW1lLCB3aWRnZXQgfTsKICAgIHJldHVybiB3aWRnZXQ7Cn0KCmZ1bmN0aW9uIGVuc3VyZU92ZXJMaW5lU3VidGl0bGVVSUFuZEdldFdpZGdldChwbGF5ZXI6IG1vZC5QbGF5ZXIpOiBtb2QuVUlXaWRnZXQgfCB1bmRlZmluZWQgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiB1bmRlZmluZWQ7CiAgICBjb25zdCBwaWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKICAgIGNvbnN0IHJvb3ROYW1lID0gQklHX1NVQlRJVExFX1dJREdFVF9JRCArIHBpZDsKCiAgICBjb25zdCBjYWNoZWQgPSBTdGF0ZS5odWRDYWNoZS5vdmVyTGluZVN1YnRpdGxlV2lkZ2V0Q2FjaGVbcGlkXTsKICAgIGlmIChjYWNoZWQpIHsKICAgICAgICBpZiAoY2FjaGVkLndpZGdldCkgcmV0dXJuIGNhY2hlZC53aWRnZXQ7CgogICAgICAgIGNvbnN0IGZvdW5kID0gc2FmZUZpbmQoY2FjaGVkLnJvb3ROYW1lKTsKICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgY2FjaGVkLndpZGdldCA9IGZvdW5kOwogICAgICAgICAgICByZXR1cm4gZm91bmQ7CiAgICAgICAgfQogICAgfQoKICAgIG1vZGxpYi5QYXJzZVVJKHsKICAgICAgICBuYW1lOiByb290TmFtZSwKICAgICAgICB0eXBlOiAiVGV4dCIsCiAgICAgICAgcGxheWVySWQ6IHBsYXllciwKICAgICAgICBwb3NpdGlvbjogWzAsIEJJR19TVUJUSVRMRV9PRkZTRVRfWV0sCiAgICAgICAgc2l6ZTogW0JJR19TVUJUSVRMRV9CR19XSURUSCwgQklHX1NVQlRJVExFX0JHX0hFSUdIVF0sCiAgICAgICAgYW5jaG9yOiBtb2QuVUlBbmNob3IuVG9wQ2VudGVyLAogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgYmdDb2xvcjogQ09MT1JfR1JBWV9EQVJLLAogICAgICAgIGJnQWxwaGE6IDAsCiAgICAgICAgYmdGaWxsOiBtb2QuVUlCZ0ZpbGwuQmx1ciwKICAgICAgICB0ZXh0TGFiZWw6IG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5vdmVyTGluZS5zdWJ0aXRsZSwgcGxheWVyKSwKICAgICAgICB0ZXh0Q29sb3I6IFsxLCAxLCAwXSwKICAgICAgICB0ZXh0QWxwaGE6IFBSRUdBTUVfQUxFUlRfVEVYVF9BTFBIQSwKICAgICAgICB0ZXh0U2l6ZTogQklHX1NVQlRJVExFX1NJWkUsCiAgICAgICAgdGV4dEFuY2hvcjogbW9kLlVJQW5jaG9yLkNlbnRlciwKICAgIH0pOwoKICAgIGNvbnN0IHdpZGdldCA9IHNhZmVGaW5kKHJvb3ROYW1lKTsKICAgIFN0YXRlLmh1ZENhY2hlLm92ZXJMaW5lU3VidGl0bGVXaWRnZXRDYWNoZVtwaWRdID0geyByb290TmFtZSwgd2lkZ2V0IH07CiAgICByZXR1cm4gd2lkZ2V0Owp9CgpmdW5jdGlvbiBjYW5jZWxQcmVnYW1lQ291bnRkb3duKCk6IHZvaWQgewogICAgaWYgKCFTdGF0ZS5yb3VuZC5jb3VudGRvd24uaXNBY3RpdmUpIHJldHVybjsKICAgIFN0YXRlLnJvdW5kLmNvdW50ZG93bi50b2tlbisrOwogICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlID0gZmFsc2U7CiAgICBoaWRlUHJlZ2FtZUNvdW50ZG93bkZvckFsbFBsYXllcnMoKTsKfQoKZnVuY3Rpb24gaGlkZUJpZ1RpdGxlU3VidGl0bGVNZXNzYWdlRm9yUGxheWVyKHBpZDogbnVtYmVyKTogdm9pZCB7CiAgICBjb25zdCB0aXRsZVNoYWRvdyA9IHNhZmVGaW5kKEJJR19USVRMRV9TSEFET1dfV0lER0VUX0lEICsgcGlkKTsKICAgIGlmICh0aXRsZVNoYWRvdykgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0aXRsZVNoYWRvdywgZmFsc2UpOwoKICAgIGNvbnN0IHRpdGxlID0gc2FmZUZpbmQoQklHX1RJVExFX1dJREdFVF9JRCArIHBpZCk7CiAgICBpZiAodGl0bGUpIG1vZC5TZXRVSVdpZGdldFZpc2libGUodGl0bGUsIGZhbHNlKTsKCiAgICBjb25zdCBzdWJ0aXRsZVNoYWRvdyA9IHNhZmVGaW5kKEJJR19TVUJUSVRMRV9TSEFET1dfV0lER0VUX0lEICsgcGlkKTsKICAgIGlmIChzdWJ0aXRsZVNoYWRvdykgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShzdWJ0aXRsZVNoYWRvdywgZmFsc2UpOwoKICAgIGNvbnN0IHN1YnRpdGxlID0gc2FmZUZpbmQoQklHX1NVQlRJVExFX1dJREdFVF9JRCArIHBpZCk7CiAgICBpZiAoc3VidGl0bGUpIG1vZC5TZXRVSVdpZGdldFZpc2libGUoc3VidGl0bGUsIGZhbHNlKTsKfQoKYXN5bmMgZnVuY3Rpb24gc2hvd092ZXJMaW5lTWVzc2FnZUZvckFsbFBsYXllcnMob2ZmZW5kZXI6IG1vZC5QbGF5ZXIpOiBQcm9taXNlPHZvaWQ+IHsKICAgIGNvbnN0IG9mZmVuZGVyVG9rZW4gPSAob2ZmZW5kZXIgJiYgbW9kLklzUGxheWVyVmFsaWQob2ZmZW5kZXIpKQogICAgICAgID8gb2ZmZW5kZXIKICAgICAgICA6IG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0udW5rbm93blBsYXllcjsKICAgIGF3YWl0IHNob3dHbG9iYWxUaXRsZVN1YnRpdGxlTWVzc2FnZUZvckFsbFBsYXllcnMoCiAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLm92ZXJMaW5lLnRpdGxlLCBvZmZlbmRlclRva2VuKSwKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wub3ZlckxpbmUuc3VidGl0bGUsIG9mZmVuZGVyVG9rZW4pLAogICAgICAgIENPTE9SX05PVF9SRUFEWV9SRUQsCiAgICAgICAgQ09MT1JfV0FSTklOR19ZRUxMT1cKICAgICk7Cn0KCnR5cGUgQmlnTWVzc2FnZUJ1aWxkZXIgPSAocmVtYWluaW5nU2Vjb25kczogbnVtYmVyKSA9PiBtb2QuTWVzc2FnZSB8IHVuZGVmaW5lZDsKdHlwZSBCaWdNZXNzYWdlUGxheWVyRmlsdGVyID0gKHBsYXllcjogbW9kLlBsYXllcikgPT4gYm9vbGVhbjsKCmZ1bmN0aW9uIHJlbmRlckJpZ1RpdGxlU3VidGl0bGVNZXNzYWdlRm9yQWxsUGxheWVycygKICAgIHRpdGxlOiBtb2QuTWVzc2FnZSB8IHVuZGVmaW5lZCwKICAgIHN1YnRpdGxlOiBtb2QuTWVzc2FnZSB8IHVuZGVmaW5lZCwKICAgIHRpdGxlQ29sb3I6IG1vZC5WZWN0b3IsCiAgICBzdWJ0aXRsZUNvbG9yOiBtb2QuVmVjdG9yLAogICAgbGF5b3V0OiBHbG9iYWxNZXNzYWdlTGF5b3V0LAogICAgcGxheWVyRmlsdGVyPzogQmlnTWVzc2FnZVBsYXllckZpbHRlcgopOiB2b2lkIHsKICAgIGNvbnN0IHRpdGxlQmdBbHBoYSA9IGxheW91dC51c2VCYWNrZ3JvdW5kID8gQklHX01FU1NBR0VfQkdfQUxQSEEgOiAwOwogICAgY29uc3Qgc3VidGl0bGVCZ0FscGhhID0gKGxheW91dC5zdWJ0aXRsZVVzZUJhY2tncm91bmQgPz8gbGF5b3V0LnVzZUJhY2tncm91bmQpID8gQklHX01FU1NBR0VfQkdfQUxQSEEgOiAwOwogICAgY29uc3QgdGl0bGVCZ0hlaWdodCA9IGxheW91dC50aXRsZUJnSGVpZ2h0ID8/IEJJR19USVRMRV9CR19IRUlHSFQ7CiAgICBjb25zdCB0aXRsZU9mZnNldFkgPSBsYXlvdXQudGl0bGVPZmZzZXRZICsgKEJJR19USVRMRV9CR19IRUlHSFQgLSB0aXRsZUJnSGVpZ2h0KSAvIDI7CgogICAgY29uc3QgcGxheWVycyA9IG1vZC5BbGxQbGF5ZXJzKCk7CiAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgY29uc3QgcCA9IG1vZC5WYWx1ZUluQXJyYXkocGxheWVycywgaSkgYXMgbW9kLlBsYXllcjsKICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICBpZiAocGxheWVyRmlsdGVyICYmICFwbGF5ZXJGaWx0ZXIocCkpIHsKICAgICAgICAgICAgaGlkZUJpZ1RpdGxlU3VidGl0bGVNZXNzYWdlRm9yUGxheWVyKGdldE9iaklkKHApKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCB0aXRsZVNoYWRvd1dpZGdldCA9IGVuc3VyZU92ZXJMaW5lVGl0bGVTaGFkb3dVSUFuZEdldFdpZGdldChwKTsKICAgICAgICBpZiAodGl0bGVTaGFkb3dXaWRnZXQpIHsKICAgICAgICAgICAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh0aXRsZVNoYWRvd1dpZGdldCwgdGl0bGUpOwogICAgICAgICAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKHRpdGxlU2hhZG93V2lkZ2V0LCBtb2QuQ3JlYXRlVmVjdG9yKDAsIDAsIDApKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRTaXplKHRpdGxlU2hhZG93V2lkZ2V0LCBsYXlvdXQudGl0bGVTaXplKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFNpemUodGl0bGVTaGFkb3dXaWRnZXQsIG1vZC5DcmVhdGVWZWN0b3IoQklHX1RJVExFX0JHX1dJRFRILCB0aXRsZUJnSGVpZ2h0LCAwKSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbigKICAgICAgICAgICAgICAgICAgICB0aXRsZVNoYWRvd1dpZGdldCwKICAgICAgICAgICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKEhVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgdGl0bGVPZmZzZXRZICsgSFVEX1RFWFRfU0hBRE9XX09GRlNFVF9ZLCAwKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFZpc2libGUodGl0bGVTaGFkb3dXaWRnZXQsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZSh0aXRsZVNoYWRvd1dpZGdldCwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zdCB0aXRsZVdpZGdldCA9IGVuc3VyZU92ZXJMaW5lVGl0bGVVSUFuZEdldFdpZGdldChwKTsKICAgICAgICBpZiAodGl0bGVXaWRnZXQpIHsKICAgICAgICAgICAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRMYWJlbCh0aXRsZVdpZGdldCwgdGl0bGUpOwogICAgICAgICAgICAgICAgbW9kLlNldFVJVGV4dENvbG9yKHRpdGxlV2lkZ2V0LCB0aXRsZUNvbG9yKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRTaXplKHRpdGxlV2lkZ2V0LCBsYXlvdXQudGl0bGVTaXplKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFNpemUodGl0bGVXaWRnZXQsIG1vZC5DcmVhdGVWZWN0b3IoQklHX1RJVExFX0JHX1dJRFRILCB0aXRsZUJnSGVpZ2h0LCAwKSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbih0aXRsZVdpZGdldCwgbW9kLkNyZWF0ZVZlY3RvcigwLCB0aXRsZU9mZnNldFksIDApKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldEJnQWxwaGEodGl0bGVXaWRnZXQsIHRpdGxlQmdBbHBoYSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHRpdGxlV2lkZ2V0LCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFZpc2libGUodGl0bGVXaWRnZXQsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3Qgc3VidGl0bGVTaGFkb3dXaWRnZXQgPSBlbnN1cmVPdmVyTGluZVN1YnRpdGxlU2hhZG93VUlBbmRHZXRXaWRnZXQocCk7CiAgICAgICAgaWYgKHN1YnRpdGxlU2hhZG93V2lkZ2V0KSB7CiAgICAgICAgICAgIGlmIChzdWJ0aXRsZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoc3VidGl0bGVTaGFkb3dXaWRnZXQsIHN1YnRpdGxlKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRDb2xvcihzdWJ0aXRsZVNoYWRvd1dpZGdldCwgbW9kLkNyZWF0ZVZlY3RvcigwLCAwLCAwKSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShzdWJ0aXRsZVNoYWRvd1dpZGdldCwgbGF5b3V0LnN1YnRpdGxlU2l6ZSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbigKICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNoYWRvd1dpZGdldCwKICAgICAgICAgICAgICAgICAgICBtb2QuQ3JlYXRlVmVjdG9yKEhVRF9URVhUX1NIQURPV19PRkZTRVRfWCwgbGF5b3V0LnN1YnRpdGxlT2Zmc2V0WSArIEhVRF9URVhUX1NIQURPV19PRkZTRVRfWSwgMCkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHN1YnRpdGxlU2hhZG93V2lkZ2V0LCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVdpZGdldFZpc2libGUoc3VidGl0bGVTaGFkb3dXaWRnZXQsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3Qgc3VidGl0bGVXaWRnZXQgPSBlbnN1cmVPdmVyTGluZVN1YnRpdGxlVUlBbmRHZXRXaWRnZXQocCk7CiAgICAgICAgaWYgKHN1YnRpdGxlV2lkZ2V0KSB7CiAgICAgICAgICAgIGlmIChzdWJ0aXRsZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlUZXh0TGFiZWwoc3VidGl0bGVXaWRnZXQsIHN1YnRpdGxlKTsKICAgICAgICAgICAgICAgIG1vZC5TZXRVSVRleHRDb2xvcihzdWJ0aXRsZVdpZGdldCwgc3VidGl0bGVDb2xvcik7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlUZXh0U2l6ZShzdWJ0aXRsZVdpZGdldCwgbGF5b3V0LnN1YnRpdGxlU2l6ZSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRQb3NpdGlvbihzdWJ0aXRsZVdpZGdldCwgbW9kLkNyZWF0ZVZlY3RvcigwLCBsYXlvdXQuc3VidGl0bGVPZmZzZXRZLCAwKSk7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRCZ0FscGhhKHN1YnRpdGxlV2lkZ2V0LCBzdWJ0aXRsZUJnQWxwaGEpOwogICAgICAgICAgICAgICAgbW9kLlNldFVJV2lkZ2V0VmlzaWJsZShzdWJ0aXRsZVdpZGdldCwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtb2QuU2V0VUlXaWRnZXRWaXNpYmxlKHN1YnRpdGxlV2lkZ2V0LCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIGhpZGVCaWdUaXRsZVN1YnRpdGxlTWVzc2FnZUZvckFsbFBsYXllcnMoKTogdm9pZCB7CiAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgIGNvbnN0IGNvdW50ID0gbW9kLkNvdW50T2YocGxheWVycyk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgIGlmICghcCB8fCAhbW9kLklzUGxheWVyVmFsaWQocCkpIGNvbnRpbnVlOwogICAgICAgIGhpZGVCaWdUaXRsZVN1YnRpdGxlTWVzc2FnZUZvclBsYXllcihtb2QuR2V0T2JqSWQocCkpOwogICAgfQp9Cgphc3luYyBmdW5jdGlvbiBzaG93R2xvYmFsVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKAogICAgdGl0bGU6IG1vZC5NZXNzYWdlIHwgdW5kZWZpbmVkLAogICAgc3VidGl0bGU6IG1vZC5NZXNzYWdlIHwgdW5kZWZpbmVkLAogICAgdGl0bGVDb2xvcjogbW9kLlZlY3RvciwKICAgIHN1YnRpdGxlQ29sb3I6IG1vZC5WZWN0b3IsCiAgICBkdXJhdGlvblNlY29uZHM6IG51bWJlciA9IEJJR19NRVNTQUdFX0RVUkFUSU9OX1NFQ09ORFMsCiAgICBsYXlvdXQ6IEdsb2JhbE1lc3NhZ2VMYXlvdXQgPSBCSUdfTUVTU0FHRV9MQVlPVVQsCiAgICBwbGF5ZXJGaWx0ZXI/OiBCaWdNZXNzYWdlUGxheWVyRmlsdGVyCik6IFByb21pc2U8dm9pZD4gewogICAgU3RhdGUucm91bmQuY291bnRkb3duLm92ZXJMaW5lTWVzc2FnZVRva2VuID0gKFN0YXRlLnJvdW5kLmNvdW50ZG93bi5vdmVyTGluZU1lc3NhZ2VUb2tlbiArIDEpICUgMTAwMDAwMDAwMDsKICAgIGNvbnN0IGV4cGVjdGVkVG9rZW4gPSBTdGF0ZS5yb3VuZC5jb3VudGRvd24ub3ZlckxpbmVNZXNzYWdlVG9rZW47CgogICAgcmVuZGVyQmlnVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKHRpdGxlLCBzdWJ0aXRsZSwgdGl0bGVDb2xvciwgc3VidGl0bGVDb2xvciwgbGF5b3V0LCBwbGF5ZXJGaWx0ZXIpOwoKICAgIGF3YWl0IG1vZC5XYWl0KGR1cmF0aW9uU2Vjb25kcyk7CiAgICBpZiAoZXhwZWN0ZWRUb2tlbiAhPT0gU3RhdGUucm91bmQuY291bnRkb3duLm92ZXJMaW5lTWVzc2FnZVRva2VuKSByZXR1cm47CiAgICBoaWRlQmlnVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHNob3dEeW5hbWljR2xvYmFsVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKAogICAgdGl0bGVCdWlsZGVyOiBCaWdNZXNzYWdlQnVpbGRlciB8IHVuZGVmaW5lZCwKICAgIHN1YnRpdGxlQnVpbGRlcjogQmlnTWVzc2FnZUJ1aWxkZXIgfCB1bmRlZmluZWQsCiAgICB0aXRsZUNvbG9yOiBtb2QuVmVjdG9yLAogICAgc3VidGl0bGVDb2xvcjogbW9kLlZlY3RvciwKICAgIGR1cmF0aW9uU2Vjb25kczogbnVtYmVyID0gQklHX01FU1NBR0VfRFVSQVRJT05fU0VDT05EUywKICAgIHJlZnJlc2hJbnRlcnZhbFNlY29uZHM6IG51bWJlciA9IDEsCiAgICBsYXlvdXQ6IEdsb2JhbE1lc3NhZ2VMYXlvdXQgPSBCSUdfTUVTU0FHRV9MQVlPVVQsCiAgICBwbGF5ZXJGaWx0ZXI/OiBCaWdNZXNzYWdlUGxheWVyRmlsdGVyCik6IFByb21pc2U8dm9pZD4gewogICAgU3RhdGUucm91bmQuY291bnRkb3duLm92ZXJMaW5lTWVzc2FnZVRva2VuID0gKFN0YXRlLnJvdW5kLmNvdW50ZG93bi5vdmVyTGluZU1lc3NhZ2VUb2tlbiArIDEpICUgMTAwMDAwMDAwMDsKICAgIGNvbnN0IGV4cGVjdGVkVG9rZW4gPSBTdGF0ZS5yb3VuZC5jb3VudGRvd24ub3ZlckxpbmVNZXNzYWdlVG9rZW47CiAgICBjb25zdCBlbmRBdFNlY29uZHMgPSBtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpICsgTWF0aC5tYXgoMCwgZHVyYXRpb25TZWNvbmRzKTsKICAgIGxldCBsYXN0UmVtYWluaW5nU2Vjb25kcyA9IC0xOwoKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgaWYgKGV4cGVjdGVkVG9rZW4gIT09IFN0YXRlLnJvdW5kLmNvdW50ZG93bi5vdmVyTGluZU1lc3NhZ2VUb2tlbikgcmV0dXJuOwoKICAgICAgICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gTWF0aC5mbG9vcihnZXRSZW1haW5pbmdTZWNvbmRzKCkpOwogICAgICAgIGlmIChyZW1haW5pbmdTZWNvbmRzICE9PSBsYXN0UmVtYWluaW5nU2Vjb25kcykgewogICAgICAgICAgICBsYXN0UmVtYWluaW5nU2Vjb25kcyA9IHJlbWFpbmluZ1NlY29uZHM7CiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVCdWlsZGVyID8gdGl0bGVCdWlsZGVyKHJlbWFpbmluZ1NlY29uZHMpIDogdW5kZWZpbmVkOwogICAgICAgICAgICBjb25zdCBzdWJ0aXRsZSA9IHN1YnRpdGxlQnVpbGRlciA/IHN1YnRpdGxlQnVpbGRlcihyZW1haW5pbmdTZWNvbmRzKSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgaWYgKHRpdGxlIHx8IHN1YnRpdGxlKSB7CiAgICAgICAgICAgICAgICByZW5kZXJCaWdUaXRsZVN1YnRpdGxlTWVzc2FnZUZvckFsbFBsYXllcnModGl0bGUsIHN1YnRpdGxlLCB0aXRsZUNvbG9yLCBzdWJ0aXRsZUNvbG9yLCBsYXlvdXQsIHBsYXllckZpbHRlcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlbWFpbmluZ0R1cmF0aW9uID0gZW5kQXRTZWNvbmRzIC0gbW9kLkdldE1hdGNoVGltZUVsYXBzZWQoKTsKICAgICAgICBpZiAocmVtYWluaW5nRHVyYXRpb24gPD0gMCkgYnJlYWs7CiAgICAgICAgYXdhaXQgbW9kLldhaXQoTWF0aC5taW4ocmVmcmVzaEludGVydmFsU2Vjb25kcywgcmVtYWluaW5nRHVyYXRpb24pKTsKICAgIH0KCiAgICBpZiAoZXhwZWN0ZWRUb2tlbiAhPT0gU3RhdGUucm91bmQuY291bnRkb3duLm92ZXJMaW5lTWVzc2FnZVRva2VuKSByZXR1cm47CiAgICBoaWRlQmlnVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHNob3dSb3VuZFN0YXJ0TWVzc2FnZUZvckFsbFBsYXllcnMoZHVyYXRpb25TZWNvbmRzPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7CiAgICBhd2FpdCBzaG93R2xvYmFsVGl0bGVTdWJ0aXRsZU1lc3NhZ2VGb3JBbGxQbGF5ZXJzKAogICAgICAgIG1vZC5NZXNzYWdlKFNUUl9ST1VORF9TVEFSVF9USVRMRSksCiAgICAgICAgbW9kLk1lc3NhZ2UoU1RSX1JPVU5EX1NUQVJUX1NVQlRJVExFKSwKICAgICAgICBDT0xPUl9XSElURSwKICAgICAgICBDT0xPUl9XSElURSwKICAgICAgICBkdXJhdGlvblNlY29uZHMKICAgICk7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBPdmVyTGluZSBVSSBXaWRnZXRzICsgQmlnIE1lc3NhZ2VzIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBSZWFkeSBEaWFsb2cgLSBQcmVnYW1lIENvdW50ZG93biBGbG93IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBzdGFydFByZWdhbWVDb3VudGRvd24odHJpZ2dlclBsYXllcj86IG1vZC5QbGF5ZXIsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQgewogICAgaWYgKFN0YXRlLnJvdW5kLmNvdW50ZG93bi5pc0FjdGl2ZSkgcmV0dXJuOwogICAgaWYgKFN0YXRlLm1hdGNoLmlzRW5kZWQgfHwgaXNSb3VuZExpdmUoKSkgcmV0dXJuOwogICAgaWYgKCFmb3JjZSAmJiAhYXJlQWxsQWN0aXZlUGxheWVyc1JlYWR5KCkpIHJldHVybjsKCiAgICBjbG9zZVJlYWR5RGlhbG9nRm9yQWxsUGxheWVycygpOwogICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlID0gdHJ1ZTsKICAgIFN0YXRlLnJvdW5kLmNvdW50ZG93bi5pc1JlcXVlc3RlZCA9IHRydWU7CiAgICBTdGF0ZS5yb3VuZC5jb3VudGRvd24udG9rZW4rKzsKICAgIGNvbnN0IGV4cGVjdGVkVG9rZW4gPSBTdGF0ZS5yb3VuZC5jb3VudGRvd24udG9rZW47CgogICAgdm9pZCBydW5QcmVnYW1lQ291bnRkb3duKGV4cGVjdGVkVG9rZW4sIHRyaWdnZXJQbGF5ZXIsIGZvcmNlID09PSB0cnVlKTsKfQoKZnVuY3Rpb24gaXNQcmVnYW1lQ291bnRkb3duU3RpbGxWYWxpZChleHBlY3RlZFRva2VuOiBudW1iZXIsIGZvcmNlPzogYm9vbGVhbiwgYWxsb3dSb3VuZEFjdGl2ZT86IGJvb2xlYW4pOiBib29sZWFuIHsKICAgIGlmIChleHBlY3RlZFRva2VuICE9PSBTdGF0ZS5yb3VuZC5jb3VudGRvd24udG9rZW4pIHJldHVybiBmYWxzZTsKICAgIGlmIChTdGF0ZS5tYXRjaC5pc0VuZGVkKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoIWFsbG93Um91bmRBY3RpdmUgJiYgaXNSb3VuZExpdmUoKSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKCFmb3JjZSAmJiAhYXJlQWxsQWN0aXZlUGxheWVyc1JlYWR5KCkpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBnZXRQcmVnYW1lQ291bnRkb3duQ29sb3IodmFsdWU6IG51bWJlcik6IG1vZC5WZWN0b3IgewogICAgcmV0dXJuIHZhbHVlID09PSAxID8gbW9kLkNyZWF0ZVZlY3RvcigxLCAxLCAwKSA6IG1vZC5DcmVhdGVWZWN0b3IoMSwgMCwgMCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIGFuaW1hdGVQcmVnYW1lQ291bnRkb3duU2l6ZSgKICAgIGV4cGVjdGVkVG9rZW46IG51bWJlciwKICAgIGZvcmNlOiBib29sZWFuLAogICAgc3RhcnRTaXplOiBudW1iZXIsCiAgICBlbmRTaXplOiBudW1iZXIsCiAgICBhbGxvd1JvdW5kQWN0aXZlPzogYm9vbGVhbgopOiBQcm9taXNlPGJvb2xlYW4+IHsKICAgIGNvbnN0IHN0ZXBTZWNvbmRzID0gUFJFR0FNRV9DT1VOVERPV05fU1RFUF9TRUNPTkRTIC8gUFJFR0FNRV9DT1VOVERPV05fQU5JTUFUSU9OX1NURVBTOwogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gUFJFR0FNRV9DT1VOVERPV05fQU5JTUFUSU9OX1NURVBTOyBpKyspIHsKICAgICAgICBhd2FpdCBtb2QuV2FpdChzdGVwU2Vjb25kcyk7CiAgICAgICAgaWYgKCFpc1ByZWdhbWVDb3VudGRvd25TdGlsbFZhbGlkKGV4cGVjdGVkVG9rZW4sIGZvcmNlLCBhbGxvd1JvdW5kQWN0aXZlKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGNvbnN0IHQgPSBpIC8gUFJFR0FNRV9DT1VOVERPV05fQU5JTUFUSU9OX1NURVBTOwogICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHN0YXJ0U2l6ZSArIChlbmRTaXplIC0gc3RhcnRTaXplKSAqIHQpKTsKICAgICAgICBzZXRQcmVnYW1lQ291bnRkb3duU2l6ZUZvckFsbFBsYXllcnMoc2l6ZSk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKYXN5bmMgZnVuY3Rpb24gcnVuUHJlZ2FtZUNvdW50ZG93bihleHBlY3RlZFRva2VuOiBudW1iZXIsIHRyaWdnZXJQbGF5ZXI/OiBtb2QuUGxheWVyLCBmb3JjZT86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHsKICAgIGF3YWl0IG1vZC5XYWl0KFBSRUdBTUVfQ09VTlRET1dOX0lOSVRJQUxfREVMQVlfU0VDT05EUyk7CgogICAgaWYgKCFpc1ByZWdhbWVDb3VudGRvd25TdGlsbFZhbGlkKGV4cGVjdGVkVG9rZW4sIGZvcmNlKSkgewogICAgICAgIFN0YXRlLnJvdW5kLmNvdW50ZG93bi5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICAgIGhpZGVQcmVnYW1lQ291bnRkb3duRm9yQWxsUGxheWVycygpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBmb3IgKGxldCB2YWx1ZSA9IFBSRUdBTUVfQ09VTlRET1dOX1NUQVJUX05VTUJFUjsgdmFsdWUgPj0gMTsgdmFsdWUtLSkgewogICAgICAgIGlmICghaXNQcmVnYW1lQ291bnRkb3duU3RpbGxWYWxpZChleHBlY3RlZFRva2VuLCBmb3JjZSkpIHsKICAgICAgICAgICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIGhpZGVQcmVnYW1lQ291bnRkb3duRm9yQWxsUGxheWVycygpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsdWUgPT09IDQpIHsKICAgICAgICAgICAgLy8gU3RhcnQgdGhlIHJvdW5kLXN0YXJ0IG1lc3NhZ2luZyBzbyBpdCBlbmRzIHdpdGggdGhlIEdPISBoaWRlLgogICAgICAgICAgICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gKCh2YWx1ZSArIDEpICogUFJFR0FNRV9DT1VOVERPV05fU1RFUF9TRUNPTkRTKSArIFBSRUdBTUVfQ09VTlRET1dOX0dPX0hPTERfU0VDT05EUzsKICAgICAgICAgICAgdm9pZCBzaG93Um91bmRTdGFydE1lc3NhZ2VGb3JBbGxQbGF5ZXJzKHJlbWFpbmluZ1NlY29uZHMpOwogICAgICAgIH0KCiAgICAgICAgc2V0UHJlZ2FtZUNvdW50ZG93blZpc3VhbEZvckFsbFBsYXllcnMoCiAgICAgICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5jb3VudGRvd24uZm9ybWF0LAogICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgZ2V0UHJlZ2FtZUNvdW50ZG93bkNvbG9yKHZhbHVlKSwKICAgICAgICAgICAgUFJFR0FNRV9DT1VOVERPV05fU0laRV9ESUdJVF9TVEFSVCwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICk7CgogICAgICAgIGNvbnN0IG9rID0gYXdhaXQgYW5pbWF0ZVByZWdhbWVDb3VudGRvd25TaXplKAogICAgICAgICAgICBleHBlY3RlZFRva2VuLAogICAgICAgICAgICBmb3JjZSA9PT0gdHJ1ZSwKICAgICAgICAgICAgUFJFR0FNRV9DT1VOVERPV05fU0laRV9ESUdJVF9TVEFSVCwKICAgICAgICAgICAgUFJFR0FNRV9DT1VOVERPV05fU0laRV9ESUdJVF9FTkQKICAgICAgICApOwogICAgICAgIGlmICghb2spIHsKICAgICAgICAgICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIGhpZGVQcmVnYW1lQ291bnRkb3duRm9yQWxsUGxheWVycygpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIGlmICghaXNQcmVnYW1lQ291bnRkb3duU3RpbGxWYWxpZChleHBlY3RlZFRva2VuLCBmb3JjZSkpIHsKICAgICAgICBTdGF0ZS5yb3VuZC5jb3VudGRvd24uaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICBoaWRlUHJlZ2FtZUNvdW50ZG93bkZvckFsbFBsYXllcnMoKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgc2V0UHJlZ2FtZUNvdW50ZG93blZpc3VhbEZvckFsbFBsYXllcnMoCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLmNvdW50ZG93bi5nbywKICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgbW9kLkNyZWF0ZVZlY3RvcigwLCAxLCAwKSwKICAgICAgICBQUkVHQU1FX0NPVU5URE9XTl9TSVpFX0dPX1NUQVJULAogICAgICAgIHRydWUKICAgICk7CiAgICBzdGFydFJvdW5kKHRyaWdnZXJQbGF5ZXIpOwoKICAgIGNvbnN0IG9rID0gYXdhaXQgYW5pbWF0ZVByZWdhbWVDb3VudGRvd25TaXplKAogICAgICAgIGV4cGVjdGVkVG9rZW4sCiAgICAgICAgZm9yY2UgPT09IHRydWUsCiAgICAgICAgUFJFR0FNRV9DT1VOVERPV05fU0laRV9HT19TVEFSVCwKICAgICAgICBQUkVHQU1FX0NPVU5URE9XTl9TSVpFX0dPX0VORCwKICAgICAgICB0cnVlCiAgICApOwogICAgaWYgKCFvayB8fCBleHBlY3RlZFRva2VuICE9PSBTdGF0ZS5yb3VuZC5jb3VudGRvd24udG9rZW4pIHsKICAgICAgICAvLyBJZiB0aGUgYW5pbWF0aW9uIGFib3J0ZWQsIGhpZGUgaW1tZWRpYXRlbHkgdG8gYXZvaWQgYSBzdHVjayBHTy4KICAgICAgICBpZiAoZXhwZWN0ZWRUb2tlbiA9PT0gU3RhdGUucm91bmQuY291bnRkb3duLnRva2VuKSB7CiAgICAgICAgICAgIGhpZGVQcmVnYW1lQ291bnRkb3duRm9yQWxsUGxheWVycygpOwogICAgICAgICAgICBTdGF0ZS5yb3VuZC5jb3VudGRvd24uaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIEtlZXAgR08gdmlzaWJsZSBmb3IgYSBzaG9ydCBob2xkIHRvIGZpbmlzaCB0aGUgdmlzdWFsIGJlYXQgKHVucHJlZGljdGFibGUgcmVwcm8gaXNzdWVzKS4KICAgIGlmIChTdGF0ZS5tYXRjaC5pc0VuZGVkKSB7CiAgICAgICAgaGlkZVByZWdhbWVDb3VudGRvd25Gb3JBbGxQbGF5ZXJzKCk7CiAgICAgICAgU3RhdGUucm91bmQuY291bnRkb3duLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGF3YWl0IG1vZC5XYWl0KFBSRUdBTUVfQ09VTlRET1dOX0dPX0hPTERfU0VDT05EUyk7CiAgICBpZiAoZXhwZWN0ZWRUb2tlbiAhPT0gU3RhdGUucm91bmQuY291bnRkb3duLnRva2VuKSByZXR1cm47CgogICAgaGlkZVByZWdhbWVDb3VudGRvd25Gb3JBbGxQbGF5ZXJzKCk7CiAgICBTdGF0ZS5yb3VuZC5jb3VudGRvd24uaXNBY3RpdmUgPSBmYWxzZTsKCiAgICBhd2FpdCBtb2QuV2FpdCgxKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAtIFByZWdhbWUgQ291bnRkb3duIEZsb3cgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAtIEF1dG8tU3RhcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIFN0YXJ0cyB0aGUgcm91bmQgYXMgc29vbiBhcyBhbGwgYWN0aXZlIHBsYXllcnMgYXJlIFJFQURZLgovLyBOb3RlczoKLy8gLSBPbmx5IHRyaWdnZXJzIHdoZW4gcm91bmQgaXMgTk9UIGFjdGl2ZSBhbmQgbWF0Y2ggaXMgTk9UIGVuZGVkLgovLyAtIFVzZXMgdGhlIGV4aXN0aW5nIHN0YXJ0Um91bmQoKSBmbG93OyB3ZSBkbyBub3QgYnlwYXNzIG9yIHJlaW1wbGVtZW50IHJvdW5kIGluaXQgbG9naWMuCmZ1bmN0aW9uIHRyeUF1dG9TdGFydFJvdW5kSWZBbGxSZWFkeSh0cmlnZ2VyUGxheWVyPzogbW9kLlBsYXllcik6IHZvaWQgewogICAgaWYgKFN0YXRlLm1hdGNoLmlzRW5kZWQgfHwgaXNSb3VuZExpdmUoKSkgcmV0dXJuOwogICAgaWYgKCFhcmVBbGxBY3RpdmVQbGF5ZXJzUmVhZHkoKSkgcmV0dXJuOwogICAgLy8gQWxsIHBsYXllcnMgcmVhZHk6IHN0YXJ0IHRoZSByb3VuZCB1c2luZyB0aGUgZXhpc3RpbmcgZnVuY3Rpb24uCiAgICBzdGFydFByZWdhbWVDb3VudGRvd24odHJpZ2dlclBsYXllcik7IC8vb2xkOiBzdGFydFJvdW5kKHRyaWdnZXJQbGF5ZXIpOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIC0gQXV0by1TdGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVhZHkgRGlhbG9nIC0gU3dhcCBUZWFtcyBCdXR0b24gKHNpbmdsZSB0b2dnbGUpIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyBTd2FwcyB0aGUgZ2l2ZW4gcGxheWVyIGJldHdlZW4gVGVhbSAxIGFuZCBUZWFtIDIuIFRoaXMgcmV1c2VzIHRoZSBleGlzdGluZyB0ZWFtLWFzc2lnbm1lbnQgQVBJcywKLy8gYnV0IGV4cG9zZXMgdGhlbSBhcyBhIHNpbmdsZSB0b2dnbGUgYnV0dG9uIHJhdGhlciB0aGFuIHNlcGFyYXRlIFRlYW0gMSAvIFRlYW0gMiBidXR0b25zLgpmdW5jdGlvbiBzd2FwUGxheWVyVGVhbShldmVudFBsYXllcjogbW9kLlBsYXllcik6IHZvaWQgewogICAgLy8gU3dhcCBUZWFtcyBidXR0b246OiBzaW5nbGUtYnV0dG9uIHRlYW0gdG9nZ2xlIChUZWFtIDEgPC0+IFRlYW0gMikuCiAgICAvLyAtIEFwcGx5IHRoZSB0ZWFtIGFzc2lnbm1lbnQgY2hhbmdlCiAgICAvLyAtIFVuZGVwbG95IChmb3JjZXMgcmVkZXBsb3kpIHNvIHRoZSBwbGF5ZXIgYWN0dWFsbHkgcmVzcGF3bnMgb24gdGhlIG5ldyB0ZWFtCiAgICAvLyAtIENsb3NlIHRoZSBkaWFsb2cgYW5kIGJyb2FkY2FzdCB0aGUgdGVhbS1zd2l0Y2ggbWVzc2FnZQogICAgLy8gV2UgYWNoaWV2ZSB0aGF0IGJ5IHJldXNpbmcgdGhlIHJldGFpbmVkIHByb2Nlc3NUZWFtU3dpdGNoKCkgcGF0aHdheS4KICAgIGNvbnN0IHBpZCA9IG1vZC5HZXRPYmpJZChldmVudFBsYXllcik7CiAgICAvLyBTd2FwcGluZyB0ZWFtcyBtdXN0IGFsd2F5cyBmb3JjZSB0aGUgcGxheWVyIGJhY2sgdG8gTk9UIFJFQURZLgogICAgLy8gVGhpcyBwcmV2ZW50cyBhIHBsYXllciBmcm9tIGNhcnJ5aW5nIFJFQURZIHN0YXR1cyBhY3Jvc3MgdGVhbSBhc3NpZ25tZW50IGNoYW5nZXMuCiAgICBTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXSA9IGZhbHNlOwogICAgLy8gS2VlcCB0aGUgSFVEICJYIC8gWSBQTEFZRVJTIFJFQURZIiBsaW5lIGluIHN5bmMgb24gZXZlcnkgcmVhZHktc3RhdGUgY2hhbmdlLgogICAgdXBkYXRlUGxheWVyc1JlYWR5SHVkVGV4dEZvckFsbFBsYXllcnMoKTsKICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBpZChwaWQpOwoKICAgIHByb2Nlc3NUZWFtU3dpdGNoKGV2ZW50UGxheWVyKTsKCiAgICAvLyBJZiBvdGhlciB2aWV3ZXJzIGhhdmUgdGhlIHJlYWR5IGRpYWxvZyBvcGVuLCByZWZyZXNoIHRoZWlyIHJvc3RlcnMgc28gdGhpcyBwbGF5ZXIgbW92ZXMgY29sdW1ucyBpbW1lZGlhdGVseS4KICAgIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIFJlYWR5IERpYWxvZyAtIFN3YXAgVGVhbXMgQnV0dG9uIChzaW5nbGUgdG9nZ2xlKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gTXVsdGlDbGlja0RldGVjdG9yICh0cmlwbGUgdGFwIGludGVyYWN0KSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy9Db2RlIENsZWFudXA6IFJlZmFjdG9yIHRoaXMgcmVmZXJlbmNlIGFuZCB1c2UgVFMgVGVtcGxhdGUgYXMgYSB0b29sIGltcG9ydCBkdXJpbmcgYnVuZGxpbmcgYSBuZXcgZGlzdHJpYnV0aW9uIGluc3RlYWQKY2xhc3MgSW50ZXJhY3RNdWx0aUNsaWNrRGV0ZWN0b3IgewogICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU1RBVEVTOiBSZWNvcmQ8bnVtYmVyLCB7IGxhc3RJc0ludGVyYWN0aW5nOiBib29sZWFuOyBjbGlja0NvdW50OiBudW1iZXI7IHNlcXVlbmNlU3RhcnRUaW1lOiBudW1iZXIgfT4gPSB7fTsKICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFdJTkRPV19NUyA9IDJfMDAwOyAvL05lZWRzIHRvIGJlIHR1bmVkIHRvIGZhY2lsaXRhdGUgY2x1bmt5IGNvbnNvbGUgY29udHJvbHMKICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFJFUVVJUkVEX0NMSUNLUyA9IDM7CgogICAgcHVibGljIHN0YXRpYyBjaGVja011bHRpQ2xpY2socGxheWVyOiBtb2QuUGxheWVyKTogYm9vbGVhbiB7CiAgICAgICAgY29uc3QgcGxheWVySWQgPSBtb2QuR2V0T2JqSWQocGxheWVyKTsKICAgICAgICBjb25zdCBpc0ludGVyYWN0aW5nID0gc2FmZUdldFNvbGRpZXJTdGF0ZUJvb2wocGxheWVyLCBtb2QuU29sZGllclN0YXRlQm9vbC5Jc0ludGVyYWN0aW5nKTsKCiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5TVEFURVNbcGxheWVySWRdOwogICAgICAgIGlmICghc3RhdGUpIHsKICAgICAgICAgICAgdGhpcy5TVEFURVNbcGxheWVySWRdID0gc3RhdGUgPSB7CiAgICAgICAgICAgICAgICBsYXN0SXNJbnRlcmFjdGluZzogaXNJbnRlcmFjdGluZywKICAgICAgICAgICAgICAgIGNsaWNrQ291bnQ6IDAsCiAgICAgICAgICAgICAgICBzZXF1ZW5jZVN0YXJ0VGltZTogMCwKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGlmIChpc0ludGVyYWN0aW5nID09PSBzdGF0ZS5sYXN0SXNJbnRlcmFjdGluZykgcmV0dXJuIGZhbHNlOwogICAgICAgIHN0YXRlLmxhc3RJc0ludGVyYWN0aW5nID0gaXNJbnRlcmFjdGluZzsKCiAgICAgICAgaWYgKCFpc0ludGVyYWN0aW5nKSByZXR1cm4gZmFsc2U7CgogICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7CgogICAgICAgIGlmIChzdGF0ZS5jbGlja0NvdW50ID4gMCAmJiBub3cgLSBzdGF0ZS5zZXF1ZW5jZVN0YXJ0VGltZSA+IHRoaXMuV0lORE9XX01TKSB7CiAgICAgICAgICAgIHN0YXRlLmNsaWNrQ291bnQgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YXRlLmNsaWNrQ291bnQgPT09IDApIHsKICAgICAgICAgICAgc3RhdGUuc2VxdWVuY2VTdGFydFRpbWUgPSBub3c7CiAgICAgICAgICAgIHN0YXRlLmNsaWNrQ291bnQgPSAxOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoKytzdGF0ZS5jbGlja0NvdW50ICE9PSB0aGlzLlJFUVVJUkVEX0NMSUNLUykgcmV0dXJuIGZhbHNlOwoKICAgICAgICBzdGF0ZS5jbGlja0NvdW50ID0gMDsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIE11bHRpQ2xpY2tEZXRlY3RvciAodHJpcGxlIHRhcCBpbnRlcmFjdCkgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIE1haW4gQmFzZSBSZXN0b2NrIChhcmVhIHRyaWdnZXJzKSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKZnVuY3Rpb24gSXNQbGF5ZXJJbk93bk1haW5CYXNlKHBsYXllcjogbW9kLlBsYXllciwgYXJlYVRyaWdnZXI6IG1vZC5BcmVhVHJpZ2dlcik6IGJvb2xlYW4gewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiBmYWxzZTsKICAgIGNvbnN0IHRyaWdnZXJJZCA9IG1vZC5HZXRPYmpJZChhcmVhVHJpZ2dlcik7CiAgICBjb25zdCB0ZWFtSWQgPSBtb2QuR2V0T2JqSWQobW9kLkdldFRlYW0ocGxheWVyKSk7CgogICAgcmV0dXJuIG1vZC5PcigKICAgICAgICBtb2QuQW5kKG1vZC5FcXVhbHModHJpZ2dlcklkLCBURUFNMV9NQUlOX0JBU0VfVFJJR0dFUl9JRCksIG1vZC5FcXVhbHModGVhbUlkLCBtb2QuR2V0T2JqSWQobW9kLkdldFRlYW0oVGVhbUlELlRlYW0xKSkpKSwKICAgICAgICBtb2QuQW5kKG1vZC5FcXVhbHModHJpZ2dlcklkLCBURUFNMl9NQUlOX0JBU0VfVFJJR0dFUl9JRCksIG1vZC5FcXVhbHModGVhbUlkLCBtb2QuR2V0T2JqSWQobW9kLkdldFRlYW0oVGVhbUlELlRlYW0yKSkpKQogICAgKTsKfQoKZnVuY3Rpb24gQnJvYWRjYXN0TWFpbkJhc2VFdmVudCgKICAgIG1lc3NhZ2VLZXk6IG51bWJlciwKICAgIGFyZzA/OiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyLAogICAgYXJnMT86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIKKTogdm9pZCB7CiAgICBjb25zdCBzYW5pdGl6ZUFyZyA9ICh2YWx1ZT86IHN0cmluZyB8IG51bWJlciB8IG1vZC5QbGF5ZXIpOiBzdHJpbmcgfCBudW1iZXIgfCBtb2QuUGxheWVyIHwgdW5kZWZpbmVkID0+IHsKICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgICBpZiAobW9kLklzVHlwZSh2YWx1ZSwgbW9kLlR5cGVzLlBsYXllcikpIHsKICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdmFsdWUgYXMgbW9kLlBsYXllcjsKICAgICAgICAgICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybiBtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLnVua25vd25QbGF5ZXI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH07CgogICAgY29uc3Qgc2FmZUFyZzAgPSBzYW5pdGl6ZUFyZyhhcmcwKTsKICAgIGNvbnN0IHNhZmVBcmcxID0gc2FuaXRpemVBcmcoYXJnMSk7CiAgICBjb25zdCBtZXNzYWdlID0gKHNhZmVBcmcwID09PSB1bmRlZmluZWQpCiAgICAgICAgPyBtb2QuTWVzc2FnZShtZXNzYWdlS2V5KQogICAgICAgIDogKHNhZmVBcmcxID09PSB1bmRlZmluZWQpCiAgICAgICAgICAgID8gbW9kLk1lc3NhZ2UobWVzc2FnZUtleSwgc2FmZUFyZzApCiAgICAgICAgICAgIDogbW9kLk1lc3NhZ2UobWVzc2FnZUtleSwgc2FmZUFyZzAsIHNhZmVBcmcxKTsKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZShtZXNzYWdlLCBmYWxzZSwgdW5kZWZpbmVkLCBtZXNzYWdlS2V5KTsKfQoKZnVuY3Rpb24gTm90aWZ5QW1tb1Jlc3RvY2tlZChwbGF5ZXI6IG1vZC5QbGF5ZXIpOiB2b2lkIHsKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShTVFJfQU1NT19SRVNUT0NLRUQpLAogICAgICAgIHRydWUsCiAgICAgICAgcGxheWVyLAogICAgICAgIFNUUl9BTU1PX1JFU1RPQ0tFRAogICAgKTsKfQoKZnVuY3Rpb24gUmVzdG9ja0dhZGdldEFtbW8ocGxheWVyOiBtb2QuUGxheWVyLCBtYWdBbW1vOiBudW1iZXIpOiB2b2lkIHsKICAgIGlmICghaXNQbGF5ZXJEZXBsb3llZChwbGF5ZXIpKSByZXR1cm47CiAgICBtb2QuU2V0SW52ZW50b3J5TWFnYXppbmVBbW1vKHBsYXllciwgbW9kLkludmVudG9yeVNsb3RzLkdhZGdldE9uZSwgbWFnQW1tbyk7CiAgICBtb2QuU2V0SW52ZW50b3J5TWFnYXppbmVBbW1vKHBsYXllciwgbW9kLkludmVudG9yeVNsb3RzLkdhZGdldFR3bywgbWFnQW1tbyk7Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLSBNYWluIEJhc2UgUmVzdG9jayAoYXJlYSB0cmlnZ2VycykgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEV4cG9ydGVkIEV2ZW50IEhhbmRsZXJzIC0gR2FtZSBNb2RlIFN0YXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0tCgovKioKICogRW50cnkgcG9pbnQgZm9yIHRoaXMgZXhwZXJpZW5jZSB3aGVuIHRoZSBnYW1lIG1vZGUgc3RhcnRzLgogKgogKiBIaWdoLWxldmVsIGZsb3c6CiAqIDEpIEluaXRpYWxpemUgYXV0aG9yaXRhdGl2ZSBtYXRjaC9yb3VuZCBzdGF0ZSAoY291bnRlcnMsIGZsYWdzLCBhbmQgdGltZXJzKS4KICogMikgQnVpbGQgb3IgcmVwYWlyIGFueSBnbG9iYWwgVUkvc3RhdGUgdGhhdCBzaG91bGQgZXhpc3QgYmVmb3JlIHBsYXllcnMgaW50ZXJhY3QuCiAqIDMpIEVuc3VyZSBldmVyeSBjdXJyZW50bHktY29ubmVjdGVkIHBsYXllciBoYXMgYSBIVUQgYW5kIHRoYXQgdGhlIEhVRCByZWZsZWN0cyB0aGUgaW5pdGlhbCBzdGF0ZS4KICogNCkgQXJtIGFueSByZWN1cnJpbmcgcHJvY2Vzc2VzIChjbG9jayB0aWNrLCBjbGVhbnVwIHBhc3NlcykgdGhhdCBrZWVwIHN0YXRlIGFuZCBVSSBpbiBzeW5jLgogKgogKiBJbXBvcnRhbnQgaW52YXJpYW50czoKICogLSBEbyBub3QgYXdhcmQgcG9pbnRzIHVubGVzcyBgaXNSb3VuZExpdmUoKWAgaXMgdHJ1ZS4KICogLSBSb3VuZC9tYXRjaCBjb3VudGVycyBhcmUgYXV0aG9yaXRhdGl2ZTsgdGhlIEhVRCBpcyBhIHByb2plY3Rpb24gb2YgdGhhdCBzdGF0ZS4KICogLSBBbnkgYXN5bmMgd29yayBzdGFydGVkIGhlcmUgbXVzdCB1c2UgdGhlIGd1YXJkIHRva2VucyB0byBwcmV2ZW50IG92ZXJsYXAgaWYgdGhlIG1vZGUgcmVzdGFydHMuCiAqCiAqIFdoeSBhc3luYyBmdW5jdGlvbnM6IHVzZXMgc21hbGwgZW5naW5lIHdhaXRzIChtb2QuV2FpdC9hd2FpdCkgdG8gc2VxdWVuY2UgVUkgcmVidWlsZHMvdGltZXJzIHNhZmVseSB3aXRob3V0IGJsb2NraW5nIHRoZSBtYWluIHRocmVhZC4KICovCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPbkdhbWVNb2RlU3RhcnRlZCgpOiBQcm9taXNlPHZvaWQ+IHsKICAgIGNvbnN0IGRldGVjdGVkTWFwS2V5ID0gZGV0ZWN0TWFwS2V5RnJvbUhxcygpOwogICAgaWYgKGRldGVjdGVkTWFwS2V5KSB7CiAgICAgICAgYXBwbHlNYXBDb25maWcoZGV0ZWN0ZWRNYXBLZXkpOwogICAgfQogICAgU3RhdGUudmVoaWNsZXMuY29uZmlnUmVhZHkgPSB0cnVlOwoKICAgIC8vIFZlaGljbGUgc2NvcmluZyBpbml0ICsgbGVnYWN5IGNsZWFudXAKICAgIC8vIFJlbW92ZSBsZWdhY3kgVUkgcm9vdHMgKGlmIGFueSkgYmVmb3JlIHdlIGJ1aWxkIGZyZXNoIEhVRHM7IHByZXZlbnRzIGR1cGxpY2F0ZWQgb3ZlcmxheXMgYWNyb3NzIHJlc3RhcnRzLgogICAgZGVsZXRlTGVnYWN5U2NvcmVSb290c0ZvckFsbFBsYXllcnMoKTsKCiAgICAvLyBBcHBseSBpbml0aWFsIGVuZ2luZSB2YXJpYWJsZXMvc2V0dGluZ3MgdXNlZCBieSB0aGUgbW9kZSAoYXV0aG9yaXRhdGl2ZSBiYXNlbGluZSkuCiAgICBtb2QuU2V0R2FtZU1vZGVUYXJnZXRTY29yZShHQU1FTU9ERV9UQVJHRVRfU0NPUkVfU0FGRVRZX0NBUCk7CiAgICBtb2QuU2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMSwgbW9kLkVtcHR5QXJyYXkoKSk7CiAgICBtb2QuU2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMiwgbW9kLkVtcHR5QXJyYXkoKSk7CgogICAgdmVoSWRzLmxlbmd0aCA9IDA7CiAgICB2ZWhPd25lcnMubGVuZ3RoID0gMDsKICAgIGNsZWFyU3Bhd25CYXNlVGVhbUNhY2hlKCk7CiAgICBjbGVhclNwYXduQmFzZVRlYW1DYWNoZSgpOwoKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMuaW5pdCksCiAgICAgICAgZmFsc2UsCiAgICAgICAgbW9kLkdldFRlYW0oVGVhbUlELlRlYW0xKSwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMuaW5pdAogICAgKTsKICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMuaW5pdCksCiAgICAgICAgZmFsc2UsCiAgICAgICAgbW9kLkdldFRlYW0oVGVhbUlELlRlYW0yKSwKICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMuaW5pdAogICAgKTsKCiAgICAvLyBFbnN1cmUgSFVEIGV4aXN0cyBmb3IgYW55b25lIGFscmVhZHkgaW4tZ2FtZSBhdCBzdGFydAogICAgYXdhaXQgbW9kLldhaXQoMC4xKTsKICAgIHsKICAgICAgICBjb25zdCBwbGF5ZXJzID0gbW9kLkFsbFBsYXllcnMoKTsKICAgICAgICBjb25zdCBjb3VudCA9IG1vZC5Db3VudE9mKHBsYXllcnMpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgICAgICBjb25zdCBwID0gbW9kLlZhbHVlSW5BcnJheShwbGF5ZXJzLCBpKSBhcyBtb2QuUGxheWVyOwogICAgICAgICAgICBpZiAoIXAgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHApKSBjb250aW51ZTsKICAgICAgICAgICAgLy8gQnVpbGQvcmVidWlsZCB0aGUgcGxheWVyJ3MgSFVEICh3aWRnZXRzKSBhbmQgaW1tZWRpYXRlbHkgcmVmbGVjdCBjdXJyZW50IGF1dGhvcml0YXRpdmUgc3RhdGUuCiAgICAgICAgICAgIGVuc3VyZUh1ZEZvclBsYXllcihwKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gUmVzZXQgSFVEIHN0YXRlCiAgICBTdGF0ZS5tYXRjaC5pc0VuZGVkID0gZmFsc2U7CiAgICBTdGF0ZS5tYXRjaC52aWN0b3J5RGlhbG9nQWN0aXZlID0gZmFsc2U7CiAgICBTdGF0ZS5yb3VuZC5waGFzZSA9IFJvdW5kUGhhc2UuTm90UmVhZHk7IC8vIFJlc2V0IHJvdW5kIHBoYXNlIGZvciBhIG5ldyBtYXRjaC4KICAgIFN0YXRlLnJvdW5kLmN1cnJlbnQgPSAxOwogICAgcmVzZXRPdmVydGltZUZsYWdTdGF0ZSgpOwogICAgLy8gUHJlZ2FtZTogc2hvdyBhbGwgZmxhZyBtYXJrZXJzIGZvciBwbGFubmluZyAodmlzaWJpbGl0eSBvbmx5KS4KICAgIHNldE92ZXJ0aW1lQWxsRmxhZ1Zpc2liaWxpdHkodHJ1ZSk7CgogICAgc2V0TWF0Y2hXaW5zVGVhbShUZWFtSUQuVGVhbTEsIDApOwogICAgc2V0TWF0Y2hXaW5zVGVhbShUZWFtSUQuVGVhbTIsIDApOwogICAgU3RhdGUuc2NvcmVzLnQxVG90YWxLaWxscyA9IDA7CiAgICBTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzID0gMDsKCiAgICBTdGF0ZS5tYXRjaC53aW5uZXJUZWFtID0gdW5kZWZpbmVkOwogICAgU3RhdGUubWF0Y2guZW5kRWxhcHNlZFNlY29uZHNTbmFwc2hvdCA9IDA7CiAgICBTdGF0ZS5tYXRjaC52aWN0b3J5U3RhcnRFbGFwc2VkU2Vjb25kc1NuYXBzaG90ID0gMDsKICAgIFN0YXRlLmFkbWluLmFjdGlvbkNvdW50ID0gMDsKICAgIFN0YXRlLmFkbWluLnRpZUJyZWFrZXJPdmVycmlkZVVzZWQgPSBmYWxzZTsKCiAgICBTdGF0ZS5odWRDYWNoZS5sYXN0SHVkU2NvcmVUMSA9IHVuZGVmaW5lZDsKICAgIFN0YXRlLmh1ZENhY2hlLmxhc3RIdWRTY29yZVQyID0gdW5kZWZpbmVkOwogICAgLy8gSW5pdCB2aXNpYmxlIGNvdW50ZXJzCiAgICBzZXRIdWRSb3VuZENvdW50ZXJzRm9yQWxsUGxheWVycyhTdGF0ZS5yb3VuZC5jdXJyZW50LCBNQVhfUk9VTkRTKTsKICAgIHNldEh1ZFdpbkNvdW50ZXJzRm9yQWxsUGxheWVycygwLCAwKTsKICAgIFN0YXRlLm1hdGNoLnRpZXNUMSA9IDA7CiAgICBTdGF0ZS5tYXRjaC50aWVzVDIgPSAwOwogICAgc3luY1JvdW5kUmVjb3JkSHVkRm9yQWxsUGxheWVycygpOwogICAgc3luY1dpbkNvdW50ZXJzSHVkRnJvbUdhbWVNb2RlU2NvcmUoKTsKICAgIHN5bmNLaWxsc0h1ZEZyb21UcmFja2VkVG90YWxzKHRydWUpOwogICAgdXBkYXRlQWRtaW5QYW5lbEFjdGlvbkNvdW50Rm9yQWxsUGxheWVycygpOwogICAgLy8gQnJvYWRjYXN0IHRoZSBpbml0aWFsIHJvdW5kIHBoYXNlIGxhYmVsIChlLmcuLCBOT1QgUkVBRFkpIHRvIGFsbCBIVURzLgogICAgc2V0Um91bmRTdGF0ZVRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CgogICAgLy8gQ2xvY2sgaW5pdCArIGxvb3AKICAgIFJlc2V0Um91bmRDbG9jaygwKTsKCiAgICAvLyBWZWhpY2xlIHNwYXduZXJzIHJ1biBvbiB0aGVpciBvd24gbG9vcCBzbyB0aGV5IGRvbid0IGJsb2NrIHRoZSBtYWluIGNsb2NrIGxvb3AuCiAgICB2b2lkIHN0YXJ0VmVoaWNsZVNwYXduZXJTeXN0ZW0oKTsKCiAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgIC8vIFB1c2ggdGhlIGluaXRpYWwgY2xvY2sgZGlzcGxheSBzbyBldmVyeSBIVUQgc2hvd3MgdGhlIHNhbWUgc3RhcnRpbmcgdGltZS4KICAgICAgICB1cGRhdGVBbGxQbGF5ZXJzQ2xvY2soKTsKICAgICAgICB1cGRhdGVPdmVydGltZVN0YWdlKCk7CiAgICAgICAgc3luY0tpbGxzSHVkRnJvbVRyYWNrZWRUb3RhbHMoZmFsc2UpOwoKICAgICAgICBpZiAoU3RhdGUubWF0Y2gudmljdG9yeURpYWxvZ0FjdGl2ZSkgewogICAgICAgICAgICBjb25zdCBlbGFwc2VkU2luY2VWaWN0b3J5ID0gTWF0aC5mbG9vcihtb2QuR2V0TWF0Y2hUaW1lRWxhcHNlZCgpKSAtIE1hdGguZmxvb3IoU3RhdGUubWF0Y2gudmljdG9yeVN0YXJ0RWxhcHNlZFNlY29uZHNTbmFwc2hvdCk7CiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IE1BVENIX0VORF9ERUxBWV9TRUNPTkRTIC0gZWxhcHNlZFNpbmNlVmljdG9yeTsKICAgICAgICAgICAgdXBkYXRlVmljdG9yeURpYWxvZ0ZvckFsbFBsYXllcnMoTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyZW1haW5pbmcpKSk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IG1vZC5XYWl0KDEuMCk7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBFeHBvcnRlZCBFdmVudCBIYW5kbGVycyAtIEdhbWUgTW9kZSBTdGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBQbGF5ZXIgSm9pbiArIExlYXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiByZXNldFVpRm9yUGxheWVyT25Kb2luKHBsYXllcjogbW9kLlBsYXllcik6IHZvaWQgewogICAgaWYgKCFwbGF5ZXIgfHwgIW1vZC5Jc1BsYXllclZhbGlkKHBsYXllcikpIHJldHVybjsKICAgIGNvbnN0IHBpZCA9IHNhZmVHZXRQbGF5ZXJJZChwbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgc2V0VUlJbnB1dE1vZGVGb3JQbGF5ZXIocGxheWVyLCBmYWxzZSk7CgogICAgY29uc3QgdGl0bGVTaGFkb3cgPSBzYWZlRmluZChCSUdfVElUTEVfU0hBRE9XX1dJREdFVF9JRCArIHBpZCk7CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHRpdGxlU2hhZG93LCBmYWxzZSk7CiAgICBjb25zdCB0aXRsZSA9IHNhZmVGaW5kKEJJR19USVRMRV9XSURHRVRfSUQgKyBwaWQpOwogICAgc2FmZVNldFVJV2lkZ2V0VmlzaWJsZSh0aXRsZSwgZmFsc2UpOwogICAgY29uc3Qgc3VidGl0bGVTaGFkb3cgPSBzYWZlRmluZChCSUdfU1VCVElUTEVfU0hBRE9XX1dJREdFVF9JRCArIHBpZCk7CiAgICBzYWZlU2V0VUlXaWRnZXRWaXNpYmxlKHN1YnRpdGxlU2hhZG93LCBmYWxzZSk7CiAgICBjb25zdCBzdWJ0aXRsZSA9IHNhZmVGaW5kKEJJR19TVUJUSVRMRV9XSURHRVRfSUQgKyBwaWQpOwogICAgc2FmZVNldFVJV2lkZ2V0VmlzaWJsZShzdWJ0aXRsZSwgZmFsc2UpOwoKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdEJ1dHRvblRleHROYW1lKHBpZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0QnV0dG9uTmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdEJ1dHRvbkJvcmRlck5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHROZXZlclNob3dCdXR0b25UZXh0TmFtZShwaWQpKTsKICAgIGRlbGV0ZUpvaW5Qcm9tcHRXaWRnZXQoam9pblByb21wdE5ldmVyU2hvd0J1dHRvbk5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHROZXZlclNob3dCdXR0b25Cb3JkZXJOYW1lKHBpZCkpOwogICAgZGVsZXRlSm9pblByb21wdFdpZGdldChqb2luUHJvbXB0Qm9keU5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRUaXRsZU5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRQYW5lbE5hbWUocGlkKSk7CiAgICBkZWxldGVKb2luUHJvbXB0V2lkZ2V0KGpvaW5Qcm9tcHRSb290TmFtZShwaWQpKTsKCiAgICBkZWxldGVUZWFtU3dpdGNoVUkocGxheWVyKTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9uUGxheWVySm9pbkdhbWUoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpIHsKICAgIGluaXRUZWFtU3dpdGNoRGF0YShldmVudFBsYXllcik7CiAgICBjb25zdCBqb2luUGlkID0gc2FmZUdldFBsYXllcklkKGV2ZW50UGxheWVyKTsKICAgIGlmIChqb2luUGlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBkZWxldGUgU3RhdGUucGxheWVycy5kaXNjb25uZWN0ZWRCeVBpZFtqb2luUGlkXTsKICAgICAgICBTdGF0ZS5wbGF5ZXJzLmRlcGxveWVkQnlQaWRbam9pblBpZF0gPSBmYWxzZTsKICAgIH0KCiAgICBhd2FpdCBtb2QuV2FpdCgwLjEpOwogICAgaWYgKCFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKCiAgICByZXNldFVpRm9yUGxheWVyT25Kb2luKGV2ZW50UGxheWVyKTsKCiAgICBjb25zdCByZWZzID0gZW5zdXJlSHVkRm9yUGxheWVyKGV2ZW50UGxheWVyKTsKCiAgICAvLyBKb2luLXRpbWUgSFVEIGluaXRpYWxpemF0aW9uIHVzZXMgc2NyaXB0LWF1dGhvcml0YXRpdmUgY291bnRlcnM7IGRvIG5vdCBwdWxsIGZyb20gZW5naW5lIHNjb3JlcyBoZXJlLgogICAgaWYgKHJlZnMpIHsKICAgICAgICBzZXRDb3VudGVyVGV4dChyZWZzLmxlZnRXaW5zVGV4dCwgU3RhdGUubWF0Y2gud2luc1QxKTsKICAgICAgICBzZXRDb3VudGVyVGV4dChyZWZzLnJpZ2h0V2luc1RleHQsIFN0YXRlLm1hdGNoLndpbnNUMik7CiAgICAgICAgc2V0Um91bmRSZWNvcmRUZXh0KHJlZnMubGVmdFJlY29yZFRleHQsIFN0YXRlLm1hdGNoLndpbnNUMSwgU3RhdGUubWF0Y2gubG9zc2VzVDEsIFN0YXRlLm1hdGNoLnRpZXNUMSk7CiAgICAgICAgc2V0Um91bmRSZWNvcmRUZXh0KHJlZnMucmlnaHRSZWNvcmRUZXh0LCBTdGF0ZS5tYXRjaC53aW5zVDIsIFN0YXRlLm1hdGNoLmxvc3Nlc1QyLCBTdGF0ZS5tYXRjaC50aWVzVDIpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMubGVmdFJvdW5kS2lsbHNUZXh0LCBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzKTsKICAgICAgICBzZXRDb3VudGVyVGV4dChyZWZzLnJpZ2h0Um91bmRLaWxsc1RleHQsIFN0YXRlLnNjb3Jlcy50MlJvdW5kS2lsbHMpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMubGVmdEtpbGxzVGV4dCwgU3RhdGUuc2NvcmVzLnQxVG90YWxLaWxscyk7CiAgICAgICAgc2V0Q291bnRlclRleHQocmVmcy5yaWdodEtpbGxzVGV4dCwgU3RhdGUuc2NvcmVzLnQyVG90YWxLaWxscyk7CiAgICAgICAgc2V0Q291bnRlclRleHQocmVmcy5yb3VuZEN1clRleHQsIFN0YXRlLnJvdW5kLmN1cnJlbnQpOwogICAgICAgIHNldENvdW50ZXJUZXh0KHJlZnMucm91bmRNYXhUZXh0LCBTdGF0ZS5yb3VuZC5tYXgpOwogICAgfQogICAgewogICAgICAgIGNvbnN0IGNhY2hlID0gZW5zdXJlQ2xvY2tVSUFuZEdldENhY2hlKGV2ZW50UGxheWVyKTsKICAgICAgICBpZiAoY2FjaGUpIHNldFJvdW5kU3RhdGVUZXh0KGNhY2hlLnJvdW5kU3RhdGVUZXh0KTsKICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBsYXllcihldmVudFBsYXllcik7CiAgICB9CiAgICBkZWxldGVMZWdhY3lTY29yZVJvb3RGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgaWYgKGpvaW5QaWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHVwZGF0ZVRlYW1OYW1lV2lkZ2V0c0ZvclBpZChqb2luUGlkKTsKICAgIH0KCiAgICAvLyBTZWNvbmQgam9pbi10aW1lIHJlZnJlc2ggYWZ0ZXIgdGVhbSBhc3NpZ25tZW50IHNldHRsZXMgdG8gYXZvaWQgc3RhbGUgUmVhZHkgZGlhbG9nIHJvc3RlcnMuCiAgICBhd2FpdCBtb2QuV2FpdCgwLjEpOwogICAgaWYgKCFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKICAgIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTsKICAgIHVwZGF0ZVBsYXllcnNSZWFkeUh1ZFRleHRGb3JBbGxQbGF5ZXJzKCk7CiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JBbGxQbGF5ZXJzKCk7CiAgICByZWJ1aWxkT3ZlcnRpbWVVaUZvclBsYXllcihldmVudFBsYXllcik7CiAgICAvLyBFbnN1cmUgdGhlIHJvdW5kIGNsb2NrIGRpZ2l0cyByZWZyZXNoIGZvciByZWNvbm5lY3RpbmcgcGxheWVycy4KICAgIFN0YXRlLnJvdW5kLmNsb2NrLmxhc3REaXNwbGF5ZWRTZWNvbmRzID0gdW5kZWZpbmVkOwogICAgU3RhdGUucm91bmQuY2xvY2subGFzdExvd1RpbWVTdGF0ZSA9IHVuZGVmaW5lZDsKICAgIHVwZGF0ZUFsbFBsYXllcnNDbG9jaygpOwoKICAgIC8vIEpvaW4tdGltZSBwcm9tcHQgaXMgb25seSBzaG93biBvbmNlIHBlciBwbGF5ZXIgKHVuZGVwbG95IHByb21wdHMgY2FuIHJlcGVhdCB1bmxlc3Mgc3VwcHJlc3NlZCkuCiAgICBpZiAoIXNob3VsZFNob3dKb2luUHJvbXB0Rm9yUGxheWVyKGV2ZW50UGxheWVyKSkgcmV0dXJuOwogICAgY29uc3Qgam9pblByb21wdFBpZCA9IHNhZmVHZXRQbGF5ZXJJZChldmVudFBsYXllcik7CiAgICBpZiAoam9pblByb21wdFBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICBpZiAoU3RhdGUucGxheWVycy5qb2luUHJvbXB0U2hvd25CeVBpZFtqb2luUHJvbXB0UGlkXSkgcmV0dXJuOwogICAgU3RhdGUucGxheWVycy5qb2luUHJvbXB0U2hvd25CeVBpZFtqb2luUHJvbXB0UGlkXSA9IHRydWU7CgogICAgYXdhaXQgbW9kLldhaXQoMC4yKTsKICAgIGlmICghbW9kLklzUGxheWVyVmFsaWQoZXZlbnRQbGF5ZXIpKSByZXR1cm47CiAgICBpZiAoIXNob3VsZFNob3dKb2luUHJvbXB0Rm9yUGxheWVyKGV2ZW50UGxheWVyKSkgcmV0dXJuOwogICAgY3JlYXRlSm9pblByb21wdEZvclBsYXllcihldmVudFBsYXllcik7Cn0KCi8qKgogKiBEaXNjb25uZWN0IGhhbmRsaW5nOgogKiAtIENsZWFycyBwZXItcGxheWVyIHN0YXRlIG1hcHMgc28gcmVqb2luIHN0YXJ0cyBjbGVhbiAoTk9UIFJFQURZKS4KICogLSBGb3JjZXMgVUkvSFVEIHJlZnJlc2ggZm9yIHJlbWFpbmluZyBwbGF5ZXJzIHRvIGRyb3AgdGhlIGRlcGFydGVkIHBsYXllciBpbW1lZGlhdGVseS4KICovCmV4cG9ydCBmdW5jdGlvbiBPblBsYXllckxlYXZlR2FtZShldmVudE51bWJlcjogbnVtYmVyIHwgbW9kLlBsYXllcikgewogICAgbGV0IHBpZDogbnVtYmVyIHwgdW5kZWZpbmVkOwogICAgaWYgKG1vZC5Jc1R5cGUoZXZlbnROdW1iZXIsIG1vZC5UeXBlcy5QbGF5ZXIpKSB7CiAgICAgICAgcGlkID0gc2FmZUdldFBsYXllcklkKGV2ZW50TnVtYmVyIGFzIG1vZC5QbGF5ZXIpOwogICAgfSBlbHNlIHsKICAgICAgICBwaWQgPSBldmVudE51bWJlciBhcyBudW1iZXI7CiAgICB9CiAgICBpZiAocGlkID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICBTdGF0ZS5wbGF5ZXJzLmRpc2Nvbm5lY3RlZEJ5UGlkW3BpZF0gPSB0cnVlOwogICAgcmVtb3ZlVGVhbVN3aXRjaEludGVyYWN0UG9pbnQocGlkKTsKICAgIC8vIENsZWFudXA6IGRlbGV0ZSBjYWNoZWQgVUkgd2lkZ2V0cyBzbyB3ZSBkbyBub3QgbGVhayBVSSBmb3IgZGlzY29ubmVjdGVkIHBsYXllcnMuCiAgICBpZiAoIXNob3VsZERlZmVyRGlzY29ubmVjdFVpRGVsZXRlcygpKSB7CiAgICAgICAgaGFyZERlbGV0ZVRlYW1Td2l0Y2hVSShwaWQpOwogICAgfQogICAgLy8gT24gdW5kZXBsb3kvZGVhdGgsIGF2b2lkIGhhcmQtZGVsZXRpbmcgb3ZlcnRpbWUgSFVEOyBoaWRlICsgZHJvcCByZWZzIGZvciBzYWZlIHJlYnVpbGQuCiAgICBoYW5kbGVPdmVydGltZVBsYXllckxlYXZlQnlJZChwaWQsIGZhbHNlKTsKICAgIC8vIFJlbW92ZSBhbnkgcGVyc2lzdGVkIHBlci1wbGF5ZXIgc3RhdGUgc28gcmVqb2luIHN0YXJ0cyBjbGVhbiAoTk9UIFJFQURZIGJ5IGRlZmF1bHQpLgogICAgZGVsZXRlIFN0YXRlLnBsYXllcnMucmVhZHlCeVBpZFtwaWRdOwogICAgZGVsZXRlIFN0YXRlLnBsYXllcnMucmVhZHlNZXNzYWdlQ29vbGRvd25CeVBpZFtwaWRdOwogICAgZGVsZXRlIFN0YXRlLnBsYXllcnMuam9pblByb21wdFNob3duQnlQaWRbcGlkXTsKICAgIGRlbGV0ZSBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHROZXZlclNob3dCeVBpZE1hcFtwaWRdOwogICAgZGVsZXRlIFN0YXRlLnBsYXllcnMuam9pblByb21wdFJlYWR5RGlhbG9nT3BlbmVkQnlQaWRbcGlkXTsKICAgIGRlbGV0ZSBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUaXBJbmRleEJ5UGlkW3BpZF07CiAgICBkZWxldGUgU3RhdGUucGxheWVycy5qb2luUHJvbXB0VGlwc1VubG9ja2VkQnlQaWRbcGlkXTsKICAgIGRlbGV0ZSBTdGF0ZS5wbGF5ZXJzLmpvaW5Qcm9tcHRUcmlwbGVUYXBBcm1lZEJ5UGlkW3BpZF07CiAgICBkZWxldGUgU3RhdGUucGxheWVycy51aUlucHV0RW5hYmxlZEJ5UGlkW3BpZF07CiAgICBkZWxldGUgU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbcGlkXTsKICAgIGRlbGV0ZSBTdGF0ZS5wbGF5ZXJzLmRlcGxveWVkQnlQaWRbcGlkXTsKICAgIGRlbGV0ZSBTdGF0ZS5wbGF5ZXJzLnNwYXduRGlzYWJsZWRXYXJuaW5nVmlzaWJsZUJ5UGlkW3BpZF07CiAgICAvLyBBbHNvIGRyb3AgZGlhbG9nLXZpc2libGUgdHJhY2tpbmcgaWYgcHJlc2VudCAodmlld2VyIGlzIGdvbmUpLgogICAgZGVsZXRlIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGlkXTsKICAgIGNsZWFySm9pblByb21wdEZvclBsYXllcklkKHBpZCk7CgogICAgLy8gUmVmcmVzaCBVSSBmb3IgcmVtYWluaW5nIHBsYXllcnMgc28gcm9zdGVycyArIEhVRCByZWFkeSBjb3VudHMgaW1tZWRpYXRlbHkgcmVmbGVjdCB0aGUgZGlzY29ubmVjdC4KICAgIGlmICghaXNSb3VuZExpdmUoKSkgewogICAgICAgIHJlbmRlclJlYWR5RGlhbG9nRm9yQWxsVmlzaWJsZVZpZXdlcnMoKTsKICAgICAgICB1cGRhdGVQbGF5ZXJzUmVhZHlIdWRUZXh0Rm9yQWxsUGxheWVycygpOwogICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvckFsbFBsYXllcnMoKTsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEV4cG9ydGVkIEV2ZW50IEhhbmRsZXJzIC0gUGxheWVyIEpvaW4gKyBMZWF2ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBQbGF5ZXIgRGVwbG95ICsgVW5kZXBsb3kgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmFzeW5jIGZ1bmN0aW9uIGRlZmVyRm9yY2VkVW5kZXBsb3kocGxheWVyOiBtb2QuUGxheWVyLCByZWFzb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4gewogICAgLy8gRGVmZXIgdW5kZXBsb3kgYnkgYSB0aWNrIHRvIGF2b2lkIGVuZ2luZSBpbnN0YWJpbGl0eSBkdXJpbmcgZGVwbG95IHRyYW5zaXRpb25zLgogICAgdHJ5IHsKICAgICAgICBhd2FpdCBtb2QuV2FpdCgwLjEpOwogICAgICAgIGlmICghcGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChwbGF5ZXIpKSByZXR1cm47CiAgICAgICAgbW9kLlVuZGVwbG95UGxheWVyKHBsYXllcik7CiAgICB9IGNhdGNoIHsKICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHNpbGVudCB0byBrZWVwIHVuc3RhYmxlIHRyYW5zaXRpb25zIGZyb20gY3Jhc2hpbmcgdGhlIGV4cGVyaWVuY2UuCiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPblBsYXllckRlcGxveWVkKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyKSB7CiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQoZXZlbnRQbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAvLyBTYWZldHk6IGFsd2F5cyByZXN0b3JlIFVJIGlucHV0IG1vZGUgb24gZGVwbG95IHRvIGF2b2lkIHN0dWNrIFVJIHN1cHByZXNzaW5nIG1lc3NhZ2VzLgogICAgc2V0VUlJbnB1dE1vZGVGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIsIGZhbHNlKTsKICAgIGlmIChTdGF0ZS5yb3VuZC5mbG93LmNsZWFudXBBY3RpdmUgJiYgIVN0YXRlLnJvdW5kLmZsb3cuY2xlYW51cEFsbG93RGVwbG95KSB7CiAgICAgICAgU3RhdGUucGxheWVycy5kZXBsb3llZEJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgICAgICBhd2FpdCBkZWZlckZvcmNlZFVuZGVwbG95KGV2ZW50UGxheWVyLCAiY2xlYW51cCIpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChESVNBQkxFX1JFU1BBV05fRFVSSU5HX0xJVkVfUk9VTkQgJiYgaXNSb3VuZExpdmUoKSkgewogICAgICAgIFN0YXRlLnBsYXllcnMuZGVwbG95ZWRCeVBpZFtwaWRdID0gZmFsc2U7CiAgICAgICAgdXBkYXRlU3Bhd25EaXNhYmxlZFdhcm5pbmdGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgICAgIGF3YWl0IGRlZmVyRm9yY2VkVW5kZXBsb3koZXZlbnRQbGF5ZXIsICJsaXZlX3JvdW5kIik7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIFN0YXRlLnBsYXllcnMuZGVwbG95ZWRCeVBpZFtwaWRdID0gdHJ1ZTsKICAgIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRyaXBsZVRhcEFybWVkQnlQaWRbcGlkXSA9IGZhbHNlOwogICAgdXBkYXRlU3Bhd25EaXNhYmxlZFdhcm5pbmdGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpOwogICAgLy9SZW1vdmUgZXhpc3RpbmcgZ2FkZ2V0cyBhbmQgZ2l2ZSBkZXBsb3lhYmxlIHZlaGljbGUgc3VwcGx5IGNyYXRlcwogICAgbW9kLlJlbW92ZUVxdWlwbWVudChldmVudFBsYXllciwgbW9kLkludmVudG9yeVNsb3RzLkdhZGdldE9uZSk7CiAgICBtb2QuUmVtb3ZlRXF1aXBtZW50KGV2ZW50UGxheWVyLCBtb2QuSW52ZW50b3J5U2xvdHMuR2FkZ2V0VHdvKTsKICAgIG1vZC5BZGRFcXVpcG1lbnQoCiAgICAgICAgZXZlbnRQbGF5ZXIsCiAgICAgICAgbW9kLkdhZGdldHMuRGVwbG95YWJsZV9WZWhpY2xlX1N1cHBseV9DcmF0ZSwKICAgICAgICBtb2QuSW52ZW50b3J5U2xvdHMuR2FkZ2V0T25lCiAgICApOwogICAgbW9kLkFkZEVxdWlwbWVudCgKICAgICAgICBldmVudFBsYXllciwKICAgICAgICBtb2QuR2FkZ2V0cy5EZXBsb3lhYmxlX1ZlaGljbGVfU3VwcGx5X0NyYXRlLAogICAgICAgIG1vZC5JbnZlbnRvcnlTbG90cy5HYWRnZXRUd28KICAgICk7CiAgICAvLyBSZWpvaW4gLyBzcGF3biBiZWhhdmlvcjogcGxheWVycyBhbHdheXMgc3RhcnQgTk9UIFJFQURZIGZvciB0aGUgbmV4dCByb3VuZCBnYXRpbmcuCiAgICBTdGF0ZS5wbGF5ZXJzLnJlYWR5QnlQaWRbcGlkXSA9IGZhbHNlOwogICAgLy8gRGVzaWduIGFzc3VtcHRpb246IHBsYXllcnMgc3Bhd24gaW4gdGhlaXIgbWFpbiBiYXNlOyB1cGRhdGUgaW1tZWRpYXRlbHkgZm9yIHJvc3RlciBkaXNwbGF5LgogICAgU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbcGlkXSA9IHRydWU7CiAgICB1cGRhdGVQbGF5ZXJzUmVhZHlIdWRUZXh0Rm9yQWxsUGxheWVycygpOwogICAgcmVuZGVyUmVhZHlEaWFsb2dGb3JBbGxWaXNpYmxlVmlld2VycygpOwogICAgdXBkYXRlSGVscFRleHRWaXNpYmlsaXR5Rm9yQWxsUGxheWVycygpOwoKICAgIGVuc3VyZUh1ZEZvclBsYXllcihldmVudFBsYXllcik7CiAgICBhd2FpdCBzcGF3blRlYW1Td2l0Y2hJbnRlcmFjdFBvaW50KGV2ZW50UGxheWVyKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIE9uUGxheWVyVW5kZXBsb3koZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIpIHsKICAgIC8vIElmIHRoZSBwbGF5ZXIgaXMgbGVhdmluZyB0aGUgZGVwbG95ZWQgc3RhdGUgKGRlYXRoIC8gbWFudWFsIHVuZGVwbG95IC8gZm9yY2VkIHJlZGVwbG95KSwKICAgIC8vIHRoZSBSZWFkeSBVcCBkaWFsb2cgc2hvdWxkIGJlIGNsb3NlZC4gVGhpcyBwcmV2ZW50cyBpbnRlcmFjdGluZyB3aXRoIHRoZSBVSSB3aGlsZSB1bmRlcGxveWVkLgogICAgaWYgKCFldmVudFBsYXllciB8fCAhbW9kLklzUGxheWVyVmFsaWQoZXZlbnRQbGF5ZXIpKSByZXR1cm47CiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQoZXZlbnRQbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICBpZiAoaXNQaWREaXNjb25uZWN0ZWQocGlkKSkgcmV0dXJuOwogICAgU3RhdGUucGxheWVycy5kZXBsb3llZEJ5UGlkW3BpZF0gPSBmYWxzZTsKICAgIFN0YXRlLnBsYXllcnMuam9pblByb21wdFRyaXBsZVRhcEFybWVkQnlQaWRbcGlkXSA9IGZhbHNlOwogICAgaWYgKFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGlkXT8uZGlhbG9nVmlzaWJsZSkgewogICAgICAgIGRlbGV0ZVRlYW1Td2l0Y2hVSShldmVudFBsYXllcik7CiAgICB9CiAgICB1cGRhdGVIZWxwVGV4dFZpc2liaWxpdHlGb3JQaWQocGlkKTsKCiAgICByZW1vdmVUZWFtU3dpdGNoSW50ZXJhY3RQb2ludChwaWQpOwogICAgLy8gT24gdW5kZXBsb3kvZGVhdGgsIGF2b2lkIGhhcmQtZGVsZXRpbmcgb3ZlcnRpbWUgSFVEOyBoaWRlICsgZHJvcCByZWZzIGZvciBzYWZlIHJlYnVpbGQuCiAgICBoYW5kbGVPdmVydGltZVBsYXllckxlYXZlQnlJZChwaWQsIGZhbHNlKTsKCiAgICBpZiAoc2hvdWxkU2hvd0pvaW5Qcm9tcHRGb3JQbGF5ZXIoZXZlbnRQbGF5ZXIpKSB7CiAgICAgICAgY3JlYXRlSm9pblByb21wdEZvclBsYXllcihldmVudFBsYXllcik7CiAgICB9Cn0KCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBFeHBvcnRlZCBFdmVudCBIYW5kbGVycyAtIFBsYXllciBEZXBsb3kgKyBVbmRlcGxveSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBQbGF5ZXIgTG9vcCArIFVJIElucHV0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gUGVyZm9ybWFuY2Ugbm90ZToKLy8gLSBPbmdvaW5nUGxheWVyIGV4ZWN1dGVzIGZyZXF1ZW50bHk7IGtlZXAgaXQgbGlnaHR3ZWlnaHQhCi8vIC0gQXZvaWQgRmluZFVJV2lkZ2V0IGNhbGxzIG9yIHBlci10aWNrIGxvb3BzIG92ZXIgYWxsIHBsYXllcnMvdmVoaWNsZXMgdW5sZXNzIHN0cmljdGx5IG5lY2Vzc2FyeS4KLy8gLSBQcmVmZXIgInVwZGF0ZSBvbmx5IHdoZW4gY2hhbmdlZCIgcGF0dGVybnMgZm9yIEhVRC9jbG9jayByZWZyZXNoZXMuCmV4cG9ydCBmdW5jdGlvbiBPbmdvaW5nUGxheWVyKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyKTogdm9pZCB7CiAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKICAgIHVwZGF0ZVNwYXduRGlzYWJsZWRXYXJuaW5nRm9yUGxheWVyKGV2ZW50UGxheWVyKTsKICAgIGlmIChpc1BsYXllckRlcGxveWVkKGV2ZW50UGxheWVyKSkgewogICAgICAgIGNoZWNrVGVhbVN3aXRjaEludGVyYWN0UG9pbnRSZW1vdmFsKGV2ZW50UGxheWVyKTsKICAgIH0KCiAgICAvLyBVSSBjYWNoaW5nIHdhcm0tdXA6IGJ1aWxkIHRoZSBSZWFkeSBVcCBkaWFsb2cgb25jZSBwZXIgcGxheWVyIHNvIHRoZSBmaXJzdCByZWFsIG9wZW4gaXMgc25hcHB5LgogICAgLy8gV2UgYnVpbGQgYW5kIGltbWVkaWF0ZWx5IGhpZGU7IHRoZSBkaWFsb2cgYmVjb21lcyB2aXNpYmxlIG9ubHkgd2hlbiB0aGUgcGxheWVyIG9wZW5zIGl0IHZpYSB0aGUgaW50ZXJhY3QgcG9pbnQuCiAgICBjb25zdCBwaWQgPSBzYWZlR2V0UGxheWVySWQoZXZlbnRQbGF5ZXIpOwogICAgaWYgKHBpZCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICBpZiAoU3RhdGUucGxheWVycy50ZWFtU3dpdGNoRGF0YVtwaWRdICYmICFTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BpZF0udWlCdWlsdCkgewogICAgICAgIGNyZWF0ZVRlYW1Td2l0Y2hVSShldmVudFBsYXllcik7CiAgICAgICAgLy8gRW5zdXJlIHRoZSB3YXJtLXVwIGJ1aWxkIGRvZXMgbm90IGNvdW50IGFzICJvcGVuIiBmb3IgcmVmcmVzaCBsb2dpYy4KICAgICAgICBTdGF0ZS5wbGF5ZXJzLnRlYW1Td2l0Y2hEYXRhW3BpZF0uZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIGRlbGV0ZVRlYW1Td2l0Y2hVSShldmVudFBsYXllcik7IC8vIG5vdyBoaWRlcyAoY2FjaGVkKSByYXRoZXIgdGhhbiBkZWxldGluZwogICAgICAgIFN0YXRlLnBsYXllcnMudGVhbVN3aXRjaERhdGFbcGlkXS51aUJ1aWx0ID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAoaXNQbGF5ZXJEZXBsb3llZChldmVudFBsYXllcikpIHsKICAgICAgICBpZiAoSW50ZXJhY3RNdWx0aUNsaWNrRGV0ZWN0b3IuY2hlY2tNdWx0aUNsaWNrKGV2ZW50UGxheWVyKSkgewogICAgICAgICAgICBhcm1Kb2luUHJvbXB0VHJpcGxlVGFwRm9yUGlkKHBpZCk7CiAgICAgICAgICAgIHNwYXduVGVhbVN3aXRjaEludGVyYWN0UG9pbnQoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICAvL21vZC5EaXNwbGF5SGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UobW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLm5vdGlmaWNhdGlvbnMubXVsdGljbGlja0RldGVjdG9yKSwgbW9kLkdldFRlYW0oZXZlbnRQbGF5ZXIpKTsKICAgICAgICB9CiAgICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBPblBsYXllckludGVyYWN0KGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLCBldmVudEludGVyYWN0UG9pbnQ6IG1vZC5JbnRlcmFjdFBvaW50KSB7CiAgICB0ZWFtU3dpdGNoSW50ZXJhY3RQb2ludEFjdGl2YXRlZChldmVudFBsYXllciwgZXZlbnRJbnRlcmFjdFBvaW50KTsKfQoKZXhwb3J0IGZ1bmN0aW9uIE9uUGxheWVyVUlCdXR0b25FdmVudChldmVudFBsYXllcjogbW9kLlBsYXllciwgZXZlbnRVSVdpZGdldDogbW9kLlVJV2lkZ2V0LCBldmVudFVJQnV0dG9uRXZlbnQ6IG1vZC5VSUJ1dHRvbkV2ZW50KSB7CiAgICBpZiAodHJ5SGFuZGxlSm9pblByb21wdEJ1dHRvbihldmVudFBsYXllciwgZXZlbnRVSVdpZGdldCwgZXZlbnRVSUJ1dHRvbkV2ZW50KSkgcmV0dXJuOwogICAgdGVhbVN3aXRjaEJ1dHRvbkV2ZW50KGV2ZW50UGxheWVyLCBldmVudFVJV2lkZ2V0LCBldmVudFVJQnV0dG9uRXZlbnQpOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBQbGF5ZXIgTG9vcCArIFVJIElucHV0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBWZWhpY2xlIEVudHJ5ICsgRXhpdCAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gT25QbGF5ZXJFbnRlclZlaGljbGU6Ci8vIFJlZ2lzdGVycyBhIHZlaGljbGUgdG8gYSB0ZWFtIHRoZSBmaXJzdCB0aW1lIGEgcGxheWVyIGVudGVycyBpdC4KLy8gVGhpcyBlc3RhYmxpc2hlcyB3aGljaCB0ZWFtIHdpbGwgbG9zZSBhIHBvaW50IGlmIHRoZSB2ZWhpY2xlIGlzIGxhdGVyIGRlc3Ryb3llZC4KLy8gQWxzbyByZWNvcmRzIHRoZSBlbnRlcmluZyBwbGF5ZXIgYXMgdGhlICdsYXN0IGRyaXZlcicgZm9yIG1lc3NhZ2luZyBwdXJwb3Nlcy4KLy8gTm90ZXM6Ci8vIC0gUmVnaXN0cmF0aW9uIGlzIGlkZW1wb3RlbnQ7IHJlLWVudGVyaW5nIGRvZXMgbm90IGRvdWJsZS1yZWdpc3Rlci4KLy8gLSBMYXN0IGRyaXZlciBpcyBiZXN0LWVmZm9ydCBhbmQgbm90IGF1dGhvcml0YXRpdmUgZm9yIHNjb3JpbmcuCi8vIENvZGUgQ2xlYW51cDogS25vd24gZnJhZ2lsaXR5IC0gd2UgbmVlZCB0byByZWZhY3RvciBvciBpZGVudGlmeSBhIGRpZmZlcmVudCBtZXRob2QgZW50aXJlbHkgYXMgT25QbGF5ZXJFbnRlclZlaGljbGUgaXMgZXJyb3IgcHJvbmUuCmZ1bmN0aW9uIGlzVmVoaWNsZUVtcHR5Rm9yRW50cnkoZXZlbnRWZWhpY2xlOiBtb2QuVmVoaWNsZSwgZW50ZXJpbmdQbGF5ZXI6IG1vZC5QbGF5ZXIpOiBib29sZWFuIHsKICAgIGNvbnN0IHNlYXRDb3VudCA9IG1vZC5HZXRWZWhpY2xlU2VhdENvdW50KGV2ZW50VmVoaWNsZSk7CiAgICBpZiAoc2VhdENvdW50IDw9IDEpIHJldHVybiB0cnVlOwogICAgY29uc3QgZW50ZXJpbmdTZWF0ID0gbW9kLkdldFBsYXllclZlaGljbGVTZWF0KGVudGVyaW5nUGxheWVyKTsKICAgIGZvciAobGV0IHNlYXQgPSAwOyBzZWF0IDwgc2VhdENvdW50OyBzZWF0KyspIHsKICAgICAgICBpZiAoc2VhdCA9PT0gZW50ZXJpbmdTZWF0KSBjb250aW51ZTsKICAgICAgICBpZiAobW9kLklzVmVoaWNsZVNlYXRPY2N1cGllZChldmVudFZlaGljbGUsIHNlYXQpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKZXhwb3J0IGZ1bmN0aW9uIE9uUGxheWVyRW50ZXJWZWhpY2xlKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLCBldmVudFZlaGljbGU6IG1vZC5WZWhpY2xlKSB7CiAgICBpZiAoIW1vZC5Jc1BsYXllclZhbGlkKGV2ZW50UGxheWVyKSkgcmV0dXJuOwoKICAgIGNvbnN0IHRlYW1OdW0gPSBnZXRUZWFtTnVtYmVyKG1vZC5HZXRUZWFtKGV2ZW50UGxheWVyKSk7CiAgICBpZiAodGVhbU51bSAhPT0gVGVhbUlELlRlYW0xICYmIHRlYW1OdW0gIT09IFRlYW1JRC5UZWFtMikgewogICAgICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICAgICAgbW9kLk1lc3NhZ2UoU1RSX1ZFSElDTEVfUkVHX1BFTkRJTkdfVEVBTSwgZXZlbnRQbGF5ZXIpLAogICAgICAgICAgICB0cnVlLAogICAgICAgICAgICBtb2QuR2V0VGVhbShUZWFtSUQuVGVhbTEpLAogICAgICAgICAgICBTVFJfVkVISUNMRV9SRUdfUEVORElOR19URUFNCiAgICAgICAgKTsKICAgICAgICBzZW5kSGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UoCiAgICAgICAgICAgIG1vZC5NZXNzYWdlKFNUUl9WRUhJQ0xFX1JFR19QRU5ESU5HX1RFQU0sIGV2ZW50UGxheWVyKSwKICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgbW9kLkdldFRlYW0oVGVhbUlELlRlYW0yKSwKICAgICAgICAgICAgU1RSX1ZFSElDTEVfUkVHX1BFTkRJTkdfVEVBTQogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGluVDEgPSBhcnJheUNvbnRhaW5zVmVoaWNsZShtb2QuR2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMSksIGV2ZW50VmVoaWNsZSk7CiAgICBjb25zdCBpblQyID0gYXJyYXlDb250YWluc1ZlaGljbGUobW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTIpLCBldmVudFZlaGljbGUpOwogICAgY29uc3Qgd2FzUmVnaXN0ZXJlZCA9IGluVDEgfHwgaW5UMjsKCiAgICAvLyBDYWNoZWQgbGFzdCBkcml2ZXIgZm9yIHRoaXMgdmVoaWNsZSAoaWYgYW55KS4KICAgIGNvbnN0IHByaW9yT3duZXIgPSBnZXRMYXN0RHJpdmVyKGV2ZW50VmVoaWNsZSk7IAoKICAgIC8vIE9ubHkgdHJ1c3QgdGhlIG93bmVyIGlmIHRoZSBwbGF5ZXIgaXMgc3RpbGwgdmFsaWQuCiAgICBjb25zdCBwcmlvck93bmVyVmFsaWQgPSAhIXByaW9yT3duZXIgJiYgbW9kLklzUGxheWVyVmFsaWQocHJpb3JPd25lcik7IAoKICAgIC8vIFNhbWUgcGxheWVyIHJlLWVudGVyaW5nIHRoZWlyIGxhc3QtZHJpdmVuIHZlaGljbGUuCiAgICBjb25zdCBpc1JldHVyblRvU2FtZU93bmVyID0gcHJpb3JPd25lclZhbGlkICYmIChnZXRPYmpJZChwcmlvck93bmVyKSA9PT0gZ2V0T2JqSWQoZXZlbnRQbGF5ZXIpKTsgCgogICAgLy8gQ3VycmVudCByZWdpc3RyeSB0ZWFtIGZvciB0aGlzIHZlaGljbGUsIGlmIGFueS4KICAgIGNvbnN0IHJlZ2lzdGVyZWRUZWFtID0gaW5UMSA/IFRlYW1JRC5UZWFtMSA6IChpblQyID8gVGVhbUlELlRlYW0yIDogMCk7IAoKICAgIGNvbnN0IGlzRW1wdHlWZWhpY2xlID0gaXNWZWhpY2xlRW1wdHlGb3JFbnRyeShldmVudFZlaGljbGUsIGV2ZW50UGxheWVyKTsKCiAgICAvLyBUcmFuc2ZlciBvbiBlbXB0eSB2ZWhpY2xlIGVudHJ5LCBtaXNzaW5nIG93bmVyLCBvciBjcm9zcy10ZWFtIHJlZ2lzdHJ5IG1pc21hdGNoLgogICAgY29uc3Qgc2hvdWxkVHJhbnNmZXJPd25lcnNoaXAgPSBpc0VtcHR5VmVoaWNsZSB8fCAhcHJpb3JPd25lclZhbGlkIHx8IChyZWdpc3RlcmVkVGVhbSAhPT0gMCAmJiByZWdpc3RlcmVkVGVhbSAhPT0gdGVhbU51bSk7IAoKICAgIC8vIFJlY29uY2lsZSBiYXNlbGluZSB0ZWFtIGZvciB1bm93bmVkIHZlaGljbGVzIGJlZm9yZSBhcHBseWluZyAiZW50ZXIgPSBjbGFpbS9zdGVhbCIuCiAgICBpZiAoIXByaW9yT3duZXJWYWxpZCkgewogICAgICAgIGNvbnN0IHZlaGljbGVPYmpJZCA9IGdldE9iaklkKGV2ZW50VmVoaWNsZSk7CiAgICAgICAgbGV0IGluZmVycmVkQmFzZVRlYW0gPSB2ZWhpY2xlU3Bhd25CYXNlVGVhbUJ5T2JqSWRbdmVoaWNsZU9iaklkXTsKICAgICAgICBpZiAoaW5mZXJyZWRCYXNlVGVhbSAhPT0gVGVhbUlELlRlYW0xICYmIGluZmVycmVkQmFzZVRlYW0gIT09IFRlYW1JRC5UZWFtMikgewogICAgICAgICAgICBpbmZlcnJlZEJhc2VUZWFtID0gaW5mZXJCYXNlVGVhbUZyb21Qb3NpdGlvbihtb2QuR2V0T2JqZWN0UG9zaXRpb24oZXZlbnRWZWhpY2xlKSkgYXMgVGVhbUlEOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZmVycmVkQmFzZVRlYW0gPT09IFRlYW1JRC5UZWFtMSB8fCBpbmZlcnJlZEJhc2VUZWFtID09PSBUZWFtSUQuVGVhbTIpIHsKICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFRlYW0gPSBpblQxID8gVGVhbUlELlRlYW0xIDogKGluVDIgPyBUZWFtSUQuVGVhbTIgOiAwKTsKICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRUZWFtICE9PSBpbmZlcnJlZEJhc2VUZWFtKSB7CiAgICAgICAgICAgICAgICByZWdpc3RlclZlaGljbGVUb1RlYW0oZXZlbnRWZWhpY2xlLCBpbmZlcnJlZEJhc2VUZWFtKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBpZiAoc2hvdWxkVHJhbnNmZXJPd25lcnNoaXApIHsKICAgICAgICBzZXRMYXN0RHJpdmVyKGV2ZW50VmVoaWNsZSwgZXZlbnRQbGF5ZXIpOwogICAgICAgIHJlZ2lzdGVyVmVoaWNsZVRvVGVhbShldmVudFZlaGljbGUsIHRlYW1OdW0pOwogICAgfSBlbHNlIGlmICghd2FzUmVnaXN0ZXJlZCkgewogICAgICAgIC8vIFNhZmV0eTogZW5zdXJlIG1lbWJlcnNoaXAgZXhpc3RzIGV2ZW4gaWYgdGhlIHJlZ2lzdHJ5IGRlc3luY2VkLgogICAgICAgIHJlZ2lzdGVyVmVoaWNsZVRvVGVhbShldmVudFZlaGljbGUsIHRlYW1OdW0pOwogICAgfQoKICAgIGNvbnN0IHRlYW1OYW1lS2V5ID0gZ2V0VGVhbU5hbWVLZXkodGVhbU51bSk7CgogICAgLy9TZW5kIG5vdGlmaWNhdGlvbnMgYXJvdW5kIGRpZmZlcmVudCB2ZWhpY2xlIHJlZ2lzdHJhdGlvbiBldmVudHMgc28gcGxheWVycyBjYW4gc3BvdCBrbm93biBpc3N1ZSB3aXRoIFZlaGljbGUgUmVnaXN0cmF0aW9ucwogICAgbGV0IG1lc3NhZ2VLZXk6IG51bWJlciA9IFNUUl9WRUhJQ0xFX1JFR19OT19DSEFOR0U7CiAgICBsZXQgYXJnMDogYW55ID0gZXZlbnRQbGF5ZXI7CiAgICBsZXQgYXJnMTogYW55ID0gdGVhbU5hbWVLZXk7CiAgICBpZiAoIXdhc1JlZ2lzdGVyZWQpIHsgLy9OZXcgVmVoaWNsZQogICAgICAgIG1lc3NhZ2VLZXkgPSBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMudmVoaWNsZVJlZ2lzdGVyZWROZXc7CiAgICAgICAgYXJnMCA9IHRlYW1OYW1lS2V5OwogICAgICAgIGFyZzEgPSBldmVudFBsYXllcjsKICAgIH0gZWxzZSBpZiAoaXNSZXR1cm5Ub1NhbWVPd25lcikgeyAvL09sZCBWZWhpY2xlIFNhbWUgUGxheWVyCiAgICAgICAgbWVzc2FnZUtleSA9IChyZWdpc3RlcmVkVGVhbSAhPT0gMCAmJiByZWdpc3RlcmVkVGVhbSAhPT0gdGVhbU51bSkKICAgICAgICAgICAgPyBTVFJfVkVISUNMRV9TVE9MRU5fUkVHSVNURVIKICAgICAgICAgICAgOiBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMudmVoaWNsZVJldHVybmVkOwogICAgICAgIGFyZzAgPSBldmVudFBsYXllcjsKICAgICAgICBhcmcxID0gdGVhbU5hbWVLZXk7CiAgICB9IGVsc2UgaWYgKHNob3VsZFRyYW5zZmVyT3duZXJzaGlwKSB7IC8vT2xkIFZlaGljbGUgRGlmZmVyZW50IFBsYXllcgogICAgICAgIG1lc3NhZ2VLZXkgPSAocmVnaXN0ZXJlZFRlYW0gIT09IDAgJiYgcmVnaXN0ZXJlZFRlYW0gIT09IHRlYW1OdW0pCiAgICAgICAgICAgID8gU1RSX1ZFSElDTEVfU1RPTEVOX1JFR0lTVEVSCiAgICAgICAgICAgIDogbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnZlaGljbGVSZVJlZ2lzdGVyZWQ7CiAgICAgICAgYXJnMCA9IHRlYW1OYW1lS2V5OwogICAgICAgIGFyZzEgPSBldmVudFBsYXllcjsKICAgIH0KCiAgICBzZW5kSGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UoCiAgICAgICAgbW9kLk1lc3NhZ2UobWVzc2FnZUtleSwgYXJnMCwgYXJnMSksCiAgICAgICAgdHJ1ZSwKICAgICAgICBtb2QuR2V0VGVhbShUZWFtSUQuVGVhbTEpLAogICAgICAgIG1lc3NhZ2VLZXkKICAgICk7CiAgICBzZW5kSGlnaGxpZ2h0ZWRXb3JsZExvZ01lc3NhZ2UoCiAgICAgICAgbW9kLk1lc3NhZ2UobWVzc2FnZUtleSwgYXJnMCwgYXJnMSksCiAgICAgICAgdHJ1ZSwKICAgICAgICBtb2QuR2V0VGVhbShUZWFtSUQuVGVhbTIpLAogICAgICAgIG1lc3NhZ2VLZXkKICAgICk7CgogICAgaGFuZGxlT3ZlcnRpbWVQbGF5ZXJFbnRlclZlaGljbGUoZXZlbnRQbGF5ZXIsIGV2ZW50VmVoaWNsZSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBPblBsYXllckV4aXRWZWhpY2xlKGV2ZW50UGxheWVyOiBtb2QuUGxheWVyLCBldmVudFZlaGljbGU6IG1vZC5WZWhpY2xlKSB7CiAgICBpZiAoIW1vZC5Jc1BsYXllclZhbGlkKGV2ZW50UGxheWVyKSkgcmV0dXJuOwogICAgaGFuZGxlT3ZlcnRpbWVQbGF5ZXJFeGl0VmVoaWNsZShldmVudFBsYXllciwgZXZlbnRWZWhpY2xlKTsKfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEV4cG9ydGVkIEV2ZW50IEhhbmRsZXJzIC0gVmVoaWNsZSBFbnRyeSArIEV4aXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEV4cG9ydGVkIEV2ZW50IEhhbmRsZXJzIC0gVmVoaWNsZSBTcGF3biArIERlc3Ryb3kgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vIE9uVmVoaWNsZVNwYXduZWQ6Ci8vIFJlZ2lzdGVycyBhIHNwYXduZWQgdmVoaWNsZSB0byB0aGUgbmVhcmVzdCBtYWluIGJhc2UgdGVhbSB1c2luZyBpdHMgd29ybGQgcG9zaXRpb24uCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPblZlaGljbGVTcGF3bmVkKGV2ZW50VmVoaWNsZTogbW9kLlZlaGljbGUpOiBQcm9taXNlPHZvaWQ+IHsKICAgIC8vIEJpbmQgdmVoaWNsZSB0byBhIHNwYXduZXIgc2xvdCBmaXJzdDsgZmFsbCBiYWNrIHRvIGJhc2UgaW5mZXJlbmNlIGlmIG5vdCBzcGF3bmVkIGJ5IG91ciBzcGF3bmVycy4KICAgIGNvbnN0IHBvc09iamVjdCA9IG1vZC5HZXRPYmplY3RQb3NpdGlvbihldmVudFZlaGljbGUpOwogICAgbGV0IHNsb3RJbmRleCA9IC0xOwogICAgY29uc3QgYWN0aXZlSW5kZXggPSBTdGF0ZS52ZWhpY2xlcy5hY3RpdmVTcGF3blNsb3RJbmRleDsKICAgIGNvbnN0IGFjdGl2ZVRva2VuID0gU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25Ub2tlbjsKICAgIGNvbnN0IGFjdGl2ZUF0ID0gU3RhdGUudmVoaWNsZXMuYWN0aXZlU3Bhd25SZXF1ZXN0ZWRBdFNlY29uZHM7CiAgICBpZiAoYWN0aXZlSW5kZXggIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVUb2tlbiAhPT0gdW5kZWZpbmVkICYmIGFjdGl2ZUF0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKG1vZC5HZXRNYXRjaFRpbWVFbGFwc2VkKCkpOwogICAgICAgIGNvbnN0IGV4cGlyZWQgPSAobm93IC0gYWN0aXZlQXQpID4gVkVISUNMRV9TUEFXTkVSX0JJTkRfVElNRU9VVF9TRUNPTkRTOwogICAgICAgIGNvbnN0IGFjdGl2ZVNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1thY3RpdmVJbmRleF07CiAgICAgICAgaWYgKCFleHBpcmVkICYmIGFjdGl2ZVNsb3QgJiYgYWN0aXZlU2xvdC5leHBlY3RpbmdTcGF3biAmJiBhY3RpdmVTbG90LnNwYXduUmVxdWVzdFRva2VuID09PSBhY3RpdmVUb2tlbikgewogICAgICAgICAgICBzbG90SW5kZXggPSBhY3RpdmVJbmRleDsKICAgICAgICB9CiAgICB9CiAgICBpZiAoc2xvdEluZGV4ID09PSAtMSkgewogICAgICAgIHNsb3RJbmRleCA9IGZpbmRTcGF3bmVyU2xvdEJ5UG9zaXRpb24ocG9zT2JqZWN0KTsKICAgIH0KICAgIGlmIChzbG90SW5kZXggPj0gMCkgewogICAgICAgIGNvbnN0IHNsb3QgPSBTdGF0ZS52ZWhpY2xlcy5zbG90c1tzbG90SW5kZXhdOwogICAgICAgIGlmICghc2xvdC5lbmFibGVkKSB7CiAgICAgICAgICAgIG1vZC5VbnNwYXduT2JqZWN0KGV2ZW50VmVoaWNsZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFzbG90LmV4cGVjdGluZ1NwYXduICYmIHNsb3QudmVoaWNsZUlkID09PSAtMSkgewogICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBzcGF3bmVyJ3MgaW5pdGlhbCBkZWZhdWx0IHNwYXduIHdpdGggYSBmb3JjZWQgc3Bhd24gdXNpbmcgdGhlIGNvbmZpZ3VyZWQgdHlwZS4KICAgICAgICAgICAgbW9kLlVuc3Bhd25PYmplY3QoZXZlbnRWZWhpY2xlKTsKICAgICAgICAgICAgYXdhaXQgbW9kLldhaXQoMC4xKTsgLy8gR2l2ZSB0aGUgZW5naW5lIGEgbW9tZW50IHRvIGNsZWFyIHRoZSBzcGF3biBiZWZvcmUgZm9yY2luZyBhZ2Fpbi4KICAgICAgICAgICAgY29uZmlndXJlVmVoaWNsZVNwYXduZXIoc2xvdC5zcGF3bmVyLCBzbG90LnZlaGljbGVUeXBlKTsKICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGZvcmNlU3Bhd25XaXRoUmV0cnkoc2xvdEluZGV4KTsKICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB2b2lkIHNjaGVkdWxlQmxvY2tlZFNwYXduUmV0cnkoc2xvdEluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgCiAgICAvLyBQcmltYXJ5IHBhdGg6IGJpbmQgdG8gYSBzcGF3bmVyIHNsb3QgdGhhdCBpcyBleHBlY3RpbmcgdGhpcyBzcGF3bi4KICAgIGxldCBpbmZlcnJlZFRlYW0gPSBiaW5kU3Bhd25lZFZlaGljbGVUb1Nsb3QoZXZlbnRWZWhpY2xlLCBwb3NPYmplY3QpOwoKICAgIGlmIChpbmZlcnJlZFRlYW0gPT09IDApIHsKICAgICAgICAvLyBSZXRyeSBvbmNlIGFmdGVyIGEgc2hvcnQgZGVsYXkgaW4gY2FzZSB0aGUgc3Bhd24gcG9zaXRpb24gaGFzbid0IHNldHRsZWQgeWV0LgogICAgICAgIGF3YWl0IG1vZC5XYWl0KDAuMik7CiAgICAgICAgY29uc3QgcG9zUmV0cnkgPSBtb2QuR2V0T2JqZWN0UG9zaXRpb24oZXZlbnRWZWhpY2xlKTsKICAgICAgICBpbmZlcnJlZFRlYW0gPSBiaW5kU3Bhd25lZFZlaGljbGVUb1Nsb3QoZXZlbnRWZWhpY2xlLCBwb3NSZXRyeSk7CiAgICB9CgogICAgY29uc3QgcG9zID0gbW9kLkdldFZlaGljbGVTdGF0ZShldmVudFZlaGljbGUsIG1vZC5WZWhpY2xlU3RhdGVWZWN0b3IuVmVoaWNsZVBvc2l0aW9uKTsKICAgIGNvbnN0IHZlaGljbGVPYmpJZCA9IGdldE9iaklkKGV2ZW50VmVoaWNsZSk7CgogICAgaWYgKGluZmVycmVkVGVhbSA9PT0gMCkgewogICAgICAgIC8vIEZhbGxiYWNrIHBhdGg6IGFzc2lnbiB0byB0aGUgbmVhcmVzdCBtYWluIGJhc2UgaWYgd2l0aGluIGJpbmQgcmFkaXVzLgogICAgICAgIGluZmVycmVkVGVhbSA9IGluZmVyQmFzZVRlYW1Gcm9tUG9zaXRpb24ocG9zKTsKCiAgICAgICAgLy8gSWYgdGhlIHNwYXduIG1hdGNoZWQgYSBrbm93biBzcGF3bmVyIGJ1dCBmYWlsZWQgdG8gYmluZCwgYmluZCB0aGUgc2xvdCBleHBsaWNpdGx5LgogICAgICAgIGlmIChzbG90SW5kZXggPj0gMCkgewogICAgICAgICAgICBjb25zdCBzbG90ID0gU3RhdGUudmVoaWNsZXMuc2xvdHNbc2xvdEluZGV4XTsKICAgICAgICAgICAgaWYgKHNsb3QgJiYgc2xvdC5lbmFibGVkICYmIHNsb3QudmVoaWNsZUlkID09PSAtMSkgewogICAgICAgICAgICAgICAgc2xvdC5leHBlY3RpbmdTcGF3biA9IGZhbHNlOwogICAgICAgICAgICAgICAgc2xvdC52ZWhpY2xlSWQgPSB2ZWhpY2xlT2JqSWQ7CiAgICAgICAgICAgICAgICBzbG90LnJlc3Bhd25SdW5uaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBzbG90LnNwYXduUmV0cnlTY2hlZHVsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIFN0YXRlLnZlaGljbGVzLnZlaGljbGVUb1Nsb3RbdmVoaWNsZU9iaklkXSA9IHNsb3RJbmRleDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBCYWlsIG91dCBpZiB0aGUgdmVoaWNsZSBkaWRuJ3Qgc3Bhd24gbmVhciBhIGtub3duIHRlYW0gYmFzZS4KICAgIC8vIFVuYXNzaWduZWQgc3Bhd25zIGFyZSBub3QgcmVnaXN0ZXJlZCBhbmQgd2lsbCBub3QgY291bnQgdG93YXJkIHNjb3JpbmcvSFVELgogICAgaWYgKGluZmVycmVkVGVhbSAhPT0gVGVhbUlELlRlYW0xICYmIGluZmVycmVkVGVhbSAhPT0gVGVhbUlELlRlYW0yKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIENhY2hlIGJhc2UtdGVhbSBpbmZlcmVuY2UgZm9yIGxhdGVyIHJlY29uY2lsaWF0aW9uIG9uIGVudGVyLgogICAgdmVoaWNsZVNwYXduQmFzZVRlYW1CeU9iaklkW3ZlaGljbGVPYmpJZF0gPSBpbmZlcnJlZFRlYW07IAoKICAgIC8vIFJlc2V0IGNhY2hlZCBvd25lciBzbyBlbnRlciBldmVudHMgY2FuIGVzdGFibGlzaCBhIG5ldyBvd25lci4KICAgIGNsZWFyTGFzdERyaXZlckJ5VmVoaWNsZU9iaklkKHZlaGljbGVPYmpJZCk7IAoKICAgIC8vIFNwYXduLXRpbWUgcmVnaXN0cmF0aW9uIGlzIGF1dGhvcml0YXRpdmUgb25seSBhZnRlciBhIHNsb3QgYmluZHMgKGJlZm9yZSBhbnkgcGxheWVyIGVudGVycykuCiAgICByZWdpc3RlclZlaGljbGVUb1RlYW0oZXZlbnRWZWhpY2xlLCBpbmZlcnJlZFRlYW0pOwoKICAgIGNvbnN0IHRlYW1OYW1lS2V5ID0gZ2V0VGVhbU5hbWVLZXkoaW5mZXJyZWRUZWFtKTsKICAgIGNvbnN0IHggPSBNYXRoLmZsb29yKG1vZC5YQ29tcG9uZW50T2YocG9zKSk7CiAgICBjb25zdCB6ID0gTWF0aC5mbG9vcihtb2QuWkNvbXBvbmVudE9mKHBvcykpOwogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy52ZWhpY2xlU3Bhd25lZCwgdGVhbU5hbWVLZXksIHgsIHopLAogICAgICAgIHRydWUsCiAgICAgICAgdW5kZWZpbmVkLAogICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy52ZWhpY2xlU3Bhd25lZAogICAgKTsKfQoKLy8gT25WZWhpY2xlRGVzdHJveWVkOgovLyBIYW5kbGVzIHZlaGljbGUtZGVzdHJ1Y3Rpb24gc2NvcmluZyBsb2dpYy4KLy8gSWYgdGhlIGRlc3Ryb3llZCB2ZWhpY2xlIGlzIHJlZ2lzdGVyZWQgdG8gYSB0ZWFtIEFORCB0aGUgcm91bmQgaXMgTElWRToKLy8gLSBBd2FyZCArMSBSb3VuZCBLaWxsIHRvIHRoZSBvcHBvc2luZyB0ZWFtLgovLyAtIEVtaXQgaW5mb3JtYXRpb25hbCB3b3JsZCBsb2cgbWVzc2FnZXMuCi8vIElmIHRoZSByb3VuZCBpcyBub3QgbGl2ZToKLy8gLSBObyBwb2ludHMgYXJlIGF3YXJkZWQ7IHRoZSB2ZWhpY2xlIGlzIHNpbXBseSBkZXJlZ2lzdGVyZWQuCi8vIEltcG9ydGFudDoKLy8gLSBJbmZhbnRyeSBkZWF0aHMgYXJlIGlnbm9yZWQgZW50aXJlbHkuCi8vIC0gVGhpcyBmdW5jdGlvbiBpcyB0aGUgT05MWSBwbGFjZSByb3VuZCB2ZWhpY2xlIGtpbGxzIGFyZSBhd2FyZGVkLgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gT25WZWhpY2xlRGVzdHJveWVkKGV2ZW50VmVoaWNsZTogbW9kLlZlaGljbGUpIHsKICAgIGhhbmRsZU92ZXJ0aW1lVmVoaWNsZURlc3Ryb3llZChldmVudFZlaGljbGUpOwogICAgY29uc3QgaW5UMSA9IGFycmF5Q29udGFpbnNWZWhpY2xlKG1vZC5HZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0xKSwgZXZlbnRWZWhpY2xlKTsKICAgIGNvbnN0IGluVDIgPSBhcnJheUNvbnRhaW5zVmVoaWNsZShtb2QuR2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMiksIGV2ZW50VmVoaWNsZSk7CgogICAgLy8gUmVnaXN0cmF0aW9uIGlzIHRoZSBzY29yaW5nIGdhdGU7IHVucmVnaXN0ZXJlZCB2ZWhpY2xlcyBhcmUgaWdub3JlZC4KICAgIGlmICghaW5UMSAmJiAhaW5UMikgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBkZXN0cm95ZWRUZWFtTnVtID0gaW5UMSA/IFRlYW1JRC5UZWFtMSA6IFRlYW1JRC5UZWFtMjsKICAgIGNvbnN0IHNjb3JpbmdUZWFtTnVtID0gb3Bwb3NpbmdUZWFtKGRlc3Ryb3llZFRlYW1OdW0pOwoKICAgIGlmIChpc1JvdW5kTGl2ZSgpKSB7CiAgICAgICAgY29uc3QgdmVoaWNsZU9iaklkID0gZ2V0T2JqSWQoZXZlbnRWZWhpY2xlKTsKICAgICAgICAvLyBOT1RFOiB2ZWhpY2xlVG9TbG90IGNhbiBiZSBjbGVhcmVkIGJ5IHRoZSBzcGF3bmVyIHBvbGwgbG9vcCAoMXMgdGljaykgYmVmb3JlIHRoaXMgcnVucy4KICAgICAgICAvLyBJZiB0aGF0IGhhcHBlbnMsIHRoZSBjYW1wZWQgbG9nIG1heSBiZSBza2lwcGVkIGZvciB0aGF0IGRlc3RydWN0aW9uLgogICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IFN0YXRlLnZlaGljbGVzLnZlaGljbGVUb1Nsb3RbdmVoaWNsZU9iaklkXTsKICAgICAgICBsZXQgd2FzU3Bhd25DYW1wZWQgPSBmYWxzZTsKICAgICAgICBpZiAoc2xvdEluZGV4ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgc2xvdCA9IFN0YXRlLnZlaGljbGVzLnNsb3RzW3Nsb3RJbmRleF07CiAgICAgICAgICAgIGlmIChzbG90KSB7CiAgICAgICAgICAgICAgICBjb25zdCBzcGF3bmVyUG9zID0gc2xvdC5zcGF3blBvczsKICAgICAgICAgICAgICAgIGNvbnN0IGRlYXRoUG9zID0gbW9kLkdldFZlaGljbGVTdGF0ZShldmVudFZlaGljbGUsIG1vZC5WZWhpY2xlU3RhdGVWZWN0b3IuVmVoaWNsZVBvc2l0aW9uKTsKICAgICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUG9zID0gbW9kLkdldE9iamVjdFBvc2l0aW9uKGV2ZW50VmVoaWNsZSk7CiAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWRQb3MgPSBkZWF0aFBvczsKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBtb2QuWENvbXBvbmVudE9mKGRlYXRoUG9zKSA9PT0gMCAmJgogICAgICAgICAgICAgICAgICAgIG1vZC5ZQ29tcG9uZW50T2YoZGVhdGhQb3MpID09PSAwICYmCiAgICAgICAgICAgICAgICAgICAgbW9kLlpDb21wb25lbnRPZihkZWF0aFBvcykgPT09IDAKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUG9zID0gZmFsbGJhY2tQb3M7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCBkID0gbW9kLkRpc3RhbmNlQmV0d2VlbihyZXNvbHZlZFBvcywgc3Bhd25lclBvcyk7CiAgICAgICAgICAgICAgICBpZiAoZCA8PSBWRUhJQ0xFX0NBTVBFRF9ESVNUQU5DRV9NRVRFUlMpIHsKICAgICAgICAgICAgICAgICAgICB3YXNTcGF3bkNhbXBlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVhbU5hbWVLZXkgPSBnZXRUZWFtTmFtZUtleShkZXN0cm95ZWRUZWFtTnVtKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihtb2QuWENvbXBvbmVudE9mKHJlc29sdmVkUG9zKSk7CiAgICAgICAgICAgICAgICAgICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgICAgICAgICAgICAgICAgICBtb2QuTWVzc2FnZShtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMudmVoaWNsZUNhbXBlZEluTWFpbkJhc2UsIHRlYW1OYW1lS2V5LCB4KSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgICAgICBtb2Quc3RyaW5na2V5cy50d2wubWVzc2FnZXMudmVoaWNsZUNhbXBlZEluTWFpbkJhc2UKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdhc1NwYXduQ2FtcGVkKSB7CiAgICAgICAgICAgIGlmIChzY29yaW5nVGVhbU51bSA9PT0gVGVhbUlELlRlYW0xKSB7CiAgICAgICAgICAgICAgICBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzID0gU3RhdGUuc2NvcmVzLnQxUm91bmRLaWxscyArIDE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcmluZ1RlYW1OdW0gPT09IFRlYW1JRC5UZWFtMikgewogICAgICAgICAgICAgICAgU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxscyA9IFN0YXRlLnNjb3Jlcy50MlJvdW5kS2lsbHMgKyAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBVcGRhdGUgcm91bmQga2lsbHMgSFVEIGltbWVkaWF0ZWx5LgogICAgICAgICAgICBzeW5jUm91bmRLaWxsc0h1ZCgpOwoKICAgICAgICAgICAgLy8gRW5kIHRoZSByb3VuZCBpbW1lZGlhdGVseSBpZiBhIHRlYW0gcmVhY2hlcyB0aGUgY29uZmlndXJlZCByb3VuZC1raWxscyB0YXJnZXQuCiAgICAgICAgICAgIGlmIChTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzID49IFN0YXRlLnJvdW5kLmtpbGxzVGFyZ2V0IHx8IFN0YXRlLnNjb3Jlcy50MlJvdW5kS2lsbHMgPj0gU3RhdGUucm91bmQua2lsbHNUYXJnZXQpIHsKICAgICAgICAgICAgICAgIGVuZFJvdW5kKHVuZGVmaW5lZCwgZ2V0UmVtYWluaW5nU2Vjb25kcygpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNjb3JpbmdUZWFtTnVtID09PSBUZWFtSUQuVGVhbTEpIHsKICAgICAgICAgICAgICAgIFN0YXRlLnNjb3Jlcy50MVRvdGFsS2lsbHMgPSBNYXRoLmZsb29yKFN0YXRlLnNjb3Jlcy50MVRvdGFsS2lsbHMpICsgMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzY29yaW5nVGVhbU51bSA9PT0gVGVhbUlELlRlYW0yKSB7CiAgICAgICAgICAgICAgICBTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzID0gTWF0aC5mbG9vcihTdGF0ZS5zY29yZXMudDJUb3RhbEtpbGxzKSArIDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b3AgSFVEIGtpbGxzIGNvdW50ZXJzLgogICAgICAgICAgICBzeW5jS2lsbHNIdWRGcm9tVHJhY2tlZFRvdGFscyhmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBtb2QuU2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMSwgYXJyYXlSZW1vdmVWZWhpY2xlKG1vZC5HZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0xKSwgZXZlbnRWZWhpY2xlKSk7CiAgICAgICAgbW9kLlNldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTIsIGFycmF5UmVtb3ZlVmVoaWNsZShtb2QuR2V0VmFyaWFibGUocmVnVmVoaWNsZXNUZWFtMiksIGV2ZW50VmVoaWNsZSkpOwoKICAgICAgICBjb25zdCBvd25lciA9IHBvcExhc3REcml2ZXIoZXZlbnRWZWhpY2xlKTsKCiAgICAgICAgLy8gTGVnYWN5IGRlbGF5IHJlbW92ZWQ7IHNlbmQga2lsbCBtZXNzYWdlIGltbWVkaWF0ZWx5IHRvIGF2b2lkIGRlZmVycmVkIGNyYXNoIHdpbmRvdy4KICAgICAgICAvLyBhd2FpdCBtb2QuV2FpdCgzLjApOwoKICAgICAgICBpZiAoIXdhc1NwYXduQ2FtcGVkKSB7CiAgICAgICAgICAgIGNvbnN0IHJvdW5kS2lsbHMgPSAoc2NvcmluZ1RlYW1OdW0gPT09IFRlYW1JRC5UZWFtMSkgPyBTdGF0ZS5zY29yZXMudDFSb3VuZEtpbGxzIDogU3RhdGUuc2NvcmVzLnQyUm91bmRLaWxsczsKICAgICAgICAgICAgY29uc3QgdGVhbU5hbWVLZXkgPSAoc2NvcmluZ1RlYW1OdW0gPT09IFRlYW1JRC5UZWFtMSkgPyBnZXRUZWFtTmFtZUtleShUZWFtSUQuVGVhbTEpIDogZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0yKTsKICAgICAgICAgICAgY29uc3Qgb3duZXJOYW1lT3JLZXkgPSBvd25lcgogICAgICAgICAgICAgICAgPyAobW9kLklzUGxheWVyVmFsaWQob3duZXIpID8gb3duZXIgOiBtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLnVua25vd25QbGF5ZXIpCiAgICAgICAgICAgICAgICA6IG1vZC5zdHJpbmdrZXlzLnR3bC5zeXN0ZW0udW5hc3NpZ25lZDsKCiAgICAgICAgICAgIHNlbmRIaWdobGlnaHRlZFdvcmxkTG9nTWVzc2FnZSgKICAgICAgICAgICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy5wb2ludEF3YXJkZWRXaXRoT3duZXIsIHRlYW1OYW1lS2V5LCBvd25lck5hbWVPcktleSwgTWF0aC5mbG9vcihyb3VuZEtpbGxzKSksCiAgICAgICAgICAgICAgICB0cnVlLAogICAgICAgICAgICAgICAgbW9kLkdldFRlYW0oVGVhbUlELlRlYW0xKSwKICAgICAgICAgICAgICAgIG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy5wb2ludEF3YXJkZWRXaXRoT3duZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgICAgICAgICAgbW9kLk1lc3NhZ2UobW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnBvaW50QXdhcmRlZFdpdGhPd25lciwgdGVhbU5hbWVLZXksIG93bmVyTmFtZU9yS2V5LCBNYXRoLmZsb29yKHJvdW5kS2lsbHMpKSwKICAgICAgICAgICAgICAgIHRydWUsCiAgICAgICAgICAgICAgICBtb2QuR2V0VGVhbShUZWFtSUQuVGVhbTIpLAogICAgICAgICAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnBvaW50QXdhcmRlZFdpdGhPd25lcgogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIFJvdW5kIGlzIG5vdCBsaXZlOiBjbGVhbiB1cCByZWdpc3RyYXRpb24sIGJ1dCBkbyBub3QgYXdhcmQgcG9pbnRzIG9yIGluY3JlbWVudCBjb3VudGVycy4KICAgIG1vZC5TZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0xLCBhcnJheVJlbW92ZVZlaGljbGUobW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTEpLCBldmVudFZlaGljbGUpKTsKICAgIG1vZC5TZXRWYXJpYWJsZShyZWdWZWhpY2xlc1RlYW0yLCBhcnJheVJlbW92ZVZlaGljbGUobW9kLkdldFZhcmlhYmxlKHJlZ1ZlaGljbGVzVGVhbTIpLCBldmVudFZlaGljbGUpKTsKCiAgICBjb25zdCBvd25lciA9IHBvcExhc3REcml2ZXIoZXZlbnRWZWhpY2xlKTsKCiAgICAvLyBMZWdhY3kgZGVsYXkgcmVtb3ZlZDsgc2VuZCBraWxsIG1lc3NhZ2UgaW1tZWRpYXRlbHkgdG8gYXZvaWQgZGVmZXJyZWQgY3Jhc2ggd2luZG93LgogICAgLy8gYXdhaXQgbW9kLldhaXQoMy4wKTsKCiAgICBjb25zdCBkZXN0cm95ZWRUZWFtTmFtZUtleSA9IChkZXN0cm95ZWRUZWFtTnVtID09PSBUZWFtSUQuVGVhbTEpID8gZ2V0VGVhbU5hbWVLZXkoVGVhbUlELlRlYW0xKSA6IGdldFRlYW1OYW1lS2V5KFRlYW1JRC5UZWFtMik7CiAgICBjb25zdCBvd25lck5hbWVPcktleSA9IG93bmVyCiAgICAgICAgPyAobW9kLklzUGxheWVyVmFsaWQob3duZXIpID8gb3duZXIgOiBtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLnVua25vd25QbGF5ZXIpCiAgICAgICAgOiBtb2Quc3RyaW5na2V5cy50d2wuc3lzdGVtLnVuYXNzaWduZWQ7CgogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy52ZWhpY2xlRGVzdHJveWVkTm90TGl2ZSwgb3duZXJOYW1lT3JLZXksIGRlc3Ryb3llZFRlYW1OYW1lS2V5KSwKICAgICAgICB0cnVlLAogICAgICAgIG1vZC5HZXRUZWFtKFRlYW1JRC5UZWFtMSksCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnZlaGljbGVEZXN0cm95ZWROb3RMaXZlCiAgICApOwogICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgIG1vZC5NZXNzYWdlKG1vZC5zdHJpbmdrZXlzLnR3bC5tZXNzYWdlcy52ZWhpY2xlRGVzdHJveWVkTm90TGl2ZSwgb3duZXJOYW1lT3JLZXksIGRlc3Ryb3llZFRlYW1OYW1lS2V5KSwKICAgICAgICB0cnVlLAogICAgICAgIG1vZC5HZXRUZWFtKFRlYW1JRC5UZWFtMiksCiAgICAgICAgbW9kLnN0cmluZ2tleXMudHdsLm1lc3NhZ2VzLnZlaGljbGVEZXN0cm95ZWROb3RMaXZlCiAgICApOwp9CgovLyNlbmRyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXhwb3J0ZWQgRXZlbnQgSGFuZGxlcnMgLSBWZWhpY2xlIFNwYXduICsgRGVzdHJveSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKCgovLyNyZWdpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW50ZXIvRXhpdCBUcmlnZ2VycyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gQ2FwdHVyZVBvaW50IHRpY2s6IGtlZXAgZW5naW5lIGNhcHR1cmUgc3VwcHJlc3NlZCB3aGlsZSB3ZSB1c2UgQ1BzIGFzIG1hcmtlcnMgb25seS4KZXhwb3J0IGZ1bmN0aW9uIE9uZ29pbmdDYXB0dXJlUG9pbnQoZXZlbnRDYXB0dXJlUG9pbnQ6IG1vZC5DYXB0dXJlUG9pbnQpOiB2b2lkIHsKICAgIHRyeSB7CiAgICAgICAgaWYgKCFldmVudENhcHR1cmVQb2ludCkgcmV0dXJuOwogICAgICAgIGlmICghU3RhdGUuZmxhZy5jb25maWdWYWxpZCkgcmV0dXJuOwogICAgICAgIGlmIChTdGF0ZS5mbGFnLnN0YWdlIDwgT3ZlcnRpbWVTdGFnZS5WaXNpYmxlKSByZXR1cm47CiAgICAgICAgaWYgKCFpc0FjdGl2ZU92ZXJ0aW1lQ2FwdHVyZVBvaW50KGV2ZW50Q2FwdHVyZVBvaW50KSkgcmV0dXJuOwogICAgICAgIGFwcGx5T3ZlcnRpbWVDYXB0dXJlUG9pbnRTdXBwcmVzc2lvbihldmVudENhcHR1cmVQb2ludCk7CiAgICAgICAgc2V0T3ZlcnRpbWVDYXB0dXJlUG9pbnRPd25lcihldmVudENhcHR1cmVQb2ludCwgMCk7CiAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBPblBsYXllckVudGVyQXJlYVRyaWdnZXIoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsIGV2ZW50QXJlYVRyaWdnZXI6IG1vZC5BcmVhVHJpZ2dlcikgewogICAgdHJ5IHsKICAgICAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKCiAgICAgICAgY29uc3QgdHJpZ2dlcklkID0gc2FmZUdldE9iaklkKGV2ZW50QXJlYVRyaWdnZXIpOwogICAgICAgIGlmICh0cmlnZ2VySWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIGlmIChTdGF0ZS5mbGFnLmFjdGl2ZUFyZWFUcmlnZ2VySWQgIT09IHVuZGVmaW5lZCAmJiB0cmlnZ2VySWQgPT09IFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCkgewogICAgICAgICAgICAvLyBPdmVydGltZSB6b25lcyBhcmUgQXJlYVRyaWdnZXItZHJpdmVuOyB0cmFja2luZyBpcyBlbmFibGVkIGZyb20gcm91bmQgc3RhcnQuCiAgICAgICAgICAgIGlmIChtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHsKICAgICAgICAgICAgICAgIGhhbmRsZU92ZXJ0aW1lUGxheWVyRW50ZXJab25lKGV2ZW50UGxheWVyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKElzUGxheWVySW5Pd25NYWluQmFzZShldmVudFBsYXllciwgZXZlbnRBcmVhVHJpZ2dlcikpIHsKICAgICAgICAgICAgLy8gdHJhY2sgcGVyLXBsYXllciBtYWluIGJhc2Ugc3RhdGUgZm9yIFVJIGRpc3BsYXkgKGF1dGhvcml0YXRpdmUgZ2F0aW5nIGNvbWVzIGxhdGVyKS4KICAgICAgICAgICAgU3RhdGUucGxheWVycy5pbk1haW5CYXNlQnlQaWRbbW9kLkdldE9iaklkKGV2ZW50UGxheWVyKV0gPSB0cnVlOwogICAgICAgICAgICByZW5kZXJSZWFkeURpYWxvZ0ZvckFsbFZpc2libGVWaWV3ZXJzKCk7CiAgICAgICAgICAgIEJyb2FkY2FzdE1haW5CYXNlRXZlbnQoU1RSX0VOVEVSRURfTUFJTl9CQVNFLCBldmVudFBsYXllcik7CiAgICAgICAgICAgIFJlc3RvY2tHYWRnZXRBbW1vKGV2ZW50UGxheWVyLCBSRVNUT0NLX01BR19BTU1PX0VOVEVSKTsKICAgICAgICAgICAgTm90aWZ5QW1tb1Jlc3RvY2tlZChldmVudFBsYXllcik7CiAgICAgICAgfQogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgpleHBvcnQgZnVuY3Rpb24gT25QbGF5ZXJFeGl0QXJlYVRyaWdnZXIoZXZlbnRQbGF5ZXI6IG1vZC5QbGF5ZXIsIGV2ZW50QXJlYVRyaWdnZXI6IG1vZC5BcmVhVHJpZ2dlcikgewogICAgdHJ5IHsKICAgICAgICBpZiAoIWV2ZW50UGxheWVyIHx8ICFtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHJldHVybjsKCiAgICAgICAgY29uc3QgdHJpZ2dlcklkID0gc2FmZUdldE9iaklkKGV2ZW50QXJlYVRyaWdnZXIpOwogICAgICAgIGlmICh0cmlnZ2VySWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIGlmIChTdGF0ZS5mbGFnLmFjdGl2ZUFyZWFUcmlnZ2VySWQgIT09IHVuZGVmaW5lZCAmJiB0cmlnZ2VySWQgPT09IFN0YXRlLmZsYWcuYWN0aXZlQXJlYVRyaWdnZXJJZCkgewogICAgICAgICAgICAvLyBPdmVydGltZSB6b25lcyBhcmUgQXJlYVRyaWdnZXItZHJpdmVuOyB0cmFja2luZyBpcyBlbmFibGVkIGZyb20gcm91bmQgc3RhcnQuCiAgICAgICAgICAgIGlmIChtb2QuSXNQbGF5ZXJWYWxpZChldmVudFBsYXllcikpIHsKICAgICAgICAgICAgICAgIGhhbmRsZU92ZXJ0aW1lUGxheWVyRXhpdFpvbmUoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWlzUGxheWVyRGVwbG95ZWQoZXZlbnRQbGF5ZXIpKSByZXR1cm47CgogICAgICAgIGlmIChJc1BsYXllckluT3duTWFpbkJhc2UoZXZlbnRQbGF5ZXIsIGV2ZW50QXJlYVRyaWdnZXIpKSB7CiAgICAgICAgICAgIFN0YXRlLnBsYXllcnMuaW5NYWluQmFzZUJ5UGlkW21vZC5HZXRPYmpJZChldmVudFBsYXllcildID0gZmFsc2U7CiAgICAgICAgICAgIC8vIFByZS1yb3VuZCBnYXRpbmc6OiBpZiB0aGUgcm91bmQgaXMgTk9UIGFjdGl2ZSwgbGVhdmluZyB0aGUgbWFpbiBiYXNlIGZvcmNlcyB0aGUgcGxheWVyIGJhY2sgdG8gTk9UIFJFQURZLgogICAgICAgICAgICBpZiAoIWlzUm91bmRMaXZlKCkpIHsKICAgICAgICAgICAgICAgIFN0YXRlLnBsYXllcnMucmVhZHlCeVBpZFttb2QuR2V0T2JqSWQoZXZlbnRQbGF5ZXIpXSA9IGZhbHNlOwogICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgSFVEICJYIC8gWSBQTEFZRVJTIFJFQURZIiBsaW5lIGluIHN5bmMgd2hlbiBsZWF2aW5nIG1haW4gYmFzZSBmb3JjZXMgTk9UIFJFQURZLgogICAgICAgICAgICAgICAgdXBkYXRlUGxheWVyc1JlYWR5SHVkVGV4dEZvckFsbFBsYXllcnMoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUhlbHBUZXh0VmlzaWJpbGl0eUZvclBsYXllcihldmVudFBsYXllcik7CiAgICAgICAgICAgICAgICBpZiAoU3RhdGUucm91bmQuY291bnRkb3duLmlzUmVxdWVzdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY2FuY2VsUHJlZ2FtZUNvdW50ZG93bigpOwogICAgICAgICAgICAgICAgICAgIHZvaWQgc2hvd092ZXJMaW5lTWVzc2FnZUZvckFsbFBsYXllcnMoZXZlbnRQbGF5ZXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gUGxheWVyLW9ubHkgd2FybmluZzogdGhleSB3ZXJlIHJlYWR5LCBidXQgbGVmdCBtYWluIGJhc2UgYmVmb3JlIHRoZSByb3VuZCB3ZW50IGxpdmUuCiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgbm90IGJyb2FkY2FzdCBnbG9iYWxseTsgaXQgaXMgYWN0aW9uYWJsZSBndWlkYW5jZSBmb3IgdGhlIGluZGl2aWR1YWwgcGxheWVyLgogICAgICAgICAgICAgICAgc2VuZEhpZ2hsaWdodGVkV29ybGRMb2dNZXNzYWdlKAogICAgICAgICAgICAgICAgICAgIG1vZC5NZXNzYWdlKFNUUl9SRUFEWVVQX1JFVFVSTl9UT19CQVNFX05PVF9MSVZFLCBNYXRoLmZsb29yKFN0YXRlLnJvdW5kLmN1cnJlbnQpKSwKICAgICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBldmVudFBsYXllciwKICAgICAgICAgICAgICAgICAgICBTVFJfUkVBRFlVUF9SRVRVUk5fVE9fQkFTRV9OT1RfTElWRQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZW5kZXJSZWFkeURpYWxvZ0ZvckFsbFZpc2libGVWaWV3ZXJzKCk7CiAgICAgICAgICAgIEJyb2FkY2FzdE1haW5CYXNlRXZlbnQoU1RSX0VYSVRFRF9NQUlOX0JBU0UsIGV2ZW50UGxheWVyKTsKICAgICAgICAgICAgUmVzdG9ja0dhZGdldEFtbW8oZXZlbnRQbGF5ZXIsIFJFU1RPQ0tfTUFHX0FNTU9fRVhJVCk7CiAgICAgICAgICAgIE5vdGlmeUFtbW9SZXN0b2NrZWQoZXZlbnRQbGF5ZXIpOwogICAgICAgIH0KICAgIH0gY2F0Y2ggewogICAgICAgIHJldHVybjsKICAgIH0KfQoKLy8jZW5kcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tIEVudGVyL0V4aXQgVHJpZ2dlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tIEVPRiBNZXRhZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8gRU9GIHZlcnNpb246IDAuNTQ0IHwgRGF0ZTogMDEuMjUuMjYgfCBUaW1lOiAxNzoyMiBVVEMKCi8vI2VuZHJlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBFT0YgTWV0YWRhdGEgLS0tLS0tLS0tLS0tLS0tLS0tLS0=","compiled":""},"attachmentType":2,"errors":[]},{"id":"8ec1b839-2c1e-4069-9354-f5b9cc1d1610","version":"345","filename":"Strings.json","isProcessable":false,"processingStatus":2,"attachmentData":{"original":"eyJ0d2wiOnsiaHVkIjp7ImJyYW5kaW5nIjp7InRpdGxlIjoidGVhbXdhcmZhcmUgLiBuZXQgfCBUV0wgVGFua3MgKHYwLjU0NCkiLCJzdWJ0aXRsZSI6IkRlZmVuc2UgTmV4dXMgRXhwZXJpZW5jZSBDb2RlOiBaIFEgQSBWIDEifSwicm91bmRUZXh0IjoiUk9VTkQiLCJoZWxwVGV4dCI6IlN0YW5kIHN0aWxsLCB0aGVuIHRyaXBsZSB0YXAgeW91ciBpbnRlcmFjdCBrZXliaW5kIHRvICdSZWFkeSBVcCcgb3IgY29uZmlndXJlIE1hdGNoIFNldHRpbmdzIiwic3Bhd25EaXNhYmxlZExpdmUiOiJTUEFXTklORyBESVNBQkxFRCBEVVJJTkcgTElWRSBST1VORCIsInJlYWR5VGV4dCI6IllvdSBhcmUgUmVhZHkiLCJsYWJlbHMiOnsidG90YWxLaWxscyI6IlRvdGFsIEtpbGxzIiwicm91bmRLaWxscyI6IlJvdW5kIEtpbGxzIiwicm91bmRLaWxsc1dpdGhSb3VuZEZvcm1hdCI6IlJvdW5kIHswfSBLaWxscyIsInJvdW5kV2lucyI6IlJvdW5kIFdpbnMifSwicm91bmRTdGF0ZUZvcm1hdCI6InswfSB7MX0gezJ9Iiwicm91bmRTdGF0ZUxpdmUiOiJMSVZFIiwicm91bmRTdGF0ZU5vdFJlYWR5IjoiTk9UIFJFQURZIiwicm91bmRTdGF0ZUdhbWVPdmVyIjoiR0FNRSBPVkVSIiwicm91bmRSZWNvcmRGb3JtYXQiOiJ7MH0gLSB7MX0gLSB7Mn0iLCJyb3VuZExpdmVIZWxwRm9ybWF0IjoiRmlyc3QgdG8gezB9IFZlaGljbGUgS2lsbHMgV2lucyB0aGUgUm91bmQiLCJwbGF5ZXJzUmVhZHlGb3JtYXQiOiJ7MH0gLyB7MX0gUExBWUVSUyBSRUFEWSIsInZlaGljbGVzQWxpdmVGb3JtYXQiOiJ7MH0gVmVoaWNsZXMgQWxpdmUiLCJjbG9jayI6eyJkaWdpdCI6InswfSIsImNvbG9uIjoiOiJ9fSwicm91bmRFbmQiOnsiZHJhdyI6IkRSQVciLCJyb3VuZE51bWJlciI6IlJPVU5EIHswfSIsImRldGFpbCI6eyJ3aW5FbGltaW5hdGlvbiI6IldFIEVMSU1JTkFURUQgVEhFIEVORU1ZIFRFQU0iLCJsb3NlRWxpbWluYXRpb24iOiJUSEUgRU5FTVkgRUxJTUlOQVRFRCBPVVIgVEVBTSIsIndpbk9iamVjdGl2ZUNhcHR1cmVkIjoiV0UgU0VDVVJFRCBUSEUgT0JKRUNUSVZFIiwibG9zZU9iamVjdGl2ZUNhcHR1cmVkIjoiVEhFIEVORU1ZIFNFQ1VSRUQgVEhFIE9CSkVDVElWRSIsIndpbk9iamVjdGl2ZVByb2dyZXNzIjoiVElNRSBPVkVSOiBXRSBTRUNVUkVEIFRIRSBNT1NUIE9CSkVDVElWRSBQUk9HUkVTUyAtIHswfSUiLCJsb3NlT2JqZWN0aXZlUHJvZ3Jlc3MiOiJUSU1FIE9WRVI6IFRIRSBFTkVNWSBTRUNVUkVEIFRIRSBNT1NUIE9CSkVDVElWRSBQUk9HUkVTUyAtIHswfSUiLCJ3aW5UaW1lT3ZlcktpbGxzIjoiVElNRSBPVkVSOiBXRSBFTElNSU5BVEVEIE1PUkUgRU5FTUlFUyIsImxvc2VUaW1lT3ZlcktpbGxzIjoiVElNRSBPVkVSOiBUSEUgRU5FTVkgRUxJTUlOQVRFRCBNT1JFIE9GIFVTIiwiZHJhd0V2ZW5FbGltcyI6IlRJTUUgT1ZFUjogV0UgQVJFIEVWRU4gSU4gRUxJTUlOQVRJT05TIiwiZHJhd05vQWN0aW9uIjoiVElNRSBPVkVSOiBOTyBPTkUgRElEIEFOWVRISU5HIE9GIE5PVEUifX0sInJvdW5kU3RhcnQiOnsidGl0bGUiOiJFTElNSU5BVEUgVEhFIEVORU1ZIFRFQU0iLCJzdWJ0aXRsZSI6Ik5PIFJFREVQTE9ZUyAtIE9ORSBMSUZFIFBFUiBST1VORCJ9LCJmbGFnQ2FwdHVyZSI6eyJ0aXRsZSI6Ik9CSkVDVElWRSIsImxvY2tlZFRpdGxlRm9ybWF0IjoiT0JKRUNUSVZFIHswfSAtIFVOTE9DS1MgSU4gezF9UyIsImFjdGl2ZVRpdGxlRm9ybWF0IjoiT0JKRUNUSVZFIHswfSIsImFjdGl2YXRlc0luRm9ybWF0IjoiSU5TSURFIE9CSkVDVElWRSAtIExPQ0tFRCIsInN0YXR1cyI6eyJjYXB0dXJpbmciOiJXSU5OSU5HIiwibG9zaW5nIjoiTE9TSU5HIiwic3RhbGxlZCI6IkNPTlRFU1RFRCIsInJlc2V0dGluZyI6IlJFU0VUVElORyJ9LCJjb3VudHMiOnsibGVmdEZvcm1hdCI6InswfSIsInJpZ2h0Rm9ybWF0IjoiezB9In0sInByb2dyZXNzIjp7ImZvcm1hdCI6InswfSUifSwicHJldmlld0FjdGl2ZUZvcm1hdCI6IkNBUFRVUkUiLCJ2ZWhpY2xlUmVxdWlyZWQiOiJWZWhpY2xlIG5lZWRlZCB0byBjYXB0dXJlIG9iamVjdGl2ZSEiLCJsZXR0ZXJzIjp7InVua25vd24iOiI/IiwiQSI6IkEiLCJCIjoiQiIsIkMiOiJDIiwiRCI6IkQiLCJFIjoiRSIsIkYiOiJGIiwiRyI6IkcifX0sIm92ZXJ0aW1lIjp7InRpdGxlIjp7InZpc2libGUiOiJPQkpFQ1RJVkUgJ3swfScgV0FTIFJBTkRPTUxZIENIT1NFTiBBUyBUSEUgVElFLUJSRUFLRVIhIiwidmlzaWJsZUFkbWluIjoiT0JKRUNUSVZFICd7MH0nIFdBUyBQSUNLRUQgVEhST1VHSCBBTiBBRE1JTiBPVkVSUklERSJ9LCJzdWJ0aXRsZSI6eyJub3RpY2UiOiJ7MH06ezF9ezJ9IFJlbWFpbmluZyIsInVubG9ja3NJbiI6IklOIENBUFRVUkUgUkFESVVTIChMT0NLRUQpIiwidW5sb2Nrc05vdyI6IlNFQ1VSRSBPQkpFQ1RJVkUgJ3swfScgQkVGT1JFIFRIRSBFTkVNWSEgKE9SIEpVU1QgS0lMTCBUSEVNKSJ9fSwib3ZlckxpbmUiOnsidGl0bGUiOiJ7MH0gSVMgT1ZFUiBUSEUgTElORSEiLCJzdWJ0aXRsZSI6IkV2ZXJ5b25lIG11c3QgcmV0dXJuIHRvIHRoZWlyIG1haW4gYmFzZSBhbmQgcmVhZHkgYmFjayB1cC4ifSwidGVhbXMiOnsiV0VTVCI6IldFU1QiLCJFQVNUIjoiRUFTVCIsIk5PUlRIIjoiTk9SVEgiLCJTT1VUSCI6IlNPVVRIIn0sIm1hcHMiOnsiYmxhY2t3ZWxsRmllbGRzIjoiQmxhY2t3ZWxsIEZpZWxkcyIsImRlZmVuc2VOZXh1cyI6IkRlZmVuc2UgTmV4dXMiLCJnb2xmQ291cnNlIjoiR29sZiBDb3Vyc2UiLCJtaXJha1ZhbGxleSI6Ik1pcmFrIFZhbGxleSIsIm9wZXJhdGlvbkZpcmVzdG9ybSI6Ik9wZXJhdGlvbiBGaXJlc3Rvcm0iLCJsaWJlcmF0aW9uUGVhayI6IkxpYmVyYXRpb24gUGVhayIsIm1hbmhhdHRhbkJyaWRnZSI6Ik1hbmhhdHRhbiBCcmlkZ2UiLCJhcmVhMjJCIjoiQXJlYSAyMkIifSwibm90aWZpY2F0aW9ucyI6eyJhbW1vUmVzdG9ja2VkIjoiWW91ciBnYWRnZXQgYW1tbyBpcyByZXN0b2NrZWQiLCJlbnRlcmVkTWFpbkJhc2UiOiJ7MH0gZW50ZXJlZCB0aGVpciBtYWluIGJhc2UiLCJleGl0ZWRNYWluQmFzZSI6InswfSBleGl0ZWQgdGhlaXIgbWFpbiBiYXNlIiwicmVhZHl1cFJldHVyblRvQmFzZU5vdExpdmUiOiJSZXR1cm4gdG8gbWFpbiBiYXNlIGFuZCByZWFkeSBiYWNrIHVwIC0gUm91bmQgezB9IGlzIG5vdCBsaXZlISIsInJvdW5kRW5kVGllIjoiUm91bmQgZW5kZWQ6IFRpZSB7MH0tezF9LiIsInJvdW5kRW5kV2luIjoiezB9IHdpbnMgezF9LXsyfS4iLCJyb3VuZE92ZXJSZWRlcGxveWluZyI6IlJvdW5kIG92ZXIsIHJlZGVwbG95aW5nIHRvIHJlc2V0IGluIHswfXMuLi4iLCJyb3VuZFN0YXJ0ZWQiOiJSb3VuZCBzdGFydGVkLiIsInJvdW5kV2lucyI6IkN1cnJlbnQgcm91bmQgc2NvcmUgaXMgezB9LXsxfSIsInRlYW1Td2l0Y2giOiJZb3UgaGF2ZSBzd2l0Y2hlZCB0ZWFtcyEiLCJyb3VuZENsZWFudXBTcGF3blRpbWVvdXQiOiJTcGF3biB0aW1lb3V0IGFmdGVyIHswfXMgLSBkZXBsb3lpbmcgYW55d2F5LiIsInBsYXllclJlYWRpZWRVcCI6InswfSBoYXMgcmVhZGllZCB1cDogezF9IC8gezJ9IFBsYXllcnMgUmVhZHkifSwiam9pblByb21wdCI6eyJ0aXRsZSI6IlRXTCBQcmVzZW50czogVmVoaWNsZSBPbmx5IENvbWJhdCIsImJvZHkiOnsibWFuZGF0b3J5MSI6IklNUE9SVEFOVDogdG8gc3RhcnQgdGhlIGdhbWUuLi5cbiAtIFdoaWxlIG9uIGZvb3Q6IHN0YW5kIHN0aWxsISBUaGVuIFRSSVBMRSBUQVAgWU9VUiBJTlRFUkFDVCBLRVlCSU5EIHdpdGhpbiAyIHNlY29uZHNcbiAtIFRoZSBpbnRlcmFjdCBrZXliaW5kIGRlZmF1bHRzIHRvICdFJyBvbiBQQ1xuIC0gRm9yIGNvbnNvbGVzOiBpbnRlcmFjdCBkZWZhdWx0cyB0byAnU3F1YXJlJyAoUFM1KSBvciAnWCcgKFgtQm94KVxuXG5JZiB5b3UgaGF2ZSBpc3N1ZXMgd2l0aCB0aGlzLCBlbnN1cmUgeW91ciBpbnRlcmFjdCBrZXliaW5kIGlzIHNldCB0byAndGFwJywgbm90ICdob2xkJzpcblNldHRpbmdzID4gQ29udHJvbGxlciA+IEluZmFudHJ5ID4gRWRpdCBTZXR0aW5ncyA+IEluZmFudHJ5ID4gRWRpdCBDb250cm9sIFNldHRpbmdzID4gT3RoZXJcbiAtIEVuc3VyZSB0aGF0IHlvdXIgXCJJbnRlcmFjdFwiIGlzIHNldCB0byBcIlRhcFwiLlxuIC0gSWYgdGhpcyBTVElMTCBkb2VzIG5vdCB3b3JrIGZvciB5b3UsIGludGVyYWN0IGlzIGltbWVkaWF0ZWx5IGF2YWlsYWJsZSBvbiByZXNwYXduIG9ubHkuXG5cblRoaXMgZGlhbG9nIHdpbGwgY29udGludWUgdG8gc2hvdy4uLlxuLi4udW50aWwgeW91IHN1Y2Nlc3NmdWxseSB0cmlwbGUgdGFwIGludGVyYWN0LiIsIm1hbmRhdG9yeTIiOiJcblRpcCAyOiBUaGlzIGlzIHJvdW5kIGJhc2VkIFZlaGljdWxhciBDb21iYXQ6XG4gLSAnUmVhZHkgVXAnIHRvIHN0YXJ0IHRoZSBnYW1lLiBEb24ndCBsZWF2ZSB0aGUgbWFpbiBiYXNlIHVudGlsIGNvdW50ZG93biBlbmRzLi4uXG4gLSBFdmVyeW9uZSBnZXRzIDEgbGlmZSwgYW5kIDEgdmVoaWNsZSBvbmx5IVxuIC0gUm91bmRzIGFyZSA1IG1pbnV0ZXMgbG9uZy5cbiAtIEl0J3MgYSBcIkJlc3Qgb2YgWFwiIGZvcm1hdCwgeW91IGRlY2lkZSBob3cgbWFueSBSb3VuZHMgdG8gcGxheSAoRGVmYXVsdDogMykuXG4gLSBNYXAgdmljdG9yeSBpcyBkZWNpZGVkIGJ5IHJvdW5kcyB3b24gKGUuZy4gaWYgeW91IHdpbiAyIG91dCBvZiAzIHJvdW5kcykuXG4gLSBGaWdodCBmb3IgYSByYW5kb21pemVkIFRpZS1CcmVha2VyIE9iamVjdGl2ZSBpZiAxOjAwIHJlbWFpbnMgb24gdGhlIFJvdW5kIGNsb2NrLiIsInRpcDMiOiJUaXAgMzogVGllLUJyZWFrZXIgT2JqZWN0aXZlcyAoQS1HKSBhcmUgdmlzaWJsZSBpbmJldHdlZW4gUm91bmRzOlxuIC0gT25lIFRpZS1CcmVha2VyIE9iamVjdGl2ZSBpcyBjaG9zZW4gcmFuZG9tbHkgYXQgaGFsZi10aW1lIGFuZCBiZWNvbWVzIHZpc2libGUuXG4gLSBUaGUgb2JqZWN0aXZlIHVubG9ja3Mgd2l0aCAxOjAwIHJlbWFpbmluZyBhbmQgYmVjb21lcyBjYXB0dXJhYmxlLlxuICAgIC0gQ2FwdHVyaW5nIGF3YXJkcyBhIFJvdW5kIHdpbiBpZiBib3RoIHRlYW1zIGFyZSBzdGlsbCBhbGl2ZS5cbiAtIFZlaGljbGVzIGFyZSByZXF1aXJlZCB0byBjYXB0dXJlIHRoZSBUaWUtQnJlYWtlciBPYmplY3RpdmUuXG4gLSBJZiB0aGUgUm91bmQgY2xvY2sgZW5kcyBhdCAwOjAwLCByZXN1bHRzIHdpdGggVGllLUJyZWFrZXJzIGFyZTpcbiAgICAgMTogTW9yZSBvYmplY3RpdmUgcHJvZ3Jlc3MgKGluZGljYXRlZCBieSBwcm9ncmVzcyBiYXIgYW5kIGNyb3duIGljb24pLlxuICAgICAyOiBJZiBlcXVhbCBvYmplY3RpdmUgcHJvZ3Jlc3M6IHdob2V2ZXIgaGFzIG1vcmUga2lsbHMuXG4gICAgIDM6IElmIGVxdWFsIG9iamVjdGl2ZSBwcm9ncmVzcyBhbmQga2lsbHMgYXJlIHRpZWQ6IFJvdW5kIERyYXcuIiwidGlwNCI6IlRpcCA0OiBUaGlzIGV4cGVyaWVuY2Ugc3VwcG9ydHMgMXYxLCAydjIsIDN2MyBhbmQgNHY0IGNvbmZpZ3VyYXRpb25zIVxuIC0gU2VsZWN0IHRoZSBkZXNpcmVkIGZvcm1hdCB3aGlsZSB0aGUgJ1JlYWR5IFVwJyBzY3JlZW4gaXMgdmlzaWJsZSwgKHVwcGVyIHJpZ2h0IGNvcm5lcikuXG4gLSBWZWhpY2xlcyB0YWtlIGEgbW9tZW50IHRvIHNwYXduLCBzbyB3YWl0IGEgbW9tZW50IHdoaWxlIHRoZSBtb2RlIGNoYW5nZXMuXG4gLSBJZiB5b3UgZ28gZG93biBpbiBzaXplIChlLmcuIGZyb20gJzN2MycgdG8gJzJ2MicpIHRoZSBleHRyYSB2ZWhpY2xlcyB3aWxsIG5vdCByZXNwYXduIGFnYWluLlxuIC0gVmVoaWNsZXMgYXJlIGN1cmF0ZWQgZm9yIHRoZXNlIG1hcHMsIHVzZSB3aGF0IGlzIHByb3ZpZGVkIVxuIC0gVGVhbXMgZ2V0IG1pcnJvciBtYXRjaC11cHMsIHRoZSBzYW1lIHZlaGljbGUgdHlwZXMgc3Bhd24gZm9yIGJvdGggdGVhbXMuIiwidGlwNSI6IlRpcCA1OiBXZSBhcmUgbGltaXRlZCBieSB0aGUgaW5hYmlsaXR5IHRvIGNoYW5nZSB2ZWhpY2xlIGxvYWRvdXRzIG1pZC1nYW1lOlxuIC0gWW91ciBsb2Fkb3V0IGlzIGxvY2tlZCBvbmNlIGluLWdhbWU7IHJlY29ubmVjdCB0byBjaG9vc2UgYSBkaWZmZXJlbnQgdmVoaWNsZSBsb2Fkb3V0LlxuIC0gWW91IGNhbiBjaGFuZ2UgeW91ciBFbmdpbmVlciBzdWItY2xhc3MgKENvbWJhdCBFbmdpbmVlciBpcyBvcHRpbWFsKS5cbiAtIFZlaGljbGUgcGVyZm9ybWFuY2UgYW5kIGRhbWFnZSBtb2RlbGluZyBpcyB1bmNoYW5nZWQgZnJvbSB2YW5pbGxhIEJGNi4iLCJ0aXA2IjoiVGlwIDY6IFBvc2l0aW9uaW5nIGF0IHRoZSByb3VuZCBzdGFydCBpcyB1cCB0byB0aGUgcGxheWVyczpcbiAtIFRoZSBvcGVuaW5nIG1vbWVudHMgb2YgYSByb3VuZCBhcmUgaW1wYWN0ZnVsIVxuIC0gUG9zaXRpb24gaW50ZWxsaWdlbnRseSBhdCB0aGUgc3RhcnQgdG8gZmxhbmssIG9yIHNldHVwIGFtYnVzaGVzLlxuIC0gSWYgeW91IGNyb3NzIHRoZSBtYWluIGJhc2UgdGhyZXNob2xkcyBiZWZvcmUgY291bnRkb3duIGVuZHMsIHJldHVybiB0byB0aGUgbWFpbiBiYXNlLiIsInRpcDciOiJUaXAgNzogQWxsIGdhZGdldHMgZXhjZXB0IHRvcmNoIGFuZCBzdXBwbHkgY3JhdGVzIGFyZSBiYW5uZWQ6XG4gLSBEZXNwaXRlIHdoYXQgaXMgc2VsZWN0ZWQsIHlvdSB3aWxsIG9ubHkgZ2V0IHRoZXNlIHR3byBnYWRnZXRzIGJ5IGRlc2lnbi5cbiAtIExlYXZpbmcgb3IgZW50ZXJpbmcgeW91ciBtYWluIGJhc2UgcmVzdXBwbGllcyB5b3VyIHZlaGljbGUgYW1tbyBjcmF0ZXMuXG4gLSBBbW1vIHJlc3VwcGx5IGJveGVzLCBpZiB1bnVzZWQsIHdpbGwgcGVyc2lzdCBiZXR3ZWVuIHJvdW5kcy4iLCJ0aXA4IjoiVGlwIDg6IFZlaGljbGVzIG1hcmtlZCAnYWJhbmRvbmVkJyBzbG93bHkgdGFrZSBkYW1hZ2Ugb3ZlciB0aW1lOlxuIC0gVGhpcyBleHBlcmllbmNlIGlzIGN1cmF0ZWQgZm9yIFZlaGljbGVzIG9ubHksIGRvIG5vdCBzdHJheSB0b28gZmFyIGZyb20gdGhlbS5cbiAtIEFmdGVyIDVtLCBpZiBubyBwbGF5ZXJzIGFyZSB3aXRoaW4gdGhpcyByYW5nZSB0aGV5IGFyZSBjbGFzc2lmaWVkIGFzICdhYmFuZG9uZWQnLlxuIC0gQWJhbmRvbmVkIFZlaGljbGVzIHRha2UgZGFtYWdlIHNsb3dseTsgdGhleSBjYW4gYmUgcmVwYWlyZWQgYmFjayB1cCBpZiBuZWVkZWQuXG4gLSBWZWhpY2xlcyBkZXN0cm95ZWQgYnkgYWJhbmRvbm1lbnQgc3RpbGwgYXdhcmQgcG9pbnRzIGR1cmluZyBhIGxpdmUgcm91bmQuIiwidGlwOSI6IlRpcCA5OiBUaGUgY2FwdGFpbiBnb2VzIGRvd24gd2l0aCBoaXMgc2hpcDpcbiAtIFJlcGFpcmluZyB5b3VyIGZyaWVuZHMgaXMgYWxsb3dlZCwgYXMgbG9uZyBhcyB5b3VyIHZlaGljbGUgaXMgc3RpbGwgc3RhbmRpbmcuXG4gLSBJZiB5b3UgbG9zZSB5b3VyIHZlaGljbGUsIHBsZWFzZSByZWRlcGxveSBhbmQgbGV0IHRoZSByb3VuZCBwbGF5IG91dCB3aXRob3V0IHlvdS5cbiAtIFlvdSBjYW4gcmVwYWlyIHRvcmNoIGVuZW15IHZlaGljbGVzIGJ1dCBvbmx5IGFzIGxvbmcgYXMgeW91ciBvd24gdmVoaWNsZSBpcyBzdGlsbCBpbiBwbGF5LiIsInRpcDEwIjoiVGlwIDEwOiBWZWhpY2xlIFJlZ2lzdHJhdGlvbiBpcyByZXF1aXJlZCBmb3Igc2NvcmluZyBhY2N1cmFjeTpcbiAtIElmIHlvdSBzZWUgbm8gJ3JlZ2lzdHJhdGlvbicgbWVzc2FnZSB3aGVuIGVudGVyaW5nIGEgdmVoaWNsZSwgZ2V0IG91dCBhbmQgZ2V0IGJhY2sgaW4uXG4gLSBJZiByb3VuZCByZXN1bHRzIGFyZSBpbm5hY2N1cmF0ZSwgeW91IGNhbiBhZGRyZXNzIHRoaXMgd2l0aCB0aGUgYWRtaW4gcGFuZWwuIiwidGlwMTEiOiJUaXAgMTE6IEJlIGEgc3BvcnRzbWFuLCBub3QgYSBkaW5ndXM6XG4gLSBJdCBpcyBlbmNvdXJhZ2VkIHRvIHNldCB5b3VyIGNoYXQgdG8gY29uZmlndXJlIHRvIGRpc3BsYXkgd2hlbiB0aGVyZSBpcyBhY3Rpdml0eS5cbiAtIENvbW11bmljYXRlIHdpdGggeW91ciBvcHBvbmVudCB3aGVuIHlvdSBoYXZlIGJ1Z3MsIGlzc3Vlcywgb3IgbmVlZCB0byBwYXVzZS5cbiAtIEFncmVlbWVudHMgbWFkZSBpbiBjaGF0IHNob3VsZCBiZSBiaW5kaW5nOiBoYXZlIGZ1biBhbmQgdHJ5IGRpZmZlcmVudCB0aGluZ3MuIiwidGlwMTIiOiJUaXAgMTI6IFRoaXMgRXhwZXJpZW5jZSBpcyBpbiBhY3RpdmUgZGV2ZWxvcG1lbnQhIElmIGJ1Z3Mgb2NjdXIuLi5cbiAtIEFjY2VzcyB0aGUgQWRtaW4gUGFuZWwgaW4gdGhlIHRvcCByaWdodCB3aGlsZSB0aGUgJ1JlYWR5IFVwJyBzY3JlZW4gaXMgdmlzaWJsZS5cbiAtIFRoZSBBZG1pbiBwYW5lbCBoYXMgZ2xvYmFsIGF1ZGl0IG1lc3NhZ2luZyBhbmQgYWRtaW4gYWN0aW9uIGNvdW50cy5cbiAtIE9wZW5pbmcgb3IgdXNpbmcgdGhlIEFkbWluIHBhbmVsIGdpdmVzIGEgZ2xvYmFsIG5vdGlmaWNhdGlvbiBmb3IgYWxsIHRvIHNlZS5cbiAtIElmIGFueSBBZG1pbiBidXR0b25zIGFyZSB1c2VkLCB0aGUgdmljdG9yeSBkaWFsb2cgc2hvd3MgdGhpcyBmb3IgYXdhcmVuZXNzIC8gdmlzaWJpbGl0eS5cbiAtIFRoZSBBZG1pbiBwYW5lbCBpcyBmb3IgZml4aW5nIGlubm9jZW50IG1pc3Rha2VzIG9ubHkgKGF2b2lkIHVzaW5nIGl0IHVubGVzcyBuZWNlc3NhcnkpLiIsInRpcDEzIjoiVGlwIDEzOiBNYW55IGV4cGVyaWVuY2UgY29kZXMgYXZhaWxhYmxlIGZvciB0aGlzIGdhbWUgbW9kZSAoWk1DWVc6IEFsbCA4IE1hcHMpXG4gLSBaTUMzQTogQXJlYSAyMkJcbiAtIFpNQzQ0OiBCbGFja3dlbGwgRmllbGRzXG4gLSBaTUM1MjogRGVmZW5zZSBOZXh1c1xuIC0gWk1DNVA6IEdvbGYgQ291cnNlXG4gLSBaTUM3WTogTGliZXJhdGlvbiBQZWFrXG4gLSBaTUM4NzogTWFoYXR0YW4gQnJpZGdlXG4gLSBaTUM5UzogT3BlcmF0aW9uIEZpcmVzdG9ybVxuIC0gWk1DOVk6IE1pcmFrIFZhbGxleSIsInRpcDE0IjoiVGlwIDE0OiBJZiBleHRyYSB2ZWhpY2xlcyByZW1haW4gaW4gdGhlIG1haW4gYmFzZSBmcm9tIHRvZ2dsaW5nIGRvd24gYSBtb2RlLlxuKGUuZy4gZ29pbmcgZnJvbSAzdjMgdG8gMnYyKVxuIC0gSXQncyBiZXN0IHRvIGJsb3cgdGhlc2UgdmVoaWNsZXMgdXAgYmVmb3JlIHRoZSByb3VuZCBzdGFydHMuXG4gLSBBbnRpLXNwYXduIGNhbXAgZGV0ZWN0aW9uIHByb3RlY3RzIGFnYWluc3QgZ2V0dGluZyBwb2ludHNcbiAtIEJ1dCB0aGlzIHRyaWdnZXJzIG9ubHkgaWYgdGhleSdyZSBkZXN0cm95ZWQgZHVyaW5nIHRoZWlyIG9yaWdpbi5cbiAtIERvIG5vdCBhYnVzZSB0aGlzIGZlYXR1cmUsIHRoYXQnZCBiZSBhIGRvdWNoZXkgdGhpbmcgdG8gZG8uIiwidGlwMTUiOiIxNS1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5IiwidGlwMTYiOiIxNi1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5IiwidGlwMTciOiIxNy1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5IiwidGlwMTgiOiIxOC1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5IiwidGlwMTkiOiIxOS1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5IiwidGlwMjAiOiIyMC1za2lwOiByZW1vdmUgZnJvbSBKT0lOX1BST01QVF9CT0RZX1NFUVVFTkNFX1NLSVBfS0VZUyBpbiBvcmRlciB0byBkaXNwbGF5In0sImRpc21pc3MiOiJEaXNtaXNzIiwiZGlzbWlzc1Nob3dNb3JlVGlwcyI6IlNob3cgTW9yZSBUaXBzIE5leHQgVGltZSIsIm5ldmVyU2hvd0FnYWluIjoiTmV2ZXIgU2hvdyBBZ2FpbiJ9LCJyZWFkeURpYWxvZyI6eyJoZWFkZXIiOiJFdmVyeW9uZSBuZWVkcyB0byBwcmVzcyAnUmVhZHknIGFuZCBzdGF5IGluc2lkZSB0aGVpciBtYWluIGJhc2UgdW50aWwgdGhlIHJvdW5kIHN0YXJ0cy4gWW91IGdldCAxIHZlaGljbGUgJiBsaWZlIHBlciByb3VuZC4iLCJoZWFkZXIyIjoiT25seSB2ZWhpY2xlIGtpbGxzIGF3YXJkIHBvaW50cyEgUmVwYWlyIHZlaGljbGVzIHdpdGggeW91ciB0b3JjaCAmIHJlc3VwcGx5IHZlaGljbGUgYW1tbyB3aXRoIHN1cHBseSBjcmF0ZXMgLSBidXQgc3RheSBjbG9zZSB0byB5b3VyIHZlaGljbGVzLi4uIiwiaGVhZGVyMyI6IlZlaGljbGVzIHdpbGwgYmVjb21lICdhYmFuZG9uZWQnIGFuZCBzbG93bHkgdGFrZSBkYW1hZ2Ugb3ZlciB0aW1lIC0gZXZlbnR1YWxseSBibG93aW5nIHVwIGlmIGl0J3MgPnswfW0gZnJvbSBhbnkgcGxheWVyLiIsImhlYWRlcjQiOiJBdCByb3VuZCBoYWxmLXRpbWVzLCBhIHJhbmRvbSB0aWUtYnJlYWtlciBmbGFnIGlzIHNlbGVjdGVkIGFuZCBiZWNvbWVzIHZpc2libGU7IGNhcHR1cmUgaXQgZm9yIGEgcm91bmQgd2luIHdoZW4gMSBtaW51dGUgcmVtYWlucy4iLCJtYXBMYWJlbCI6Ik1hcDoiLCJiZXN0T2ZMYWJlbCI6IkJlc3Qgb2YgezB9IFJvdW5kcyIsImJlc3RPZkNoYW5nZWQiOiJ7MH0gY2hhbmdlZCBpdCB0byBiZXN0IG9mIHsxfSByb3VuZHMiLCJtYXRjaHVwRm9ybWF0IjoiezB9IHZzIHsxfSIsIm1hdGNodXBDaGFuZ2VkIjoiezB9IGNoYW5nZWQgbWF0Y2h1cCB0byB7MX0gdnMgezJ9IiwibWluUGxheWVyc1RvU3RhcnRGb3JtYXQiOiJNaW5pbXVtIFBsYXllcnMgdG8gU3RhcnQ6IHswfSIsInRhcmdldEtpbGxzVG9XaW5Gb3JtYXQiOiJUYXJnZXQgS2lsbHMgdG8gd2luIFJvdW5kOiB7MH0iLCJwbGF5ZXJOYW1lRm9ybWF0IjoiezB9Iiwic3RhdHVzIjp7InJlYWR5IjoiUkVBRFkiLCJub3RSZWFkeSI6Ik5PVCBSRUFEWSJ9LCJiYXNlU3RhdHVzIjp7ImluIjoiSU4gTUFJTiBCQVNFIiwib3V0IjoiTk9UIElOIE1BSU4gQkFTRSJ9LCJidXR0b25zIjp7InJlYWR5IjoiUkVBRFkiLCJub3RSZWFkeSI6Ik5PVCBSRUFEWSIsInN3YXBUZWFtcyI6IkNIQU5HRSBURUFNUyJ9fSwiYWRtaW5QYW5lbCI6eyJhY2Nlc3NlZCI6InswfSBhY2Nlc3NlZCB0aGUgQWRtaW4gUGFuZWwiLCJhY3Rpb25QcmVzc2VkIjoiezB9IHByZXNzZWQgezF9IGluIHRoZSBhZG1pbiBwYW5lbCIsImFjdGlvbkNvdW50Rm9ybWF0IjoiKHswfSkiLCJhY3Rpb25Db3VudFZpY3RvcnlGb3JtYXQiOiJBZG1pbiBQYW5lbCBCdXR0b25zIHVzZWQgezB9IHRpbWVzIiwiYWN0aW9uQ291bnRWaWN0b3J5Rm9ybWF0UmFuZG9tT3ZlcnJpZGUiOiJBZG1pbiBQYW5lbCBCdXR0b25zIHVzZWQgezB9IHRpbWVzIHdpdGggYSBSYW5kb20gT3ZlcnJpZGUhIiwiYWN0aW9ucyI6eyJ0MVdpbnNJbmMiOiJUMSBXaW5zICsiLCJ0MVdpbnNEZWMiOiJUMSBXaW5zIC0iLCJ0MldpbnNJbmMiOiJUMiBXaW5zICsiLCJ0MldpbnNEZWMiOiJUMiBXaW5zIC0iLCJ0MVRvdGFsS2lsbHNJbmMiOiJUMSBUb3RhbCBLaWxscyArIiwidDFUb3RhbEtpbGxzRGVjIjoiVDEgVG90YWwgS2lsbHMgLSIsInQyVG90YWxLaWxsc0luYyI6IlQyIFRvdGFsIEtpbGxzICsiLCJ0MlRvdGFsS2lsbHNEZWMiOiJUMiBUb3RhbCBLaWxscyAtIiwidDFSb3VuZEtpbGxzSW5jIjoiVDEgUm91bmQgS2lsbHMgKyIsInQxUm91bmRLaWxsc0RlYyI6IlQxIFJvdW5kIEtpbGxzIC0iLCJ0MlJvdW5kS2lsbHNJbmMiOiJUMiBSb3VuZCBLaWxscyArIiwidDJSb3VuZEtpbGxzRGVjIjoiVDIgUm91bmQgS2lsbHMgLSIsInRhcmdldFJvdW5kS2lsbHNJbmMiOiJUYXJnZXQgUm91bmQgS2lsbHMgKyIsInRhcmdldFJvdW5kS2lsbHNEZWMiOiJUYXJnZXQgUm91bmQgS2lsbHMgLSIsInRpZXNJbmMiOiJUaWVzICsiLCJ0aWVzRGVjIjoiVGllcyAtIiwiY3VycmVudFJvdW5kSW5jIjoiQ3VycmVudCBSb3VuZCArIiwiY3VycmVudFJvdW5kRGVjIjoiQ3VycmVudCBSb3VuZCAtIiwiY2xvY2tUaW1lSW5jIjoiQ2xvY2sgVGltZSArIiwiY2xvY2tUaW1lRGVjIjoiQ2xvY2sgVGltZSAtIiwiY2xvY2tSZXNldCI6IkNsb2NrIFJlc2V0Iiwicm91bmRTdGFydCI6IlN0YXJ0IFJvdW5kIiwicm91bmRFbmQiOiJFbmQgUm91bmQiLCJwb3NpdGlvbkRlYnVnIjoiVG9nZ2xlIFBvc2l0aW9uIERlYnVnIiwidGllQnJlYWtlck92ZXJyaWRlQSI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBBIiwidGllQnJlYWtlck92ZXJyaWRlQiI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBCIiwidGllQnJlYWtlck92ZXJyaWRlQyI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBDIiwidGllQnJlYWtlck92ZXJyaWRlRCI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBEIiwidGllQnJlYWtlck92ZXJyaWRlRSI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBFIiwidGllQnJlYWtlck92ZXJyaWRlRiI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBGIiwidGllQnJlYWtlck92ZXJyaWRlRyI6IlRpZS1CcmVha2VyIE92ZXJyaWRlOiBHIn0sImxhYmVscyI6eyJ0MVJvdW5kS2lsbHMiOiJUMSBSb3VuZCBLaWxscyIsInQyUm91bmRLaWxscyI6IlQyIFJvdW5kIEtpbGxzIiwidGllQnJlYWtlck92ZXJyaWRlIjoiVGllLUJyZWFrZXIgUmFuZG9taXphdGlvbiBPdmVycmlkZToifSwiYnV0dG9ucyI6eyJwYW5lbCI6IkFkbWluIFBhbmVsIn0sInRlc3RlciI6eyJoZWFkZXIiOiJ0MSA9IGxlZnQgdGVhbTsgdDIgPSByaWdodCB0ZWFtIiwiYnV0dG9ucyI6eyJjbG9ja1Jlc2V0IjoiUmVzZXQgQ2xvY2siLCJyb3VuZEVuZCI6IkVuZCBSb3VuZCIsInJvdW5kU3RhcnQiOiJTdGFydCBSb3VuZCIsInBvc2l0aW9uRGVidWciOiJUb2dnbGUgUG9zaXRpb24gRGVidWcifSwibGFiZWxzIjp7ImNsb2NrVGltZSI6IkNsb2NrIFRpbWUgLS8rIDFtIiwiY3VycmVudFJvdW5kIjoiQ3VycmVudCBSb3VuZCIsImxlZnRLaWxscyI6IlQxIFRvdGFsIEtpbGxzIiwibGVmdFdpbnMiOiJUMSBXaW5zIiwidGllcyI6IlQxICsgVDIgUm91bmQgVGllcyIsInJpZ2h0S2lsbHMiOiJUMiBUb3RhbCBLaWxscyIsInJpZ2h0V2lucyI6IlQyIFdpbnMiLCJyb3VuZEtpbGxzVGFyZ2V0IjoiVGFyZ2V0IFJvdW5kIEtpbGxzOiJ9fX0sInRlYW1Td2l0Y2giOnsiYnV0dG9ucyI6eyJjYW5jZWwiOiJDTE9TRSJ9LCJkZWJ1Z1RpbWVMaW1pdCI6InswfSJ9LCJ1aSI6eyJwbHVzIjoiKyIsIm1pbnVzIjoiLSIsIngiOiI/PyJ9LCJ2aWN0b3J5Ijp7ImRyYXdzIjoiRFJBV1MiLCJsb3NlcyI6IkxPU0VTIiwid2lucyI6IldJTlMhIiwicmVzdGFydEluRm9ybWF0IjoiTWFwIHdpbGwgcmVzdGFydC9yb3RhdGUgaW4gezB9cyIsInJvdW5kTG9zc2VzRm9ybWF0IjoiezB9IFJvdW5kIExvc3NlcyIsInJvdW5kVGllc0Zvcm1hdCI6InswfSBSb3VuZCBUaWVzIiwicm91bmRXaW5zRm9ybWF0IjoiezB9IFJvdW5kIFdpbnMiLCJyb3VuZHNTdW1tYXJ5Rm9ybWF0IjoiezB9IFJvdW5kcyBwbGF5ZWQgaW4gYSBiZXN0IG9mIHsxfSBSb3VuZHMgbWF0Y2h1cCIsInNjcmVlbnNob3RQcm9tcHQiOiJTY3JlZW5zaG90IHRoaXMgdG8gcmVjb3JkIG1hdGNoIHJlc3VsdHMiLCJ0ZWFtT3V0Y29tZUZvcm1hdCI6InswfSB7MX0iLCJ0b3RhbEtpbGxzRm9ybWF0IjoiezB9IFRvdGFsIEtpbGxzIiwidG90YWxNYXRjaFRpbWVMYWJlbCI6IlRvdGFsIE1hdGNoIHRpbWU6In0sImNvdW50ZG93biI6eyJmb3JtYXQiOiJ7MH0iLCJnbyI6IkdPISJ9LCJkZWJ1ZyI6eyJhZG1pblBvcyI6IkFETUlOIFBPUyBYOnswfSBZOnsxfSBaOnsyfSIsImFkbWluRmFjaW5nIjoiQURNSU4gRkFDSU5HIFg6ezB9IFk6ezF9IFo6ezJ9IiwiY3BWaXNSZXNldCI6IiMjIFZJUzogcmVzZXQgLT4gaGlkZSBhbGwgQkVGT1JFIGhhcmRSZXNldC9jb25maWciLCJjcFZpc0hhcmRSZXNldCI6IiMjIFZJUzogaGFyZFJlc2V0IC0+IHB1bHNlIGVuYWJsZS9kaXNhYmxlIG9iamVjdGl2ZXMifSwibWVzc2FnZXMiOnsiaW5pdCI6IlZlaGljbGUgc2NvcmluZyBpbml0aWFsaXplZC4iLCJ2ZWhpY2xlU3Bhd25lZCI6IlZlaGljbGUgc3Bhd25lZCBmb3IgezB9IGF0IFg6ezF9L1o6ezJ9IiwicG9pbnRBd2FyZGVkV2l0aE93bmVyIjoiKzEgS2lsbCBmb3IgezB9IC0gezF9J3MgdmVoaWNsZSB3YXMgZGVzdHJveWVkISAoezJ9IFJvdW5kIEtpbGxzKSIsInZlaGljbGVEZXN0cm95ZWROb3RMaXZlIjoiezB9J3MgezF9IHZlaGljbGUgd2FzIGRlc3Ryb3llZCAtIGJ1dCByb3VuZCB3YXMgbm90IGxpdmUgKG5vIHBvaW50cyBhd2FyZGVkKSIsInZlaGljbGVTcGF3blJldHJ5IjoiVmVoaWNsZSBzcGF3biBibG9ja2VkIGZvciB7MH0uIFJldHJ5aW5nIGluIHsxfXMuIiwidmVoaWNsZUNhbXBlZEluTWFpbkJhc2UiOiJWZWhpY2xlIHdhcyBzcGF3biBjYW1wZWQgaW4gezB9IE1haW4gQmFzZSBhdCBYOnsxfSIsInZlaGljbGVSZVJlZ2lzdGVyZWQiOiJWZWhpY2xlIHJlLXJlZ2lzdGVyZWQgYWdhaW4sIGZvciB7MH0gYnkgezF9LiIsInZlaGljbGVTdG9sZW5SZWdpc3RlciI6IlZlaGljbGUgc3RvbGVuIGFuZCByZWdpc3RlcmVkIGZvciB7MH0gYnkgezF9LiIsInZlaGljbGVSZWdpc3RyYXRpb25Ob0NoYW5nZSI6InswfSBlbnRlcmVkIGEgcmVnaXN0ZXJlZCB2ZWhpY2xlIGZvciB7MX0gKG5vIGNoYW5nZSkuIiwidmVoaWNsZVJlZ2lzdHJhdGlvblBlbmRpbmdUZWFtIjoiezB9IGVudGVyZWQgYSB2ZWhpY2xlLCByZWdpc3RyYXRpb24gcGVuZGluZyB0ZWFtIGFzc2lnbm1lbnQuIiwidmVoaWNsZVJlZ2lzdGVyZWROZXciOiJWZWhpY2xlIHJlZ2lzdGVyZWQgZm9yIHswfSBieSB7MX0gKHNwYXduIEF1dG8tcmVnaXN0cmF0aW9uIGZhaWxlZD8hKS4iLCJ2ZWhpY2xlUmV0dXJuZWQiOiJ7MH0gaGFzIHJldHVybmVkIHRvIHRoZWlyIHJlZ2lzdGVyZWQgdmVoaWNsZSBmb3IgezF9LiJ9LCJzeXN0ZW0iOnsiZ2VuZXJpY0NvdW50ZXIiOiJ7MH0iLCJzbGFzaCI6Ii8iLCJ1bmtub3duUGxheWVyIjoiVW5rbm93biIsInVuYXNzaWduZWQiOiJVbmFzc2lnbmVkIiwiZGVidWdQbGFjZWhvbGRlck5hbWUiOiJQTEFDRVJIT0xERVJfUExBWUVSX05BTUVfSEVSRSJ9fX0=","compiled":""},"attachmentType":4,"errors":[]}]}